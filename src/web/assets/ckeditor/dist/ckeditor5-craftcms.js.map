{"version":3,"file":"ckeditor5-craftcms.js","mappings":"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AAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAC1B,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACvE,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IACxD,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACtF,IAAU,IAAM,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IAAK,IAAU,IACtF,IAAU,IAAM,IAAU,IAC1B,IAAU,IAAM,IAAU,IAAK,IAAU,IACzC,IAAU,IAAM,IAAU,IAAK,I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O,UACPkC,KAAM,WAEV,CACIlC,MAAO,UACPkC,KAAM,cAEV,CACIlC,MAAO,aACPkC,KAAM,OAEV,CACIlC,MAAO,cACPkC,KAAM,OAGV,CACIlC,MAAO,QACPkC,KAAM,IACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,iBACPkC,KAAM,aACN69C,YAAa,CACTvnC,eAAgB,eAGxB,CACIxY,MAAO,YACPkC,KAAM,QACN69C,YAAa,CACTxlB,WAAY,SACZI,SAAS,IAGjB,CACI36B,MAAO,YACPkC,KAAM,QACN69C,YAAa,CACThiC,QAAS,YACT4c,SAAS,IAGjB,CACI36B,MAAO,YACPkC,KAAM,QACN69C,YAAa,CACThiC,QAAS,YACT4c,SAAS,IAGjB,CACI36B,MAAO,YACPkC,KAAM,QACN69C,YAAa,CACThiC,QAAS,YACT4c,SAAS,IAGjB,CACI36B,MAAO,cACPkC,KAAM,UACN69C,YAAa,CACThiC,QAAS,YACTyc,cAAe,QACfG,SAAS,IAGjB,CACI36B,MAAO,eACPkC,KAAM,WACN69C,YAAa,CACThiC,QAAS,YACTyc,cAAe,MACfG,SAAS,IAGjB,CACI36B,MAAO,UACPkC,KAAM,MACN69C,YAAa,CACThiC,QAAS,eACT4c,SAAS,IAGjB,CACI36B,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACThiC,QAAS,CAAC,YAAa,YAAa,aACpCE,SAAS,IAIjB,CACIje,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACThiC,QAAS,SACTC,eAAgB,aAChBC,SAAS,EACT0c,SAAS,IAIjB,CACI36B,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACThiC,QAAS,SACTC,eAAgB,aAChBC,SAAS,EACT0c,SAAS,IAIjB,CACI36B,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,iBACPkC,KAAM,aACN69C,YAAa,CACThiC,QAAS,aACTyc,cAAe,QACfG,SAAS,IAIjB,CACI36B,MAAO,cACPkC,KAAM,UACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,YACPkC,KAAM,QACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,WACPkC,KAAM,OACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,cACPkC,KAAM,UACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAGjB,CACI36B,MAAO,cACPkC,KAAM,UACN69C,YAAa,CACTvlB,cAAe,CACX,SACA,SACA,SACA,SACA,SACA,SACA,SAEJzc,QAAS,cACT4c,SAAS,IAGjB,CACI36B,MAAO,UACPkC,KAAM,MACN89C,mBAAoB,mBACpBD,YAAa,CACTvnC,eAAgB,eAIxB,CACIxY,MAAO,eACPkC,KAAM,WACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACThiC,QAAS,eACTyc,cAAe,UAIvB,CACIx6B,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,WACPkC,KAAM,OACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAGjB,CACI36B,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACThiC,QAAS,CAAC,QAAS,cACnByc,cAAe,CACX,YACA,QACA,SACA,SACA,SACA,SACA,SACA,UAEJG,SAAS,IAGjB,CACI36B,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,YACP+/C,YAAa,CACTxlB,WAAY,aACZC,cAAe,CAAC,YAAa,UAC7BG,SAAS,IAGjB,CACI36B,MAAO,UACPkC,KAAM,MACN69C,YAAa,CACTvnC,eAAgB,cAGxB,CACIxY,MAAO,WACPkC,KAAM,OACN69C,YAAa,CACTvnC,eAAgB,cAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,cAGxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvnC,eAAgB,cAIxB,CACIxY,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACThiC,QAAS,YACTyc,cAAe,QACfG,SAAS,IAGjB,CACI36B,MAAO,UACPkC,KAAM,MACN69C,YAAa,CACTvnC,eAAgB,WAGxB,CACIxY,MAAO,cACPkC,KAAM,UACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAGjB,CACI36B,MAAO,cACPkC,KAAM,UACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAIjB,CACI36B,MAAO,UACPkC,KAAM,MACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,IAGjB,CACI36B,MAAO,YACPkC,KAAM,MACN69C,YAAa,CACTvlB,cAAe,CAAC,SAAU,UAC1Bzc,QAAS,WAGjB,CACI/d,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTxlB,WAAY,aACZC,cAAe,CAAC,SAAU,SAAU,aACpCG,SAAS,IAGjB,CACI36B,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvlB,cAAe,SACfG,SAAS,IAGjB,CACI36B,MAAO,SACPkC,KAAM,KACN69C,YAAa,CACTvlB,cAAe,SACfG,SAAS,IAGjB,CACI36B,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACTvnC,eAAgB,aAChBmiB,SAAS,KAvdzB,GA2dY,CAEJ,CACI36B,MAAO,mBACPkC,KAAM,KACN+9C,gBAAgB,EAChBC,iBAAkB,cAEtB,CACIlgD,MAAO,mBACPkC,KAAM,KACN+9C,gBAAgB,EAChBC,iBAAkB,cAEtB,CACIlgD,MAAO,mBACPkC,KAAM,KACN+9C,gBAAgB,EAChBC,iBAAkB,cAEtB,CACIlgD,MAAO,uBACPkC,KAAM,SACN+9C,eAAgB,SAEpB,CACIjgD,MAAO,sBACPkC,KAAM,QACN+9C,eAAgB,SAEpB,CACIjgD,MAAO,sBACPkC,KAAM,QACN+9C,eAAgB,SAEpB,CACIjgD,MAAO,uBACPkC,KAAM,SACN+9C,eAAgB,cAGpB,CACIjgD,MAAO,cACPkC,KAAM,UACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,SACPkC,KAAM,KACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,YACPkC,KAAM,QACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,QACPkC,KAAM,IACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,aACPkC,KAAM,SACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,QACPkC,KAAM,IACNqL,SAAU,EACV2yC,iBAAkB,YAEtB,CACIlgD,MAAO,aACPkC,KAAM,SACNg+C,iBAAkB,OAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,QACPkC,KAAM,IACNg+C,iBAAkB,OAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,QACPkC,KAAM,IACNg+C,iBAAkB,SAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,SACPkC,KAAM,KACNg+C,iBAAkB,SAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,QACPkC,KAAM,IACNg+C,iBAAkB,gBAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAItB,CACI/B,MAAO,UACPkC,KAAM,MACNg+C,iBAAkB,gBAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAItB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,QACPkC,KAAM,IACNg+C,iBAAkB,YAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNg+C,iBAAkB,YAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNg+C,iBAAkB,cAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNg+C,iBAAkB,OAClBC,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,WACPkC,KAAM,OACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,YACPkC,KAAM,QACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAGtB,CACI/B,MAAO,UACPkC,KAAM,MACNi+C,oBAAqB,CACjBvyB,aAAa,EACb7rB,cAAc,IAItB,CACI/B,MAAO,aACPkC,KAAM,SACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,aACPkC,KAAM,SACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,YACPkC,KAAM,QACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,aACPkC,KAAM,SACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,eACPkC,KAAM,WACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,aACPkC,KAAM,SACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,YACPkC,KAAM,QACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,YACPkC,KAAM,QACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,aACPkC,KAAM,SACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,YACPkC,KAAM,QACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,UACPkC,KAAM,MACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,aACPkC,KAAM,SACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAKxB,CACIxY,MAAO,YACPkC,KAAM,QACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAKxB,CACIxY,MAAO,eACPkC,KAAM,WACNoF,UAAU,EACVy4C,YAAa,CACTvnC,eAAgB,kBAGxB,CACIxY,MAAO,aACPkC,KAAM,SACN69C,YAAa,CACTxlB,WAAY,CAAC,QAAS,UACtB8S,UAAU,IAGlB,CACIrtC,MAAO,YACPkC,KAAM,QACN69C,YAAa,CACTxlB,WAAY,CAAC,QAAS,UACtB8S,UAAU,IAGlB,CACIrtC,MAAO,oBACPkC,KAAM,iBACN69C,YAAa,CACTxlB,WAAY,CAAC,QAAS,UACtBG,kBAAmB,gBACnB2S,UAAU,KG56B1B,GAPA,SAA0BkJ,EAAQ39C,EAAKjE,SACtB6I,IAAV7I,IAAwB,GAAG4hD,EAAO39C,GAAMjE,SAC9B6I,IAAV7I,KAAyBiE,KAAO29C,KACnC,GAAgBA,EAAQ39C,EAAKjE,EAEjC,ECFA,GCPS,SAAS4hD,EAAQ7N,EAAUsQ,GAMhC,IALA,IAAInhD,GAAS,EACTuoD,EAAWnrD,OAAOshD,GAClBO,EAAQkC,EAASzC,GACjBhjD,EAASujD,EAAMvjD,OAEZA,KAAU,CACf,IAAIqF,EAAMk+C,IAA6Bj/C,GACvC,IAA+C,IAA3C6wC,EAAS0X,EAASxnD,GAAMA,EAAKwnD,GAC/B,KAEJ,CACA,OAAO7J,CACT,ECDF,GAZA,SAAiBA,EAAQ39C,GACvB,IAAY,gBAARA,GAAgD,mBAAhB29C,EAAO39C,KAIhC,aAAPA,EAIJ,OAAO29C,EAAO39C,EAChB,EC2EA,GA9DA,SAAuB29C,EAAQjgD,EAAQsC,EAAKynD,EAAUC,EAAWvJ,EAAY8D,GAC3E,ICJyBlmD,EDIrBkiD,EAAW,GAAQN,EAAQ39C,GAC3B2nD,EAAW,GAAQjqD,EAAQsC,GAC3BsiD,EAAUL,EAAM78C,IAAIuiD,GAExB,GAAIrF,EACF,GAAiB3E,EAAQ39C,EAAKsiD,OADhC,CAIA,IAAIvsC,EAAWooC,EACXA,EAAWF,EAAU0J,EAAW3nD,EAAM,GAAK29C,EAAQjgD,EAAQukD,QAC3Dr9C,EAEAgjD,OAAwBhjD,IAAbmR,EAEf,GAAI6xC,EAAU,CACZ,IAAIvI,EAAQ,GAAQsI,GAChBpI,GAAUF,GAAS,GAASsI,GAC5BE,GAAWxI,IAAUE,GAAU,GAAaoI,GAEhD5xC,EAAW4xC,EACPtI,GAASE,GAAUsI,EACjB,GAAQ5J,GACVloC,EAAWkoC,ECzBV,GADkBliD,ED4BMkiD,IC3BD,GAAYliD,GD4BpCga,EAAW,GAAUkoC,GAEdsB,GACPqI,GAAW,EACX7xC,EAAW,GAAY4xC,GAAU,IAE1BE,GACPD,GAAW,EACX7xC,EAAW,GAAgB4xC,GAAU,IAGrC5xC,EAAW,GAGN,GAAc4xC,IAAa,GAAYA,IAC9C5xC,EAAWkoC,EACP,GAAYA,GACdloC,EE/CR,SAAuBha,GACrB,OAAO,GAAWA,EAAO,GAAOA,GAClC,CF6CmB,CAAckiD,GAEjB,GAASA,KAAa,GAAWA,KACzCloC,EAAW,GAAgB4xC,KAI7BC,GAAW,CAEf,CACIA,IAEF3F,EAAM52C,IAAIs8C,EAAU5xC,GACpB2xC,EAAU3xC,EAAU4xC,EAAUF,EAAUtJ,EAAY8D,GACpDA,EAAc,OAAE0F,IAElB,GAAiBhK,EAAQ39C,EAAK+V,EAnD9B,CAoDF,EGlDA,GAtBA,SAAS+xC,EAAUnK,EAAQjgD,EAAQ+pD,EAAUtJ,EAAY8D,GACnDtE,IAAWjgD,GAGf,GAAQA,GAAQ,SAASiqD,EAAU3nD,GAEjC,GADAiiD,IAAUA,EAAQ,IAAI,IAClB,GAAS0F,GACX,GAAchK,EAAQjgD,EAAQsC,EAAKynD,EAAUK,EAAW3J,EAAY8D,OAEjE,CACH,IAAIlsC,EAAWooC,EACXA,EAAW,GAAQR,EAAQ39C,GAAM2nD,EAAW3nD,EAAM,GAAK29C,EAAQjgD,EAAQukD,QACvEr9C,OAEaA,IAAbmR,IACFA,EAAW4xC,GAEb,GAAiBhK,EAAQ39C,EAAK+V,EAChC,CACF,GAAG,GACL,ECpCI,GAAY+4B,KAAKC,ICkBrB,GATuB,GAA4B,SAASlT,EAAMwV,GAChE,OAAO,GAAexV,EAAM,WAAY,CACtC,cAAgB,EAChB,YAAc,EACd,OCGc9/B,EDHIs1C,ECIb,WACL,OAAOt1C,CACT,GDLE,UAAY,ICEhB,IAAkBA,CDAlB,EAPwC,GXPpCgsD,GAAYpW,KAAKC,IaQrB,IbGkB/V,GaLS,GbMrB78B,GAAQ,EACRioD,GAAa,EAEV,WACL,IAAIe,EAAQD,KACRE,EApBO,IAoBiBD,EAAQf,IAGpC,GADAA,GAAae,EACTC,EAAY,GACd,KAAMjpD,IAzBI,IA0BR,OAAOoQ,UAAU,QAGnBpQ,GAAQ,EAEV,OAAO68B,GAAK0X,WAAM3uC,EAAWwK,UAC/B,GcjBF,GAJA,SAAkBysB,EAAM5pB,GACtB,OAAO,GJCT,SAAkB4pB,EAAM5pB,EAAO6pB,GAE7B,OADA7pB,EAAQ,QAAoBrN,IAAVqN,EAAuB4pB,EAAKlhC,OAAS,EAAKsX,EAAO,GAC5D,WAML,IALA,IAAIm6B,EAAOh9B,UACPnQ,GAAS,EACTtE,EAAS,GAAUyxC,EAAKzxC,OAASsX,EAAO,GACxCoe,EAAQp1B,MAAMN,KAETsE,EAAQtE,GACf01B,EAAMpxB,GAASmtC,EAAKn6B,EAAQhT,GAE9BA,GAAS,EAET,IADA,IAAIipD,EAAYjtD,MAAMgX,EAAQ,KACrBhT,EAAQgT,GACfi2C,EAAUjpD,GAASmtC,EAAKntC,GAG1B,OADAipD,EAAUj2C,GAAS6pB,EAAUzL,GKpBjC,SAAewL,EAAMyX,EAASlH,GAC5B,OAAQA,EAAKzxC,QACX,KAAK,EAAG,OAAOkhC,EAAKjgC,KAAK03C,GACzB,KAAK,EAAG,OAAOzX,EAAKjgC,KAAK03C,EAASlH,EAAK,IACvC,KAAK,EAAG,OAAOvQ,EAAKjgC,KAAK03C,EAASlH,EAAK,GAAIA,EAAK,IAChD,KAAK,EAAG,OAAOvQ,EAAKjgC,KAAK03C,EAASlH,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE3D,OAAOvQ,EAAK0X,MAAMD,EAASlH,EAC7B,CLaW,CAAMvQ,EAAM7hC,KAAMkuD,EAC3B,CACF,CIpBqB,CAASrsB,EAAM5pB,EAAO,IAAW4pB,EAAO,GAC7D,EEwBA,If5BwBqrB,GewBO,SAASvJ,EAAQjgD,EAAQ+pD,EAAUtJ,GAChE,GAAUR,EAAQjgD,EAAQ+pD,EAAUtJ,EACtC,EfzBS,IAAS,SAASR,EAAQlgD,GAC/B,IAAIwB,GAAS,EACTtE,EAAS8C,EAAQ9C,OACjBwjD,EAAaxjD,EAAS,EAAI8C,EAAQ9C,EAAS,QAAKiK,EAChDw/C,EAAQzpD,EAAS,EAAI8C,EAAQ,QAAKmH,EAWtC,IATAu5C,EAAc+I,GAASvsD,OAAS,GAA0B,mBAAdwjD,GACvCxjD,IAAUwjD,QACXv5C,EAEAw/C,GgBNR,SAAwBroD,EAAOkD,EAAO0+C,GACpC,IAAK,GAASA,GACZ,OAAO,EAET,IAAIv5C,SAAcnF,EAClB,SAAY,UAARmF,EACK,GAAYu5C,IAAW,GAAQ1+C,EAAO0+C,EAAOhjD,QACrC,UAARyJ,GAAoBnF,KAAS0+C,IAE7B,GAAGA,EAAO1+C,GAAQlD,EAG7B,ChBNiB,CAAe0B,EAAQ,GAAIA,EAAQ,GAAI2mD,KAClDjG,EAAaxjD,EAAS,OAAIiK,EAAYu5C,EACtCxjD,EAAS,GAEXgjD,EAASthD,OAAOshD,KACP1+C,EAAQtE,GAAQ,CACvB,IAAI+C,EAASD,EAAQwB,GACjBvB,GACFwpD,GAASvJ,EAAQjgD,EAAQuB,EAAOk/C,EAEpC,CACA,OAAOR,CACT,KiBUa,MAAMwK,WAAmB,EAAA5/C,OACpC,WAAA/L,GACIkM,SAAS0G,WAITpV,KAAKouD,aAAe,EACxB,CAIA,qBAAW5/C,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,IAAK,MAAM5D,KAAc,GACrBjL,KAAKquD,qBAAqBpjD,GAE9B,IAAK,MAAMA,KAAc,GACrBjL,KAAKsuD,sBAAsBrjD,EAEnC,CAIA,oBAAAojD,CAAqBpjD,GACjBjL,KAAKouD,aAAa3uD,KAAK,IAAKwL,EAAY88B,SAAS,GACrD,CAIA,qBAAAumB,CAAsBrjD,GAClBjL,KAAKouD,aAAa3uD,KAAK,IAAKwL,EAAYwvC,UAAU,GACtD,CASA,kBAAA8T,CAAmBtjD,GACfjL,KAAKwuD,kBAAkB,IAAKvjD,EAAY88B,SAAS,GACrD,CASA,mBAAA0mB,CAAoBxjD,GAChBjL,KAAKwuD,kBAAkB,IAAKvjD,EAAYwvC,UAAU,GACtD,CAMA,qBAAAiU,CAAsB7C,EAAU8C,GAAoB,GAChD,MAAM/+C,EAAc,IAAIyqC,IACxB,IAAK,MAAMpvC,KAAcjL,KAAK4uD,4BAA4B/C,GAAW,CACjE,GAAI8C,EACA,IAAK,MAAME,KAAa7uD,KAAK8uD,eAAe7jD,EAAWmC,OACnDwC,EAAYpH,IAAIqmD,GAGxBj/C,EAAYpH,IAAIyC,EACpB,CACA,OAAO2E,CACX,CAIA,sBAAAm/C,CAAuBz3B,GACnB,OAAOt3B,KAAKouD,aAAa5nD,QAAOyE,GAAcA,EAAWmC,OAASkqB,GACtE,CAIA,2BAAAs3B,CAA4B/C,GACxB,OAAO7rD,KAAKouD,aAAa5nD,QAAOk9B,GAAOA,EAAIp0B,MA0DnD,SAAsBkF,EAASq3C,GAC3B,MAAuB,iBAAZr3C,EACAA,IAAYq3C,EAEnBr3C,aAAmB8E,QACZ9E,EAAQ7R,KAAKkpD,EAG5B,CAlE2DmD,CAAanD,EAAUnoB,EAAIp0B,OAClF,CAMA,eAACw/C,CAAex3B,GACZ,MAAM23B,EAAoB,CACtB,iBACA,mBACA,aACA,iBACA,qBAEEr/C,EAAc5P,KAAKouD,aAAa5nD,QAAOyE,GAAcA,EAAWmC,OAASkqB,IAC/E,IAAK,MAAM,YAAE61B,KAAiBv9C,EAC1B,GAAKu9C,EAGL,IAAK,MAAM+B,KAAYD,EACnB,IAAK,MAAME,KAAiB,IAAA9sC,SAAQ8qC,EAAY+B,IAAa,IAAK,CAC9D,MAAMt/C,EAAc5P,KAAKouD,aAAa5nD,QAAOyE,GAAcA,EAAWmC,OAAS+hD,IAC/E,IAAK,MAAMlkD,KAAc2E,EACjBu/C,IAAkB73B,UACXt3B,KAAK8uD,eAAe7jD,EAAWmC,aAChCnC,EAGlB,CAGZ,CASA,iBAAAujD,CAAkBvjD,GACd,MAAMmkD,EAAqBnuD,MAAMyB,KAAK1C,KAAKouD,aAAahL,WACnD58C,QAAO,EAAE,CAAE6oD,KAAuBA,EAAkBjiD,OAASnC,EAAWmC,QAC7E,GAAiC,GAA7BgiD,EAAmBzuD,OAIvB,IAAK,MAAO2uD,EAAKD,KAAsBD,EACnCpvD,KAAKouD,aAAakB,GAAO,GAAU,CAAC,EAAGD,EAAmBpkD,GAAY,CAACnH,EAAQJ,IACpEzC,MAAME,QAAQ2C,GAAUA,EAAO1D,OAAOsD,QAAUkH,SAL3D5K,KAAKouD,aAAa3uD,KAAKwL,EAQ/B,iBCpLS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ1C,OCoCR,MAAMgnD,WAAmB,EAAAhhD,OACpC,WAAA/L,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAKwvD,YAAcviD,EAAO8G,QAAQ3I,IAAI,cACtCpL,KAAKyvD,mBAAqB,IAAI,EAAAC,QAC9B1vD,KAAK2vD,sBAAwB,IAAI,EAAAD,QACjC1vD,KAAK4vD,iBAAmB,IAAIvV,IAC5Br6C,KAAK6vD,oBAAsB,IAAIxV,IAC/Br6C,KAAK8vD,kBAAmB,EACxB9vD,KAAK+vD,mBAAqB,KAC1B/vD,KAAKgwD,6BACLhwD,KAAKiwD,2BACLjwD,KAAKkwD,sCACLlwD,KAAKmwD,4CACT,CAIA,qBAAW3hD,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC46C,GAAY,EAAAhlC,OACxB,CAQA,iBAAAinC,CAAkBzhD,GACd,IAAK,MAAM6F,KAAW7F,EAAQ,CAG1B,MAAMihB,EAAcpb,EAAQ/R,MAAQ,UAC9B4tD,EAAQC,GAAW97C,GACzBxU,KAAKuwD,aAAa3gC,GAClBygC,EAAMtqD,SAAQyO,GAAWxU,KAAKiP,gBAAgBuF,IAClD,CACJ,CAQA,oBAAAg8C,CAAqB7hD,GACjB,IAAK,MAAM6F,KAAW7F,EAAQ,CAG1B,MAAMihB,EAAcpb,EAAQ/R,MAAQ,UAC9B4tD,EAAQC,GAAW97C,GAEL,GAAhB67C,EAAM1vD,OACNX,KAAKywD,gBAAgB7gC,GAGrBygC,EAAMtqD,SAAQyO,GAAWxU,KAAK0wD,mBAAmBl8C,IAEzD,CACJ,CAQA,8BAAAm8C,CAA+BhiD,GAC3B,IAAK,MAAMihB,KAAejhB,EACtB3O,KAAK4wD,kBAAkBhhC,EAE/B,CAWA,YAAA2gC,CAAa1E,GACT,IAAK,MAAM5gD,KAAcjL,KAAKwvD,YAAYd,sBAAsB7C,GAAU,GACtE7rD,KAAK6wD,mBAAmB5lD,GAExBjL,KAAK+vD,mBAAqB,IAElC,CASA,eAAAU,CAAgB5E,GACZ,IAAK,MAAM5gD,KAAcjL,KAAKwvD,YAAYd,sBAAsB7C,GAAU,GACtE7rD,KAAK6vD,oBAAoBrnD,IAAIyC,EAAWqE,KAEhD,CAWA,iBAAAshD,CAAkB/E,GACd,IAAK,MAAM5gD,KAAcjL,KAAKwvD,YAAYd,sBAAsB7C,GAAU,GAClE5gD,EAAWwvC,UACXz6C,KAAKwvD,YAAYf,oBAAoB,IAAKxjD,EAAYmhD,YAAY,GAG9E,CAMA,eAAAn9C,CAAgBN,GACZ3O,KAAKyvD,mBAAmBjnD,IAAImG,EAChC,CAMA,kBAAA+hD,CAAmB/hD,GACf3O,KAAK2vD,sBAAsBnnD,IAAImG,EACnC,CA0BA,qBAAA29C,CAAsBt3C,EAAa6L,GAC/B,MAAM,WAAEC,GAAeD,EAIvB,OADAiwC,GAA0B97C,EAAahV,KAAK2vD,sBAAuB7uC,GA0b3E,SAA6B9L,GAAa,WAAEpP,EAAU,QAAEkS,EAAO,OAAEnP,IAC7D,OAAK/C,EAAWjF,QAAWmX,EAAQnX,QAAWgI,EAAOhI,OAG9C,IACCiF,EAAWjF,QAAU,CACrBiF,WAAYuQ,GAAcnB,EAAapP,OAEvC+C,EAAOhI,QAAU,CACjBgI,OAAQooD,GAAiB/7C,EAAarM,OAEtCmP,EAAQnX,QAAU,CAClBmX,YAVG,IAaf,CAxcek5C,CAAoBh8C,EAAa87C,GAA0B97C,EAAahV,KAAKyvD,mBAAoB3uC,GAC5G,CAIA,kBAAA+vC,CAAmB5lD,GACf,IAAIjL,KAAK4vD,iBAAiB37C,IAAIhJ,GAA9B,CAKA,GAFAjL,KAAK4vD,iBAAiBpnD,IAAIyC,GAEtB,mBAAoBA,GAAkD,iBAA7BA,EAAWoiD,eACpD,IAAK,MAAM4D,KAAqBjxD,KAAKwvD,YAAYT,uBAAuB9jD,EAAWoiD,gBAC3E4D,EAAkBlpB,SAClB/nC,KAAK6wD,mBAAmBI,GAQhCjxD,KAAK8vD,kBAGL9vD,KAAKiN,OAAO3J,KAAKkX,KAAK,OAAO,KACzBxa,KAAKkxD,mBAAmBjmD,EAAW,GACpC,CAGC0P,SAAU,EAAAw2C,WAAWC,QAAU,GAtBvC,CAyBJ,CAKA,0BAAApB,GACIhwD,KAAKiN,OAAO3J,KAAK4P,GAAG,QAAQ,KACxBlT,KAAK8vD,kBAAmB,EACxB,IAAK,MAAM7kD,KAAcjL,KAAK4vD,iBAC1B5vD,KAAKkxD,mBAAmBjmD,EAC5B,GACD,CAQC0P,SAAU,EAAAw2C,WAAWC,QAAU,GAEvC,CAIA,wBAAAnB,GACIjwD,KAAKkT,GAAG,YAAY,CAAC0N,EAAK3V,KACtB,MAAMmD,EAASpO,KAAKiN,OAAOG,MAAMgB,OAIjC,GAAInD,EAAWyJ,WAAatG,EAAO6W,aAAaha,EAAWmC,OACvDpN,KAAKqxD,uBAAuBpmD,QAE3B,GAAIA,EAAW88B,QAChB/nC,KAAKsxD,sBAAsBrmD,OAE1B,KAAIA,EAAWwvC,SAWhB,MAAM,IAAI,EAAAhuC,cAAc,iCAAkC,KAAMxB,GAVhEjL,KAAKuxD,uBAAuBtmD,EAWhC,CACA2V,EAAIsZ,MAAM,GACX,CAAEvf,SAAU,UACnB,CA0BA,mCAAAu1C,GACI,MAAM9iD,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UACjCD,EAAMpJ,SAASktB,mBAAkBpjB,IAC7B,MAAM4e,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAIuE,GAAU,EACd,MAAMqgC,EAAoBxxD,KAAKyxD,2BAC/B,IAAK,MAAM5jD,KAAU6e,EAAS,CAE1B,GAAmB,aAAf7e,EAAOzD,MAAoD,OAA7ByD,EAAOqT,kBACrC,SAGJ,MAAMwwC,EAAgBF,EAAkBpmD,IAAIyC,EAAOwT,cACnD,GAAKqwC,EAIL,IAAK,MAAM,KAAExxD,KAAU2N,EAAO6W,MAAMxJ,YAChC,IAAK,MAAMmG,KAAgBqwC,EACnBxxD,EAAKuN,aAAa4T,KAClBvT,EAAO1G,gBAAgBia,EAAcnhB,GACrCixB,GAAU,EAI1B,CACA,OAAOA,CAAO,IAElBnxB,KAAK2R,SAAStE,EAAW,oBAAoB,CAACuT,GAAO8wC,oBACjD,MAAMC,EAAmB,IAAItX,IACvBmX,EAAoBxxD,KAAKyxD,2BAC/B,IAAK,MAAMpwC,KAAgBqwC,EAAe,CAEtC,GAAIrkD,EAAUI,aAAa4T,GACvB,SAGJ,MAAMuwC,EAAuBJ,EAAkBpmD,IAAIiW,GACnD,GAAKuwC,EAGL,IAAK,MAAMC,KAAuBD,EAC1BvkD,EAAUI,aAAaokD,IACvBF,EAAiBnpD,IAAIqpD,EAGjC,CAC6B,GAAzBF,EAAiB98C,MAGrBzH,EAAMS,QAAOC,IACT,IAAK,MAAMuT,KAAgBswC,EACvB7jD,EAAO6pB,yBAAyBtW,EACpC,GACF,GAEV,CA8BA,0CAAA8uC,GACI,MAAM/iD,EAAQpN,KAAKiN,OAAOG,MAC1BA,EAAMpJ,SAASktB,mBAAkBpjB,IAC7B,MAAM4e,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAIuE,GAAU,EACd,IAAK,MAAMtjB,KAAU6e,EACjB,GAAoB,WAAhB7e,EAAOzD,MAAqC,UAAhByD,EAAOpL,KAGvC,IAAK,MAAMqvD,KAAQjkD,EAAOjI,WAAWE,OAC5BgsD,EAAKC,WAAW,SAAYD,EAAKh9C,SAAS,gBAG1C1H,EAAMgB,OAAOC,eAAeR,EAAOpL,KAAMqvD,KAC1ChkD,EAAO1G,gBAAgB0qD,EAAMjkD,EAAO4R,SAASoN,WAC7CsE,GAAU,IAItB,OAAOA,CAAO,GAEtB,CAKA,wBAAAsgC,GACI,GAAIzxD,KAAK+vD,mBACL,OAAO/vD,KAAK+vD,mBAEhB/vD,KAAK+vD,mBAAqB,IAAI7/C,IAC9B,IAAK,MAAMjF,KAAcjL,KAAK4vD,iBAC1B,GAAI3kD,EAAWqiD,kBAAoBriD,EAAWmC,MAAO,CACjD,MAAM4kD,EAAiBhyD,KAAK+vD,mBAAmB3kD,IAAIH,EAAWqiD,kBAC1D0E,EACAA,EAAevyD,KAAKwL,EAAWmC,OAG/BpN,KAAK+vD,mBAAmB1+C,IAAIpG,EAAWqiD,iBAAkB,CAACriD,EAAWmC,OAE7E,CAEJ,OAAOpN,KAAK+vD,kBAChB,CAIA,kBAAAmB,CAAmBjmD,GACXA,EAAWqE,MAAQtP,KAAK6vD,oBAAoB57C,IAAIhJ,EAAWqE,OAG/DtP,KAAKkiB,KAAKjX,EAAWqE,KAAO,YAAYrE,EAAWqE,OAAS,WAAYrE,EAC5E,CAIA,sBAAAomD,CAAuBpmD,GACnB,MAAMgC,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,YAClBE,KAAMu8C,EAAUz+C,MAAOkqB,GAAcrsB,EAC7CmD,EAAOuX,SAAS2R,EAAWrsB,EAAWkiD,aAEjCtB,IAGLz9C,EAAOY,OAAO/D,EAAWmC,MAAO,CAC5B6B,gBAAiB,CAACw8C,GAAqBI,GAAW,iBAItD5+C,EAAO3J,KAAK2uD,0BAA0B,CAClCxvD,KAAMopD,IAEVz8C,EAAWK,IAAI,UAAUsW,iBAAiB,CACtCzW,KAAMu8C,EACNz+C,MAAOs+C,GAA2BzgD,GAIlCinD,kBAAmB,EAAAf,WAAWgB,IAAM,IAExC/iD,EAAWK,IAAI,UAAUjH,IAAIukD,GAAmC9hD,EAAYjL,OAC5EoP,EAAWK,IAAI,mBAAmBqW,mBAAmB,CACjD1Y,MAAO,CACH3K,KAAM60B,EACN1xB,WAAY,CAAC6lD,GAAqBI,KAEtCv8C,KAAMs8C,GAAwB3+C,EAAQhC,KAE1CmE,EAAWK,IAAI,gBAAgBsW,iBAAiB,CAC5C3Y,MAAOkqB,EACPhoB,KAAM,CAACkG,GAAgB1H,YACZi+C,GAAiBF,EAAUr2C,EAAc1H,KAGxDsB,EAAWK,IAAI,gBAAgBjH,IAAIwkD,GAAmC/hD,IAC1E,CAIA,qBAAAqmD,CAAsBrmD,GAClB,MAAMgC,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,YAClBE,KAAMu8C,EAAUz+C,MAAOkqB,GAAcrsB,EAC7C,IAAKmD,EAAO6W,aAAaha,EAAWmC,OAAQ,CAExC,GADAgB,EAAOuX,SAAS1a,EAAWmC,MAAOnC,EAAWkiD,cACxCtB,EACD,OAEJz8C,EAAWK,IAAI,UAAUsW,iBAAiB,CACtC3Y,MAAOkqB,EACPhoB,KAAMu8C,EAINqG,kBAAmB,EAAAf,WAAWgB,IAAM,IAExC/iD,EAAWK,IAAI,YAAYsW,iBAAiB,CACxC3Y,MAAOkqB,EACPhoB,KAAMu8C,GAEd,CACKA,IAGLz9C,EAAOY,OAAO/D,EAAWmC,MAAO,CAC5B6B,gBAAiBw8C,GAAqBI,KAE1Cz8C,EAAWK,IAAI,UAAUjH,IAAIukD,GAAmC9hD,EAAYjL,OAC5EoP,EAAWK,IAAI,YAAYjH,IAAIwkD,GAAmC/hD,IACtE,CAMA,sBAAAsmD,CAAuBtmD,GACnB,MAAMgC,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WACpBiS,EAAepW,EAAWmC,MAE5BnC,EAAWoiD,iBAGfj/C,EAAOY,OAAO,QAAS,CACnBC,gBAAiBoS,IAEjBpW,EAAWsiD,qBACXn/C,EAAOc,uBAAuBmS,EAAcpW,EAAWsiD,qBAE3Dn+C,EAAWK,IAAI,UAAUjH,IAAI2jD,GAA+BlhD,EAAYjL,OACxEoP,EAAWK,IAAI,YAAYwrB,mBAAmB,CAC1C7tB,MAAOiU,EACP/R,KAAMw9C,GAA+B7hD,KAEpCA,EAAWmhD,aAGhBh+C,EAAOc,uBAAuBmS,EAAc,CAAE+wC,gBAAgB,IACzDhkD,EAAO6W,aAAa,qBACrB7W,EAAOuX,SAAS,mBAAoB,CAChCC,eAAgB,kBAGxB3Y,EAAO3J,KAAK+uD,cAAcn0C,aAAao0C,6BAA4Bp+C,GAE3DA,EAAQzR,MAAQwI,EAAWqE,MAC3B4E,EAAQS,SACR1T,MAAMyB,KAAKwR,EAAQq+C,oBAAoB5xD,OAChC,CACH8B,MAAM,GAGP,OAEX2M,EAAWK,IAAI,mBACVsW,iBAAiB,CAClB3Y,MAAO,mBACPkC,KAAMq9C,GAAuC1hD,GAAY,KAE7DmE,EAAWK,IAAI,gBACVsW,iBAAiB,CAClB3Y,MAAO,mBACPkC,KAAMq9C,GAAuC1hD,MAErD,EAUJ,SAAS6lD,GAA0B97C,EAAaw9C,EAAS1xC,GACrD,MAAM2xC,EAAUD,EAAQjb,SAASviC,IAAgB,GAC3C09C,EAAkB19C,EAAYhR,SAAS0uD,gBAC7C,OAAOD,EAAQ98B,QAAO,CAACjxB,GAAU6W,YAE7B,IAAK,MAAM7V,KAAS6V,EAAM5S,QAAU,GAAI,CAKpC,MAAMgqD,EAAsBD,EAAgBE,iBAAiBltD,GACxDc,QAAOqsD,GAAgBA,EAAah6B,MAAM,KAAKl4B,OAAS+E,EAAMmzB,MAAM,KAAKl4B,SACzEwzC,MAAK,CAACnpC,EAAGopC,IAAMA,EAAEvb,MAAM,KAAKl4B,OAASqK,EAAE6tB,MAAM,KAAKl4B,SACvD,IAAK,MAAMkyD,KAAgBF,EACnB7xC,EAAWC,QAAQ/L,EAAa,CAAErM,OAAQ,CAACkqD,MAC3CnuD,EAAOiE,OAAOlJ,KAAKozD,GAIvB/xC,EAAWC,QAAQ/L,EAAa,CAAErM,OAAQ,CAACjD,MAC3ChB,EAAOiE,OAAOlJ,KAAKiG,EAE3B,CAEA,IAAK,MAAM8G,KAAa+O,EAAMzD,SAAW,GACjCgJ,EAAWC,QAAQ/L,EAAa,CAAE8C,QAAS,CAACtL,MAC5C9H,EAAOoT,QAAQrY,KAAK+M,GAI5B,IAAK,MAAM4J,KAAiBmF,EAAM3V,YAAc,GACxCkb,EAAWC,QAAQ/L,EAAa,CAAEpP,WAAY,CAACwQ,MAC/C1R,EAAOkB,WAAWnG,KAAK2W,GAG/B,OAAO1R,CAAM,GACd,CACCkB,WAAY,GACZkS,QAAS,GACTnP,OAAQ,IAEhB,CAuBA,SAASwN,GAAcnB,EAAapP,GAChC,MAAMktD,EAAmB,CAAC,EAC1B,IAAK,MAAM9sD,KAAOJ,EAAY,CAC1B,MAAM7D,EAAQiT,EAAYtH,aAAa1H,QACzB4E,IAAV7I,IAAuB,IAAAgxD,sBAAqB/sD,KAC5C8sD,EAAiB9sD,GAAOjE,EAEhC,CACA,OAAO+wD,CACX,CAIA,SAAS/B,GAAiB/7C,EAAarM,GAEnC,MAAMsoB,EAAY,IAAI,EAAA+hC,UAAUh+C,EAAYhR,SAAS0uD,iBACrD,IAAK,MAAM1sD,KAAO2C,EAAQ,CACtB,MAAMsqD,EAAaj+C,EAAYZ,SAASpO,QACrB4E,IAAfqoD,GACAhiC,EAAU5f,IAAIrL,EAAKitD,EAE3B,CACA,OAAO5wD,OAAO6T,YAAY+a,EAAUiiC,mBACxC,CAQA,SAASC,GAAa3+C,EAAS4B,GAC3B,MAAM,KAAE3T,GAAS+R,EACXqpC,EAAiBrpC,EAAQ4B,GAC/B,OAAI,GAAcynC,GACPx7C,OAAO+gD,QAAQvF,GACjB59C,KAAI,EAAE+F,EAAKjE,MAAW,CACvBU,OACA,CAAC2T,GAAgB,CACb,CAACpQ,GAAMjE,OAIfd,MAAME,QAAQ08C,GACPA,EACF59C,KAAI8B,IAAS,CACdU,OACA,CAAC2T,GAAgB,CAACrU,OAGnB,CAACyS,EACZ,CAKA,SAAS87C,GAAWD,GAChB,MAAM,KAAE5tD,EAAI,WAAEmD,EAAU,QAAEkS,EAAO,OAAEnP,GAAW0nD,EACxCC,EAAa,GAUnB,OATI1qD,GACA0qD,EAAW7wD,QAAQ0zD,GAAa,CAAE1wD,OAAMmD,cAAc,eAEtDkS,GACAw4C,EAAW7wD,QAAQ0zD,GAAa,CAAE1wD,OAAMqV,WAAW,YAEnDnP,GACA2nD,EAAW7wD,QAAQ0zD,GAAa,CAAE1wD,OAAMkG,UAAU,WAE/C2nD,CACX,CCxuBe,MAAM8C,WAAgC,EAAA7kD,OAIjD,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,yBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,IAAK7O,KAAKiN,OAAO8G,QAAQE,IAAI,oBACzB,OAEJ,MAAMo4C,EAAarsD,KAAKiN,OAAO8G,QAAQ3I,IAAImkD,IAC3ClD,EAAWn5C,GAAG,gBAAgB,CAAC0N,EAAK3V,KAChC,GAAyB,cAArBA,EAAWmC,MACX,OAEJ,MAAMH,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WAE1BhB,EAAOY,OAAO,YAAa,CACvBC,gBAAiB,CAAC,oBAAqB,2BAE3CG,EAAWK,IAAI,UAAUjH,IAcrC,SAAgD6jD,GAC5C,OAAQlrC,IACJA,EAAWjO,GAAG,gBAAgB,CAAC0N,EAAKtd,EAAMud,KACtC,MAAMynB,EAAkBhlC,EAAK2iB,SACvBsiB,EAAiBD,EAAgB5xB,OAMvC,SAAS28C,EAA0Br+C,EAAaoB,GAC5C,MAAM80C,EAAiBmB,EAAWC,sBAAsBt3C,EAAa6L,GACjEqqC,GACArqC,EAAc/S,OAAO7H,aAAamQ,EAAe80C,EAAgB5nD,EAAKgjB,WAE9E,CAVKiiB,GAAmBA,EAAe5yB,GAAG,UAAW,SAGrD09C,EAA0B9qB,EAAgB,qBAC1C8qB,EAA0B/qB,EAAiB,yBAM3C,GACD,CAAE3tB,SAAU,OAAQ,CAE/B,CAhCyC24C,CAAuCjH,IACpEj9C,EAAWK,IAAI,YAAYjH,KAsC3B2Y,IACJA,EAAWjO,GAAG,yCAAyC,CAAC0N,EAAKtd,EAAMud,KAC/D,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAEJ,MAAM,kBAAEiuB,EAAiB,kBAAExP,GAAsB5d,EAE3CilC,EADkB1nB,EAAcG,OAAOC,cAAc3d,EAAKpD,MACzBwW,OACvCq0C,GAAqBlqC,EAAc/S,OAAQ4iB,EAAmBxP,EAAmBqnB,EAAe,IAEpGpnB,EAAWjO,GAAG,6CAA6C,CAAC0N,EAAKtd,EAAMud,KACnE,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAEJ,MAAM,kBAAEiuB,EAAiB,kBAAExP,GAAsB5d,EAC3CglC,EAAkBznB,EAAcG,OAAOC,cAAc3d,EAAKpD,MAChE6qD,GAAqBlqC,EAAc/S,OAAQ4iB,EAAmBxP,EAAmBonB,EAAgB,GACnG,IAtDE1nB,EAAIsZ,MAAM,GAElB,EC1BW,MAAMq5B,WAAuC,EAAAhlD,OAIxD,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,gCACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACuB7O,KAAKiN,OAAO8G,QAAQ3I,IAAImkD,IAChCr8C,GAAG,YAAY,CAAC0N,EAAK3V,KAC5B,MAAMuoD,EAAkBvoD,EAClBgC,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WAC1B,IAAKokD,EAAgBpG,mBACjB,OAGJ,GAAIh/C,EAAO6W,aAAauuC,EAAgBpmD,QAAUgB,EAAO6W,aAAauuC,EAAgBpG,oBAClF,OAEJ,MAAMqG,EAA+B,CACjCrmD,MAAOomD,EAAgBpG,mBACvB99C,KAAMkkD,EAAgBlkD,MAE1BlB,EAAOuX,SAAS6tC,EAAgBpmD,MAAOomD,EAAgBrG,aACvD/+C,EAAOuX,SAAS8tC,EAA6BrmD,MAAO,CAChDwY,eAAgB,WAEpBxW,EAAWK,IAAI,UAAUsW,iBAAiB,CACtCzW,KAAMkkD,EAAgBlkD,KACtBlC,MAAO,CAAC4H,GAAelH,YACf9N,KAAK0zD,iBAAiB1+C,GACflH,EAAOnI,cAAc6tD,EAAgBpmD,OAEzCU,EAAOnI,cAAc8tD,EAA6BrmD,OAI7D8kD,kBAAmB,EAAAf,WAAWgB,IAAM,KAExC/iD,EAAWK,IAAI,YAAYsW,iBAAiB,CACxCzW,KAAMkkD,EAAgBlkD,KACtBlC,MAAOomD,EAAgBpmD,QAE3BpN,KAAK2zD,wBAAwBH,GAC7BpkD,EAAWK,IAAI,YAAYsW,iBAAiB,CACxCzW,KAAMmkD,EAA6BnkD,KACnClC,MAAOqmD,EAA6BrmD,QAExCpN,KAAK2zD,wBAAwBF,GAC7B7yC,EAAIsZ,MAAM,GAElB,CAIA,gBAAAw5B,CAAiB1+C,GACb,MAAM1F,EAAOtP,KAAKiN,OAAO2E,QAAQtC,KAC3BskD,EAAgBtkD,EAAK4O,aAAa01C,cAIxC,IAAK,MAAM3tC,KAAY3W,EAAK4J,cAAclE,GAAauR,WACnD,GAAIN,EAAStQ,GAAG,YAAci+C,EAAc/nD,SAASoa,EAASxjB,MAC1D,OAAO,EAGf,OAAO,CACX,CAIA,uBAAAkxD,CAAwB1oD,GACpB,MAAMgC,EAASjN,KAAKiN,OACdmC,EAAanC,EAAOmC,WACpBi9C,EAAap/C,EAAO8G,QAAQ3I,IAAImkD,IACtCtiD,EAAOG,MAAMgB,OAAOY,OAAO/D,EAAWmC,MAAO,CACzC6B,gBAAiBw8C,GAAqBxgD,EAAWqE,QAErDF,EAAWK,IAAI,UAAUjH,IAAIukD,GAAmC9hD,EAAYohD,IAC5Ej9C,EAAWK,IAAI,YAAYjH,IAAIwkD,GAAmC/hD,GACtE,EC9GW,MAAM4oD,WAA8B,EAAAtlD,OAI/C,mBAAWgF,GACP,MAAO,CAAC46C,GAAY,GAAAt0B,MACxB,CAIA,qBAAWrrB,GACP,MAAO,uBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpB,IAAKA,EAAO8G,QAAQE,IAAI,kBACpB,OAEJ,MAAMrP,EAAUqI,EAAO0B,OAAOvD,IAAI,mBAClCpL,KAAK8zD,wBAAwB7mD,EAAQrI,EACzC,CAIA,uBAAAkvD,CAAwB7mD,EAAQrI,GAC5B,MAAMmvD,EAAa9mD,EAAO8G,QAAQ3I,IAAI+iD,IAChC6F,EAAe,GACrB,IAAK,MAAMpoD,KAAUhH,EACb,UAAWgH,GAAU,SAAUA,IAC/BmoD,EAAW1F,qBAAqB,CAC5B/+C,KAAM1D,EAAO0D,KACblC,MAAOxB,EAAOwB,QAElB4mD,EAAav0D,KAAKmM,EAAOwB,QAGjC2mD,EAAWxF,mBAAmB,CAC1BnhD,MAAO,aACP+/C,YAAa,CACTvlB,cAAeosB,KAGvBD,EAAWxF,mBAAmB,CAC1BnhD,MAAO,cACP+/C,YAAa,CACTvlB,cAAeosB,IAG3B,ECzDG,SAASC,GAAqBnmD,EAAQomD,EAAkBtkC,GAC3D,MAAMlL,EAAQ5W,EAAO0W,cAAc0vC,GACnC,IAAK,MAAM,KAAEh0D,KAAUwkB,EAAMxJ,YACzB,GAAIhb,EAAKyV,GAAG,UAAWia,GACnB,OAAO1vB,CAGnB,CCNe,MAAMi0D,WAA4B,EAAA5lD,OAI7C,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OAEpB,IAAKA,EAAO8G,QAAQE,IAAI,wBAA0BhH,EAAO8G,QAAQE,IAAI,qBACjE,OAEJ,MAAM7F,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WACpBi9C,EAAap/C,EAAO8G,QAAQ3I,IAAImkD,IACtClD,EAAWn5C,GAAG,mBAAmB,KAC7B9D,EAAWK,IAAI,UAAUjH,IAuFrC,SAA6C6jD,GACzC,OAAQlrC,IACJA,EAAWjO,GAAG,kBAAkB,CAAC0N,EAAKtd,EAAMud,KACxC,MAAMuzC,EAAoB9wD,EAAK2iB,SAC/B,IAAK3iB,EAAKgjB,aAAe8tC,EAAkBx+C,SAAS,SAChD,OAEJ,MAAMs1C,EAAiBmB,EAAWC,sBAAsB8H,EAAmBvzC,GACvEqqC,GACArqC,EAAc/S,OAAO7H,aAAa,uBAAwBilD,EAAgB5nD,EAAKgjB,WACnF,GACD,CAAE3L,SAAU,OAAQ,CAE/B,CApGyC05C,CAAoChI,GAAY,IAEjFA,EAAWn5C,GAAG,gBAAgB,CAAC0N,EAAK3V,KACP,eAArBA,EAAWmC,OAA+C,gBAArBnC,EAAWmC,QAGhDgB,EAAO6W,aAAa,eACpB7W,EAAOY,OAAO,aAAc,CACxBC,gBAAiB,CACb,oBAGA,uBACA,wBAIRb,EAAO6W,aAAa,gBACpB7W,EAAOY,OAAO,cAAe,CACzBC,gBAAiB,CAEb,QACA,uBAIZG,EAAWK,IAAI,UAAUjH,IAerC,SAA4C6jD,GACxC,OAAQlrC,IACJA,EAAWjO,GAAG,eAAe,CAAC0N,EAAKtd,EAAMud,KACrC,IAAKvd,EAAKgjB,WACN,OAEJ,MAAMguC,EAAmBhxD,EAAK2iB,SACxBilC,EAAiBmB,EAAWC,sBAAsBgI,EAAkBzzC,GACtEqqC,GACArqC,EAAc/S,OAAO7H,aAAa,oBAAqBilD,EAAgB5nD,EAAKgjB,WAChF,GACD,CAAE3L,SAAU,OAAQ,CAE/B,CA5ByC45C,CAAmClI,IAChEj9C,EAAWK,IAAI,YAAYjH,KAgF3B2Y,IAeJ,SAASqzC,EAA4B5kC,EAAaxZ,GAC9C+K,EAAWjO,GAAG,aAAakD,gBAA4B,CAACwK,EAAKtd,EAAMud,KAC/D,IAAKA,EAAcC,WAAWne,KAAKW,EAAKpD,KAAM0gB,EAAIne,MAC9C,OAEJ,MAAM,kBAAEiuB,EAAiB,kBAAExP,GAAsB5d,EAC3C4wD,EAAmBrzC,EAAcG,OAAOC,cAAc3d,EAAKpD,MAC3D8U,EAAci/C,GAAqBpzC,EAAc/S,OAAQomD,EAAkBtkC,GAC7E5a,IACA+1C,GAAqBlqC,EAAc/S,OAAQ4iB,EAAmBxP,EAAmBlM,GACjF6L,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACpD,GACD,CAAEkY,SAAU,QACK,MAAhBiV,GAEAzO,EAAWjO,GAAG,iCAAiC,CAAC0N,EAAKtd,EAAMud,KACvD,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM,2CAC7C,OAEJ,MAAMg0D,EAAmBrzC,EAAcG,OAAOC,cAAc3d,EAAKpD,MAC3D8U,EAAci/C,GAAqBpzC,EAAc/S,OAAQomD,EAAkB,KACjF9I,GAAkBvqC,EAAc/S,OAAQxK,EAAKpD,KAAKwN,aAAa,sBAAuBsH,EAAY,GACnG,CAAE2F,SAAU,OAEvB,CAlCA,IAAsCvE,IAJT,oBAKzB+K,EAAWjO,GAAG,aAAakD,iBAA6B,CAACwK,EAAKtd,EAAMud,KAChE,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAEJ,MAAM,kBAAEiuB,EAAiB,kBAAExP,GAAsB5d,EAC3C0R,EAAc6L,EAAcG,OAAOC,cAAc3d,EAAKpD,MAC5D6qD,GAAqBlqC,EAAc/S,OAAQ4iB,EAAmBxP,EAAmBlM,EAAY,GAC9F,CAAE2F,SAAU,QAXnB65C,EAA4B,MAAO,qBACnCA,EAA4B,SAAU,wBACtCA,EAA4B,IAAK,qBAmCjC,IAtHQvnD,EAAO8G,QAAQE,IAAI,cACnB7E,EAAWK,IAAI,UAAUjH,IAgCzC,SAAgD6jD,EAAYp/C,GACxD,MAAM6G,EAAa7G,EAAO8G,QAAQ3I,IAAI,cACtC,OAAQ+V,IACJA,EAAWjO,GAAG,aAAa,CAAC0N,EAAKtd,EAAMud,KACnC,MAAM4zC,EAAWnxD,EAAK2iB,SAEtB,IADkBnS,EAAW+E,mBAAmB47C,GAE5C,OAEJ,MAAMpuC,EAAa/iB,EAAK8iB,YAAY1P,OACpC,IAAK2P,EAAW1Q,GAAG,UAAW,cAC1B,OAEJ,MAAMu1C,EAAiBmB,EAAWC,sBAAsBmI,EAAU5zC,GAC9DqqC,GACArqC,EAAc/S,OAAO7H,aAAa,qBAAsBilD,EAAgB7kC,EAC5E,GACD,CAAE1L,SAAU,OAAQ,CAE/B,CAnD6C+5C,CAAuCrI,EAAYp/C,IAEpF2T,EAAIsZ,OAAM,GAElB,EChEW,MAAMy6B,WAAiC,EAAApmD,OAIlD,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,0BACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OAGpB,IAAKA,EAAO8G,QAAQE,IAAI,eAAiBhH,EAAO0B,OAAOvD,IAAI,6BACvD,OAEJ,MAAMgD,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WACpBi9C,EAAarsD,KAAKiN,OAAO8G,QAAQ3I,IAAImkD,IACrCwE,EAAa/zD,KAAKiN,OAAO8G,QAAQ3I,IAAI+iD,IACrCyG,EAAmB3nD,EAAO0B,OAAOvD,IAAI,0BAE3C2oD,EAAW1F,qBAAqB,CAC5BjhD,MAAO,QACPkC,KAAMslD,IAEVvI,EAAWn5C,GAAG,mBAAmB,KAC7B9D,EAAWK,IAAI,UAAUjH,IAuCrC,SAA8C6jD,GAC1C,OAAQlrC,IACJA,EAAWjO,GAAG,kBAAkB,CAAC0N,EAAKtd,EAAMud,KACxC,MAAMuzC,EAAoB9wD,EAAK2iB,SAC/B,IAAK3iB,EAAKgjB,aAAe8tC,EAAkBx+C,SAAS,SAChD,OAEJ,MAAMs1C,EAAiBmB,EAAWC,sBAAsB8H,EAAmBvzC,GACvEqqC,GACArqC,EAAc/S,OAAO7H,aAAa,uBAAwBilD,EAAgB5nD,EAAKgjB,WACnF,GACD,CAAE3L,SAAU,OAAQ,CAE/B,CApDyCk6C,CAAqCxI,GAAY,IAElFA,EAAWn5C,GAAG,YAAY0hD,KAAoB,CAACh0C,EAAK3V,KACvB,UAArBA,EAAWmC,QAGfgB,EAAOY,OAAO,QAAS,CACnBC,gBAAiB,CACbw8C,GAAqBmJ,GACrB,0BAGRxlD,EAAWK,IAAI,UAAUjH,IAMrC,SAA6C6jD,EAAYuI,GACrD,MAAME,EAAc,CAACl0C,EAAKtd,EAAMud,MAG5B,SAAmC7L,EAAaoB,GAC5C,MAAM80C,EAAiBmB,EAAWC,sBAAsBt3C,EAAa6L,GACjEqqC,GACArqC,EAAc/S,OAAO7H,aAAamQ,EAAe80C,EAAgB5nD,EAAKgjB,WAE9E,CANA+sC,CADyB/vD,EAAK2iB,SACcwlC,GAAqBmJ,GAMjE,EAEJ,OAAQzzC,IACJA,EAAWjO,GAAG,WAAW0hD,IAAoBE,EAAa,CAAEn6C,SAAU,OAAQ,CAEtF,CApByCo6C,CAAoC1I,EAAYuI,IAC7ExlD,EAAWK,IAAI,gBAAgBjH,IAwC3C,SAA4CosD,GACxC,OAAQzzC,IAGJ,SAAS6zC,EAAwCplC,EAAaxZ,GAC1D+K,EAAWjO,GAAG,aAAakD,WAAuB,CAACwK,EAAKtd,EAAMud,KAC1D,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAEJ,MAAM,kBAAEiuB,EAAiB,kBAAExP,GAAsB5d,EAC3C4wD,EAAmBrzC,EAAcG,OAAOC,cAAc3d,EAAKpD,MAC3D8U,EAAci/C,GAAqBpzC,EAAc/S,OAAQomD,EAAkBtkC,GACjFm7B,GAAqBlqC,EAAc/S,OAAQ4iB,EAAmBxP,EAAmBlM,EAAY,GAErG,CAZAggD,EAAwCJ,EAAkBnJ,GAAqBmJ,IAC/EI,EAAwC,SAAU,uBAWlD,CAER,CAxD+CC,CAAmCL,IACtEh0C,EAAIsZ,OAAM,GAElB,EC1DW,MAAMg7B,WAA6B,EAAA3mD,OAI9C,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,sBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAMw9C,EAAarsD,KAAKiN,OAAO8G,QAAQ3I,IAAImkD,IAC3ClD,EAAWn5C,GAAG,mBAAmB,CAAC0N,EAAK3V,KACnC,MAAMgC,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WAC1BhB,EAAOuX,SAAS,aAAc1a,EAAWkiD,aACzC/+C,EAAOY,OAAO,aAAc,CACxBC,gBAAiB,CAAC,uBAAwB,eAC1CkmD,WAAW,IAEfloD,EAAO3J,KAAK2uD,0BAA0B,CAClCxvD,KAAM,WAEV2M,EAAWK,IAAI,UAAUsW,iBAAiB,CACtCzW,KAAM,SACNlC,MAAOs+C,GAA2BzgD,KAEtCmE,EAAWK,IAAI,UAAUjH,IAAIukD,GAAmC9hD,EAAYohD,IAC5Ej9C,EAAWK,IAAI,YAAYsW,iBAAiB,CACxC3Y,MAAO,aACPkC,KAAM,CAACkG,GAAgB1H,YACZi+C,GAAiB,SAAUv2C,EAAc1H,KAGxDsB,EAAWK,IAAI,YAAYjH,IAAIwkD,GAAmC/hD,IAClE2V,EAAIsZ,MAAM,GAElB,ECpDW,MAAMk7B,WAA4B,EAAA7mD,OAI7C,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpB,IAAKA,EAAO8G,QAAQE,IAAI,gBACpB,OAEJ,MAAM7F,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WACpBi9C,EAAap/C,EAAO8G,QAAQ3I,IAAImkD,IAChC8F,EAAapoD,EAAO8G,QAAQ3I,IAAI,cACtCihD,EAAWn5C,GAAG,mBAAmB,KAC7B9D,EAAWK,IAAI,UAAUjH,IAoFrC,SAA6C6jD,GACzC,OAAQlrC,IACJA,EAAWjO,GAAG,kBAAkB,CAAC0N,EAAKtd,EAAMud,KACxC,MAAMuzC,EAAoB9wD,EAAK2iB,SAC/B,IAAK3iB,EAAKgjB,aAAe8tC,EAAkBx+C,SAAS,SAChD,OAEJ,MAAMs1C,EAAiBmB,EAAWC,sBAAsB8H,EAAmBvzC,GACvEqqC,GACArqC,EAAc/S,OAAO7H,aAAa,uBAAwBilD,EAAgB5nD,EAAKgjB,WACnF,GACD,CAAE3L,SAAU,OAAQ,CAE/B,CAjGyC,CAAoC0xC,GAAY,IAEjFA,EAAWn5C,GAAG,kBAAkB,CAAC0N,EAAK3V,KACT,UAArBA,EAAWmC,QAGfgB,EAAOY,OAAO,QAAS,CACnBC,gBAAiB,CACb,sBAGA,uBAAwB,sBAAuB,yBAGvDG,EAAWK,IAAI,UAAUjH,IAuCrC,SAA4C6jD,GACxC,OAAQlrC,IACJA,EAAWjO,GAAG,iBAAiB,CAAC0N,EAAKtd,EAAMud,KACvC,IAAKvd,EAAKgjB,WACN,OAEJ,MAAMgvC,EAAmBhyD,EAAK2iB,SAC9BotC,EAA0BiC,EAAkB,uBAC5C,IAAK,MAAMC,KAAaD,EAAiBzuC,cACjC0uC,EAAU5/C,GAAG,UAAW,UACxB09C,EAA0BkC,EAAW,uBAErCA,EAAU5/C,GAAG,UAAW,UACxB09C,EAA0BkC,EAAW,uBAG7C,SAASlC,EAA0Br+C,EAAaoB,GAC5C,MAAM80C,EAAiBmB,EAAWC,sBAAsBt3C,EAAa6L,GACjEqqC,GACArqC,EAAc/S,OAAO7H,aAAamQ,EAAe80C,EAAgB5nD,EAAKgjB,WAE9E,IACD,CAAE3L,SAAU,OAAQ,CAE/B,CA/DyC66C,CAAmCnJ,IAChEj9C,EAAWK,IAAI,YAAYjH,KA0F3B2Y,IAKJ,SAAS6zC,EAAwCplC,EAAaxZ,GAC1D+K,EAAWjO,GAAG,aAAakD,WAAuB,CAACwK,EAAKtd,EAAMud,KAC1D,IAAKA,EAAcC,WAAWne,KAAKW,EAAKpD,KAAM0gB,EAAIne,MAC9C,OAEJ,MAAMyxD,EAAmBrzC,EAAcG,OAAOC,cAAc3d,EAAKpD,MAC3D8U,EAAci/C,GAAqBpzC,EAAc/S,OAAQomD,EAAkBtkC,GAC5E5a,IAGL6L,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MAChDsoD,GAAqBlqC,EAAc/S,OAAQxK,EAAKotB,kBAAmBptB,EAAK4d,kBAAmBlM,GAAY,GAE/G,CAjBAggD,EAAwC,QAAS,uBACjDA,EAAwC,SAAU,wBAClDA,EAAwC,QAAS,uBACjDA,EAAwC,QAAS,sBAcjD,IA3GI/nD,EAAOG,MAAMpJ,SAASktB,kBAQlC,SAAoC9jB,EAAOioD,GACvC,OAAOvnD,IACH,MAAM4e,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAI6oC,GAAW,EACf,IAAK,MAAM5nD,KAAU6e,EAAS,CAC1B,GAAmB,aAAf7e,EAAOzD,MAA8C,eAAvByD,EAAOwT,aACrC,SAEJ,MAAMq0C,EAAQ7nD,EAAO6W,MAAMzM,MAAM4U,UAC3B8oC,EAAqBD,EAAMhoD,aAAa,uBACxCkoD,EAAqBF,EAAMhoD,aAAa,uBAC1CioD,IAAuB9nD,EAAOqT,mBAC9BpT,EAAO1G,gBAAgB,sBAAuBsuD,GAC9CD,GAAW,GAENG,GAAsB/nD,EAAOqT,mBAAqBm0C,EAAWQ,QAAQH,KAC1E5nD,EAAO1G,gBAAgB,sBAAuBsuD,GAC9CD,GAAW,EAEnB,CACA,OAAOA,CAAQ,CAEvB,CA9BoDK,CAA2B7oD,EAAOG,MAAOioD,IACjFz0C,EAAIsZ,OAAM,GAElB,ECjDW,MAAM67B,WAA4B,EAAAxnD,OAI7C,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAMw9C,EAAarsD,KAAKiN,OAAO8G,QAAQ3I,IAAImkD,IAC3ClD,EAAWn5C,GAAG,kBAAkB,CAAC0N,EAAK3V,KAClC,MAAMgC,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WAC1BhB,EAAOuX,SAAS,YAAa1a,EAAWkiD,aACxC/+C,EAAOY,OAAO,YAAa,CACvBC,gBAAiB,CAAC,sBAAuB,eACzCkmD,WAAW,IAEfloD,EAAO3J,KAAK2uD,0BAA0B,CAClCxvD,KAAM,UAEV2M,EAAWK,IAAI,UAAUsW,iBAAiB,CACtCzW,KAAM,QACNlC,MAAOs+C,GAA2BzgD,KAEtCmE,EAAWK,IAAI,UAAUjH,IAAIukD,GAAmC9hD,EAAYohD,IAC5Ej9C,EAAWK,IAAI,YAAYsW,iBAAiB,CACxC3Y,MAAO,YACPkC,KAAM,CAACkG,GAAgB1H,YACZi+C,GAAiB,QAASv2C,EAAc1H,KAGvDsB,EAAWK,IAAI,YAAYjH,IAAIwkD,GAAmC/hD,IAClE2V,EAAIsZ,MAAM,GAElB,ECnDJ,SAAS87B,GAASzmD,GAChB,IAAItK,GAAS,EACTtE,EAAmB,MAAV4O,EAAiB,EAAIA,EAAO5O,OAGzC,IADAX,KAAKqjD,SAAW,IAAI,KACXp+C,EAAQtE,GACfX,KAAKwI,IAAI+G,EAAOtK,GAEpB,CAGA+wD,GAAS1zD,UAAUkG,IAAMwtD,GAAS1zD,UAAU7C,KCV5C,SAAqBsC,GAEnB,OADA/B,KAAKqjD,SAAShyC,IAAItP,EAbC,6BAcZ/B,IACT,EDQAg2D,GAAS1zD,UAAU2R,IEfnB,SAAqBlS,GACnB,OAAO/B,KAAKqjD,SAASpvC,IAAIlS,EAC3B,EFeA,UGJA,GAZA,SAAmBs0B,EAAO4vB,GAIxB,IAHA,IAAIhhD,GAAS,EACTtE,EAAkB,MAAT01B,EAAgB,EAAIA,EAAM11B,SAE9BsE,EAAQtE,GACf,GAAIslD,EAAU5vB,EAAMpxB,GAAQA,EAAOoxB,GACjC,OAAO,EAGX,OAAO,CACT,EC+DA,GA9DA,SAAqBA,EAAO+hB,EAAO4P,EAAS7D,EAAY8R,EAAWhO,GACjE,IAAIiO,EAjBqB,EAiBTlO,EACZmO,EAAY9/B,EAAM11B,OAClBy1D,EAAYhe,EAAMz3C,OAEtB,GAAIw1D,GAAaC,KAAeF,GAAaE,EAAYD,GACvD,OAAO,EAGT,IAAIE,EAAapO,EAAM78C,IAAIirB,GACvBigC,EAAarO,EAAM78C,IAAIgtC,GAC3B,GAAIie,GAAcC,EAChB,OAAOD,GAAcje,GAASke,GAAcjgC,EAE9C,IAAIpxB,GAAS,EACTP,GAAS,EACT6xD,EA/BuB,EA+BfvO,EAAoC,IAAI,QAAWp9C,EAM/D,IAJAq9C,EAAM52C,IAAIglB,EAAO+hB,GACjB6P,EAAM52C,IAAI+mC,EAAO/hB,KAGRpxB,EAAQkxD,GAAW,CAC1B,IAAIK,EAAWngC,EAAMpxB,GACjBwxD,EAAWre,EAAMnzC,GAErB,GAAIk/C,EACF,IAAIuS,EAAWR,EACX/R,EAAWsS,EAAUD,EAAUvxD,EAAOmzC,EAAO/hB,EAAO4xB,GACpD9D,EAAWqS,EAAUC,EAAUxxD,EAAOoxB,EAAO+hB,EAAO6P,GAE1D,QAAiBr9C,IAAb8rD,EAAwB,CAC1B,GAAIA,EACF,SAEFhyD,GAAS,EACT,KACF,CAEA,GAAI6xD,GACF,IAAK,GAAUne,GAAO,SAASqe,EAAUE,GACnC,GCtDa3wD,EDsDO2wD,GAANJ,ECrDXtiD,IAAIjO,KDsDFwwD,IAAaC,GAAYR,EAAUO,EAAUC,EAAUzO,EAAS7D,EAAY8D,IAC/E,OAAOsO,EAAK92D,KAAKk3D,GCxD/B,IAAyB3wD,CD0Df,IAAI,CACNtB,GAAS,EACT,KACF,OACK,GACD8xD,IAAaC,IACXR,EAAUO,EAAUC,EAAUzO,EAAS7D,EAAY8D,GACpD,CACLvjD,GAAS,EACT,KACF,CACF,CAGA,OAFAujD,EAAc,OAAE5xB,GAChB4xB,EAAc,OAAE7P,GACT1zC,CACT,EEhEA,GAVA,SAAoBzE,GAClB,IAAIgF,GAAS,EACTP,EAASzD,MAAMhB,EAAI4U,MAKvB,OAHA5U,EAAI8F,SAAQ,SAAShE,EAAOiE,GAC1BtB,IAASO,GAAS,CAACe,EAAKjE,EAC1B,IACO2C,CACT,ECEA,GAVA,SAAoB2M,GAClB,IAAIpM,GAAS,EACTP,EAASzD,MAAMoQ,EAAIwD,MAKvB,OAHAxD,EAAItL,SAAQ,SAAShE,GACnB2C,IAASO,GAASlD,CACpB,IACO2C,CACT,ECWI,GAAc,GAAS,GAAOpC,eAAYsI,EAC1C,GAAgB,GAAc,GAAYytC,aAAUztC,EClBpD,GAHcvI,OAAOC,UAGQgJ,eCI7B,GAAU,qBACV,GAAW,iBACX,GAAY,kBAMZ,GAHcjJ,OAAOC,UAGQgJ,eA6DjC,GA7CA,SAAyBq4C,EAAQvL,EAAO4P,EAAS7D,EAAY8R,EAAWhO,GACtE,IAAI2O,EAAW,GAAQjT,GACnBkT,EAAW,GAAQze,GACnB0e,EAASF,EAAW,GAAW,GAAOjT,GACtCoT,EAASF,EAAW,GAAW,GAAOze,GAKtC4e,GAHJF,EAASA,GAAU,GAAU,GAAYA,IAGhB,GACrBG,GAHJF,EAASA,GAAU,GAAU,GAAYA,IAGhB,GACrBG,EAAYJ,GAAUC,EAE1B,GAAIG,GAAa,GAASvT,GAAS,CACjC,IAAK,GAASvL,GACZ,OAAO,EAETwe,GAAW,EACXI,GAAW,CACb,CACA,GAAIE,IAAcF,EAEhB,OADA/O,IAAUA,EAAQ,IAAI,IACd2O,GAAY,GAAajT,GAC7B,GAAYA,EAAQvL,EAAO4P,EAAS7D,EAAY8R,EAAWhO,GFdnE,SAAoBtE,EAAQvL,EAAO76B,EAAKyqC,EAAS7D,EAAY8R,EAAWhO,GACtE,OAAQ1qC,GACN,IAzBc,oBA0BZ,GAAKomC,EAAOsD,YAAc7O,EAAM6O,YAC3BtD,EAAO0D,YAAcjP,EAAMiP,WAC9B,OAAO,EAET1D,EAASA,EAAOiC,OAChBxN,EAAQA,EAAMwN,OAEhB,IAlCiB,uBAmCf,QAAKjC,EAAOsD,YAAc7O,EAAM6O,aAC3BgP,EAAU,IAAI,GAAWtS,GAAS,IAAI,GAAWvL,KAKxD,IAnDU,mBAoDV,IAnDU,gBAoDV,IAjDY,kBAoDV,OAAO,IAAIuL,GAASvL,GAEtB,IAxDW,iBAyDT,OAAOuL,EAAOlhD,MAAQ21C,EAAM31C,MAAQkhD,EAAOwT,SAAW/e,EAAM+e,QAE9D,IAxDY,kBAyDZ,IAvDY,kBA2DV,OAAOxT,GAAWvL,EAAQ,GAE5B,IAjES,eAkEP,IAAIgf,EAAU,GAEhB,IAjES,eAkEP,IAAIlB,EA5EiB,EA4ELlO,EAGhB,GAFAoP,IAAYA,EAAU,IAElBzT,EAAO9uC,MAAQujC,EAAMvjC,OAASqhD,EAChC,OAAO,EAGT,IAAI5N,EAAUL,EAAM78C,IAAIu4C,GACxB,GAAI2E,EACF,OAAOA,GAAWlQ,EAEpB4P,GAtFuB,EAyFvBC,EAAM52C,IAAIsyC,EAAQvL,GAClB,IAAI1zC,EAAS,GAAY0yD,EAAQzT,GAASyT,EAAQhf,GAAQ4P,EAAS7D,EAAY8R,EAAWhO,GAE1F,OADAA,EAAc,OAAEtE,GACTj/C,EAET,IAnFY,kBAoFV,GAAI,GACF,OAAO,GAAc9C,KAAK+hD,IAAW,GAAc/hD,KAAKw2C,GAG9D,OAAO,CACT,CEhDQ,CAAWuL,EAAQvL,EAAO0e,EAAQ9O,EAAS7D,EAAY8R,EAAWhO,GAExE,KArDyB,EAqDnBD,GAAiC,CACrC,IAAIqP,EAAeL,GAAY,GAAep1D,KAAK+hD,EAAQ,eACvD2T,EAAeL,GAAY,GAAer1D,KAAKw2C,EAAO,eAE1D,GAAIif,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAe1T,EAAO5hD,QAAU4hD,EAC/C6T,EAAeF,EAAelf,EAAMr2C,QAAUq2C,EAGlD,OADA6P,IAAUA,EAAQ,IAAI,IACfgO,EAAUsB,EAAcC,EAAcxP,EAAS7D,EAAY8D,EACpE,CACF,CACA,QAAKiP,IAGLjP,IAAUA,EAAQ,IAAI,IDtDxB,SAAsBtE,EAAQvL,EAAO4P,EAAS7D,EAAY8R,EAAWhO,GACnE,IAAIiO,EAtBqB,EAsBTlO,EACZyP,EAAW,GAAW9T,GACtB+T,EAAYD,EAAS92D,OAIzB,GAAI+2D,GAHW,GAAWtf,GACDz3C,SAEMu1D,EAC7B,OAAO,EAGT,IADA,IAAIjxD,EAAQyyD,EACLzyD,KAAS,CACd,IAAIe,EAAMyxD,EAASxyD,GACnB,KAAMixD,EAAYlwD,KAAOoyC,EAAQ,GAAex2C,KAAKw2C,EAAOpyC,IAC1D,OAAO,CAEX,CAEA,IAAI2xD,EAAa1P,EAAM78C,IAAIu4C,GACvB2S,EAAarO,EAAM78C,IAAIgtC,GAC3B,GAAIuf,GAAcrB,EAChB,OAAOqB,GAAcvf,GAASke,GAAc3S,EAE9C,IAAIj/C,GAAS,EACbujD,EAAM52C,IAAIsyC,EAAQvL,GAClB6P,EAAM52C,IAAI+mC,EAAOuL,GAGjB,IADA,IAAIiU,EAAW1B,IACNjxD,EAAQyyD,GAAW,CAE1B,IAAIzT,EAAWN,EADf39C,EAAMyxD,EAASxyD,IAEXwxD,EAAWre,EAAMpyC,GAErB,GAAIm+C,EACF,IAAIuS,EAAWR,EACX/R,EAAWsS,EAAUxS,EAAUj+C,EAAKoyC,EAAOuL,EAAQsE,GACnD9D,EAAWF,EAAUwS,EAAUzwD,EAAK29C,EAAQvL,EAAO6P,GAGzD,UAAmBr9C,IAAb8rD,EACGzS,IAAawS,GAAYR,EAAUhS,EAAUwS,EAAUzO,EAAS7D,EAAY8D,GAC7EyO,GACD,CACLhyD,GAAS,EACT,KACF,CACAkzD,IAAaA,EAAkB,eAAP5xD,EAC1B,CACA,GAAItB,IAAWkzD,EAAU,CACvB,IAAIC,EAAUlU,EAAOnhD,YACjBs1D,EAAU1f,EAAM51C,YAGhBq1D,GAAWC,KACV,gBAAiBnU,MAAU,gBAAiBvL,IACzB,mBAAXyf,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvDpzD,GAAS,EAEb,CAGA,OAFAujD,EAAc,OAAEtE,GAChBsE,EAAc,OAAE7P,GACT1zC,CACT,CCRS,CAAai/C,EAAQvL,EAAO4P,EAAS7D,EAAY8R,EAAWhO,GACrE,ECrDA,GAVA,SAAS8P,EAAYh2D,EAAOq2C,EAAO4P,EAAS7D,EAAY8D,GACtD,OAAIlmD,IAAUq2C,IAGD,MAATr2C,GAA0B,MAATq2C,IAAmB,GAAar2C,KAAW,GAAaq2C,GACpEr2C,GAAUA,GAASq2C,GAAUA,EAE/B,GAAgBr2C,EAAOq2C,EAAO4P,EAAS7D,EAAY4T,EAAa9P,GACzE,ECSA,GAJA,SAAiBlmD,EAAOq2C,GACtB,OAAO,GAAYr2C,EAAOq2C,EAC5B,EClBe,MAAM4f,WAA2B,EAAAzpD,OAI5C,mBAAWgF,GACP,MAAO,CAACg8C,GACZ,CAIA,qBAAW/gD,GACP,MAAO,oBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpB,IAAKA,EAAO8G,QAAQE,IAAI,eACpB,OAEJ,MAAM7F,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WACpBi9C,EAAap/C,EAAO8G,QAAQ3I,IAAImkD,IAChC0I,EAAchrD,EAAO8G,QAAQ3I,IAAI,eACjC8sD,EAAYjrD,EAAO8G,QAAQ3I,IAAI,aAC/B+sD,EAAe,CAAC,KAAM,KAAM,MAGlCF,EAAYG,yBAAyB,CACjCC,MAAO,OACPjiD,cAAe,mBACfkiD,uBAAwBlN,KAE5B6M,EAAYG,yBAAyB,CACjCC,MAAO,OACPjiD,cAAe,mBACfkiD,uBAAwBlN,KAE5B6M,EAAYG,yBAAyB,CACjCC,MAAO,OACPjiD,cAAe,mBACfkiD,uBAAwBlN,KAE5BiB,EAAWn5C,GAAG,YAAY,CAAC0N,EAAK3V,KAC5B,IAAKktD,EAAatsD,SAASZ,EAAWqE,MAClC,OAIJ,GAFAsR,EAAIsZ,OAEA9rB,EAAOC,eAAe,SAAU,oBAChC,OAEJ,MAAMY,EAAkBkpD,EAAal4D,KAAIiU,GAAWu3C,GAAqBv3C,KACzE9F,EAAOY,OAAO,YAAa,CAAEC,oBAC7BG,EAAWK,IAAI,UAAUjH,KAAI2Y,IACzBA,EAAWjO,GAAG,aAAcqlD,GAAkC,mBAAoBlM,GAAa,CAAE1xC,SAAU,QAC3GwG,EAAWjO,GAAG,aAAcqlD,GAAkC,mBAAoBlM,GAAa,CAAE1xC,SAAU,QAC3GwG,EAAWjO,GAAG,aAAcqlD,GAAkC,mBAAoBlM,GAAa,CAAE1xC,SAAU,OAAQ,GACrH,IAGNs9C,EAAY/kD,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,aAC3C,IAAK,MAAM,KAAEuN,EAAI,mBAAEo9C,KAAwBD,EAEvC,GAAKC,EAAL,CAGA,GAAIA,EAAmB/qD,aAAa,aAAe2N,EAAK3N,aAAa,YAAa,CAC9E,MAAMgc,EAAYgvC,GAAyBD,EAAmB/qD,aAAa,aACrE3L,EAAQ02D,EAAmB/qD,aAAagc,IACzC,GAAQrO,EAAK3N,aAAagc,GAAY3nB,IACvC+L,EAAOV,MAAMgB,OAAOC,eAAegN,EAAMqO,KACzC5b,EAAO7H,aAAayjB,EAAW3nB,EAAOsZ,GACtCuF,EAAIsL,QAAS,EAErB,CACA,GAAIusC,EAAmB/qD,aAAa,eAAiB2N,EAAK3N,aAAa,cAAe,CAClF,MAAM3L,EAAQ02D,EAAmB/qD,aAAa,qBACzC,GAAQ2N,EAAK3N,aAAa,oBAAqB3L,IAChD+L,EAAOV,MAAMgB,OAAOC,eAAegN,EAAM,sBACzCvN,EAAO7H,aAAa,mBAAoBlE,EAAOsZ,GAC/CuF,EAAIsL,QAAS,EAErB,CAjBA,CAkBJ,IAGJ+rC,EAAY/kD,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,aAC3C,IAAK,MAAM,KAAEuN,KAAUm9C,EAAW,CAC9B,MAAMG,EAAWt9C,EAAK3N,aAAa,aAC9BwqD,EAAUU,mBAAmBD,IAAat9C,EAAK3N,aAAa,sBAC7DI,EAAO1G,gBAAgB,mBAAoBiU,GAC3CuF,EAAIsL,QAAS,GAEbgsC,EAAUU,mBAAmBD,IAAat9C,EAAK3N,aAAa,sBAC5DI,EAAO1G,gBAAgB,mBAAoBiU,GAC3CuF,EAAIsL,QAAS,EAErB,IAER,CAIA,SAAAlJ,GACI,MAAM/V,EAASjN,KAAKiN,OACpB,IAAKA,EAAO+C,SAAS5E,IAAI,cACrB,OAGJ,MAAMytD,EAAa5rD,EAAO+C,SAAS5E,IAAI,cACvCpL,KAAK2R,SAASknD,EAAY,gBAAgB,CAACj4C,EAAKk4C,KAC5C7rD,EAAOG,MAAMS,QAAOC,IAChB,IAAK,MAAMuN,KAAQy9C,EAAe,CAC9B,MAAMpvC,EAAYgvC,GAAyBr9C,EAAK3N,aAAa,aACxDT,EAAOG,MAAMgB,OAAOC,eAAegN,EAAMqO,IAM9C5b,EAAO7H,aAAayjB,EAAW,CAAC,EAAGrO,EACvC,IACF,GAEV,EAQJ,SAASk9C,GAAkCniD,EAAei2C,GACtD,MAAO,CAACzrC,EAAKtd,EAAMud,KACf,MAAM7L,EAAc1R,EAAK2iB,SACpB3iB,EAAKgjB,YACNjkB,OAAO69C,OAAO58C,EAAMud,EAAc2F,gBAAgBljB,EAAK2iB,SAAU3iB,EAAK8iB,cAE1E,MAAM8kC,EAAiBmB,EAAWC,sBAAsBt3C,EAAa6L,GACrE,IAAK,MAAM3gB,KAAQoD,EAAKgjB,WAAWC,SAAS,CAAEwyC,SAAS,IAE9C74D,EAAKuN,aAAa,gBAKnBvN,EAAKuN,aAAa,qBAAuBvN,EAAKuN,aAAa,qBAG3DoT,EAAc/S,OAAOV,MAAMgB,OAAOC,eAAenO,EAAMkW,IACvDyK,EAAc/S,OAAO7H,aAAamQ,EAAe80C,GAAkB,CAAC,EAAGhrD,GAE/E,CAER,CAIA,SAASw4D,GAAyBC,GAC9B,MAAoB,aAAbA,GAAuC,kBAAZA,EAC9B,mBACA,kBACR,CCxKe,MAAMK,WAA6B,EAAAzqD,OAI9C,mBAAWgF,GACP,MAAO,CAACg8C,GAAYpB,GACxB,CAIA,qBAAW3/C,GACP,MAAO,sBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAMw9C,EAAarsD,KAAKiN,OAAO8G,QAAQ3I,IAAImkD,IACrCwE,EAAa/zD,KAAKiN,OAAO8G,QAAQ3I,IAAI+iD,IAC3C9B,EAAWn5C,GAAG,2BAA2B,CAAC0N,EAAK3V,KAC3C2V,EAAIsZ,OACJ,MAAMjtB,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WACpB6pD,EAAiBhsD,EAAO2E,QAAQtC,KAAK4O,aAAa+6C,eAClDC,EAAkBjsD,EAAO3J,KAAK+uD,cAAcn0C,aAAai7C,YAC/D/qD,EAAOuX,SAAS1a,EAAWmC,MAAOnC,EAAWkiD,aAC7C/+C,EAAOY,OAAO/D,EAAWmC,MAAO,CAC5B6B,gBAAiB,CAAC,kBAAmB,8BAA+B,eACpEkmD,WAAW,IAIfloD,EAAO3J,KAAK+uD,cAAcn0C,aAAa+zC,0BAA0B,CAAExvD,KAAM,aAEzE2M,EAAWK,IAAI,UAAUsW,iBAAiB,CACtCzW,KAAM,KACNlC,MAAO,CAAC4H,EAAa6L,KAEjB,GAAwB,YAApB7L,EAAYvS,KACZ,OAAO,KAEX,IAyFpB,SAA4BA,GACxB,IACIuB,SAAS2B,cAAclD,EAC3B,CACA,MAAO22D,GACH,OAAO,CACX,CACA,OAAO,CACX,CAjGyBC,CAAmBrkD,EAAYvS,MAChC,OAAO,KAIX,GAAIsxD,EAAWrF,sBAAsB15C,EAAYvS,MAAMoS,KACnD,OAAO,KAGNokD,EAAeptD,SAASmJ,EAAYvS,OACrCw2D,EAAex5D,KAAKuV,EAAYvS,MAG/By2D,EAAgBrtD,SAASmJ,EAAYvS,OACtCy2D,EAAgBz5D,KAAKuV,EAAYvS,MAErC,MAAM+S,EAAeqL,EAAc/S,OAAOnI,cAAcsF,EAAWmC,MAAO,CACtEksD,gBAAiBtkD,EAAYvS,OAE3B82D,EAAiBlN,EAAWC,sBAAsBt3C,EAAa6L,GAIrE,IAAI8qC,EAGJ,GANI4N,GACA14C,EAAc/S,OAAO7H,aAAa,8BAA+BszD,EAAgB/jD,GAKjFR,EAAYW,GAAG,UAAW,aAAeX,EAAY8D,kBAAkB,eACvE6yC,EAAc32C,EAAY8D,kBAAkB,mBAE3C,CAED,MACM0gD,EADa,IAAI,EAAAxyC,aAAahS,EAAYhR,UACZmjB,uBAAuBnS,GACrDykD,EAAcxsD,EAAO3J,KAAK+uD,cAAcn0C,aAAaw7C,UAAUF,GAC/D53C,EAAa63C,EAAYpyD,WAC/B,KAAOua,EAAWva,YACdoyD,EAAYrzD,YAAYwb,EAAWva,YAEvCua,EAAWjb,SACXglD,EAAc1+C,EAAO3J,KAAK+uD,cAAcsH,WAAWC,QAAQH,EAC/D,CACA54C,EAAc/S,OAAO7H,aAAa,cAAe0lD,EAAan2C,GAE9D,IAAK,MAAM,KAAEtV,KAAU+M,EAAO2E,QAAQtC,KAAK4J,cAAclE,GACrD6L,EAAcC,WAAWC,QAAQ7gB,EAAM,CAAEuC,MAAM,IAEnD,OAAO+S,CAAY,EAEvB08C,kBAAmB,QAIvB9iD,EAAWK,IAAI,mBAAmBsW,iBAAiB,CAC/C3Y,MAAO,CACH3K,KAAMwI,EAAWmC,MACjBxH,WAAY,CAAC,kBAAmB,8BAA+B,gBAEnE0J,KAAM,CAACkG,GAAgB1H,aACnB,MAAM+9C,EAAWr2C,EAAa9H,aAAa,mBACrCsH,EAAclH,EAAOm+C,iBAAiBJ,GAI5C,OAHIr2C,EAAa/H,aAAa,gCAC1B29C,GAAkBt9C,EAAQ0H,EAAa9H,aAAa,+BAAgCsH,GAEjFA,CAAW,IAG1B5F,EAAWK,IAAI,gBAAgBsW,iBAAiB,CAC5C3Y,MAAO,CACH3K,KAAMwI,EAAWmC,MACjBxH,WAAY,CAAC,kBAAmB,8BAA+B,gBAEnE0J,KAAM,CAACkG,GAAgB1H,aACnB,MAAM+9C,EAAWr2C,EAAa9H,aAAa,mBACrCi+C,EAAcn2C,EAAa9H,aAAa,eACxCsH,EAAclH,EAAOm+C,iBAAiBJ,EAAU,MAAM,CAACjqC,EAAY1D,KACrEA,EAAaguC,aAAatqC,EAAY+pC,EAAY,IAKtD,OAHIn2C,EAAa/H,aAAa,gCAC1B29C,GAAkBt9C,EAAQ0H,EAAa9H,aAAa,+BAAgCsH,GAEjFA,CAAW,GAExB,GAEV,ECzHW,MAAM6kD,WAA2B,EAAAtrD,OAI5C,qBAAWC,GACP,MAAO,oBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CACHg8C,GACA6D,GACAG,GACAM,GACAM,GACAQ,GACAO,GACAE,GACAW,GACAiC,GACAgB,GAER,CAIA,IAAAnqD,GACI,MAAM5B,EAASjN,KAAKiN,OACdo/C,EAAap/C,EAAO8G,QAAQ3I,IAAImkD,IAGtClD,EAAWsE,+BAA+B1jD,EAAO0B,OAAOvD,IAAI,2BAA6B,IAEzFihD,EAAW+D,kBAAkBnjD,EAAO0B,OAAOvD,IAAI,sBAAwB,IACvEihD,EAAWmE,qBAAqBvjD,EAAO0B,OAAOvD,IAAI,yBAA2B,GACjF,CAOA,6BAAA0uD,CAA8B32C,GAC1B,MAAM4wC,EAAa/zD,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCwE,EAAc3O,MAAMyB,KAAKqxD,EAAWrF,sBAAsBvrC,GAAiB,IAC3E42C,EAAmBnqD,EAAYuiB,MAAKlnB,GAAeA,EAAWwvC,WAAa7qC,EAAY,GAAG8E,WAChG,OAAIqlD,EACOA,EAAiB3sD,MAErBq+C,GAAqBtoC,EAChC,CASA,iBAAA62C,CAAkB72C,EAAiB3W,EAAWsJ,GAC1C,MAAM1I,EAAQpN,KAAKiN,OAAOG,MACpBk+C,EAAmBtrD,KAAK85D,8BAA8B32C,GAC5D/V,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQ+5D,GAA6B7sD,EAAO0I,EAAYw1C,GAC/DD,GAAmBv9C,EAAQ5N,EAAMorD,EAAkB,WAAWxzC,IAC1D,IAAK,MAAM/V,KAAS,IAAAsgB,SAAQ7V,GACxBsL,EAAQtP,IAAIzG,EAChB,GAER,GAER,CASA,oBAAAm4D,CAAqB/2C,EAAiB3W,EAAWsJ,GAC7C,MAAM1I,EAAQpN,KAAKiN,OAAOG,MACpBk+C,EAAmBtrD,KAAK85D,8BAA8B32C,GAC5D/V,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQ+5D,GAA6B7sD,EAAO0I,EAAYw1C,GAC/DD,GAAmBv9C,EAAQ5N,EAAMorD,EAAkB,WAAWxzC,IAC1D,IAAK,MAAM/V,KAAS,IAAAsgB,SAAQ7V,GACxBsL,EAAQqiD,OAAOp4D,EACnB,GAER,GAER,CAQA,sBAAAq4D,CAAuBj3C,EAAiBvd,EAAYkQ,GAChD,MAAM1I,EAAQpN,KAAKiN,OAAOG,MACpBk+C,EAAmBtrD,KAAK85D,8BAA8B32C,GAC5D/V,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQ+5D,GAA6B7sD,EAAO0I,EAAYw1C,GAC/DD,GAAmBv9C,EAAQ5N,EAAMorD,EAAkB,cAAc+O,IAC7D,IAAK,MAAOr0D,EAAKjE,KAAUM,OAAO+gD,QAAQx9C,GACtCy0D,EAAchpD,IAAIrL,EAAKjE,EAC3B,GAER,GAER,CAQA,yBAAAu4D,CAA0Bn3C,EAAiB/M,EAAeN,GACtD,MAAM1I,EAAQpN,KAAKiN,OAAOG,MACpBk+C,EAAmBtrD,KAAK85D,8BAA8B32C,GAC5D/V,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQ+5D,GAA6B7sD,EAAO0I,EAAYw1C,GAC/DD,GAAmBv9C,EAAQ5N,EAAMorD,EAAkB,cAAc+O,IAC7D,IAAK,MAAMr0D,KAAO,IAAAqc,SAAQjM,GACtBikD,EAAcF,OAAOn0D,EACzB,GAER,GAER,CAQA,kBAAAu0D,CAAmBp3C,EAAiBxa,EAAQmN,GACxC,MAAM1I,EAAQpN,KAAKiN,OAAOG,MACpBk+C,EAAmBtrD,KAAK85D,8BAA8B32C,GAC5D/V,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQ+5D,GAA6B7sD,EAAO0I,EAAYw1C,GAC/DD,GAAmBv9C,EAAQ5N,EAAMorD,EAAkB,UAAUr6B,IACzD,IAAK,MAAOjrB,EAAKjE,KAAUM,OAAO+gD,QAAQz6C,GACtCsoB,EAAU5f,IAAIrL,EAAKjE,EACvB,GAER,GAER,CAQA,qBAAAy4D,CAAsBr3C,EAAiBs3C,EAAY3kD,GAC/C,MAAM1I,EAAQpN,KAAKiN,OAAOG,MACpBk+C,EAAmBtrD,KAAK85D,8BAA8B32C,GAC5D/V,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQ+5D,GAA6B7sD,EAAO0I,EAAYw1C,GAC/DD,GAAmBv9C,EAAQ5N,EAAMorD,EAAkB,UAAUr6B,IACzD,IAAK,MAAMjrB,KAAO,IAAAqc,SAAQo4C,GACtBxpC,EAAUkpC,OAAOn0D,EACrB,GAER,GAER,EAKJ,SAAUi0D,GAA6B7sD,EAAO0I,EAAYw1C,GACtD,GAAKx1C,EAGL,KAAMzU,OAAOC,YAAYwU,IAAeA,EAAWH,GAAG,sBAAwBG,EAAWke,YACjF5mB,EAAMgB,OAAOwsB,0BAA0B9kB,EAAYw1C,WAC7Cx1C,QAIV,IAAK,MAAM4O,KAQnB,SAAqCtX,EAAO0I,EAAYw1C,GACpD,QAAMjqD,OAAOC,YAAYwU,KACpBA,EAAWH,GAAG,SACXG,EAAWH,GAAG,UACdG,EAAWH,GAAG,eACdvI,EAAMgB,OAAOC,eAAeyH,EAAYw1C,GACjC,CAACl+C,EAAMoX,cAAc1O,IAGrB,GAIJ1I,EAAMgB,OAAOspB,eAAetqB,EAAMkX,gBAAgBxO,GAAYie,YAAau3B,EAE1F,CAvB4BoP,CAA4BttD,EAAO0I,EAAYw1C,SACxD5mC,EAAM6B,SAAS,CAAEwyC,SAAS,GAG7C,CCvNe,MAAM4B,WAAoB,EAAApsD,OAIrC,qBAAWC,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACd2tD,EAAwB,IAAI1qD,IAClCjD,EAAO3J,KAAKu3D,UAAUC,cAAe,EAErC7tD,EAAOG,MAAMgB,OAAO45B,mBAAkB,CAAC7N,EAAS/jB,KAC5C,GAAI+jB,EAAQrlB,SAAS,UAAYsB,EAAc27C,WAAW,YACtD,OAAO,CACX,IAIJ9kD,EAAOmC,WAAWK,IAAI,UAAUsrD,gBAAgB,CAC5CzrD,KAAM,WACNlC,MAAO4H,IACH,MACM8lC,EAAa,aADD,IAAAvE,SAEZykB,EAAiBhmD,EAAY8D,kBAAkB,eAErD,OADA8hD,EAAsBvpD,IAAIypC,EAAYkgB,GAC/BlgB,CAAU,IAIzB7tC,EAAOmC,WAAWK,IAAI,gBAAgBwrD,gBAAgB,CAClD7tD,MAAO,WACPkC,KAAM,CAACkG,GAAgB1H,aACnB,IAAI4N,EACJ,IAAK,MAAMC,KAAY3b,KAAKiN,OAAOG,MAAMpJ,SAASuuC,eAE9C,GADA72B,EAAO1b,KAAKiN,OAAOG,MAAMpJ,SAASg6B,QAAQriB,GACtCD,EAAKjO,aAAa+H,EAAaslC,YAC/B,MAGR,MAAMA,EAAatlC,EAAaslC,WAC1BkgB,EAAiBt/C,EAAKhO,aAAaotC,GACnCogB,EAAUptD,EAAOqtD,gBAAgB,YAEvC,OADArtD,EAAO4K,kBAAkB,cAAesiD,EAAgBE,GACjDA,CAAO,IAItBjuD,EAAOG,MAAMpJ,SAASktB,mBAAkBpjB,IACpC,IAAIqjB,GAAU,EACd,MAAMlN,EAAUhX,EAAOG,MAAMpJ,SAAS2oB,OAAO6tB,oBAAoBh0C,QAAO0d,GAAUA,EAAOzhB,KAAKsvD,WAAW,eACzG,IAAK,MAAM7tC,KAAUD,EAAS,CAC1B,MAAM,SAAEm3C,EAAQ,SAAExgB,GAAa12B,EAAO5gB,KACtC,IAAI83D,IAAYxgB,GAAYwgB,EAAS1/C,MAAQk/B,EAASl/B,KAAtD,CAIA,GAAI0/C,EAAU,CAGV,MAAMC,EAAUD,EAAS1/C,KACrB2/C,EAAQ5tD,aAAayW,EAAOzhB,QAC5BqL,EAAO1G,gBAAgB8c,EAAOzhB,KAAM44D,GACpClqC,GAAU,EAElB,CACA,GAAIypB,EAAU,CACV,MAAM0gB,EAAU1gB,EAASl/B,KACD,cAApB4/C,EAAQ3/C,UAER7N,EAAOslC,aAAalvB,EAAOzhB,MAC3B0uB,GAAU,GAEJmqC,EAAQ7tD,aAAayW,EAAOzhB,QAOlCqL,EAAO7H,aAAaie,EAAOzhB,KAAMm4D,EAAsBxvD,IAAI8Y,EAAOzhB,OAAS,GAAI64D,GAC/EnqC,GAAU,EAElB,CA3BA,CA4BJ,CACA,OAAOA,CAAO,IAGlBlkB,EAAO3J,KAAK4P,GAAG,OAAO,KAClB,IAAK,MAAMqoD,KAAiBtuD,EAAOG,MAAM6W,QAAQu3C,gBAAgB,YAC7Dx7D,KAAKy7D,kBAAkBF,EAAc94D,KACzC,GACD,CAAEkY,SAAU,SAGf1N,EAAOG,MAAM8F,GAAG,iBAAiB,CAAC0N,GAAMvT,MACpC,IAAK,MAAMqX,KAASrX,EAAU0mB,YAAa,CACvC,MAAM2nC,EAAezuD,EAAOG,MAAMgB,OAAOutD,gBAAgBj3C,GACnDk3C,EAAgB3uD,EAAOG,MAAMwnB,iBAAiB8mC,EAAc,GAC5DG,EAAe5uD,EAAOG,MAAMwnB,iBAAiB8mC,EAAc,OACjE,IAAII,EAEAA,EADAF,EAAcG,WAAWr3C,EAAMzM,QAAU4jD,EAAaE,WAAWr3C,EAAMnK,KAClDva,KAAKg8D,uBAAuB/uD,EAAOG,MAAMyoB,YAAY+lC,EAAeC,IAGpE77D,KAAKg8D,uBAAuBt3C,EAAO,CAAEu3C,gBAAgB,IAE9E,IAAK,MAAMC,KAAmBJ,EAC1B97D,KAAKy7D,kBAAkBS,EAE/B,IACD,CAAEvhD,SAAU,QACnB,CAQA,iBAAAwhD,CAAkB18C,EAAUtf,GACxB,MAAMR,GAAK,IAAA42C,OAELnpC,EADSpN,KAAKiN,OACCG,MACfsO,EAAOtO,EAAMpJ,SAASg6B,QAAQve,EAAS/D,KAAKC,UAC5Cm/B,EAAa,YAAYn7C,IAC/B,OAAOyN,EAAMS,QAAOC,IAChB,MAAM4W,EAAQ5W,EAAO+nB,YAAYpW,GAOjC,OANA3R,EAAO0oC,UAAUsE,EAAY,CACzBrE,gBAAgB,EAChB3E,aAAa,EACbptB,UAEJ5W,EAAO7H,aAAa60C,EAAY36C,EAASub,GAClCo/B,CAAU,GAEzB,CAYA,iBAAA2gB,CAAkBW,GACd,MAAMnvD,EAASjN,KAAKiN,OACdiX,EAASjX,EAAOG,MAAM6W,QAAQ7Y,IAAIgxD,GACxC,QAAKl4C,IAGLjX,EAAOG,MAAMS,QAAOC,IAChBA,EAAOslC,aAAalvB,EAAO,KAExB,EACX,CAMA,kBAAAm4C,CAAmBD,GACf,MACMl4C,EADSlkB,KAAKiN,OACEG,MAAM6W,QAAQ7Y,IAAIgxD,GACxC,IAAKl4C,EACD,OAAO,KAEX,IAAI/jB,EAAU,GACd,IAAK,MAAMub,KAAQ1b,KAAKiN,OAAOG,MAAMpJ,SAASs4D,WAC1C,GAAI5gD,EAAKjO,aAAa2uD,GAAY,CAC9Bj8D,EAAUub,EAAKhO,aAAa0uD,GAC5B,KACJ,CAEJ,MAAO,CACHj8D,UACAsf,SAAUyE,EAAOgwB,WAEzB,CAUA,sBAAA8nB,CAAuBt3C,GAAO,eAAEu3C,GAAiB,GAAU,CAAC,GACxD,MAAMM,GAAqBN,EAE3B,OAAOh7D,MAAMyB,KAAK1C,KAAKiN,OAAOG,MAAM6W,QAAQu3C,gBAAgB,aACvDh1D,QAAO0d,GAEZ,SAAgCq3C,EAAe72C,GAC3C,MAAMjF,EAAW87C,EAAcp3C,WAAWlM,MAC1C,OAASwH,EAAS+8C,QAAQ93C,EAAMzM,QAAWskD,GAAqB98C,EAAS+U,QAAQ9P,EAAMzM,UAClFwH,EAASm3B,SAASlyB,EAAMnK,MAASgiD,GAAqB98C,EAAS+U,QAAQ9P,EAAMnK,KACtF,CANsBkiD,CAAuBv4C,EAAQQ,KAChDzkB,KAAIikB,GAAUA,EAAOzhB,MAM9B,iBClNW,MAAMi6D,WAAuB,EAAA3vD,QAOxC,WAAAvK,CAAYyK,EAAQugB,GAChB9e,MAAMzB,GACNjN,KAAKwtB,cAAgBA,CACzB,CAIA,OAAAxgB,GACI,MAAMgB,GAAQ,IAAAb,OAAMnN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UAAUC,qBACzDtN,KAAK+B,QAAUiM,GAAShO,KAAKwtB,cAAc3hB,SAASmC,EAAMvL,OAASuL,EAAMvL,KACzEzC,KAAKuN,YAAcS,GAAShO,KAAKwtB,cAAc5gB,MAAK+vD,GAAWC,GAAsB5uD,EAAO2uD,EAAS38D,KAAKiN,OAAOG,MAAMgB,SAC3H,CAQA,OAAAT,CAAQ/I,GACJ,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBpJ,EAAWoJ,EAAMpJ,SACjBwR,EAAe5Q,EAAQ7C,MAC7BqL,EAAMS,QAAOC,IACT,MAAMC,EAAS9M,MAAMyB,KAAKsB,EAASqJ,UAAUC,qBACxC9G,QAAOwH,GACD4uD,GAAsB5uD,EAAOwH,EAAcpI,EAAMgB,UAE5D,IAAK,MAAMJ,KAASD,EACXC,EAAM2H,GAAG,UAAWH,IACrB1H,EAAOw3B,OAAOt3B,EAAOwH,EAE7B,GAER,EASJ,SAASonD,GAAsB5uD,EAAO2uD,EAASvuD,GAC3C,OAAOA,EAAO+J,WAAWnK,EAAM0I,OAAQimD,KAAavuD,EAAOsG,SAAS1G,EACxE,CCrDA,MAAM6uD,GAAsB,YAMb,MAAMC,WAAuB,EAAAvuD,OAIxC,qBAAWC,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNA,EAAO0B,OAAOC,OAAO,UAAW,CAC5BhK,QAAS,CACL,CAAEwI,MAAO,YAAaygB,MAAO,YAAatb,MAAO,wBACjD,CAAEnF,MAAO,WAAYkC,KAAM,KAAMue,MAAO,YAAatb,MAAO,uBAC5D,CAAEnF,MAAO,WAAYkC,KAAM,KAAMue,MAAO,YAAatb,MAAO,uBAC5D,CAAEnF,MAAO,WAAYkC,KAAM,KAAMue,MAAO,YAAatb,MAAO,yBAGxE,CAIA,mBAAWgB,GACP,MAAO,CAAC,GAAAwpD,UACZ,CAIA,IAAAluD,GACI,MAAM5B,EAASjN,KAAKiN,OACdrI,EAAUqI,EAAO0B,OAAOvD,IAAI,mBAC5BoiB,EAAgB,GACtB,IAAK,MAAM5hB,KAAUhH,EAEI,cAAjBgH,EAAOwB,QAIXH,EAAOG,MAAMgB,OAAOuX,SAAS/Z,EAAOwB,MAAO,CACvCwY,eAAgB,WAEpB3Y,EAAOmC,WAAW2W,iBAAiBna,GACnC4hB,EAAc/tB,KAAKmM,EAAOwB,QAE9BpN,KAAKg9D,wBAAwB/vD,GAE7BA,EAAO+C,SAASxH,IAAI,UAAW,IAAIk0D,GAAezvD,EAAQugB,GAC9D,CAIA,SAAAxK,GAGI,MAAM/V,EAASjN,KAAKiN,OACdgwD,EAAehwD,EAAO+C,SAAS5E,IAAI,SACnCxG,EAAUqI,EAAO0B,OAAOvD,IAAI,mBAC9B6xD,GACAj9D,KAAK2R,SAASsrD,EAAc,gBAAgB,CAACr8C,EAAKtd,KAC9C,MAAM+2B,EAAiBptB,EAAOG,MAAMpJ,SAASqJ,UAAUkK,mBAAmBb,OACxD9R,EAAQgI,MAAKhB,GAAUyuB,EAAe1kB,GAAG,UAAW/J,EAAOwB,WAC3DitB,EAAe1kB,GAAG,UAAWknD,KAAsD,IAA9BxiC,EAAe5Q,YAClFnmB,EAAKwK,OAAOw3B,OAAOjL,EAAgBwiC,GACvC,GAGZ,CAMA,uBAAAG,CAAwB/vD,GACpBA,EAAOmC,WAAWK,IAAI,UAAUsW,iBAAiB,CAC7C3Y,MAAO,WACPkC,KAAM,KAGN4iD,kBAAmB,EAAAf,WAAWgB,IAAM,GAE5C,iBCjGS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ5pD,OCGR,MAAM20D,WAAkB,EAAA3uD,OAInC,qBAAWC,GACP,MAAO,WACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACX9L,ECtBP,SAA6BqI,GAChC,MAAMyD,EAAIzD,EAAOyD,EACXkvC,EAAkB,CACpB,UAAalvC,EAAE,aACf,YAAaA,EAAE,aACf,YAAaA,EAAE,aACf,YAAaA,EAAE,aACf,YAAaA,EAAE,aACf,YAAaA,EAAE,aACf,YAAaA,EAAE,cAEnB,OAAOzD,EAAO0B,OAAOvD,IAAI,mBAAmBnL,KAAI2L,IAC5C,MAAMiiB,EAAQ+xB,EAAgBh0C,EAAOiiB,OAIrC,OAHIA,GAASA,GAASjiB,EAAOiiB,QACzBjiB,EAAOiiB,MAAQA,GAEZjiB,CAAM,GAErB,CDIwB,CAAoBqB,GAC9BkwD,EAAezsD,EAAE,kBACjB+6B,EAAkB/6B,EAAE,WAE1BzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,WAAWwD,IACtC,MAAMonB,EAAS,CAAC,EACVmY,EAAkB,IAAI,EAAAK,WACtBwxB,EAAiBnwD,EAAO+C,SAAS5E,IAAI,WACrCiyD,EAAmBpwD,EAAO+C,SAAS5E,IAAI,aACvC4E,EAAW,CAACotD,GAClB,IAAK,MAAMxxD,KAAUhH,EAAS,CAC1B,MAAM8+B,EAAM,CACRt5B,KAAM,SACNgD,MAAO,IAAI,EAAA0+B,UAAU,CACjBx6B,MAAO1F,EAAOiiB,MACdtb,MAAO3G,EAAO2G,MACdM,KAAM,gBACNk5B,UAAU,KAGG,cAAjBngC,EAAOwB,OACPs2B,EAAIt2B,MAAM1F,KAAK,QAAQgK,GAAG2rD,EAAkB,SAC5C35B,EAAIt2B,MAAMiE,IAAI,cAAe,aAC7BrB,EAASvQ,KAAK49D,KAGd35B,EAAIt2B,MAAM1F,KAAK,QAAQgK,GAAG0rD,EAAgB,SAASr7D,GAASA,IAAU6J,EAAOwB,QAC7Es2B,EAAIt2B,MAAMiE,IAAI,CACViqB,YAAa,UACbgiC,aAAc1xD,EAAOwB,SAI7Bm+B,EAAgB/iC,IAAIk7B,GACpBtQ,EAAOxnB,EAAOwB,OAASxB,EAAOiiB,KAClC,CACA,MAAM/b,GAAe,IAAAC,gBAAe/F,GAkDpC,OAjDA,IAAA2/B,mBAAkB75B,EAAcy5B,EAAiB,CAC7Cl5B,UAAWo5B,EACX54B,KAAM,SAEVf,EAAaX,WAAWE,IAAI,CACxBgB,UAAWo5B,EACX8xB,oBAAgB3yD,EAChBmoB,MAAM,EACNgZ,UAAU,EACVv6B,QAASi6B,IAEb35B,EAAaQ,eAAe,CACxB1M,WAAY,CACR2M,MAAO,CACH,0BAIZT,EAAapK,KAAK,aAAamhB,OAAO7Y,EAAU,aAAa,IAAIijB,IACtDA,EAAWrmB,MAAKW,GAAaA,MAExCuE,EAAaX,WAAWzJ,KAAK,SAASgK,GAAG0rD,EAAgB,QAASC,EAAkB,SAAS,CAACV,EAASa,KACnG,MAAMC,EAAaD,EAAY,YAAcb,EAC7C,MAA0B,kBAAfc,EACAN,EAGN/pC,EAAOqqC,GAGLrqC,EAAOqqC,GAFHN,CAEc,IAE7BrrD,EAAaX,WAAWzJ,KAAK,aAAagK,GAAG0rD,EAAgB,QAASC,EAAkB,SAAS,CAACV,EAASa,KACvG,MAAMC,EAAaD,EAAY,YAAcb,EAC7C,MAA0B,kBAAfc,EACAhyB,EAGNrY,EAAOqqC,GAGL,GAAGrqC,EAAOqqC,OAAgBhyB,IAFtBA,CAEuC,IAGtDzrC,KAAK2R,SAASG,EAAc,WAAW8O,IACnC,MAAM,YAAE0a,EAAW,aAAEgiC,GAAiB18C,EAAIld,OAC1CuJ,EAAOU,QAAQ2tB,EAAagiC,EAAe,CAAEv7D,MAAOu7D,QAAiB1yD,GACrEqC,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBC,CAAY,IAEvB7E,EAAO6D,GAAGC,iBAAiBvI,IAAI,mBAAmBwD,IAC9C,MAAMyG,EAAW,IAAI,EAAAC,gBAAgB1G,GAC/BoxD,EAAiBnwD,EAAO+C,SAAS5E,IAAI,WACrCiyD,EAAmBpwD,EAAO+C,SAAS5E,IAAI,aACvC4E,EAAW,CAACotD,GACZzqD,EAAW,IAAI,EAAAC,oBAAoB5G,GACzCyG,EAASpB,IAAI,CACTkB,MAAO,wBAEXI,EAAStB,IAAI,CACTgB,UAAW3B,EAAE,WACbmC,KAAM,SAEVJ,EAAStB,WAAWE,IAAI,CACpBC,MAAOZ,EAAE,aAEb+B,EAASY,UAAUF,SAAS3K,IAAImK,GAChC,IAAK,MAAM/G,KAAUhH,EAAS,CAC1B,MAAMkO,EAAe,IAAI,EAAAC,wBAAwB/G,EAAQyG,GACnDtB,EAAa,IAAI,EAAA6B,8BAA8BhH,GACrD8G,EAAaK,SAAS3K,IAAI2I,GAC1BwB,EAASS,MAAM5K,IAAIsK,GACnB3B,EAAWE,IAAI,CACXI,cAAc,EACdH,MAAO1F,EAAOiiB,MACdhb,KAAM,gBACNN,MAAO3G,EAAO2G,QAElBpB,EAAW8B,SAAS,WAAWvB,GAAGe,GAClCtB,EAAW+B,GAAG,WAAW,KACrB,MAAMooB,EAA+B,cAAjB1vB,EAAOwB,MAAwB,YAAc,UACjEH,EAAOU,QAAQ2tB,EAAa,CAAEv5B,MAAO6J,EAAOwB,QAC5CH,EAAO2E,QAAQtC,KAAKuC,OAAO,IAEV,cAAjBjG,EAAOwB,OACP+D,EAAWzJ,KAAK,QAAQgK,GAAG2rD,EAAkB,SAC7CrtD,EAASvQ,KAAK49D,IAGdlsD,EAAWzJ,KAAK,QAAQgK,GAAG0rD,EAAgB,SAASr7D,GAASA,IAAU6J,EAAOwB,OAEtF,CAIA,OAHAqF,EAAS/K,KAAK,aAAamhB,OAAO7Y,EAAU,aAAa,IAAIijB,IAClDA,EAAWrmB,MAAKW,GAAaA,MAEjCkF,CAAQ,GAEvB,EEnJW,MAAMirD,WAAgB,EAAAnvD,OAIjC,mBAAWgF,GACP,MAAO,CAACupD,GAAgBI,GAC5B,CAIA,qBAAW1uD,GACP,MAAO,SACX,CAIA,2BAAWC,GACP,OAAO,CACX,EC3BsB,IAAI4rC,IAAI,CAAC,YAAa,WAAY,WAAY,WAAY,WAAY,WAAY,aCI7F,MAAMsjB,WAA8B,EAAA5wD,QAI/C,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACff,EAAYD,EAAMpJ,SAASqJ,UACjCrN,KAAKuN,UAoBb,SAAyCF,EAAWe,EAAQhB,GACxD,MAAMsJ,EASV,SAAuCrJ,EAAWD,GAC9C,MACMsJ,GADiB,IAAAsB,2BAA0B3K,EAAWD,GAC9B6K,MAAMvB,OACpC,OAAIA,EAAO/B,UAAY+B,EAAOf,GAAG,UAAW,SACjCe,EAAOA,OAEXA,CACX,CAhBmBknD,CAA8BvwD,EAAWD,GACxD,OAAOgB,EAAO+J,WAAWzB,EAAQ,iBACrC,CAvByBmnD,CAAgCxwD,EAAWe,EAAQhB,EACxE,CAMA,OAAAO,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MAC1BA,EAAMS,QAAOC,IACT,MAAMgwD,EAAoBhwD,EAAOnI,cAAc,kBAC/CyH,EAAMmJ,aAAaunD,EAAmB,KAAM,KAAM,CAAEtnD,aAAc,SAAU,GAEpF,iBC9BS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQjO,OCER,MAAMw1D,WAA8B,EAAAxvD,OAI/C,qBAAWC,GACP,MAAO,uBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBsC,EAAIzD,EAAOyD,EACXtB,EAAanC,EAAOmC,WAC1BhB,EAAOuX,SAAS,iBAAkB,CAC9BC,eAAgB,iBAEpBxW,EAAWK,IAAI,gBAAgBsW,iBAAiB,CAC5C3Y,MAAO,iBACPkC,KAAM,CAACkG,GAAgB1H,YACZA,EAAO4F,mBAAmB,QAGzCtE,EAAWK,IAAI,mBAAmBqW,mBAAmB,CACjD1Y,MAAO,iBACPkC,KAAM,CAACkG,GAAgB1H,aACnB,MAAMwD,EAAQZ,EAAE,mBACVstD,EAAclwD,EAAO2F,uBAAuB,MAAO,KAAM3F,EAAO4F,mBAAmB,OAGzF,OAFA5F,EAAOoX,SAAS,qBAAsB84C,GACtClwD,EAAO4K,kBAAkB,MAAM,EAAMslD,GAgBrD,SAAgChpD,EAAalH,EAAQwD,GAEjD,OADAxD,EAAO4K,kBAAkB,kBAAkB,EAAM1D,IAC1C,IAAA2D,UAAS3D,EAAalH,EAAQ,CAAEwD,SAC3C,CAlBuB2sD,CAAuBD,EAAalwD,EAAQwD,EAAM,IAGjElC,EAAWK,IAAI,UAAUsW,iBAAiB,CAAEzW,KAAM,KAAMlC,MAAO,mBAC/DH,EAAO+C,SAASxH,IAAI,iBAAkB,IAAIm1D,GAAsB1wD,GACpE,EC5CW,MAAMixD,WAAyB,EAAA3vD,OAI1C,qBAAWC,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OAEpBA,EAAO6D,GAAGC,iBAAiBvI,IAAI,kBAAkB,KAC7C,MAAM2I,EAAanR,KAAKgR,cAAc,EAAAI,YAItC,OAHAD,EAAWE,IAAI,CACXG,SAAS,IAENL,CAAU,IAErBlE,EAAO6D,GAAGC,iBAAiBvI,IAAI,0BAA0B,IAC9CxI,KAAKgR,cAAc,EAAAgC,gCAElC,CAIA,aAAAhC,CAAcwpB,GACV,MAAMvtB,EAASjN,KAAKiN,OACdjB,EAASiB,EAAOjB,OAChBkF,EAAUjE,EAAO+C,SAAS5E,IAAI,kBAC9BkE,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAC9B0E,EAAI1E,EAAO0E,EAWjB,OAVApB,EAAK+B,IAAI,CACLC,MAAOZ,EAAE,mBACTa,KAAM,EAAApB,MAAMguD,iBAEhB7uD,EAAK5H,KAAK,aAAagK,GAAGR,EAAS,aAEnClR,KAAK2R,SAASrC,EAAM,WAAW,KAC3BrC,EAAOU,QAAQ,kBACfV,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBvC,CACX,EC5CW,MAAM8uD,WAAuB,EAAA7vD,OAIxC,mBAAWgF,GACP,MAAO,CAACwqD,GAAuBG,GAAkB,EAAA/0C,OACrD,CAIA,qBAAW3a,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECPW,MAAM4vD,WAAyB,EAAAtxD,QAI1C,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACff,EAAYD,EAAMpJ,SAASqJ,UAC3BixD,EAAyBC,GAA8BlxD,GAC7DrN,KAAKuN,UAgCb,SAAoCF,EAAWe,EAAQhB,GACnD,MAAMsJ,EAMV,SAAkCrJ,EAAWD,GACzC,MACMsJ,GADiB,IAAAsB,2BAA0B3K,EAAWD,GAC9B6K,MAAMvB,OACpC,OAAIA,EAAO/B,UAAY+B,EAAOf,GAAG,eACtBe,EAAOA,OAEXA,CACX,CAbmB8nD,CAAyBnxD,EAAWD,GACnD,OAAOgB,EAAO+J,WAAWzB,EAAQ,UACrC,CAnCyB+nD,CAA2BpxD,EAAWe,EAAQhB,GAC/DpN,KAAK+B,MAAQu8D,EAAyBA,EAAuB5wD,aAAa,UAAY,GAAK,IAC/F,CAUA,OAAAC,CAAQ5L,GACJ,MAAMqL,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UACjCD,EAAMS,QAAOC,IACT,IAAI4wD,EAEe,OAAf1+D,KAAK+B,MACL28D,EAAmBH,GAA8BlxD,IAGjDqxD,EAAmB5wD,EAAOnI,cAAc,WACxCyH,EAAMmJ,aAAamoD,EAAkB,KAAM,KAAM,CAAEloD,aAAc,QAErE1I,EAAO7H,aAAa,QAASlE,EAAO28D,EAAiB,GAE7D,EAuBJ,SAASH,GAA8BlxD,GACnC,MAAMsK,EAAkBtK,EAAUmK,qBAClC,OAAIG,GAAmBA,EAAgBhC,GAAG,UAAW,WAC1CgC,EAEJ,IACX,eCtFa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQpP,OCIR,MAAMo2D,WAAyB,EAAApwD,OAI1C,qBAAWC,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GAKNjN,KAAK4+D,4BAA8B,IAAIvkB,IACvCptC,EAAO0B,OAAOC,OAAO,YAAa,CAC9BiwD,cAAc,EACdC,aAAcC,KASV,IAAAzyD,YAAW,wCACJ,CACH0yD,KAAMD,EACNE,YAAY,KAI5B,CAIA,IAAApwD,GACI,MAAM5B,EAASjN,KAAKiN,OACLA,EAAOG,MAAMgB,OACrBuX,SAAS,UAAW,CACvBC,eAAgB,eAChB3W,gBAAiB,CAAC,WAEtBhC,EAAO+C,SAASxH,IAAI,YAAa,IAAI61D,GAAiBpxD,IACtDjN,KAAK+kB,kBACT,CAIA,gBAAAA,GACI,MAAM9X,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXpB,EAAOrC,EAAO2E,QAAQtC,KACtB4vD,EAA6Bl/D,KAAK4+D,4BAClCO,EAAkBlyD,EAAO0B,OAAOvD,IAAI,aAkI1C,SAASg0D,GAAc,OAAEnyD,EAAM,WAAE2U,EAAU,MAAE2vB,EAAK,MAAE2S,IAEhDtiC,EAAWy9C,YAAc,GACzB,MAAMC,EAAc19C,EAAW29C,cAC/B,IAAIC,EACJ,GAAIjuB,EAAMkuB,WAAY,CAClB,MAAMC,EAAgB,CAClBC,YAAY,EACZj0C,YAAaw4B,EAAM0b,qBAEvBJ,EAAcK,EAAkB,CAAEP,cAAa/tB,QAAO2S,MAAOwb,IAC7D99C,EAAWkJ,OAAO00C,EACtB,MACK,GAAIjuB,EAAMstB,aAAc,CACzB,MAAMiB,EAAwB,CAC1BhB,aAAc5a,EAAM4a,cAExBl9C,EAAWkJ,OA4CnB,UAAgC,OAAE7d,EAAM,YAAEqyD,EAAW,MAAE/tB,EAAK,MAAE2S,IAC1D,MAAM6b,EAAkB7b,EAAM4a,aAAavtB,EAAMyuB,mBAC3C3gC,EAAkBkS,EAAMyuB,kBAAkBr/D,OAAS,EACrD+P,EAAE,wBACFA,EAAE,yBACAuvD,GAAwB,IAAAt6D,eAAc25D,EAAa,MAAO,CAC5D/sD,MAAO,uDACR8sB,GACG6gC,GAAoB,IAAAv6D,eAAc25D,EAAa,MAAO,CACxD/sD,MAAO,kCACP4tD,IAAKlzD,EAAOjB,OAAOC,2BAKjBm0D,EADWd,EAAYzpC,cACQwqC,yBAAyBN,EAAgBf,MAC9EkB,EAAkB95D,YAAYg6D,GAM9B,OAL4B,IAAAz6D,eAAc25D,EAAa,MAAO,CAC1D/sD,MAAO,2BACR,CACC0tD,EAAuBC,GAG/B,CAnE0BI,CAAuB,CAAEhB,cAAa/tB,QAAO2S,MAAO4b,EAAuB7yD,WACjG,KACK,CACD,MAAMyyD,EAAgB,CAClBC,YAAY,EACZj0C,YAAaw4B,EAAM0b,qBAEvBh+C,EAAWkJ,OAAO+0C,EAAkB,CAAEP,cAAa/tB,QAAO2S,MAAOwb,IACrE,CACA,MAAMa,EAAsB,CACxBC,YAAatc,EAAMsc,YACnBC,YAAa,KACTvc,EAAMuc,YAAYjB,EAAYz9D,MAAM,EAExC2+D,cAAexc,EAAMwc,eAEzB9+C,EAAW++C,QAEf,UAAiC,OAAE1zD,EAAM,YAAEqyD,EAAW,MAAE/tB,EAAK,MAAE2S,IAC3D,MAAM0c,GAAoB,IAAAj7D,eAAc25D,EAAa,MAAO,CACxD/sD,MAAO,oCAEX,GAAIg/B,EAAMkuB,WAAY,CAClB,MAAMhjD,EAAiBokD,GAAe5zD,EAAQ,OAAQi3C,EAAMuc,aACtD9jD,EAAmBkkD,GAAe5zD,EAAQ,SAAUi3C,EAAMwc,eAChEE,EAAkB91C,OAAOrO,EAAevI,QAASyI,EAAiBzI,SAClEgrD,EAA2B12D,IAAIiU,GAAgBjU,IAAImU,EACvD,KACK,CACD,MAAMmkD,EAAiBD,GAAe5zD,EAAQ,OAAQi3C,EAAMsc,aAC5DI,EAAkB91C,OAAOg2C,EAAe5sD,SACxCgrD,EAA2B12D,IAAIs4D,EACnC,CACA,OAAOF,CACX,CAlBuBG,CAAwB,CAAE9zD,SAAQqyD,cAAa/tB,QAAO2S,MAAOqc,IACpF,CAkBA,SAASV,GAAkB,YAAEP,EAAW,MAAE/tB,EAAK,MAAE2S,IAC7C,MAAMsb,GAAc,IAAA75D,eAAc25D,EAAa,WAAY,CACvD5zC,YAAaw4B,EAAMx4B,YACnBnZ,MAAO,8DAIX,OAFAitD,EAAYwB,SAAW9c,EAAMyb,WAC7BH,EAAYz9D,MAAQwvC,EAAMyuB,kBACnBR,CACX,CA3LAx/D,KAAKiN,OAAO2E,QAAQtC,KAAK4D,GAAG,UAAU,KAClC,IAAK,MAAM/B,KAAc+tD,EAA4B,CACjD,GAAI/tD,EAAW+C,SAAW/C,EAAW+C,QAAQ+sD,YACzC,OAEJ9vD,EAAWgI,UACX+lD,EAA2B/E,OAAOhpD,EACtC,IACD,CAAEwJ,SAAU,WAGf1N,EAAO3J,KAAK2uD,0BAA0B,CAClCxvD,KAAM,MACNqV,QAAS,mBAEb7K,EAAOmC,WAAWK,IAAI,UAAUsW,iBAAiB,CAC7CzW,KAAM,CACF7M,KAAM,MACNqV,QAAS,kBAEb1K,MAAO,CAAC4H,GAAelH,YAGZA,EAAOnI,cAAc,UAAW,CACnC5D,MAAOiT,EAAY8D,kBAAkB,mBAIjD7L,EAAOmC,WAAWK,IAAI,gBAAgBsW,iBAAiB,CACnD3Y,MAAO,UACPkC,KAAM,CAACkG,GAAgB1H,YACZA,EAAOm+C,iBAAiB,MAAO,CAAE15C,MAAO,mBAAoB,SAAUqP,GACzEA,EAAWs/C,UAAY1rD,EAAa9H,aAAa,UAAY,EACjE,MAGRT,EAAOmC,WAAWK,IAAI,mBAAmBqW,mBAAmB,CACxD1Y,MAAO,CAAE3K,KAAM,UAAWmD,WAAY,CAAC,UACvC0J,KAAM,CAACkG,GAAgB1H,aACnB,IAAIqzD,EACA5vB,EACA2S,EACJ,MAAMkd,EAAqBtzD,EAAOm+C,iBAAiB,MAAO,CACtD15C,MAAO,oCACR,SAAUqP,GACTu/C,EAAoBv/C,EACpBw9C,EAAc,CAAEnyD,SAAQ2U,aAAY2vB,QAAO2S,UAI3Cid,EAAkBE,iBAAiB,aAAa,KAC5C,GAAI9vB,EAAMkuB,WAAY,CAClB,MAAMryD,EAAQH,EAAOG,MACGA,EAAMpJ,SAASqJ,UAAUmK,uBAEzBhC,GACpBpI,EAAMS,QAAOC,GAAUA,EAAO0I,aAAahB,EAAc,OAEjE,KACD,EACP,IAEM8rD,EAAa,CACf,YAAAC,GACIhwB,EAAQlvC,OAAO69C,OAAO,CAAC,EAAG3O,EAAO,CAC7BkuB,YAAY,IAEhBL,EAAc,CAAEx9C,WAAYu/C,EAAmBl0D,SAAQskC,QAAO2S,UAC9D50C,EAAKzB,QAAOC,IACRA,EAAO7H,aAAa,yBAA0B,OAAQm7D,EAAmB,IAG7ED,EAAkBl9D,cAAc,YAAY4N,OAChD,EACA,IAAA2vD,CAAKzlD,GAGGA,IAAaw1B,EAAMyuB,mBACnB/yD,EAAOU,QAAQ,YAAaoO,GAC5B9O,EAAO2E,QAAQtC,KAAKuC,SAGpB7R,KAAK4c,QAEb,EACA,MAAAA,GACI20B,EAAQlvC,OAAO69C,OAAO,CAAC,EAAG3O,EAAO,CAC7BkuB,YAAY,IAEhBL,EAAc,CAAEx9C,WAAYu/C,EAAmBl0D,SAAQskC,QAAO2S,UAC9Dj3C,EAAO2E,QAAQtC,KAAKuC,QACpBvC,EAAKzB,QAAOC,IACRA,EAAO1G,gBAAgB,yBAA0Bg6D,EAAmB,GAE5E,GAEJ7vB,EAAQ,CACJstB,aAAcM,EAAgBN,aAC9BY,YAAY,EACZO,gBAAiB,IAAMxqD,EAAa9H,aAAa,UAAY,IAEjEw2C,EAAQ,CACJ4a,aAAcK,EAAgBL,aAC9Bc,oBAAqBlvD,EAAE,0BACvB,WAAA8vD,GACIc,EAAWC,cACf,EACA,WAAAd,CAAY1kD,GACRulD,EAAWE,KAAKzlD,EACpB,EACA,aAAA2kD,GACIY,EAAW1kD,QACf,GAEJ,MAAMovC,EAAgBl+C,EAAO2F,uBAAuB,MAAO,CACvDlB,MAAO,iBACP,wBAAyB7B,EAAE,gBAC3ByvD,IAAKlzD,EAAOjB,OAAOiG,qBACpBmvD,GAGH,OAFAtzD,EAAO4K,kBAAkB,aAAc4oD,EAAYtV,GACnDl+C,EAAO4K,kBAAkB,WAAW,EAAMszC,IACnC,IAAArzC,UAASqzC,EAAel+C,EAAQ,CACnCwD,MAAOZ,EAAE,gBACT+wD,oBAAoB,GACtB,GAwFd,EAKJ,SAASZ,GAAe5zD,EAAQ7C,EAAMs3D,GAClC,MAAM,EAAEhxD,GAAMzD,EAAOjB,OACfmF,EAAa,IAAI,EAAAC,WAAWnE,EAAOjB,QACnCkF,EAAUjE,EAAO+C,SAAS5E,IAAI,aA6BpC,OA5BA+F,EAAWE,IAAI,CACXkB,MAAO,mBAAmBnI,WAC1BmH,KAAM,EAAApB,MAAMwxD,OACZnwD,SAAS,EACTQ,gBAAuD,QAAtC/E,EAAOjB,OAAOiG,oBAAgC,IAAM,MAEzEd,EAAWsM,SACE,SAATrT,GACA+G,EAAWE,IAAI,CACXE,KAAM,EAAApB,MAAMwxD,OACZrwD,MAAOZ,EAAE,iBAEbS,EAAWzJ,KAAK,aAAagK,GAAGR,IAElB,SAAT9G,GACL+G,EAAWE,IAAI,CACXE,KAAM,EAAApB,MAAMuM,MACZpL,MAAOZ,EAAE,kBAEbS,EAAWzJ,KAAK,aAAagK,GAAGR,IAGhCC,EAAWE,IAAI,CACXE,KAAM,EAAApB,MAAMyM,OACZtL,MAAOZ,EAAE,YAGjBS,EAAW+B,GAAG,UAAWwuD,GAClBvwD,CACX,CChUe,MAAMywD,WAAoB,EAAArzD,OAIrC,qBAAWC,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OAEdyD,EADSzD,EAAOjB,OACL0E,EAEjBzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,aAAa,KACxC,MAAM2I,EAAanR,KAAKgR,cAAc,EAAAI,YAKtC,OAJAD,EAAWE,IAAI,CACXG,SAAS,EACTF,MAAOZ,EAAE,iBAENS,CAAU,IAErBlE,EAAO6D,GAAGC,iBAAiBvI,IAAI,qBAAqB,KAChD,MAAM2I,EAAanR,KAAKgR,cAAc,EAAAgC,+BAItC,OAHA7B,EAAWE,IAAI,CACXC,MAAOZ,EAAE,kBAENS,CAAU,GAEzB,CAIA,aAAAH,CAAcwpB,GACV,MAAMvtB,EAASjN,KAAKiN,OACdiE,EAAUjE,EAAO+C,SAAS5E,IAAI,aAC9BkE,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAcpC,OAbAsD,EAAK+B,IAAI,CACLE,KAAM,EAAApB,MAAM6uD,OAEhB1vD,EAAK5H,KAAK,aAAagK,GAAGR,EAAS,aAEnClR,KAAK2R,SAASrC,EAAM,WAAW,KAC3BrC,EAAOU,QAAQ,aACfV,EAAO2E,QAAQtC,KAAKuC,QACD5E,EAAO2E,QAAQtC,KAAKtL,SAASqJ,UAC3CmK,qBACAsB,kBAAkB,cACZyoD,cAAc,IAEtBjyD,CACX,ECpDW,MAAMuyD,WAAkB,EAAAtzD,OAInC,mBAAWgF,GACP,MAAO,CAACorD,GAAkBiD,GAAa,EAAAz4C,OAC3C,CAIA,qBAAW3a,GACP,MAAO,WACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECpBW,MAAMqzD,WAAsB,EAAAvzD,OAIvC,qBAAWC,GACP,MAAO,eACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpBA,EAAO+C,SAASxH,IAAI,SAAU,IAAI,EAAAu5D,aAAa90D,IAC/CA,EAAO+C,SAASxH,IAAI,UAAW,IAAI,EAAAu5D,aAAa90D,GACpD,ECnBW,MAAM+0D,WAAiB,EAAAzzD,OAIlC,qBAAWC,GACP,MAAO,UACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdjB,EAASiB,EAAOjB,OAChB0E,EAAIzD,EAAOyD,EACXuxD,EAAoD,OAA9Bj2D,EAAOiG,oBAA+B,EAAA9B,MAAM85B,OAAS,EAAA95B,MAAM+5B,QACjFg4B,EAAqD,OAA9Bl2D,EAAOiG,oBAA+B,EAAA9B,MAAM+5B,QAAU,EAAA/5B,MAAM85B,OACzFjqC,KAAKmiE,cAAc,SAAUzxD,EAAE,mBAAoBuxD,GACnDjiE,KAAKmiE,cAAc,UAAWzxD,EAAE,mBAAoBwxD,EACxD,CAIA,aAAAC,CAAc7mC,EAAahqB,EAAOC,GAC9B,MAAMtE,EAASjN,KAAKiN,OACpBA,EAAO6D,GAAGC,iBAAiBvI,IAAI8yB,GAAa,KACxC,MAAMnqB,EAAanR,KAAKgR,cAAc,EAAAI,WAAYkqB,EAAahqB,EAAOC,GAItE,OAHAJ,EAAWE,IAAI,CACXG,SAAS,IAENL,CAAU,IAErBlE,EAAO6D,GAAGC,iBAAiBvI,IAAI,WAAa8yB,GAAa,IAC9Ct7B,KAAKgR,cAAc,EAAAgC,8BAA+BsoB,EAAahqB,EAAOC,IAErF,CAIA,aAAAP,CAAcwpB,EAAac,EAAahqB,EAAOC,GAC3C,MAAMtE,EAASjN,KAAKiN,OACdiE,EAAUjE,EAAO+C,SAAS5E,IAAIkwB,GAC9BhsB,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAWpC,OAVAsD,EAAK+B,IAAI,CACLC,QACAC,SAEJjC,EAAK5H,KAAK,aAAagK,GAAGR,EAAS,aAEnClR,KAAK2R,SAASrC,EAAM,WAAW,KAC3BrC,EAAOU,QAAQ2tB,GACfruB,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBvC,CACX,EC9CW,MAAM8yD,WAAe,EAAA7zD,OAIhC,qBAAWC,GACP,MAAO,QACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACuuD,GAAeE,GAC3B,ECrBW,MAAMK,WAA2B,EAAAt1D,QAI5C,WAAAvK,CAAYyK,EAAQq1D,GAChB5zD,MAAMzB,GACNjN,KAAKuiE,gBAAkBD,CAC3B,CAIA,OAAAt1D,GACI,MACMI,EADSpN,KAAKiN,OACCG,MACfY,GAAQ,IAAAb,OAAMC,EAAMpJ,SAASqJ,UAAUC,qBACxCU,GAAUhO,KAAKwiE,4BAA4Bx0D,GAIhDhO,KAAKuN,UAAYvN,KAAKuiE,gBAAgBE,aAAaz0D,EAAMN,aAAa,gBAHlE1N,KAAKuN,WAAY,CAIzB,CAIA,OAAAI,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBs1D,EAAiB1iE,KAAK2iE,qBAC5Bv1D,EAAMS,QAAOC,IACT,IAAK,MAAME,KAAS00D,EAAgB,CAChC,MAAME,EAAgB50D,EAAMN,aAAa,eACnCm1D,EAAa7iE,KAAKuiE,gBAAgBO,cAAcF,GAClDC,EACA/0D,EAAO7H,aAAa,cAAe48D,EAAY70D,GAG/CF,EAAO1G,gBAAgB,cAAe4G,EAE9C,IAER,CAIA,kBAAA20D,GACI,MACMt1D,EADQrN,KAAKiN,OAAOG,MACFpJ,SAASqJ,UAEjC,OAD0BpM,MAAMyB,KAAK2K,EAAUC,qBACtB9G,QAAOwH,GAAShO,KAAKwiE,4BAA4Bx0D,IAC9E,CAOA,2BAAAw0D,CAA4BtuD,GACxB,MAAMjH,EAASjN,KAAKiN,OACpB,QAAKA,EAAOG,MAAMgB,OAAOC,eAAe6F,EAAS,kBAG5CjH,EAAO8G,QAAQE,IAAI,gBAInBjU,KAAKuiE,gBAAgBQ,YAGA91D,EAAO8G,QAAQ3I,IAAI,aACnB43D,gBAAgB9uD,IAC9C,ECzFW,MAAM+uD,GAQjB,WAAAzgE,CAAYmM,GACR3O,KAAK+iE,UAAiC,YAArBp0D,EAAOyrB,UACxBp6B,KAAK20B,OAAShmB,EAAOgmB,OACrB30B,KAAKkjE,KAAOv0D,EAAOu0D,IACvB,CAIA,YAAAT,CAAaU,GACT,MAAMC,EAAgBzkB,WAAWwkB,GAAwB,KAEzD,OAAOnjE,KAAK+iE,WAAaK,EAAgB,CAC7C,CAIA,aAAAN,CAAcK,GACV,MAAMC,EAAgBzkB,WAAWwkB,GAAwB,KAEzD,GADoBA,IAAwBA,EAAqBruD,SAAS9U,KAAKkjE,MAE3E,OAAOljE,KAAK+iE,UAAY/iE,KAAK20B,OAAS30B,KAAKkjE,UAAOt4D,EAEtD,MACMy4D,EAAcD,GADDpjE,KAAK+iE,UAAY/iE,KAAK20B,QAAU30B,KAAK20B,QAExD,OAAO0uC,EAAc,EAAIA,EAAcrjE,KAAKkjE,UAAOt4D,CACvD,ECjCW,MAAM04D,GAOjB,WAAA9gE,CAAYmM,GACR3O,KAAK+iE,UAAiC,YAArBp0D,EAAOyrB,UACxBp6B,KAAK8X,QAAUnJ,EAAOmJ,OAC1B,CAIA,YAAA2qD,CAAaU,GACT,MAAM7tB,EAAet1C,KAAK8X,QAAQ67B,QAAQwvB,GAC1C,OAAInjE,KAAK+iE,UACEztB,EAAet1C,KAAK8X,QAAQnX,OAAS,EAGrC20C,GAAgB,CAE/B,CAIA,aAAAwtB,CAAcK,GACV,MAAM7tB,EAAet1C,KAAK8X,QAAQ67B,QAAQwvB,GACpCI,EAAYvjE,KAAK+iE,UAAY,GAAK,EACxC,OAAO/iE,KAAK8X,QAAQw9B,EAAeiuB,EACvC,ECzBJ,MAAMC,GAAmB,CAAC,YAAa,WAAY,WAAY,WAAY,WAAY,WAAY,YASpF,MAAMC,WAAoB,EAAAl1D,OAIrC,WAAA/L,CAAYyK,GACRyB,MAAMzB,GACNA,EAAO0B,OAAOC,OAAO,cAAe,CAChC+lB,OAAQ,GACRuuC,KAAM,MAEd,CAIA,qBAAW10D,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdy2D,EAAgBz2D,EAAO0B,OAAOvD,IAAI,eACpCs4D,EAAc5rD,SAAW4rD,EAAc5rD,QAAQnX,QAC/CX,KAAK2jE,6BAA6BD,EAAc5rD,SAChD7K,EAAO+C,SAASxH,IAAI,cAAe,IAAI65D,GAAmBp1D,EAAQ,IAAIq2D,GAAmB,CACrFlpC,UAAW,UACXtiB,QAAS4rD,EAAc5rD,YAE3B7K,EAAO+C,SAASxH,IAAI,eAAgB,IAAI65D,GAAmBp1D,EAAQ,IAAIq2D,GAAmB,CACtFlpC,UAAW,WACXtiB,QAAS4rD,EAAc5rD,cAI3B7K,EAAO3J,KAAKw/C,uBAAuB,EAAA8gB,gBACnC5jE,KAAK6jE,8BACL52D,EAAO+C,SAASxH,IAAI,cAAe,IAAI65D,GAAmBp1D,EAAQ,IAAIg2D,GAAkB,CACpF7oC,UAAW,UACXzF,OAAQ+uC,EAAc/uC,OACtBuuC,KAAMQ,EAAcR,SAExBj2D,EAAO+C,SAASxH,IAAI,eAAgB,IAAI65D,GAAmBp1D,EAAQ,IAAIg2D,GAAkB,CACrF7oC,UAAW,WACXzF,OAAQ+uC,EAAc/uC,OACtBuuC,KAAMQ,EAAcR,SAGhC,CAIA,SAAAlgD,GACI,MAAM/V,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtB01D,EAAgB72D,EAAO+C,SAAS5E,IAAI,UACpC24D,EAAiB92D,EAAO+C,SAAS5E,IAAI,WAErCxG,EAAUqI,EAAO0B,OAAOvD,IAAI,oBACPxG,GAAWA,EAAQ3E,KAAI2L,GAAUA,EAAOwB,SACvBo2D,IAC9Bz9D,SAAQ6pB,IACdxhB,EAAO6W,aAAa2K,IACpBxhB,EAAOY,OAAO4gB,EAAa,CAAE3gB,gBAAiB,eAClD,IAEJb,EAAOc,uBAAuB,cAAe,CAAEC,cAAc,IAC7D20D,EAAc35B,qBAAqBl9B,EAAO+C,SAAS5E,IAAI,gBACvD24D,EAAe55B,qBAAqBl9B,EAAO+C,SAAS5E,IAAI,gBAC5D,CAIA,2BAAAy4D,GACI,MAAMz0D,EAAapP,KAAKiN,OAAOmC,WAEzB40D,EAAqD,QAD5ChkE,KAAKiN,OAAOjB,OACGC,yBAAqC,eAAiB,cACpFmD,EAAWK,IAAI,UAAUJ,qBAAqB,CAC1CC,KAAM,CACF3G,OAAQ,CACJ,CAACq7D,GAAiB,YAG1B52D,MAAO,CACHpH,IAAK,cACLjE,MAAQiT,IAEJ,IAAKA,EAAYW,GAAG,UAAW,MAC3B,OAAOX,EAAYZ,SAAS4vD,EAChC,KAIZ50D,EAAWK,IAAI,YAAYJ,qBAAqB,CAC5CjC,MAAO,cACPkC,KAAMutC,IACK,CACH72C,IAAK,QACLjE,MAAO,CACH,CAACiiE,GAAiBnnB,MAKtC,CAIA,4BAAA8mB,CAA6B7rD,GACzB,MAAM7M,EAAa,CACfmC,MAAO,CACHpH,IAAK,cACLuJ,OAAQ,IAEZD,KAAM,CAAC,GAEX,IAAK,MAAM9C,KAAasL,EACpB7M,EAAWmC,MAAMmC,OAAO9P,KAAK+M,GAC7BvB,EAAWqE,KAAK9C,GAAa,CACzBxG,IAAK,QACLjE,MAAO,CAACyK,IAGhBxM,KAAKiN,OAAOmC,WAAWC,qBAAqBpE,EAChD,EC3IW,MAAMg5D,GACjB,WAAAzhE,GAKIxC,KAAKouD,aAAe,IAAI/T,GAC5B,CAKA,UAAI15C,GACA,OAAOX,KAAKouD,aAAav5C,IAC7B,CAMA,GAAArM,CAAItI,GACIe,MAAME,QAAQjB,GACdA,EAAK6F,SAAQ7F,GAAQF,KAAKouD,aAAa5lD,IAAItI,KAG3CF,KAAKouD,aAAa5lD,IAAItI,EAE9B,CAMA,aAAAgkE,GACI,OAAO/iD,IACHA,EAAWjO,GAAG,sBAAsB,CAAC0N,EAAKtd,EAAMud,KAK5C,IAAKA,EAAcC,WAAWne,KAAKW,EAAKpD,KAAM,sBAC1C,OAGJ,IAAMoD,EAAKpD,KAAKyV,GAAG,eAAgBkL,EAAczS,OAAOqsC,SAASn3C,EAAKpD,MAClE,OAEJ,MAAMohB,EAAaT,EAAc/S,OAC3Bq2D,EAAgB7iD,EAAWtd,SAASqJ,UAC1C,IAAK,MAAMnN,KAAQF,KAAKouD,aAAc,CAClC,MAAMp5C,EAAcsM,EAAWw7B,uBAAuB,IAAK58C,EAAK0F,WAAY,CACxE+U,SAAU,IAEVza,EAAK4X,SACLwJ,EAAW4D,SAAShlB,EAAK4X,QAAS9C,GAEtC,IAAK,MAAMhP,KAAO9F,EAAKyI,OACnB2Y,EAAWqC,SAAS3d,EAAK9F,EAAKyI,OAAO3C,GAAMgP,GAE/CsM,EAAW5I,kBAAkB,QAAQ,EAAM1D,GACvC9U,EAAK8f,SAAS1c,EAAK4d,mBACf5d,EAAKpD,KAAKyV,GAAG,aACb2L,EAAW2X,KAAKkrC,EAAclqD,gBAAiBjF,GAG/CsM,EAAW2X,KAAKpY,EAAcG,OAAOy6B,YAAYn4C,EAAKohB,OAAQ1P,GAIlEsM,EAAWmX,OAAO5X,EAAcG,OAAOy6B,YAAYn4C,EAAKohB,OAAQ1P,EAExE,IACD,CAAE2F,SAAU,QAAS,CAEhC,CAOA,2BAAAypD,GACI,OAAOjjD,IACHA,EAAWjO,GAAG,iCAAiC,CAAC0N,EAAKtd,GAAQwK,SAAQkT,aACjE,MAAMqjD,EAAarjD,EAAOC,cAAc3d,EAAKpD,MACvCokE,EAAcrjE,MAAMyB,KAAK2hE,EAAWx9C,eACrCsL,MAAM2H,GAAUA,EAAMnkB,GAAG,UAAW,OAIzC,GAAK2uD,EAGL,IAAK,MAAMpkE,KAAQF,KAAKouD,aAAc,CAClC,MAAMxoD,GAAa,IAAA2+D,OAAMrkE,EAAK0F,YAC9B,GAAI1F,EAAK8f,SAAS1c,EAAK4d,mBAAoB,CACvC,IAAK,MAAOlb,EAAKw+D,KAAQ5+D,EAGT,UAARI,EACA8H,EAAOoX,SAASs/C,EAAKF,GAGrBx2D,EAAO7H,aAAaD,EAAKw+D,EAAKF,GAGlCpkE,EAAK4X,SACLhK,EAAOoX,SAAShlB,EAAK4X,QAASwsD,GAElC,IAAK,MAAMt+D,KAAO9F,EAAKyI,OACnBmF,EAAO6V,SAAS3d,EAAK9F,EAAKyI,OAAO3C,GAAMs+D,EAE/C,KACK,CACD,IAAK,MAAOt+D,EAAKw+D,KAAQ5+D,EACT,UAARI,EACA8H,EAAOqX,YAAYq/C,EAAKF,GAGxBx2D,EAAO1G,gBAAgBpB,EAAKs+D,GAGhCpkE,EAAK4X,SACLhK,EAAOqX,YAAYjlB,EAAK4X,QAASwsD,GAErC,IAAK,MAAMt+D,KAAO9F,EAAKyI,OACnBmF,EAAOsX,YAAYpf,EAAKs+D,EAEhC,CACJ,IACF,CAEV,EC3IJ,MAAMG,GAAwB,8DAGxBC,GAAgB,oFAGhBC,GAAmB,2BACnBC,GAAyB,CAC3B,SACA,QACA,UAKSC,GAAiB,SAUvB,SAASC,GAAkBC,GAAM,OAAEj3D,IAEtC,MAAMk3D,EAAcl3D,EAAOgvC,uBAAuB,IAAK,CAAEioB,QAAQ,CAAEpqD,SAAU,IAE7E,OADA7M,EAAO4K,kBAAkB,QAAQ,EAAMssD,GAChCA,CACX,CAUO,SAASC,GAAcC,EAAKC,EAAmBP,IAClD,MAAMQ,EAAY7rD,OAAO2rD,GACnBG,EAAgBF,EAAiB9kE,KAAK,KAE5C,OAKJ,SAAmB6kE,EAAKI,GAEpB,QADsBJ,EAAI9mC,QAAQqmC,GAAuB,IAClClpD,MAAM+pD,EACjC,CARWC,CAAUH,EADO,IAAI9rD,OAAO,GA1Cb,yDA0CkC8kB,QAAQ,cAAeinC,KAAkB,MAClDD,EAAY,GAC/D,CAiDO,SAASI,GAAkBtxD,EAAS9F,GACvC,QAAK8F,GAGE9F,EAAOC,eAAe6F,EAAQzR,KAAM,WAC/C,CAcO,SAASgjE,GAA4BC,EAAMC,GAC9C,MAAMC,GAXc7jE,EAWK2jE,EAVlBhB,GAAc/hE,KAAKZ,GAUO,UAAY4jE,GAX1C,IAAiB5jE,EAYpB,MAAM8jE,IAAqBD,IAAaE,GAAgBJ,GACxD,OAAOA,GAAQG,EAAmBD,EAAWF,EAAOA,CACxD,CAIO,SAASI,GAAgBJ,GAC5B,OAAOf,GAAiBhiE,KAAK+iE,EACjC,CAIO,SAASK,GAASL,GACrBxhE,OAAO8hE,KAAKN,EAAM,SAAU,WAChC,CAIO,SAASO,GAAwBh5D,GACpC,MAAMi5D,EAAkBj5D,EAAO8G,QAAQE,IAAI,mBACvChH,EAAO8G,QAAQ3I,IAAI,mBACnB,KAwBJ,MAAO,CACH+6D,qBArBJ,SAA8BT,GAC1B,QAASA,GACLA,EAAK3T,WAAW,QACdmU,KACAA,EAAgBE,wBAAwBV,EAAKnjE,MAAM,GAC7D,EAiBI8jE,eAbJ,SAAwBX,GACpB,MAAMY,EAAaZ,EAAKnjE,MAAM,GACxBgkE,EAAgBL,EAAgBE,wBAAwBE,GAC9Dr5D,EAAOG,MAAMS,QAAOC,IAChBA,EAAO0I,aAAa+vD,EAAe,KAAK,IAE5Ct5D,EAAO2E,QAAQtC,KAAK2d,qBAAqB,CACrCu5C,YAAY,EACZC,aAAa,GAErB,EAKJ,CC1Je,MAAMC,WAAoB,EAAA35D,QACrC,WAAAvK,GACIkM,SAAS0G,WAOTpV,KAAK2mE,iBAAmB,IAAI,EAAA/6B,WAK5B5rC,KAAK4mE,oBAAsB,IAAI3C,EACnC,CAIA,4BAAA4C,GACI,IAAK,MAAMC,KAAmB9mE,KAAK2mE,iBAC/BG,EAAgB/kE,MAAQ/B,KAAK+mE,4BAA4BD,EAAgBnnE,GAEjF,CAIA,OAAAqN,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BsK,EAAkBtK,EAAUmK,uBAAwB,IAAArK,OAAME,EAAUC,qBAGtEk4D,GAAkB7tD,EAAiBvK,EAAMgB,SACzCpO,KAAK+B,MAAQ4V,EAAgBjK,aAAa,YAC1C1N,KAAKuN,UAAYH,EAAMgB,OAAOC,eAAesJ,EAAiB,cAG9D3X,KAAK+B,MAAQsL,EAAUK,aAAa,YACpC1N,KAAKuN,UAAYH,EAAMgB,OAAOwsB,0BAA0BvtB,EAAW,aAEvE,IAAK,MAAMy5D,KAAmB9mE,KAAK2mE,iBAC/BG,EAAgB/kE,MAAQ/B,KAAK+mE,4BAA4BD,EAAgBnnE,GAEjF,CAkEA,OAAAgO,CAAQo3D,EAAMiC,EAAqB,CAAC,GAChC,MAAM55D,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAE3B45D,EAAyB,GACzBC,EAAwB,GAC9B,IAAK,MAAMzkE,KAAQukE,EACXA,EAAmBvkE,GACnBwkE,EAAuBxnE,KAAKgD,GAG5BykE,EAAsBznE,KAAKgD,GAGnC2K,EAAMS,QAAOC,IAET,GAAIT,EAAU2mB,YAAa,CACvB,MAAMvU,EAAWpS,EAAUkK,mBAE3B,GAAIlK,EAAUI,aAAa,YAAa,CACpC,MAAM05D,EAAWC,GAAyB/5D,GAE1C,IAAIg6D,GAAY,IAAAC,oBAAmB7nD,EAAU,WAAYpS,EAAUK,aAAa,YAAaN,GACzFC,EAAUK,aAAa,cAAgBy5D,IACvCE,EAAYrnE,KAAKunE,mBAAmBn6D,EAAOU,EAAQu5D,EAAWtC,IAElEj3D,EAAO7H,aAAa,WAAY8+D,EAAMsC,GACtCJ,EAAuBlhE,SAAQ7F,IAC3B4N,EAAO7H,aAAa/F,GAAM,EAAMmnE,EAAU,IAE9CH,EAAsBnhE,SAAQ7F,IAC1B4N,EAAO1G,gBAAgBlH,EAAMmnE,EAAU,IAG3Cv5D,EAAO0I,aAAa1I,EAAOyU,oBAAoB8kD,EAAU9sD,IAAIoqB,YACjE,MAIK,GAAa,KAATogC,EAAa,CAClB,MAAMn/D,GAAa,IAAA2+D,OAAMl3D,EAAU8I,iBACnCvQ,EAAWyL,IAAI,WAAY0zD,GAC3BkC,EAAuBlhE,SAAQ7F,IAC3B0F,EAAWyL,IAAInR,GAAM,EAAK,IAE9B,MAAQqa,IAAKue,GAAkB1rB,EAAM44B,cAAcl4B,EAAOi4B,WAAWg/B,EAAMn/D,GAAa6Z,GAGxF3R,EAAO0I,aAAasiB,EACxB,CAGA,CAAC,cAAemuC,KAA2BC,GAAuBnhE,SAAQ7F,IACtE4N,EAAO6pB,yBAAyBz3B,EAAK,GAE7C,KACK,CAGD,MAAMs5B,EAASpsB,EAAMgB,OAAOspB,eAAerqB,EAAU0mB,YAAa,YAE5DyzC,EAAgB,GACtB,IAAK,MAAMtzD,KAAW7G,EAAUC,oBACxBF,EAAMgB,OAAOC,eAAe6F,EAAS,aACrCszD,EAAc/nE,KAAKqO,EAAO0W,cAActQ,IAIhD,MAAMuzD,EAAiBD,EAAcjlE,QAGrC,IAAK,MAAMmiB,KAAS8U,EACZx5B,KAAK0nE,iBAAiBhjD,EAAO8iD,IAC7BC,EAAehoE,KAAKilB,GAG5B,IAAK,MAAMA,KAAS+iD,EAAgB,CAChC,IAAIJ,EAAY3iD,EAChB,GAA8B,IAA1B+iD,EAAe9mE,OAAc,CAE7B,MAAMwmE,EAAWC,GAAyB/5D,GACtCA,EAAUK,aAAa,cAAgBy5D,IACvCE,EAAYrnE,KAAKunE,mBAAmBn6D,EAAOU,EAAQ4W,EAAOqgD,GAC1Dj3D,EAAO0I,aAAa1I,EAAOwW,gBAAgB+iD,IAEnD,CACAv5D,EAAO7H,aAAa,WAAY8+D,EAAMsC,GACtCJ,EAAuBlhE,SAAQ7F,IAC3B4N,EAAO7H,aAAa/F,GAAM,EAAMmnE,EAAU,IAE9CH,EAAsBnhE,SAAQ7F,IAC1B4N,EAAO1G,gBAAgBlH,EAAMmnE,EAAU,GAE/C,CACJ,IAER,CAOA,2BAAAN,CAA4BY,GACxB,MAAMv6D,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BsK,EAAkBtK,EAAUmK,qBAGlC,OAAIguD,GAAkB7tD,EAAiBvK,EAAMgB,QAClCuJ,EAAgBjK,aAAai6D,GAEjCt6D,EAAUK,aAAai6D,EAClC,CAOA,gBAAAD,CAAiBhjD,EAAO8iD,GACpB,IAAK,MAAMI,KAAgBJ,EAEvB,GAAII,EAAarzC,cAAc7P,GAC3B,OAAO,EAGf,OAAO,CACX,CASA,kBAAA6iD,CAAmBn6D,EAAOU,EAAQ4W,EAAOqgD,GACrC,MAAM3vC,EAAOtnB,EAAOi4B,WAAWg/B,EAAM,CAAE8C,SAAU9C,IACjD,OAAO33D,EAAM44B,cAAc5Q,EAAM1Q,EACrC,EAGJ,SAAS0iD,GAAyB/5D,GAC9B,GAAIA,EAAU2mB,YAAa,CACvB,MAAM4nC,EAAgBvuD,EAAUkK,mBAChC,OAAOqkD,EAAc53B,UAAY43B,EAAc53B,SAAS1gC,IAC5D,CACK,CACD,MAAMwkE,EAAa7mE,MAAMyB,KAAK2K,EAAU4M,gBAAgBsM,YACxD,GAAIuhD,EAAWnnE,OAAS,EACpB,OAAO,KAEX,MAAM0zB,EAAYyzC,EAAW,GAC7B,OAAIzzC,EAAU1e,GAAG,UAAY0e,EAAU1e,GAAG,cAC/B0e,EAAU/wB,KAEd,IACX,CACJ,CC/Qe,MAAMykE,WAAsB,EAAAh7D,QAIvC,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BsK,EAAkBtK,EAAUmK,qBAG9BguD,GAAkB7tD,EAAiBvK,EAAMgB,QACzCpO,KAAKuN,UAAYH,EAAMgB,OAAOC,eAAesJ,EAAiB,YAG9D3X,KAAKuN,UAAYH,EAAMgB,OAAOwsB,0BAA0BvtB,EAAW,WAE3E,CAcA,OAAAM,GACI,MAAMV,EAASjN,KAAKiN,OACdG,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3B26D,EAAc/6D,EAAO+C,SAAS5E,IAAI,QACxCgC,EAAMS,QAAOC,IAET,MAAMm6D,EAAiB56D,EAAU2mB,YAC7B,EAAC,IAAAszC,oBAAmBj6D,EAAUkK,mBAAoB,WAAYlK,EAAUK,aAAa,YAAaN,IAClGA,EAAMgB,OAAOspB,eAAerqB,EAAU0mB,YAAa,YAEvD,IAAK,MAAMrP,KAASujD,EAGhB,GAFAn6D,EAAO1G,gBAAgB,WAAYsd,GAE/BsjD,EACA,IAAK,MAAMlB,KAAmBkB,EAAYrB,iBACtC74D,EAAO1G,gBAAgB0/D,EAAgBnnE,GAAI+kB,EAGvD,GAER,ECnDW,MAAMwjD,YAAwC,IAAAn1B,oBAWzD,WAAAvwC,EAAY,GAAE7C,EAAE,MAAE2R,EAAK,WAAE1L,EAAU,QAAEkS,EAAO,OAAEnP,EAAM,aAAEw/D,IAClDz5D,QACA1O,KAAKL,GAAKA,EACVK,KAAKqR,IAAI,aAASzG,GAClB5K,KAAKmoE,aAAeA,EACpBnoE,KAAKsR,MAAQA,EACbtR,KAAK4F,WAAaA,EAClB5F,KAAK8X,QAAUA,EACf9X,KAAK2I,OAASA,CAClB,CAMA,cAAAy/D,GACI,MAAO,CACHxiE,WAAY5F,KAAK4F,WACjBkS,QAAS9X,KAAK8X,QACdnP,OAAQ3I,KAAK2I,OAErB,iBCrCS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQJ,OCIvB,MACM8/D,GAAsB,YAEtBC,GAAwB,kBAOf,MAAM,WAAoB,EAAA/5D,OAIrC,qBAAWC,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GAEP,MAAO,CAAC,EAAAsoB,qBAAsB,EAAA0sC,MAAO,EAAA7iD,kBACzC,CAIA,WAAAljB,CAAYyK,GACRyB,MAAMzB,GACNA,EAAO0B,OAAOC,OAAO,OAAQ,CACzB45D,yBAAyB,EACzBC,0BAA0B,GAElC,CAIA,IAAA55D,GACI,MAAM5B,EAASjN,KAAKiN,OACdk4D,EAAmBnlE,KAAKiN,OAAO0B,OAAOvD,IAAI,yBAEhD6B,EAAOG,MAAMgB,OAAOY,OAAO,QAAS,CAAEC,gBAAiB,aACvDhC,EAAOmC,WAAWK,IAAI,gBACjBwrB,mBAAmB,CAAE7tB,MAAO,WAAYkC,KAAMw1D,KACnD73D,EAAOmC,WAAWK,IAAI,mBACjBwrB,mBAAmB,CAAE7tB,MAAO,WAAYkC,KAAM,CAACy1D,EAAMlkD,IAC3CikD,GAAkBG,GAAcF,EAAMI,GAAmBtkD,KAExE5T,EAAOmC,WAAWK,IAAI,UACjBquC,mBAAmB,CACpBxuC,KAAM,CACF7M,KAAM,IACNmD,WAAY,CACRm/D,MAAM,IAGd33D,MAAO,CACHpH,IAAK,WACLjE,MAAQiT,GAAgBA,EAAYtH,aAAa,WAIzDT,EAAO+C,SAASxH,IAAI,OAAQ,IAAIk+D,GAAYz5D,IAC5CA,EAAO+C,SAASxH,IAAI,SAAU,IAAIu/D,GAAc96D,IAChD,MAAMy7D,ELjBP,SAAgCh4D,EAAGi4D,GACtC,MAAMC,EAA4B,CAC9B,oBAAqBl4D,EAAE,qBACvB,aAAgBA,EAAE,iBAQtB,OANAi4D,EAAW5iE,SAAQ8iE,IACX,UAAWA,GAAaD,EAA0BC,EAAUv3D,SAC5Du3D,EAAUv3D,MAAQs3D,EAA0BC,EAAUv3D,QAEnDu3D,KAEJF,CACX,CKK+BG,CAAuB77D,EAAOyD,ELAtD,SAA6Bi4D,GAChC,MAAMI,EAAW,GACjB,GAAIJ,EACA,IAAK,MAAO3iE,EAAKjE,KAAUM,OAAO+gD,QAAQulB,GAAa,CACnD,MAAME,EAAYxmE,OAAO69C,OAAO,CAAC,EAAGn+C,EAAO,CAAEpC,GAAI,OAAO,GAAWqG,OACnE+iE,EAAStpE,KAAKopE,EAClB,CAEJ,OAAOE,CACX,CKTgEC,CAAoB/7D,EAAO0B,OAAOvD,IAAI,qBAC9FpL,KAAKipE,2BAA2BP,EAC3BliE,QAAQtG,GAASA,EAAKgpE,OAASb,MACpCroE,KAAKmpE,wBAAwBT,EACxBliE,QAAQtG,GAxEI,WAwEKA,EAAKgpE,QAEQj8D,EAAO8G,QAAQ3I,IAAI,EAAAywB,sBAC3BC,kBAAkB,aAE7C,IAAAC,iBAAgB9uB,EAAQ,WAAY,IA/EpB,oBAiFhBjN,KAAKopE,kBAELppE,KAAKqpE,kCAELrpE,KAAKspE,6BACT,CAUA,0BAAAL,CAA2BM,GACvB,MAAMt8D,EAASjN,KAAKiN,OAId25D,EADU35D,EAAO+C,SAAS5E,IAAI,QACAw7D,oBAEhC35D,EAAO0B,OAAOvD,IAAI,kCAClBw7D,EAAoBp+D,IAAI,CACpB7I,GAAI,iBACJupE,KAAMb,GACNroD,SAAUklD,KAASA,GAAOoD,GAAsB3lE,KAAKuiE,GACrDt/D,WAAY,CACR9B,OAAQ,SACR0lE,IAAK,yBAIjB5C,EAAoBp+D,IAAI+gE,GACpB3C,EAAoBjmE,QACpBsM,EAAOmC,WAAWK,IAAI,YAAYjH,IAAIo+D,EAAoB1C,gBAElE,CAUA,uBAAAiF,CAAwBM,GACpB,IAAKA,EAA2B9oE,OAC5B,OAEJ,MAAMsM,EAASjN,KAAKiN,OAEd05D,EADU15D,EAAO+C,SAAS5E,IAAI,QACHu7D,iBACjC8C,EAA2B1jE,SAAQ2jE,IAC/Bz8D,EAAOG,MAAMgB,OAAOY,OAAO,QAAS,CAAEC,gBAAiBy6D,EAAoB/pE,KAE3E,MAAMkpE,EAAY,IAAIX,GAAgBwB,GACtC/C,EAAiBn+D,IAAIqgE,GACrB57D,EAAOmC,WAAWK,IAAI,YAAYwrB,mBAAmB,CACjD7tB,MAAOy7D,EAAUlpE,GACjB2P,KAAM,CAACq6D,GAAwB77D,SAAQM,WAAYlO,WAE/C,IAAMA,EAAKyV,GAAG,cAAgBvH,EAAOqsC,SAASv6C,KAG1CypE,EAAsB,CACtB,MAAMz1D,EAAUpG,EAAOgvC,uBAAuB,IAAK+rB,EAAUjjE,WAAY,CAAE+U,SAAU,IACjFkuD,EAAU/wD,SACVhK,EAAOoX,SAAS2jD,EAAU/wD,QAAS5D,GAEvC,IAAK,MAAMlO,KAAO6iE,EAAUlgE,OACxBmF,EAAO6V,SAAS3d,EAAK6iE,EAAUlgE,OAAO3C,GAAMkO,GAGhD,OADApG,EAAO4K,kBAAkB,QAAQ,EAAMxE,GAChCA,CACX,KAGRjH,EAAOmC,WAAWK,IAAI,UAAUquC,mBAAmB,CAC/CxuC,KAAM,CACF7M,KAAM,OACHomE,EAAUT,kBAEjBh7D,MAAO,CACHpH,IAAK6iE,EAAUlpE,KAErB,GAEV,CAKA,eAAAypE,GACI,MAAMn8D,EAASjN,KAAKiN,OAEdiS,EADOjS,EAAO2E,QAAQtC,KACFtL,SACpB4lE,EAAoB3D,GAAwBh5D,GAClD,SAAS48D,EAAkB3E,GACnB0E,EAAkBzD,qBAAqBjB,GACvC0E,EAAkBvD,eAAenB,GAGjCa,GAASb,EAEjB,CACAllE,KAAK2R,SAASuN,EAAc,SAAS,CAAC0B,EAAKtd,KAEvC,KADmB,EAAAwmE,IAAIC,MAAQzmE,EAAKqe,SAASqoD,QAAU1mE,EAAKqe,SAASsoD,SAEjE,OAEJ,IAAIC,EAAiB5mE,EAAK6mE,UAI1B,GAH4C,KAAxCD,EAAepoD,QAAQrY,gBACvBygE,EAAiBA,EAAeE,QAAQ,OAEvCF,EACD,OAEJ,MAAMhF,EAAMgF,EAAex8D,aAAa,QACnCw3D,IAGLtkD,EAAIsZ,OACJ52B,EAAK22B,iBACL4vC,EAAkB3E,GAAI,GACvB,CAAE/qC,QAAS,aAEdn6B,KAAK2R,SAASuN,EAAc,WAAW,CAAC0B,EAAKtd,KACzC,MACM4hE,EADcj4D,EAAO+C,SAAS5E,IAAI,QAChBrJ,MACHmjE,GAAO5hE,EAAK+mE,UAAY,EAAAC,SAASC,OAASjnE,EAAKknE,SAIpE5pD,EAAIsZ,OACJ2vC,EAAkB3E,GAAI,GAE9B,CAMA,+BAAAmE,GACI,MACMj8D,EADSpN,KAAKiN,OACCG,MACfC,EAAYD,EAAMpJ,SAASqJ,UACjCrN,KAAK2R,SAAStE,EAAW,oBAAoB,CAACuT,GAAO8wC,oBAC5CA,EAAc7lD,SAAS,cAAewB,EAAUI,aAAa,aAGlEL,EAAMS,QAAOC,IA0CzB,IAAwCM,GATxC,SAA2CN,EAAQ28D,GAC/C38D,EAAO6pB,yBAAyB,YAChC,IAAK,MAAMjO,KAAa+gD,EACpB38D,EAAO6pB,yBAAyBjO,EAExC,CArCgBghD,CAAkC58D,GAyCVM,EAzCiDhB,EAAMgB,OA0CpEA,EAAOu8D,cAAc,SAAS17D,gBAC/BzI,QAAOkjB,GAAaA,EAAUqoC,WAAW,WA3CoC,GACzF,GAEV,CAIA,2BAAAuX,GACI,MAAMr8D,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfu4D,EAAkB3lE,KAAKiN,OAAO0B,OAAOvD,IAAI,wBAC1Cu6D,GAGL3lE,KAAK2R,SAAS1E,EAAO8G,QAAQ3I,IAAI,qBAAsB,oBAAoB,CAACwV,EAAKtd,KAC7E8J,EAAMS,QAAOC,IACT,MAAM4W,EAAQ5W,EAAOoL,cAAc5V,EAAKnD,SACxC,IAAK,MAAMD,KAAQwkB,EAAM6B,WACrB,GAAIrmB,EAAKuN,aAAa,YAAa,CAC/B,MAAMm9D,EAAUnF,GAA4BvlE,EAAKwN,aAAa,YAAai4D,GAC3E73D,EAAO7H,aAAa,WAAY2kE,EAAS1qE,EAC7C,CACJ,GACF,GAEV,iBC3QS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQqI,OCOR,MAAMsiE,WAAqB,EAAA3uD,KAUtC,WAAA1Z,CAAYwJ,EAAQg8D,EAAa8C,GAC7Bp8D,MAAM1C,GAINhM,KAAKmc,aAAe,IAAI,EAAAC,aAIxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBAItBtc,KAAK6c,YAAc,IAAI,EAAAC,eACvB,MAAMpM,EAAI1E,EAAO0E,EACjB1Q,KAAK+qE,YAAcD,EACnB9qE,KAAKgrE,aAAehrE,KAAKirE,kBACzBjrE,KAAKyc,eAAiBzc,KAAKgR,cAAcN,EAAE,QAAS,EAAAP,MAAMuM,MAAO,kBACjE1c,KAAKyc,eAAerS,KAAO,SAC3BpK,KAAK2c,iBAAmB3c,KAAKgR,cAAcN,EAAE,UAAW,EAAAP,MAAMyM,OAAQ,mBAAoB,UAC1F5c,KAAKkrE,yBAA2BlrE,KAAKmrE,+BAA+BnD,GACpEhoE,KAAKmT,SAAWnT,KAAKorE,oBAAoBpD,EAAYrB,kBACrD3mE,KAAK+c,aAAe,IAAI,EAAAC,YAAY,CAChCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,cAEfC,UAAW,SAGnB,MAAMguD,EAAY,CAAC,KAAM,eAAgB,sBACrCrD,EAAYrB,iBAAiBhmE,QAC7B0qE,EAAU5rE,KAAK,+BAAgC,oBAEnDO,KAAKsd,YAAY,CACbC,IAAK,OACL3X,WAAY,CACR2M,MAAO84D,EAEP7tD,SAAU,MAEdrK,SAAUnT,KAAKmT,UAEvB,CAQA,yBAAAm4D,GACI,OAAOrqE,MACFyB,KAAK1C,KAAKkrE,0BACVv1C,QAAO,CAACk1B,EAAa0gB,KACtB1gB,EAAY0gB,EAAa9oE,MAAQ8oE,EAAax4C,KACvC83B,IACR,CAAC,EACR,CAIA,MAAAptC,GACI/O,MAAM+O,UACN,IAAAC,eAAc,CACVpO,KAAMtP,OAES,CACfA,KAAKgrE,gBACFhrE,KAAKkrE,yBACRlrE,KAAKyc,eACLzc,KAAK2c,kBAEE5W,SAAQ4X,IAEf3d,KAAK6c,YAAYrU,IAAImV,GAErB3d,KAAKmc,aAAa3T,IAAImV,EAAEzJ,QAAQ,IAGpClU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,OAAAiF,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAIA,KAAAtH,GACI7R,KAAK+c,aAAa4K,YACtB,CAIA,OAAA6jD,GACIxrE,KAAKyrE,kBACL,IAAK,MAAMC,KAAa1rE,KAAK+qE,YAAa,CACtC,MAAM78B,EAAYw9B,EAAU1rE,MAE5B,GAAIkuC,EAGA,OADAluC,KAAKgrE,aAAa98B,UAAYA,GACvB,CAEf,CACA,OAAO,CACX,CAOA,eAAAu9B,GACIzrE,KAAKgrE,aAAa98B,UAAY,IAClC,CAMA,eAAA+8B,GACI,MAAMv6D,EAAI1Q,KAAKgM,OAAO0E,EAChB6L,EAAe,IAAI,EAAAuB,iBAAiB9d,KAAKgM,OAAQ,EAAA+R,wBAGvD,OAFAxB,EAAa8C,UAAUssD,UAAY,MACnCpvD,EAAajL,MAAQZ,EAAE,YAChB6L,CACX,CAUA,aAAAvL,CAAcM,EAAOC,EAAM/E,EAAWoR,GAClC,MAAMC,EAAS,IAAI,EAAAzM,WAAWpR,KAAKgM,QAcnC,OAbA6R,EAAOxM,IAAI,CACPC,QACAC,OACAC,SAAS,IAEbqM,EAAOvL,eAAe,CAClB1M,WAAY,CACR2M,MAAO/F,KAGXoR,GACAC,EAAO5K,SAAS,WAAWvB,GAAG1R,KAAM4d,GAEjCC,CACX,CAQA,8BAAAstD,CAA+BnD,GAC3B,MAAM4D,EAAW5rE,KAAKunB,mBACtB,IAAK,MAAMu/C,KAAmBkB,EAAYrB,iBAAkB,CACxD,MAAM4E,EAAe,IAAI,EAAA17B,iBAAiB7vC,KAAKgM,QAC/Cu/D,EAAal6D,IAAI,CACb5O,KAAMqkE,EAAgBnnE,GACtB2R,MAAOw1D,EAAgBx1D,MACvBy6B,UAAU,IAEdw/B,EAAa7jE,KAAK,QAAQmhB,OAAO,CAACi+C,EAAiBkB,GAAc,SAAS,CAAC6D,EAAgBvO,SAC/D1yD,IAAjB0yD,QAAiD1yD,IAAnBihE,IAAiC/E,EAAgBqB,eAAiB0D,IAE3GN,EAAar4D,GAAG,WAAW,KACvB4zD,EAAgBz1D,IAAI,SAAUk6D,EAAax4C,KAAK,IAEpD64C,EAASpjE,IAAI+iE,EACjB,CACA,OAAOK,CACX,CAYA,mBAAAR,CAAoBzE,GAChB,MAAMxzD,EAAWnT,KAAKunB,mBAEtB,GADApU,EAAS3K,IAAIxI,KAAKgrE,cACdrE,EAAiBhmE,OAAQ,CACzB,MAAMmrE,EAAwB,IAAI,EAAA5vD,KAClC4vD,EAAsBxuD,YAAY,CAC9BC,IAAK,KACLpK,SAAUnT,KAAKkrE,yBAAyBjrE,KAAIsrE,IAAgB,CACxDhuD,IAAK,KACLpK,SAAU,CAACo4D,GACX3lE,WAAY,CACR2M,MAAO,CACH,KACA,sBAIZ3M,WAAY,CACR2M,MAAO,CACH,KACA,WACA,cAIZY,EAAS3K,IAAIsjE,EACjB,CAGA,OAFA34D,EAAS3K,IAAIxI,KAAKyc,gBAClBtJ,EAAS3K,IAAIxI,KAAK2c,kBACXxJ,CACX,CAOA,OAAI+xD,GACA,MAAM,QAAEhxD,GAAYlU,KAAKgrE,aAAa3rD,UACtC,OAAKnL,EAGEA,EAAQnS,MAAMuZ,OAFV,IAGf,iBCvQS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ/S,OCQR,MAAMwjE,WAAwB,EAAA7vD,KAIzC,WAAA1Z,CAAYwJ,EAAQggE,EAAa,CAAC,EAAGpnE,GACjC8J,MAAM1C,GAINhM,KAAKmc,aAAe,IAAI,EAAAC,aAIxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBAItBtc,KAAK6c,YAAc,IAAI,EAAAC,eACvB,MAAMpM,EAAI1E,EAAO0E,EACjB1Q,KAAK4J,SAAWhF,EAChB5E,KAAKisE,kBAAoBjsE,KAAKksE,uBAC9BlsE,KAAKmsE,iBAAmBnsE,KAAKgR,cAAcN,EAAE,UCzCrD,+zBDyC4E,UACpE1Q,KAAK8gE,eAAiB9gE,KAAKgR,cAAcN,EAAE,aAAc,EAAAP,MAAMwxD,OAAQ,QACvE3hE,KAAKqR,IAAI,YAAQzG,GACjB5K,KAAKosE,YAAcJ,EACnBhsE,KAAK+c,aAAe,IAAI,EAAAC,YAAY,CAChCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,cAEfC,UAAW,SAGnBrd,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,kBACA,sBAGJiL,SAAU,MAEdrK,SAAU,CACNnT,KAAKisE,kBACLjsE,KAAK8gE,eACL9gE,KAAKmsE,mBAGjB,CAIA,MAAA1uD,GACI/O,MAAM+O,SACa,CACfzd,KAAKisE,kBACLjsE,KAAK8gE,eACL9gE,KAAKmsE,kBAEEpmE,SAAQ4X,IAEf3d,KAAK6c,YAAYrU,IAAImV,GAErB3d,KAAKmc,aAAa3T,IAAImV,EAAEzJ,QAAQ,IAGpClU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,OAAAiF,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAIA,KAAAtH,GACI7R,KAAK+c,aAAa4K,YACtB,CASA,aAAA3W,CAAcM,EAAOC,EAAMqM,GACvB,MAAMC,EAAS,IAAI,EAAAzM,WAAWpR,KAAKgM,QAOnC,OANA6R,EAAOxM,IAAI,CACPC,QACAC,OACAC,SAAS,IAEbqM,EAAO5K,SAAS,WAAWvB,GAAG1R,KAAM4d,GAC7BC,CACX,CAMA,oBAAAquD,GACI,MAAMruD,EAAS,IAAI,EAAAzM,WAAWpR,KAAKgM,QAC7BtE,EAAO1H,KAAKgvC,aACZt+B,EAAI1Q,KAAK0Q,EAqCf,OApCAmN,EAAOxM,IAAI,CACP06B,UAAU,IAEdluB,EAAOvL,eAAe,CAClB1M,WAAY,CACR2M,MAAO,CACH,KACA,4BAEJwyD,KAAMr9D,EAAKgK,GAAG,QAAQqzD,GAAQA,GAAQE,GAAcF,EAAM/kE,KAAKosE,YAAYjH,oBAC3ErhE,OAAQ,SACR0lE,IAAK,uBAETt2D,GAAI,CACAm5D,MAAO3kE,EAAKgK,IAAGkP,IACP5gB,KAAK4J,UAAY5J,KAAK4J,SAASu8D,qBAAqBnmE,KAAK+kE,OACzDnkD,EAAIqZ,iBACJj6B,KAAK4J,SAASy8D,eAAermE,KAAK+kE,OAGlCgB,GAAS/lE,KAAK+kE,KAClB,OAIZlnD,EAAOnW,KAAK,WAAWgK,GAAG1R,KAAM,QAAQ+kE,GAChC/kE,KAAK4J,UAAY5J,KAAK4J,SAASu8D,qBAAqBpB,GAC7Cr0D,EAAE,oBAENA,EAAE,0BAEbmN,EAAOnW,KAAK,SAASgK,GAAG1R,KAAM,QAAQ+kE,GAC3BA,GAAQr0D,EAAE,0BAErBmN,EAAOnW,KAAK,aAAagK,GAAG1R,KAAM,QAAQ+kE,KAAUA,IACpDlnD,EAAO2xB,SAASjyB,IAAM,IACfM,CACX,EE3KJ,unBCeA,MAAMyuD,GAA+B,UAOtB,MAAM,WAAe,EAAA/9D,OAChC,WAAA/L,GACIkM,SAAS0G,WAITpV,KAAKusE,YAAc,KAInBvsE,KAAKmwC,SAAW,IACpB,CAIA,mBAAW58B,GACP,MAAO,CAAC,EAAAsL,kBACZ,CAIA,qBAAWrQ,GACP,MAAO,QACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAI1Q,KAAKiN,OAAOyD,EACtBzD,EAAO2E,QAAQtC,KAAKsT,YAAY,EAAA4pD,eAChCxsE,KAAKmf,SAAWlS,EAAO8G,QAAQ3I,IAAI,EAAAyT,mBAEnC7e,KAAKysE,2BACLzsE,KAAK0sE,2BAELz/D,EAAOmC,WAAWK,IAAI,mBAAmBssC,kBAAkB,CACvD3uC,MAAOk/D,GACPh9D,KAAM,CACFwI,QAAS,CAAC,6BAIlB7K,EAAOmC,WAAWK,IAAI,mBAAmBwrD,gBAAgB,CACrD7tD,MAAOk/D,GACPh9D,KAAM,CAAChM,GAAQwK,aACX,IAAKxK,EAAKmhB,YAAYuP,YAClB,OAAO,KAEX,MAAM24C,EAAgB7+D,EAAOqtD,gBAAgB,QAE7C,OADArtD,EAAOoX,SAAS,CAAC,yBAA0B,oCAAqCynD,GACzEA,CAAa,IAI5B1/D,EAAO6pB,cAAcC,kBAAkB,CACnC1a,WAAY,CACR,CACI/K,MAAOZ,EAAE,eACTsmB,UAAW6tC,IAEf,CACIvzD,MAAOZ,EAAE,sBACTsmB,UAAW,CACP,CAAC,YAAa,aACd,CAAC,aAAc,kBAKnC,CAIA,OAAA7d,GACIzK,MAAMyK,UAEFnZ,KAAKmwC,UACLnwC,KAAKmwC,SAASh3B,UAEdnZ,KAAKusE,aACLvsE,KAAKusE,YAAYpzD,SAEzB,CAIA,YAAAyzD,GACI5sE,KAAKusE,YAAcvsE,KAAK6sE,qBACxB7sE,KAAKmwC,SAAWnwC,KAAK2wC,kBAErB3wC,KAAK8sE,gCACT,CAIA,kBAAAD,GACI,MAAM5/D,EAASjN,KAAKiN,OACds/D,EAAc,IAAIR,GAAgB9+D,EAAOjB,OAAQiB,EAAO0B,OAAOvD,IAAI,QAAS66D,GAAwBh5D,IACpG+6D,EAAc/6D,EAAO+C,SAAS5E,IAAI,QAClC2hE,EAAgB9/D,EAAO+C,SAAS5E,IAAI,UAuB1C,OAtBAmhE,EAAY7kE,KAAK,QAAQgK,GAAGs2D,EAAa,SACzCuE,EAAYzL,eAAep5D,KAAK,aAAagK,GAAGs2D,GAChDuE,EAAYJ,iBAAiBzkE,KAAK,aAAagK,GAAGq7D,GAElD/sE,KAAK2R,SAAS46D,EAAa,QAAQ,KAC/BvsE,KAAKgtE,cAAc,IAGvBhtE,KAAK2R,SAAS46D,EAAa,UAAU,KACjCt/D,EAAOU,QAAQ,UACf3N,KAAKitE,SAAS,IAGlBV,EAAYlwD,WAAWhL,IAAI,OAAO,CAAC/N,EAAMsZ,KACrC5c,KAAKitE,UACLrwD,GAAQ,IAGZ2vD,EAAYlwD,WAAWhL,IAAIwzD,IAAgB,CAACvhE,EAAMsZ,KAC9C5c,KAAKgtE,eACLpwD,GAAQ,IAEL2vD,CACX,CAIA,eAAA57B,GACI,MAAM1jC,EAASjN,KAAKiN,OACd+6D,EAAc/6D,EAAO+C,SAAS5E,IAAI,QAClCu6D,EAAkB14D,EAAO0B,OAAOvD,IAAI,wBACpC+kC,EAAW,KAAK,IAAA/wB,4BAA2ByrD,IAAhC,CAA+C59D,EAAOjB,OAAQg8D,EAievF,SAA2B/6D,GACvB,MAAMyD,EAAIzD,EAAOyD,EACX83D,EAA0Bv7D,EAAO0B,OAAOvD,IAAI,gCAClD,MAAO,CACH8hE,IACI,IAAK1E,IAA4B0E,EAAKhI,IAAIvkE,OACtC,OAAO+P,EAAE,8BACb,EAGZ,CA3eoG,CAAkBzD,IA4B9G,OA3BAkjC,EAAS66B,aAAa3rD,UAAU3X,KAAK,SAASgK,GAAGs2D,EAAa,SAE9D73B,EAAS66B,aAAatjE,KAAK,aAAagK,GAAGs2D,EAAa,aAExD73B,EAAS1zB,eAAe/U,KAAK,aAAagK,GAAGs2D,EAAa,aAE1DhoE,KAAK2R,SAASw+B,EAAU,UAAU,KAC9B,GAAIA,EAASq7B,UAAW,CACpB,MAAM,MAAEzpE,GAAUouC,EAAS66B,aAAa3rD,UAAUnL,QAC5Ci5D,EAAY1H,GAA4B1jE,EAAO4jE,GACrD14D,EAAOU,QAAQ,OAAQw/D,EAAWh9B,EAASm7B,6BAC3CtrE,KAAKotE,gBACT,KAGJptE,KAAK2R,SAASw+B,EAAS66B,aAAc,oBAAoB,KACrD/9D,EAAO6D,GAAGtJ,QAAQ,IAGtBxH,KAAK2R,SAASw+B,EAAU,UAAU,KAC9BnwC,KAAKotE,gBAAgB,IAGzBj9B,EAAS9zB,WAAWhL,IAAI,OAAO,CAAC/N,EAAMsZ,KAClC5c,KAAKotE,iBACLxwD,GAAQ,IAELuzB,CACX,CAKA,wBAAAs8B,GACI,MAAMx/D,EAASjN,KAAKiN,OACpBA,EAAO6D,GAAGC,iBAAiBvI,IAAI,QAAQ,KACnC,MAAMqV,EAAS7d,KAAKgR,cAAc,EAAAI,YAIlC,OAHAyM,EAAOxM,IAAI,CACPG,SAAS,IAENqM,CAAM,IAEjB5Q,EAAO6D,GAAGC,iBAAiBvI,IAAI,gBAAgB,KAC3C,MAAMqV,EAAS7d,KAAKgR,cAAc,EAAAgC,+BAIlC,OAHA6K,EAAOxM,IAAI,CACPwB,KAAM,qBAEHgL,CAAM,GAErB,CAIA,aAAA7M,CAAcwpB,GACV,MAAMvtB,EAASjN,KAAKiN,OACdjB,EAASiB,EAAOjB,OAChBkF,EAAUjE,EAAO+C,SAAS5E,IAAI,QAC9BkE,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAC9B0E,EAAI1E,EAAO0E,EAWjB,OAVApB,EAAK+B,IAAI,CACLC,MAAOZ,EAAE,QACTa,KAAM,GACNylB,UAAW6tC,GACXpzD,cAAc,IAElBnC,EAAK5H,KAAK,aAAagK,GAAGR,EAAS,aACnC5B,EAAK5H,KAAK,QAAQgK,GAAGR,EAAS,SAASnP,KAAWA,IAElD/B,KAAK2R,SAASrC,EAAM,WAAW,IAAMtP,KAAKqtE,SAAQ,KAC3C/9D,CACX,CAKA,wBAAAo9D,GACI,MAAMz/D,EAASjN,KAAKiN,OACdiS,EAAejS,EAAO2E,QAAQtC,KAAKtL,SAGzChE,KAAK2R,SAASuN,EAAc,SAAS,KACdlf,KAAKstE,2BAGpBttE,KAAKqtE,SACT,IAGJpgE,EAAOoP,WAAWhL,IAAIwzD,IAAgB,CAAC0I,EAAY3wD,KAE/CA,IACI3P,EAAO+C,SAAS5E,IAAI,QAAQmC,WAC5BvN,KAAKqtE,SAAQ,EACjB,GAER,CAKA,8BAAAP,GAEI9sE,KAAKiN,OAAOoP,WAAWhL,IAAI,OAAO,CAAC/N,EAAMsZ,KACjC5c,KAAKwtE,qBAAuBxtE,KAAKusE,YAAYpwD,aAAamE,YAC1DtgB,KAAKusE,YAAY16D,QACjB+K,IACJ,GACD,CAICjC,SAAU,SAGd3a,KAAKiN,OAAOoP,WAAWhL,IAAI,OAAO,CAAC/N,EAAMsZ,KACjC5c,KAAKytE,eACLztE,KAAKitE,UACLrwD,IACJ,KAGJ,IAAAgD,qBAAoB,CAChBC,QAAS7f,KAAKmwC,SACdrwB,UAAW,IAAM9f,KAAK0tE,aACtB3tD,gBAAiB,IAAM,CAAC/f,KAAKmf,SAAS7P,KAAK4E,SAC3C8L,SAAU,IAAMhgB,KAAKitE,WAE7B,CAMA,eAAAU,GACS3tE,KAAKusE,aACNvsE,KAAK4sE,eAEL5sE,KAAK4tE,oBAGT5tE,KAAKmf,SAAS3W,IAAI,CACd8G,KAAMtP,KAAKusE,YACX9sD,SAAUzf,KAAK6tE,2BAEvB,CAIA,YAAAb,GAII,GAHKhtE,KAAKmwC,UACNnwC,KAAK4sE,eAEL5sE,KAAK8tE,eACL,OAEJ,MACM9F,EADShoE,KAAKiN,OACO+C,SAAS5E,IAAI,QACxCpL,KAAKmwC,SAASlwB,wBACdjgB,KAAKmwC,SAASs7B,kBACdzrE,KAAKmf,SAAS3W,IAAI,CACd8G,KAAMtP,KAAKmwC,SACX1wB,SAAUzf,KAAK6tE,4BAQnB7tE,KAAKmwC,SAAS66B,aAAa3rD,UAAUtd,MAAQimE,EAAYjmE,OAAS,GAE9D/B,KAAKmf,SAASoB,cAAgBvgB,KAAKmwC,UACnCnwC,KAAKmwC,SAAS66B,aAAa3rD,UAAUc,SAEzCngB,KAAKmwC,SAAS/vB,sBAClB,CAQA,cAAAgtD,GACI,MAAMpF,EAAchoE,KAAKiN,OAAO+C,SAAS5E,IAAI,QAG7C48D,EAAYnB,oCACcj8D,IAAtBo9D,EAAYjmE,MACZ/B,KAAK+tE,kBAGL/tE,KAAKitE,SAEb,CAIA,eAAAc,GACQ/tE,KAAK8tE,iBAGL9tE,KAAKmwC,SAAS1zB,eAAe5K,QAE7B7R,KAAKmwC,SAAS66B,aAAa3rD,UAAU4uB,QACrCjuC,KAAKmf,SAASxY,OAAO3G,KAAKmwC,UAG1BnwC,KAAKiN,OAAO2E,QAAQtC,KAAKuC,QACzB7R,KAAKguE,2BAEb,CAMA,OAAAX,CAAQY,GAAe,GACdjuE,KAAKmwC,UACNnwC,KAAK4sE,eAGJ5sE,KAAKstE,2BAcFttE,KAAKwtE,mBACLxtE,KAAKgtE,eAILhtE,KAAK2tE,kBAGLM,GACAjuE,KAAKmf,SAAS+uD,UAAU,UApB5BluE,KAAKmuE,2BACLnuE,KAAK2tE,kBAEDM,GACAjuE,KAAKmf,SAAS+uD,UAAU,QAE5BluE,KAAKgtE,gBAkBThtE,KAAKouE,kBACT,CAMA,OAAAnB,GACI,IAAKjtE,KAAK0tE,aACN,OAEJ,MAAMzgE,EAASjN,KAAKiN,OACpBjN,KAAKoX,cAAcnK,EAAO6D,GAAI,UAC9B9Q,KAAKoX,cAAcpX,KAAKmf,SAAU,sBAGlClS,EAAO2E,QAAQtC,KAAKuC,QAEpB7R,KAAK+tE,kBAEL/tE,KAAKmf,SAASxY,OAAO3G,KAAKusE,aAC1BvsE,KAAKguE,0BACT,CAOA,gBAAAI,GACI,MAAMnhE,EAASjN,KAAKiN,OACdiS,EAAejS,EAAO2E,QAAQtC,KAAKtL,SACzC,IAAIqqE,EAAmBruE,KAAKstE,0BACxBgB,EAAsBC,IAC1B,MAAM/mE,EAAS,KACX,MAAMgnE,EAAexuE,KAAKstE,0BACpBmB,EAAkBF,IAWnBF,IAAqBG,IACpBH,GAAoBI,IAAoBH,EAC1CtuE,KAAKitE,UAMAjtE,KAAKytE,cAIVztE,KAAKmf,SAASO,eAAe1f,KAAK6tE,2BAEtCQ,EAAmBG,EACnBF,EAAsBG,CAAe,EAEzC,SAASF,IACL,OAAOrvD,EAAa7R,UAAUwE,MAAMwG,eAC/B8d,UACAhE,MAAM9W,GAASA,EAAK1F,GAAG,YAChC,CACA3V,KAAK2R,SAAS1E,EAAO6D,GAAI,SAAUtJ,GACnCxH,KAAK2R,SAAS3R,KAAKmf,SAAU,qBAAsB3X,EACvD,CAIA,kBAAIsmE,GACA,QAAS9tE,KAAKmwC,UAAYnwC,KAAKmf,SAASqB,QAAQxgB,KAAKmwC,SACzD,CAIA,sBAAIy9B,GACA,QAAS5tE,KAAKusE,aAAevsE,KAAKmf,SAASqB,QAAQxgB,KAAKusE,YAC5D,CAKA,sBAAIiB,GACA,QAASxtE,KAAKusE,aAAevsE,KAAKmf,SAASoB,cAAgBvgB,KAAKusE,WACpE,CAIA,gBAAImB,GACA,OAAO1tE,KAAK8tE,gBAAkB9tE,KAAK4tE,kBACvC,CAKA,gBAAIH,GACA,MAAMltD,EAAcvgB,KAAKmf,SAASoB,YAClC,QAASvgB,KAAKmwC,UAAY5vB,GAAevgB,KAAKmwC,UAAYnwC,KAAKwtE,kBACnE,CAQA,uBAAAK,GACI,MAAMv+D,EAAOtP,KAAKiN,OAAO2E,QAAQtC,KAC3BlC,EAAQpN,KAAKiN,OAAOG,MACpB8R,EAAe5P,EAAKtL,SAC1B,IAAIF,EACJ,GAAIsJ,EAAM6W,QAAQhQ,IAAIq4D,IAA+B,CAEjD,MAAMoC,EAAqBztE,MAAMyB,KAAK1C,KAAKiN,OAAO2E,QAAQoP,OAAO2tD,qBAAqBrC,KAChF1xB,EAAWtrC,EAAKumB,YAAYvmB,EAAKqpB,qBAAqB+1C,EAAmB,IAAKp/D,EAAKiT,oBAAoBmsD,EAAmBA,EAAmB/tE,OAAS,KAC5JmD,EAASwL,EAAK4O,aAAay9B,eAAef,EAC9C,MAMI92C,EAAS,KACL,MAAM8qE,EAAa5uE,KAAKstE,0BACxB,OAAOsB,EAEHt/D,EAAK4O,aAAaC,aAAaywD,GAE/Bt/D,EAAK4O,aAAay9B,eAAez8B,EAAa7R,UAAU4M,gBAAgB,EAGpF,MAAO,CAAEnW,SACb,CAUA,uBAAAwpE,GACI,MAAMh+D,EAAOtP,KAAKiN,OAAO2E,QAAQtC,KAC3BjC,EAAYiC,EAAKtL,SAASqJ,UAC1BsK,EAAkBtK,EAAUmK,qBAElC,GAAInK,EAAU2mB,aAAerc,IAAmB,IAAAoB,UAASpB,GACrD,OAAOk3D,GAAwBxhE,EAAUkK,oBAExC,CAGD,MAAMmN,EAAQrX,EAAU4M,gBAAgB60D,aAClCC,EAAYF,GAAwBnqD,EAAMzM,OAC1C+2D,EAAUH,GAAwBnqD,EAAMnK,KAC9C,OAAKw0D,GAAaA,GAAaC,GAI3B1/D,EAAK4J,cAAc61D,GAAWD,aAAat6C,QAAQ9P,GAC5CqqD,EAJA,IASf,CACJ,CAMA,wBAAAZ,GACI,MAAM/gE,EAAQpN,KAAKiN,OAAOG,MAC1BA,EAAMS,QAAOC,IACT,MAAM4W,EAAQtX,EAAMpJ,SAASqJ,UAAU4M,gBACvC,GAAI7M,EAAM6W,QAAQhQ,IAAIq4D,IAClBx+D,EAAO8W,aAAa0nD,GAA8B,CAAE5nD,eAGpD,GAAIA,EAAMzM,MAAMugB,QAAS,CACrB,MAAMe,EAAgB7U,EAAMzM,MAAMg3D,yBAAwB,EAAG/uE,WAAYkN,EAAMgB,OAAO+mD,UAAUj1D,IAAO,CAAEgvE,WAAYxqD,IACrH5W,EAAO0oC,UAAU81B,GAA8B,CAC3C71B,gBAAgB,EAChB3E,aAAa,EACbptB,MAAO5W,EAAO+nB,YAAY0D,EAAe7U,EAAMnK,MAEvD,MAEIzM,EAAO0oC,UAAU81B,GAA8B,CAC3C71B,gBAAgB,EAChB3E,aAAa,EACbptB,SAGZ,GAER,CAIA,wBAAAspD,GACI,MAAM5gE,EAAQpN,KAAKiN,OAAOG,MACtBA,EAAM6W,QAAQhQ,IAAIq4D,KAClBl/D,EAAMS,QAAOC,IACTA,EAAOslC,aAAak5B,GAA6B,GAG7D,EAQJ,SAASuC,GAAwBpvD,GAC7B,OAAOA,EAASpH,eAAe8Z,MAAM5Z,IAAa42D,OZlmBxB9zD,EYkmBsC9C,GZjmBpD5C,GAAG,uBAAyB0F,EAAKvC,kBAAkB,QAD5D,IAAuBuC,CYkmB+C,KAAK,IAClF,CChnBA,MAEM+zD,GAAc,IAAI91D,OAExB,oaA0CU,KAKK,MAAM,WAAiB,EAAA/K,OAIlC,mBAAWgF,GACP,MAAO,CAAC,EAAAoG,OAAQ,GACpB,CAIA,qBAAWnL,GACP,MAAO,UACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MACMxB,EADSrN,KAAKiN,OACKG,MAAMpJ,SAASqJ,UACxCA,EAAU6F,GAAG,gBAAgB,KAEzBlT,KAAKuN,WAAaF,EAAU62B,OAAOxtB,OAAOf,GAAG,UAAW,YAAY,IAExE3V,KAAKqvE,uBACT,CAIA,SAAArsD,GACIhjB,KAAKsvE,uBACLtvE,KAAKuvE,4BACLvvE,KAAKwvE,qBACT,CAMA,gBAAAC,CAAiBriE,EAAOqS,GACpB,OAAIA,EAASukB,UAAYvkB,EAASukB,SAASv2B,aAAa,aAC7C,IAAA65D,oBAAmB7nD,EAAU,WAAYA,EAASukB,SAASt2B,aAAa,YAAaN,GAGrF,IAEf,CAIA,kBAAAsiE,CAAmB5hE,EAAQ6hE,GACvB,MACMviE,EADSpN,KAAKiN,OACCG,MACfC,EAAYD,EAAMpJ,SAASqJ,UAC3BuiE,EAAWviE,EAAUkK,mBACrBs4D,EAASxiE,EAAU2sB,kBACzB,IAAI81C,EAAmBH,EAAchrD,UAAU3kB,KAAKyvE,iBAAiBriE,EAAOwiE,IAAaD,GACrFG,IACAA,EAAmBA,EAAiBnrD,UAAU3kB,KAAKyvE,iBAAiBriE,EAAOyiE,IAAWF,IAEtFG,IAAqBA,EAAiB73D,MAAM2+B,SAASg5B,IAAaE,EAAiBv1D,IAAIiiD,QAAQqT,KAE/F/hE,EAAO0I,aAAas5D,EAE5B,CAIA,mBAAAN,GACI,MAAMviE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfC,EAAYD,EAAMpJ,SAASqJ,UAC3B0M,EAAoB9M,EAAO8G,QAAQ3I,IAAI,qBACvC48D,EAAc/6D,EAAO+C,SAAS5E,IAAI,QACxC2O,EAAkB7G,GAAG,uBAAuB,CAAC0N,EAAKtd,KAC9C,IAAKtD,KAAKuN,YAAcy6D,EAAYz6D,WAAaF,EAAU2mB,aAA+B,UAAhB1wB,EAAK8jB,OAE3E,OAEJ,GAAI/Z,EAAU0iE,WAAa,EAEvB,OAEJ,MAAMJ,EAAgBtiE,EAAU4M,gBAC1B2wD,EAAUtnE,EAAK+lC,aAAaC,QAAQ,cAC1C,IAAKshC,EAED,OAEJ,MAAMnY,EAAUmY,EAAQrvD,MAAM6zD,IAE1B3c,GAAWA,EAAQ,KAAOmY,IAC1Bx9D,EAAMS,QAAOC,IACT9N,KAAK0vE,mBAAmB5hE,EAAQ6hE,GAChC3H,EAAYr6D,QAAQi9D,EAAQ,IAEhChqD,EAAIsZ,OACR,GACD,CAAEvf,SAAU,QACnB,CAIA,qBAAA00D,GACI,MAAMpiE,EAASjN,KAAKiN,OACd+iE,EAAU,IAAI,EAAAC,YAAYhjE,EAAOG,OAAOgoB,IAE1C,IAsGZ,SAA+BA,GAC3B,OAAOA,EAAKz0B,OA1Q0B,GA0Q8C,MAA1By0B,EAAKA,EAAKz0B,OAAS,IAAwC,MAA1By0B,EAAKA,EAAKz0B,OAAS,EAClH,CAxGiBuvE,CAAsB96C,GACvB,OAGJ,MAAM8vC,EAAMiL,GAAgB/6C,EAAKV,OAAO,EAAGU,EAAKz0B,OAAS,IACzD,OAAIukE,EACO,CAAEA,YADb,CAEA,IAEJ8K,EAAQ98D,GAAG,gBAAgB,CAAC0N,EAAKtd,KAC7B,MAAM,MAAE2T,EAAK,MAAEyN,EAAK,IAAEwgD,GAAQ5hE,EAC9B,IAAK2T,EAAMm5D,SACP,OAEJ,MAAMC,EAAU3rD,EAAMnK,IAAI+b,cAAc,GAClCg6C,EAAYD,EAAQ/5C,cAAc4uC,EAAIvkE,QACtC0mE,EAAYp6D,EAAOG,MAAMyoB,YAAYy6C,EAAWD,GACtDrwE,KAAKuwE,eAAerL,EAAKmC,EAAU,IAEvC2I,EAAQtoE,KAAK,aAAagK,GAAG1R,KACjC,CAIA,oBAAAsvE,GACI,MAAMriE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACf6vD,EAAehwD,EAAO+C,SAAS5E,IAAI,SACpC6xD,GAGLA,EAAa/pD,GAAG,WAAW,KACvB,MAAMuM,EAAWrS,EAAMpJ,SAASqJ,UAAUkK,mBAC1C,IAAKkI,EAAS/I,OAAO4jB,gBACjB,OAEJ,MAAMk2C,EAAepjE,EAAM8L,cAAcuG,EAAS/I,OAAO4jB,iBACzDt6B,KAAKywE,8BAA8BD,EAAa,GAExD,CAIA,yBAAAjB,GACI,MAAMtiE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfsjE,EAAoBzjE,EAAO+C,SAAS5E,IAAI,cACzCslE,GAGLA,EAAkBx9D,GAAG,WAAW,KAC5B,MAAMuM,EAAWrS,EAAMpJ,SAASqJ,UAAUkK,mBACpCi5D,EAAepjE,EAAMyoB,YAAYzoB,EAAMwnB,iBAAiBnV,EAAS/I,OAAQ,GAAI+I,EAAS6W,cAAc,IAC1Gt2B,KAAKywE,8BAA8BD,EAAa,GAExD,CAIA,6BAAAC,CAA8BD,GAC1B,MAAMpjE,EAAQpN,KAAKiN,OAAOG,OACpB,KAAEgoB,EAAI,MAAE1Q,IAAU,IAAAisD,iBAAgBH,EAAcpjE,GAChD83D,EAAMiL,GAAgB/6C,GAC5B,GAAI8vC,EAAK,CACL,MAAMmC,EAAYj6D,EAAMyoB,YAAYnR,EAAMnK,IAAI+b,cAAc4uC,EAAIvkE,QAAS+jB,EAAMnK,KAC/Eva,KAAKuwE,eAAerL,EAAKmC,EAC7B,CACJ,CAOA,cAAAkJ,CAAerL,EAAKxgD,GAChB,MAAMtX,EAAQpN,KAAKiN,OAAOG,MAEpBwjE,EAAUnL,GAA4BP,EADpBllE,KAAKiN,OAAO0B,OAAOvD,IAAI,yBAE1CpL,KAAKuN,WA+BlB,SAA8BmX,EAAOtX,GACjC,OAAOA,EAAMgB,OAAOwsB,0BAA0BxtB,EAAMkX,gBAAgBI,GAAQ,WAChF,CAjCgCmsD,CAAqBnsD,EAAOtX,IAAW04D,GAAgB8K,KAkCvF,SAA0BlsD,GACtB,MAAMxkB,EAAOwkB,EAAMzM,MAAM4U,UACzB,QAAS3sB,GAAQA,EAAKuN,aAAa,WACvC,CArCmGqjE,CAAiBpsD,IAG5G1kB,KAAK+wE,iBAAiBH,EAASlsD,EACnC,CAOA,gBAAAqsD,CAAiB7L,EAAKxgD,GAClB,MAAMtX,EAAQpN,KAAKiN,OAAOG,MACpB4jE,EAAehxE,KAAKiN,OAAO8G,QAAQ3I,IAAI,UAE7CgC,EAAM4J,eAAclJ,IAChBA,EAAO7H,aAAa,WAAYi/D,EAAKxgD,GACrCtX,EAAM4J,eAAc,KAChBg6D,EAAan1D,wBAAwB,GACvC,GAEV,EAMJ,SAASs0D,GAAgB/6C,GACrB,MAAM7Z,EAAQ6zD,GAAY36C,KAAKW,GAC/B,OAAO7Z,EAAQA,EA/NQ,GA+NoB,IAC/C,CCzQe,MAAM01D,WAAyB,EAAA1iE,OAI1C,mBAAWgF,GACP,MAAO,CAAC,eAAgB,aAAc,GAC1C,CAIA,qBAAW/E,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,SAAAuU,GACI,MAAM/V,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACxBnB,EAAO8G,QAAQE,IAAI,sBACnB7F,EAAOY,OAAO,aAAc,CAAEC,gBAAiB,CAAC,cAEpDhC,EAAOmC,WAAWK,IAAI,UAAUjH,IA2CxC,SAAoByE,GAChB,MAAMikE,EAA4BjkE,EAAO8G,QAAQE,IAAI,sBAC/CH,EAAa7G,EAAO8G,QAAQ3I,IAAI,cACtC,OAAO+V,IACHA,EAAWjO,GAAG,aAAa,CAAC0N,EAAKtd,EAAMud,KACnC,MAAM4zC,EAAWnxD,EAAK2iB,SAChBkrD,EAAcr9D,EAAW+E,mBAAmB47C,GAClD,IAAK0c,EACD,OAEJ,MAAMC,EAAiBD,EAAY98D,cAAaH,GAAWJ,EAAWQ,iBAAiBJ,KAUvF,GAAIg9D,IAA8BE,EAC9B,OAKJ,IAAKvwD,EAAcC,WAAWC,QAAQ0zC,EAFT,CAAE7uD,WAAY,CAAC,UAIxC,OAEJ,MAAMiiE,EAAWpT,EAAS/mD,aAAa,QAEvC,IAAKm6D,EACD,OAIJ,IAAIryD,EAAelS,EAAK8iB,YAAY1P,OACpC,IAAKlB,EAAaG,GAAG,UAAW,cAAe,CAE3C,MAAMuQ,EAAmBrF,EAAcsF,YAAYgrD,EAAa7tE,EAAK8iB,aAErE9iB,EAAKgjB,WAAaJ,EAAiBI,WAEnChjB,EAAK8iB,YAAcF,EAAiBE,YACpC5Q,EAAelS,EAAK8iB,YAAYue,UACpC,CACInvB,GAAgBA,EAAaG,GAAG,UAAW,eAE3CkL,EAAc/S,OAAO7H,aAAa,WAAY4hE,EAAUryD,EAC5D,GACD,CAAEmF,SAAU,QAAS,CAIhC,CAlG4C02D,CAAWpkE,IAC/CA,EAAOmC,WAAWK,IAAI,YAAYjH,IAqG1C,SAA2ByE,GACvB,MAAM6G,EAAa7G,EAAO8G,QAAQ3I,IAAI,cACtC,OAAO+V,IACHA,EAAWjO,GAAG,iCAAiC,CAAC0N,EAAKtd,EAAMud,KACvD,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAGJ,MAAM4hE,EAAaxjD,EAAcG,OAAOC,cAAc3d,EAAKpD,MACrD4N,EAAS+S,EAAc/S,OAEvBw2D,EAAcrjE,MAAMyB,KAAK2hE,EAAWx9C,eACrCsL,MAAM2H,GAAUA,EAAMnkB,GAAG,UAAW,OACnCqQ,EAAYlS,EAAW+E,mBAAmBwrD,GAE1CiN,EAAmBtrD,EAAUtP,OAAOf,GAAG,UAAW,WAAaqQ,EAAUtP,OAASsP,EAExF,GAAIs+C,EACIhhE,EAAK4d,kBACLpT,EAAO7H,aAAa,OAAQ3C,EAAK4d,kBAAmBojD,IAGpDx2D,EAAO8qB,KAAK9qB,EAAO0W,cAAc8sD,GAAmBxjE,EAAO8mB,iBAAiByvC,EAAY,IACxFv2D,EAAOnH,OAAO29D,QAGjB,CAGD,MAAMU,EAAcl3D,EAAO2F,uBAAuB,IAAK,CAAEsxD,KAAMzhE,EAAK4d,oBAEpEpT,EAAO5H,OAAO4H,EAAO8mB,iBAAiByvC,EAAY,GAAIW,GAEtDl3D,EAAO8qB,KAAK9qB,EAAO0W,cAAc8sD,GAAmBxjE,EAAO8mB,iBAAiBowC,EAAa,GAC7F,IACD,CAAErqD,SAAU,QAAS,CAEhC,CA1I8C42D,CAAkBtkE,IAExDjN,KAAKipE,6BACLjpE,KAAKmpE,yBACT,CAKA,0BAAAF,GACI,MAAMh8D,EAASjN,KAAKiN,OAEd25D,EADU35D,EAAO+C,SAAS5E,IAAI,QACAw7D,oBAChCA,EAAoBjmE,QACpBsM,EAAOmC,WAAWK,IAAI,YAAYjH,IAAIo+D,EAAoBxC,8BAElE,CAKA,uBAAA+E,GACI,MAAMl8D,EAASjN,KAAKiN,OACdiE,EAAUjE,EAAO+C,SAAS5E,IAAI,QACpC,IAAK,MAAMy9D,KAAa33D,EAAQy1D,iBACxB15D,EAAO8G,QAAQE,IAAI,sBACnBhH,EAAOG,MAAMgB,OAAOY,OAAO,aAAc,CAAEC,gBAAiB45D,EAAUlpE,KAEtEsN,EAAO8G,QAAQE,IAAI,uBACnBhH,EAAOG,MAAMgB,OAAOY,OAAO,cAAe,CAAEC,gBAAiB45D,EAAUlpE,KAE3EsN,EAAOmC,WAAWK,IAAI,YAAYjH,IAAIgpE,GAAiC3I,IACvE57D,EAAOmC,WAAWK,IAAI,UAAUjH,IAAIipE,GAA+BxkE,EAAQ47D,GAEnF,EA4GJ,SAAS2I,GAAiC3I,GACtC,OAAO1nD,IACHA,EAAWjO,GAAG,aAAa21D,EAAUlpE,iBAAiB,CAACihB,EAAKtd,EAAMud,KAC9D,MAAMwjD,EAAaxjD,EAAcG,OAAOC,cAAc3d,EAAKpD,MACrDokE,EAAcrjE,MAAMyB,KAAK2hE,EAAWx9C,eACrCsL,MAAM2H,GAAUA,EAAMnkB,GAAG,UAAW,OAIzC,GAAK2uD,EAAL,CAGA,IAAK,MAAOt+D,EAAKw+D,KAAQ,IAAAD,OAAMsE,EAAUjjE,YACrCib,EAAc/S,OAAO7H,aAAaD,EAAKw+D,EAAKF,GAE5CuE,EAAU/wD,SACV+I,EAAc/S,OAAOoX,SAAS2jD,EAAU/wD,QAASwsD,GAErD,IAAK,MAAMt+D,KAAO6iE,EAAUlgE,OACxBkY,EAAc/S,OAAO6V,SAAS3d,EAAK6iE,EAAUlgE,OAAO3C,GAAMs+D,EAR9D,CASA,GACF,CAEV,CAIA,SAASmN,GAA+BxkE,EAAQ47D,GAC5C,MAAMqI,EAA4BjkE,EAAO8G,QAAQE,IAAI,sBAC/CH,EAAa7G,EAAO8G,QAAQ3I,IAAI,cACtC,OAAO+V,IACHA,EAAWjO,GAAG,aAAa,CAAC0N,EAAKtd,EAAMud,KACnC,MAAM4zC,EAAWnxD,EAAK2iB,SAChBkrD,EAAcr9D,EAAW+E,mBAAmB47C,GAGlD,IAAK0c,EACD,OAEJ,MAAMC,EAAiBD,EAAY98D,cAAaH,GAAWJ,EAAWQ,iBAAiBJ,KACvF,GAAIg9D,IAA8BE,EAC9B,OAEJ,MACM1sE,EADU,IAAI,EAAAgrD,QAAQmZ,EAAUT,kBACf7sD,MAAMk5C,GAE7B,IAAK/vD,EACD,OAGJ,IAAKmc,EAAcC,WAAWC,QAAQ0zC,EAAU/vD,EAAO6W,OACnD,OAMJ,MAAM/F,EAAelS,EAAK8iB,YAAYue,YAAcrhC,EAAK8iB,YAAY1P,OACrEmK,EAAc/S,OAAO7H,aAAa4iE,EAAUlpE,IAAI,EAAM6V,EAAa,GACpE,CAAEmF,SAAU,QAAS,CAGhC,CCvOe,MAAM+2D,WAAoB,EAAAnjE,OAIrC,mBAAWgF,GACP,MAAO,CAAC,GAAa,GAAQ,oBACjC,CAIA,qBAAW/E,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdiS,EAAejS,EAAO2E,QAAQtC,KAAKtL,SACzChE,KAAK2R,SAASuN,EAAc,SAAS,CAAC0B,EAAKtd,KACnCtD,KAAK2xE,uBAAuB1kE,EAAOG,MAAMpJ,SAASqJ,aAElD/J,EAAK22B,iBAGLrZ,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK4xE,+BACT,CAQA,6BAAAA,GACI,MAAM3kE,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACjBzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,aAAawD,IACxC,MAAM6R,EAAS,IAAI,EAAAzM,WAAWpF,GACxB6nB,EAAS5mB,EAAO8G,QAAQ3I,IAAI,UAC5B48D,EAAc/6D,EAAO+C,SAAS5E,IAAI,QAqBxC,OApBAyS,EAAOxM,IAAI,CACP9D,WAAW,EACX+D,MAAOZ,EAAE,cACTa,KAAM,GACNylB,UAAW6tC,GACXrzD,SAAS,EACTC,cAAc,IAGlBoM,EAAOnW,KAAK,aAAagK,GAAGs2D,EAAa,aACzCnqD,EAAOnW,KAAK,QAAQgK,GAAGs2D,EAAa,SAASjmE,KAAWA,IAExD/B,KAAK2R,SAASkM,EAAQ,WAAW,KACzB7d,KAAK2xE,uBAAuB1kE,EAAOG,MAAMpJ,SAASqJ,WAClDwmB,EAAO85C,kBAGP95C,EAAOw5C,SAAQ,EACnB,IAEGxvD,CAAM,GAErB,CAKA,sBAAA8zD,CAAuBtkE,GACnB,MAAMwkE,EAAuBxkE,EAAUmK,qBAEvC,OADmBxX,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACzBmK,QAAQs8D,IAAyBA,EAAqBpkE,aAAa,WACzF,iBC5FS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQlF,OCKR,MAAMupE,WAAkB,EAAAvjE,OAInC,mBAAWgF,GACP,MAAO,CAAC09D,GAAkBS,GAC9B,CAIA,qBAAWljE,GACP,MAAO,WACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECvBW,MAAMsjE,GAejB,WAAAvvE,CAAYwvE,EAAcptE,GACtB5E,KAAKiyE,cAAgBD,EACrBhyE,KAAKkyE,iBAAmBF,EAAatkE,aAAa,cAClD1N,KAAKmyE,WAAkC,WAArBvtE,EAAQw1B,UAC1Bp6B,KAAKoyE,eAAiBxtE,EAAQytE,YAC9BryE,KAAKsyE,iBAAkB,IAAAjwD,SAAQzd,EAAQ2tE,gBAAkB,IACzDvyE,KAAKwyE,cAAgB5tE,EAAQ6tE,WAC7BzyE,KAAK0yE,eAAiB9tE,EAAQ+tE,YAC9B3yE,KAAK4yE,gBAAkBhuE,EAAQiuE,YACnC,CAeA,YAAO1lE,CAAM6kE,EAAcptE,GACvB,MACMtD,EADS,IAAItB,KAAKgyE,EAAcptE,GACdvD,OAAOC,YAC/B,OAAO,IAAA6L,OAAM7L,EACjB,CAIA,EAAED,OAAOC,YACL,MAAMwxE,EAAc,GACpB,IAAK,MAAM,KAAEz3D,KAAU03D,GAAyB/yE,KAAKgzE,gBAAiBhzE,KAAKmyE,WAAa,UAAY,YAAa,CAC7G,MAAMloC,EAAS5uB,EAAK3N,aAAa,cAEjC,GAAIu8B,EAASjqC,KAAKkyE,iBAAkB,CAEhC,IAAKlyE,KAAK0yE,aACN,MAGJ1yE,KAAKkyE,iBAAmBjoC,CAC5B,MAEK,GAAIA,EAASjqC,KAAKkyE,iBAAkB,CAErC,IAAKlyE,KAAK4yE,cACN,SAGJ,IAAK5yE,KAAKmyE,WAAY,CAClBW,EAAYrzE,KAAK4b,GACjB,QACJ,CACJ,KAEK,CAED,IAAKrb,KAAKwyE,YAAa,CAEnB,GAAIxyE,KAAK4yE,cAAe,CAEhBE,EAAYnyE,eACLmyE,EACPA,EAAYnyE,OAAS,GAEzB,KACJ,CACA,QACJ,CAEA,GAAIX,KAAKsyE,gBAAgB1lE,MAAKklD,GAAQz2C,EAAK3N,aAAaokD,KAAU9xD,KAAKiyE,cAAcvkE,aAAaokD,KAC9F,KAER,CAEIghB,EAAYnyE,eACLmyE,EACPA,EAAYnyE,OAAS,SAEnB0a,CACV,CACJ,CAIA,aAAA23D,GACI,OAAIhzE,KAAKoyE,aACEpyE,KAAKiyE,cAETjyE,KAAKmyE,WACRnyE,KAAKiyE,cAAc74C,YACnBp5B,KAAKiyE,cAAc33C,eAC3B,EAUG,SAAUy4C,GAAyB13D,EAAM+e,EAAY,WACxD,MAAM2oC,EAAyB,WAAb3oC,EACZ64C,EAAwB,GAC9B,IAAIC,EAAW,KACf,KAAOlQ,GAAgB3nD,IAAO,CAC1B,IAAIo9C,EAAqB,KACzB,GAAIya,EAAU,CACV,MAAMC,EAAa93D,EAAK3N,aAAa,cAC/B0lE,EAAqBF,EAASxlE,aAAa,cAG7CylE,EAAaC,EACbH,EAAsBG,GAAsBF,EAGvCC,EAAaC,GAClB3a,EAAqBwa,EAAsBE,GAC3CF,EAAsBtyE,OAASwyE,GAI/B1a,EAAqBya,CAE7B,MACM,CAAE73D,OAAM63D,WAAUza,sBACxBya,EAAW73D,EACXA,EAAO0nD,EAAY1nD,EAAK+d,YAAc/d,EAAKif,eAC/C,CACJ,CAMO,MAAM+4C,GAIT,WAAA7wE,CAAY8wE,GACRtzE,KAAKuzE,UAAYD,CACrB,CAMA,CAACjyE,OAAOC,YACJ,OAAOyxE,GAAyB/yE,KAAKuzE,UAAW,UACpD,ECzKG,MAAMC,GAOT,WAAO3xE,GACH,OAAO,IAAA00C,MACX,EAOG,SAASysB,GAAgB3nD,GAC5B,QAASA,GAAQA,EAAK1F,GAAG,YAAc0F,EAAK5N,aAAa,aAC7D,CAWO,SAASgmE,GAAqBC,EAAU9uE,EAAU,CAAC,GACtD,MAAO,IACA+uE,GAAkBD,EAAU,IAAK9uE,EAASw1B,UAAW,gBACrDu5C,GAAkBD,EAAU,IAAK9uE,EAASw1B,UAAW,YAEhE,CAaO,SAASu5C,GAAkBD,EAAU9uE,EAAU,CAAC,GACnD,MAAMm+D,EAAiC,WAArBn+D,EAAQw1B,UACpBhnB,EAAQnS,MAAMyB,KAAK,IAAIqvE,GAAW2B,EAAU,IAC3C9uE,EACHytE,YAAatP,EACb0P,YAAY,EACZF,eAAgB,gBAEpB,OAAOxP,EAAY3vD,EAAQA,EAAM+iB,SACrC,CAmBO,SAASy9C,GAAaF,EAAU9uE,GACnC,MAAMivE,EAAiB,IAAI9B,GAAW2B,EAAU,CAC5CjB,YAAY,EACZF,eAAgB,cACb3tE,IAEDkvE,EAAgB,IAAI/B,GAAW2B,EAAU,CAC3CjB,YAAY,EACZF,eAAgB,WAChBF,aAAa,EACbj4C,UAAW,aACRx1B,IAEP,MAAO,IACA3D,MAAMyB,KAAKmxE,GAAgB19C,aAC3B29C,EAEX,CAOO,SAASC,GAAuBC,GAKnC,OAJwBjC,GAAW5kE,MAAM6mE,EAAW,CAChDvB,YAAY,EACZF,eAAgB,cAMxB,CAMO,SAAS0B,GAAsBD,GAMlC,OALoBjC,GAAW5kE,MAAM6mE,EAAW,CAC5C55C,UAAW,UACXq4C,YAAY,EACZF,eAAgB,cAMxB,CAQO,SAAS2B,GAAgCnmE,EAAQnJ,EAAU,CAAC,GAC/DmJ,GAAS,IAAAsU,SAAQtU,GACjB,MAAM8kE,GAAsC,IAAvBjuE,EAAQuvE,WACvBC,EAAY,IAAI/5B,IACtB,IAAK,MAAMrsC,KAASD,EAChB,IAAK,MAAMsmE,KAAaZ,GAAqBzlE,EAAO,CAAE6kE,iBAClDuB,EAAU5rE,IAAI6rE,GAGtB,OAAOC,GAAWF,EACtB,CAOO,SAASG,GAA+BxmE,GAC3CA,GAAS,IAAAsU,SAAQtU,GACjB,MAAMqmE,EAAY,IAAI/5B,IACtB,IAAK,MAAMrsC,KAASD,EAChB,IAAK,MAAMsmE,KAAaT,GAAa5lE,GACjComE,EAAU5rE,IAAI6rE,GAGtB,OAAOC,GAAWF,EACtB,CASO,SAASI,GAAoBR,EAAWlmE,GAC3C,MAAMC,EAAS4lE,GAAkBK,EAAW,CAAE55C,UAAW,YACnDz6B,EAAK6zE,GAAY3xE,OACvB,IAAK,MAAMmM,KAASD,EAChBD,EAAO7H,aAAa,aAActG,EAAIqO,GAE1C,OAAOD,CACX,CAUO,SAAS0mE,GAAoBT,EAAWU,EAAa5mE,GACxD,MAAMlI,EAAa,CAAC,EACpB,IAAK,MAAOI,EAAKjE,KAAU2yE,EAAYv+D,gBAC/BnQ,EAAI+rD,WAAW,UACfnsD,EAAWI,GAAOjE,GAG1B,MAAMgM,EAAS4lE,GAAkBK,EAAW,CAAE55C,UAAW,YACzD,IAAK,MAAMpsB,KAASD,EAChBD,EAAO6mE,cAAc/uE,EAAYoI,GAErC,OAAOD,CACX,CAUO,SAAS6mE,GAAa7mE,EAAQD,GAAQ,OAAE+mE,EAAM,SAAEC,EAAW,GAAM,CAAC,GACrE/mE,GAAS,IAAAsU,SAAQtU,GAEjB,MAAMqmE,EAAYS,EAASX,GAAgCnmE,GAAUA,EACrE,IAAK,MAAMC,KAASomE,EAAW,CAC3B,MAAMW,EAAc/mE,EAAMN,aAAa,cAAgBonE,EACnDC,EAAc,EACdC,GAAqBhnE,EAAOF,GAG5BA,EAAO7H,aAAa,aAAc8uE,EAAa/mE,EAEvD,CACA,OAAOomE,CACX,CAsDO,SAASY,GAAqBjnE,EAAQD,GACzCC,GAAS,IAAAsU,SAAQtU,GAEjB,IAAK,MAAMC,KAASD,EACZC,EAAM2H,GAAG,UAAW,aACpB7H,EAAOw3B,OAAOt3B,EAAO,aAI7B,IAAK,MAAMA,KAASD,EAChB,IAAK,MAAMsT,KAAgBrT,EAAMukD,mBACzBlxC,EAAa0wC,WAAW,SACxBjkD,EAAO1G,gBAAgBia,EAAcrT,GAIjD,OAAOD,CACX,CAOO,SAASknE,GAAiBlnE,GAC7B,IAAKA,EAAOpN,OACR,OAAO,EAEX,MAAMu0E,EAAcnnE,EAAO,GAAGL,aAAa,cAC3C,QAAKwnE,IAGGnnE,EAAOnB,MAAK1M,GAAQA,EAAKwN,aAAa,eAAiBwnE,GACnE,CAuFO,SAASZ,GAAWvmE,GACvB,OAAO9M,MAAMyB,KAAKqL,GACbvH,QAAOwH,GAAiC,eAAxBA,EAAM0N,KAAKC,WAC3Bw4B,MAAK,CAACnpC,EAAGopC,IAAMppC,EAAE/F,MAAQmvC,EAAEnvC,OACpC,CASO,SAASkwE,GAAuB/nE,GACnC,MAAMuK,EAAkBvK,EAAMpJ,SAASqJ,UAAUmK,qBACjD,OAAKG,GAGDvK,EAAMgB,OAAOsG,SAASiD,IAAoBvK,EAAMgB,OAAO25B,QAAQpwB,GACxDA,EAHA,IAMf,CASO,SAASy9D,GAAwBpnE,EAAOI,GAC3C,OAAOA,EAAO+J,WAAWnK,EAAM0I,OAAQ,aAAetI,EAAO+J,WAAWnK,EAAO,WAAaI,EAAOsG,SAAS1G,EAChH,CAIO,SAAS4qD,GAAmBD,GAC/B,MAAmB,YAAZA,GAAsC,kBAAZA,CACrC,CAIA,SAAS0c,GAAuBrnE,EAAO0mE,EAAa5mE,GAWhD,OAVyB6lE,GAAkBe,EAAa,CAAEt6C,UAAW,YAUhDkpB,MAAMr+C,MAAQ+I,EAAM/I,MAC9BwvE,GAAoBzmE,EAAO0mE,EAAa5mE,GAE5C,EACX,CClce,MAAMwnE,WAA0B,EAAAvoE,QAQ3C,WAAAvK,CAAYyK,EAAQsoE,GAChB7mE,MAAMzB,GACNjN,KAAKw1E,WAAaD,CACtB,CAIA,OAAAvoE,GACIhN,KAAKuN,UAAYvN,KAAK83B,eAC1B,CAOA,OAAAnqB,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBW,EAAS0nE,GAAsBroE,EAAMpJ,SAASqJ,WACpDD,EAAMS,QAAOC,IACT,MAAMgrD,EAAgB,GAElBmc,GAAiBlnE,KAAYgmE,GAAuBhmE,EAAO,KAEpC,WAAnB/N,KAAKw1E,YACL1c,EAAcr5D,QAAQm1E,GAAa7mE,EAAQD,IAI/CgrD,EAAcr5D,QAAQ+0E,GAAoBzmE,EAAO,GAAID,KAK9B,WAAnB9N,KAAKw1E,WACL1c,EAAcr5D,QAAQm1E,GAAa7mE,EAAQD,EAAQ,CAAE+mE,QAAQ,KAG7D/b,EAAcr5D,QDqL3B,SAAgCsO,EAAQD,GAG3C,MAAMsmE,EAAYF,GAFlBnmE,GAAS,IAAAsU,SAAQtU,IAGX2nE,EAAU,IAAIr7B,IACds7B,EAAkB7gC,KAAK2D,OAAO27B,EAAUn0E,KAAI+N,GAASA,EAAMN,aAAa,iBACxEkoE,EAAe,IAAI1lE,IAEzB,IAAK,MAAMlC,KAASomE,EAChBwB,EAAavkE,IAAIrD,EAAO+jE,GAAW5kE,MAAMa,EAAO,CAAE2kE,aAAa,KAEnE,IAAK,MAAM3kE,KAASomE,EAAW,CAC3B,GAAIsB,EAAQzhE,IAAIjG,GACZ,SAEJ0nE,EAAQltE,IAAIwF,GACZ,MAAM+mE,EAAc/mE,EAAMN,aAAa,cAAgB,EACvD,GAAIqnE,EAAc,EACdC,GAAqBhnE,EAAOF,OADhC,CAKA,GAAIE,EAAMN,aAAa,eAAiBioE,EAAiB,CACrD,MAAME,EAAeR,GAAuBrnE,EAAO4nE,EAAaxqE,IAAI4C,GAAQF,GAE5E,IAAK,MAAMgoE,KAAeD,EACtBH,EAAQltE,IAAIstE,GAGhB,GAAID,EAAal1E,OACb,QAER,CACAmN,EAAO7H,aAAa,aAAc8uE,EAAa/mE,EAb/C,CAcJ,CACA,OAAOsmE,GAAWoB,EACtB,CCzN0CK,CAAuBhoE,EAAQD,IAI7D,IAAK,MAAME,KAAS8qD,EAAe,CAE/B,IAAK9qD,EAAMP,aAAa,YACpB,SAEJ,MAAMuoE,EAAoBjE,GAAW5kE,MAAMa,EAAO,CAAEykE,YAAY,IAC5DuD,GACAloE,EAAO7H,aAAa,WAAY+vE,EAAkBtoE,aAAa,YAAaM,EAEpF,CACAhO,KAAKi2E,kBAAkBnd,EAAc,GAE7C,CAMA,iBAAAmd,CAAkBnd,GACd94D,KAAKkiB,KAAK,eAAgBoyD,GAAW,IAAIj6B,IAAIye,IACjD,CAMA,aAAAhhC,GAEI,IAAI/pB,EAAS0nE,GAAsBz1E,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WAC1DH,EAAaa,EAAO,GAExB,IAAKb,EACD,OAAO,EAGX,GAAuB,YAAnBlN,KAAKw1E,WACL,OAAO,EAGX,GAAIP,GAAiBlnE,KAAYgmE,GAAuBhmE,EAAO,IAC3D,OAAO,EAEXA,EAASmmE,GAAgCnmE,GACzCb,EAAaa,EAAO,GAEpB,MAAMmoE,EAAcnE,GAAW5kE,MAAMD,EAAY,CAAEulE,YAAY,IAC/D,QAAKyD,GAGDA,EAAYxoE,aAAa,aAAeR,EAAWQ,aAAa,WAIxE,EAKJ,SAAS+nE,GAAsBpoE,GAC3B,MAAMU,EAAS9M,MAAMyB,KAAK2K,EAAUC,qBAC9B6oE,EAAyBpoE,EAAO+kB,WAAU9kB,IAAUg1D,GAAgBh1D,KAI1E,OAH+B,GAA3BmoE,IACApoE,EAAOpN,OAASw1E,GAEbpoE,CACX,CCvHe,MAAMqoE,WAAoB,EAAArpE,QAOrC,WAAAvK,CAAYyK,EAAQ7C,EAAMxF,EAAU,CAAC,GACjC8J,MAAMzB,GACNjN,KAAKoK,KAAOA,EACZpK,KAAKq2E,mBAAqBzxE,EAAQ0xE,WAAa,CAC3CzD,cAAc,EACdF,aAAa,EACbJ,eAAgB,SAChB3nE,CACR,CAIA,OAAAoC,GACIhN,KAAK+B,MAAQ/B,KAAK63B,YAClB73B,KAAKuN,UAAYvN,KAAK83B,eAC1B,CAYA,OAAAnqB,CAAQ/I,EAAU,CAAC,GACf,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBpJ,EAAWoJ,EAAMpJ,SACjBuyE,EAAsBpB,GAAuB/nE,GAC7CW,EAAS9M,MAAMyB,KAAKsB,EAASqJ,UAAUC,qBACxC9G,QAAOwH,GAASZ,EAAMgB,OAAOC,eAAeL,EAAO,aAAeonE,GAAwBpnE,EAAOZ,EAAMgB,UAEtGooE,OAAiC5rE,IAAvBhG,EAAQmzB,YAA4BnzB,EAAQmzB,WAAa/3B,KAAK+B,MAC9EqL,EAAMS,QAAOC,IACT,GAAI0oE,EAAS,CACT,MAAMC,EAAY1oE,EAAOA,EAAOpN,OAAS,GAEnC+1E,EAAa/C,GAAkB8C,EAAW,CAAEr8C,UAAW,YACvD0+B,EAAgB,GAClB4d,EAAW/1E,OAAS,GACpBm4D,EAAcr5D,QAAQ+0E,GAAoBkC,EAAW,GAAI5oE,IAG7DgrD,EAAcr5D,QAAQu1E,GAAqBjnE,EAAQD,IAEnDgrD,EAAcr5D,QFyQvB,SAA+Bg3E,EAAW3oE,GAC7C,MAAMgrD,EAAgB,GAEtB,IAAI8J,EAAgBxnC,OAAOu7C,kBAiD3B,IAAK,MAAM,KAAEt7D,KAAU03D,GAAyB0D,EAAUr9C,YAAa,WAAY,CAE/E,MAAM6Q,EAAS5uB,EAAK3N,aAAa,cAEjC,GAAc,GAAVu8B,EACA,MAGAA,EAAS24B,IAETA,EAAgB34B,GAIpB,MAAM2sC,EAAY3sC,EAAS24B,EAC3B90D,EAAO7H,aAAa,aAAc2wE,EAAWv7D,GAC7Cy9C,EAAcr5D,KAAK4b,EACvB,CACA,OAAOy9C,CACX,CEhVsC+d,CAAsBJ,EAAW3oE,IACvD9N,KAAKi2E,kBAAkBnd,EAC3B,MAEK,IAAKyd,GAAuBvyE,EAASqJ,UAAU2mB,cAAgBgvC,GAAgBj1D,EAAO,IAAK,CAC5F,MAAM+qD,EAAgB8a,GAAa2C,GAAuBxoE,EAAO,GAAI/N,KAAKq2E,oBAC1E,IAAK,MAAMroE,KAAS8qD,EAChBhrD,EAAO6mE,cAAc,IACd/vE,EAAQkyE,qBACXne,SAAU34D,KAAKoK,MAChB4D,GAEPhO,KAAKi2E,kBAAkBnd,EAC3B,KAEK,CACD,MAAMA,EAAgB,GACtB,IAAK,MAAM9qD,KAASD,EAEhB,GAAKC,EAAMP,aAAa,YAepB,IAAK,MAAM4N,KAAQ64D,GAAgClmE,EAAO,CAAEmmE,YAAY,IAChE94D,EAAK3N,aAAa,aAAe1N,KAAKoK,OACtC0D,EAAO6mE,cAAc,IACd/vE,EAAQkyE,qBACXne,SAAU34D,KAAKoK,MAChBiR,GACHy9C,EAAcr5D,KAAK4b,SAnBtBrN,EAAM2H,GAAG,UAAW,aAAey/D,GAAwBpnE,EAAOZ,EAAMgB,SACzEN,EAAOw3B,OAAOt3B,EAAO,YAEzBF,EAAO6mE,cAAc,IACd/vE,EAAQkyE,qBACXC,WAAY,EACZC,WAAYxD,GAAY3xE,OACxB82D,SAAU34D,KAAKoK,MAChB4D,GACH8qD,EAAcr5D,KAAKuO,GAe3BhO,KAAKi2E,kBAAkBnd,EAC3B,IAER,CAMA,iBAAAmd,CAAkBnd,GACd94D,KAAKkiB,KAAK,eAAgBoyD,GAAW,IAAIj6B,IAAIye,IACjD,CAMA,SAAAjhC,GACI,MAAMxqB,EAAYrN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UACvCU,EAAS9M,MAAMyB,KAAK2K,EAAUC,qBACpC,IAAKS,EAAOpN,OACR,OAAO,EAEX,IAAK,MAAMqN,KAASD,EAChB,GAAIC,EAAMN,aAAa,aAAe1N,KAAKoK,KACvC,OAAO,EAGf,OAAO,CACX,CAMA,aAAA0tB,GACI,MAAM1qB,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACff,EAAYD,EAAMpJ,SAASqJ,UAC3BU,EAAS9M,MAAMyB,KAAK2K,EAAUC,qBACpC,IAAKS,EAAOpN,OACR,OAAO,EAGX,GAAIX,KAAK+B,MACL,OAAO,EAEX,IAAK,MAAMiM,KAASD,EAChB,GAAIK,EAAOC,eAAeL,EAAO,aAAeonE,GAAwBpnE,EAAOI,GAC3E,OAAO,EAGf,OAAO,CACX,ECpJW,MAAM6oE,WAAyB,EAAAlqE,QAO1C,WAAAvK,CAAYyK,EAAQmtB,GAChB1rB,MAAMzB,GACNjN,KAAKw1E,WAAap7C,CACtB,CAIA,OAAAptB,GACIhN,KAAKuN,UAAYvN,KAAK83B,eAC1B,CAWA,OAAAnqB,EAAQ,gCAAEupE,GAAkC,GAAU,CAAC,GACnD,MAAM9pE,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3ByrD,EAAgB,GACtB1rD,EAAMS,QAAOC,IACT,MAAM,aAAEqpE,EAAY,YAAEC,GAAgBp3E,KAAKq3E,yBAAyBhqE,EAAW6pE,GACzEI,EAAcH,EAAazpE,aAAa,eAAiB,EACzD6pE,EAAaH,EAAY1pE,aAAa,cACtC8pE,EAAgBJ,EAAY1pE,aAAa,cAC/C,GAAI4pE,GAAeC,EAAY,CAC3B,MAAME,GHuBc/D,EGvBgC0D,EHwBzDn2E,MAAMyB,KAAK,IAAIqvE,GAAW2B,EAAU,CACvCt5C,UAAW,UACXy4C,cAAc,MGzBN/Z,EAAcr5D,QAAQm1E,GAAa,CAACwC,KAAgBK,GAA0B3pE,EAAQ,CAClFgnE,SAAUwC,EAAcC,EAExB1C,OAAQyC,EAAcC,IAE9B,CHiBL,IAA6B7D,EGhBxB,GAAIwD,EAAiC,CACjC,IAAIQ,EAAMrqE,EACNA,EAAU2mB,cACV0jD,EAAM5pE,EAAOwW,gBAAgBxW,EAAO+nB,YAAY/nB,EAAO8mB,iBAAiBuiD,EAAc,OAAQrpE,EAAO8mB,iBAAiBwiD,EAAa,MAGvIhqE,EAAM+4B,cAAcuxC,EAAK,CAAEC,wBAAyBtqE,EAAU2mB,cAG9D,MAAM4jD,EAAyBF,EAAI19C,kBAAkBtjB,OAE/C0iB,EAAcw+C,EAAuBx+C,YAC3C0/B,EAAcr5D,KAAKm4E,GACfx+C,GAAeA,IAAgBg+C,GAAeh+C,EAAY1rB,aAAa,eAAiB8pE,GACxF1e,EAAcr5D,QAAQg1E,GAAoBr7C,EAAaw+C,EAAwB9pE,GAEvF,MAEIgrD,EAAcr5D,QAAQg1E,GAAoB2C,EAAaD,EAAcrpE,IAEzE9N,KAAKi2E,kBAAkBnd,EAAc,GAE7C,CAMA,iBAAAmd,CAAkBnd,GACd94D,KAAKkiB,KAAK,eAAgBoyD,GAAW,IAAIj6B,IAAIye,IACjD,CAMA,aAAAhhC,GACI,MAAM1qB,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BkpE,EAAsBpB,GAAuB/nE,GACnD,GAAIC,EAAU2mB,aAAeuiD,EAAqB,CAC9C,MAAMl8C,EAAiBk8C,GAAuBlpE,EAAUkK,mBAAmBb,OAC3E,IAAKssD,GAAgB3oC,GACjB,OAAO,EAEX,MAAMw9C,EAAiC,YAAnB73E,KAAKw1E,WACrBn7C,EAAeC,gBACfD,EAAejB,YACnB,IAAKy+C,EACD,OAAO,EAEX,GAAI5C,GAAiB,CAAC56C,EAAgBw9C,IAClC,OAAO,CAEf,KACK,CACD,MAAMhc,EAAexuD,EAAU2sB,kBACzB4hC,EAAgBvuD,EAAUkK,mBAGhC,GAAIskD,EAAanlD,SAAWklD,EAAcllD,OACtC,OAAO,EAEX,IAAKssD,GAAgBnH,EAAanlD,QAC9B,OAAO,CAEf,CACA,OAAO,CACX,CASA,wBAAA2gE,CAAyBhqE,EAAW6pE,GAChC,MACMX,EAAsBpB,GADdn1E,KAAKiN,OAAOG,OAE1B,IAAI+pE,EAAcC,EAClB,GAAI/pE,EAAU2mB,aAAeuiD,EAAqB,CAC9C,MAAMl8C,EAAiBk8C,GAAuBlpE,EAAUkK,mBAAmBb,OACrEohE,EAAe/D,GAAuB15C,GACrB,YAAnBr6B,KAAKw1E,YACL4B,EAAc/8C,EAUV88C,EATAW,IAAiBZ,EASFnF,GAAW5kE,MAAMktB,EAAgB,CAAEo4C,YAAY,EAAME,aAAa,IAGlEt4C,EAAeC,kBAKlC68C,EAAe98C,EACf+8C,EAAc/8C,EAAejB,YAErC,MAEI+9C,EAAe9pE,EAAUkK,mBAAmBb,OAC5C0gE,EAAc/pE,EAAU2sB,kBAAkBtjB,OAE9C,MAAO,CACHygE,aAAcA,EACdC,YAAaA,EAErB,ECjKW,MAAMW,WAAyB,EAAAhrE,QAO1C,WAAAvK,CAAYyK,EAAQmtB,GAChB1rB,MAAMzB,GACNjN,KAAKw1E,WAAap7C,CACtB,CAIA,OAAAptB,GACIhN,KAAKuN,UAAYvN,KAAK83B,eAC1B,CAOA,OAAAnqB,GACmB3N,KAAKiN,OACbG,MAAMS,QAAOC,IAChB,MAAMgrD,EAAgB0b,GAAoBx0E,KAAKg4E,iBAAkBlqE,GACjE9N,KAAKi2E,kBAAkBnd,EAAc,GAE7C,CAMA,iBAAAmd,CAAkBnd,GACd94D,KAAKkiB,KAAK,eAAgBoyD,GAAW,IAAIj6B,IAAIye,IACjD,CAMA,aAAAhhC,GACI,MAAMzqB,EAAYrN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UACvCW,EAAQhO,KAAKg4E,iBACnB,OAAO3qE,EAAU2mB,aACbgvC,GAAgBh1D,KACf+lE,GAAuB/lE,EAChC,CAIA,cAAAgqE,GACI,MACM39C,EADMr6B,KAAKiN,OAAOG,MAAMpJ,SACHqJ,UAAUkK,mBAAmBb,OACxD,MAA2B,UAAnB1W,KAAKw1E,WAAyBn7C,EAAiBA,EAAejB,WAC1E,EC3DW,MAAM6+C,WAAkB,EAAA1pE,OAInC,qBAAWC,GACP,MAAO,WACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAMA,8BAAA8lE,CAA+BxmE,GAC3B,OAAOwmE,GAA+BxmE,EAC1C,CAMA,sBAAAgmE,CAAuBC,GACnB,OAAOD,GAAuBC,EAClC,CAMA,eAAAhR,CAAgB3nD,GACZ,OAAO2nD,GAAgB3nD,EAC3B,CAOA,+BAAA64D,CAAgCnmE,EAAQnJ,EAAU,CAAC,GAC/C,OAAOsvE,GAAgCnmE,EAAQnJ,EACnD,CAIA,kBAAAg0D,CAAmBD,GACf,OAAOC,GAAmBD,EAC9B,ECnDG,SAASuf,GAAWljE,GACvB,OAAOA,EAAYW,GAAG,UAAW,OAASX,EAAYW,GAAG,UAAW,KACxE,CAMO,SAASwiE,GAAenjE,GAC3B,OAAOA,EAAYW,GAAG,UAAW,KACrC,CA+DO,SAASyiE,GAAkBtqE,EAAQm8B,EAAQ7/B,EAAMzK,EAAK04E,GAA4BjuE,EAAM6/B,IAE3F,OAAOn8B,EAAOgvC,uBAAuBw7B,GAA8BluE,GAAO,KAAM,CAC5EuQ,SAAU,EAAIsvB,EAAS,IAAM,IAC7BtqC,MAER,CAMO,SAAS44E,GAAsBzqE,EAAQm8B,EAAQtqC,GAElD,OAAOmO,EAAOgvC,uBAAuB,KAAM,KAAM,CAC7CniC,UAAW,EAAIsvB,EAAS,GAAK,IAAM,IACnCtqC,MAER,CAMO,SAAS24E,GAA8BluE,GAC1C,MAAe,YAARA,GAA8B,kBAARA,EAA2B,KAAO,IACnE,CAMO,SAASiuE,GAA4BjuE,EAAM6/B,GAC9C,MAAO,QAAQ7/B,KAAQ6/B,GAC3B,CCvGO,SAASuuC,GAAwB/4D,EAAUg5D,GAC9C,MAAMC,EAAej5D,EAASklB,WAC9B,GAAKq+B,GAAgB0V,GAMhB,CACD,IAAIpF,EAAWoF,EAOf,IAAK,MAAM,KAAEr9D,KAAU03D,GAAyBO,EAAU,YAEtD,GADAA,EAAWj4D,EACPo9D,EAAexkE,IAAIq/D,GACnB,OAGRmF,EAAepnE,IAAIqnE,EAAcpF,EACrC,KArBoC,CAChC,MAAMpzE,EAAOuf,EAASoN,UAClBm2C,GAAgB9iE,IAChBu4E,EAAepnE,IAAInR,EAAMA,EAEjC,CAiBJ,CCqLO,SAASy4E,GAA0B3mB,EAAgB4mB,EAAYxrE,GAAO,aAAEyrE,GAAiB,CAAC,GAC7F,MAAMC,EA+OV,SAAkC9mB,GAC9B,MAAO,CAAC32C,EAAMyF,KACV,MAAMi4D,EAAS,GAEf,IAAK,MAAM3iE,KAAiB47C,EACpB32C,EAAK5N,aAAa2I,IAClB2iE,EAAOt5E,KAAK,aAAa2W,KAGjC,QAAK2iE,EAAOzgE,OAAMoJ,IAA0C,IAAjCZ,EAAWne,KAAK0Y,EAAMqG,OAGjDq3D,EAAOhzE,SAAQ2b,GAASZ,EAAWC,QAAQ1F,EAAMqG,MAC1C,EAAI,CAEnB,CA9PqBs3D,CAAyBhnB,GAC1C,MAAO,CAACpxC,EAAKtd,EAAMud,KACf,MAAM,OAAE/S,EAAM,OAAEkT,EAAM,WAAEF,GAAeD,EACjC6yD,EAAWpwE,EAAKpD,KACtB,IAAK8xD,EAAenmD,SAASvI,EAAK+d,cAC9B,OAGJ,IAAKy3D,EAASpF,EAAU5yD,GACpB,OAIJ,MAAM9L,EAsEP,SAA+Bd,EAAS8M,EAAQ5T,GACnD,MAAMkZ,EAAalZ,EAAMoX,cAActQ,GAEvC,OADkB8M,EAAOy6B,YAAYn1B,GAAYwoD,aAChCv0D,IAAIoqB,UACzB,CA1E4Bs0C,CAAsBvF,EAAU1yD,EAAQ5T,GAE5D8rE,GAA2BlkE,EAAalH,EAAQkT,GAwLxD,SAA6BhM,EAAasM,GACtC,IAAI63D,EAAmBnkE,EAAY0B,OACnC,KAAOyiE,EAAiBxjE,GAAG,qBAAuB,CAAC,KAAM,KAAM,MAAM9J,SAASstE,EAAiB12E,OAAO,CAClG,MAAM22E,EAAgBD,EAAiBziE,OACvC4K,EAAWmX,OAAOnX,EAAWkD,cAAcxP,GAAcmkE,GACzDA,EAAmBC,CACvB,CACJ,CA7LQC,CAAoBrkE,EAAalH,GAEjC,MAAM0tC,EAwId,SAAoCk4B,EAAU1+D,EAAa4jE,EAAY9qE,GAAQ,aAAE+qE,IAC7E,IAAIr9B,EAAY1tC,EAAO0W,cAAcxP,GAErC,IAAK++D,GAAuBL,GACxB,OAAOl4B,EAEX,IAAK,MAAM89B,KAAYV,EAAY,CAC/B,GAAsB,cAAlBU,EAASjhB,MACT,SAGJ,MAAMsU,EAAgB2M,EAAS3zE,cAAcmI,EAAQ4lE,EAAU,CAAEmF,iBACjE,IAAKlM,EACD,SAWJ,GATA7+D,EAAO4K,kBAAkB,kBAAkB,EAAMi0D,GAC7C2M,EAASC,4BAA8BD,EAASC,2BAA2B7F,GAC3E5lE,EAAO5H,OAAO4H,EAAO8mB,iBAAiB5f,EAAa,GAAI23D,IAGvD7+D,EAAO5H,OAAOs1C,EAAUvjC,MAAO00D,GAC/BnxB,EAAY1tC,EAAO+nB,YAAY/nB,EAAO6qB,qBAAqBg0C,GAAgB7+D,EAAOyU,oBAAoBvN,MAGrGskE,EAASE,uBAAyBF,EAASG,eAC5C,SAEJ,MAAMC,EAAUJ,EAASE,qBAAqB1rE,EAAQ4lE,EAAU,CAAEmF,iBAClE/qE,EAAO4K,kBAAkB,mBAAmB,EAAMghE,GAE9CJ,EAASG,eAAe/F,GACxBl4B,EAAY1tC,EAAOmrB,KAAKuiB,EAAWk+B,IAInCl+B,EAAY1tC,EAAOmrB,KAAKnrB,EAAO0W,cAAcmoD,GAAgB+M,GAC7Dl+B,EAAY1tC,EAAO+nB,YAAY2lB,EAAUvjC,MAAOnK,EAAOyU,oBAAoBvN,IAEnF,CACA,OAAOwmC,CACX,CAhL0Bm+B,CAA2BjG,EAAU1+D,EAAa4jE,EAAY9qE,EAAQ,CAAE+qE,kBA+LlG,SAA2BnF,EAAUl4B,EAAWo9B,EAAY9qE,GACxD,IAAK4lE,EAASjmE,aAAa,cACvB,OAEJ,MAAMmsE,EAAiBlG,EAAShmE,aAAa,cAC7C,IAAImsE,EAAkBnG,EACtB,IAAK,IAAIzpC,EAAS2vC,EAAgB3vC,GAAU,EAAGA,IAAU,CACrD,MAAM6vC,EAAsBvB,GAAsBzqE,EAAQm8B,EAAQ4vC,EAAgBnsE,aAAa,eACzFqsE,EAAkB3B,GAAkBtqE,EAAQm8B,EAAQ4vC,EAAgBnsE,aAAa,aACvF,IAAK,MAAM4rE,KAAYV,EACI,QAAlBU,EAASjhB,OAAqC,QAAlBihB,EAASjhB,QACtCwhB,EAAgBpsE,aAAa6rE,EAASljE,gBACtCkjE,EAAShhB,uBAAuBxqD,EAAQ+rE,EAAgBnsE,aAAa4rE,EAASljE,eAAkC,QAAlBkjE,EAASjhB,MAAkB0hB,EAAkBD,GAKnJ,GAFAt+B,EAAY1tC,EAAOmrB,KAAKuiB,EAAWs+B,GACnCt+B,EAAY1tC,EAAOmrB,KAAKuiB,EAAWu+B,GACrB,GAAV9vC,EACA,MAKJ,GAHA4vC,EAAkB9H,GAAW5kE,MAAM0sE,EAAiB,CAAElH,aAAa,KAG9DkH,EACD,KAER,CACJ,CAxNQG,CAAkBtG,EAAUl4B,EAAWo9B,EAAY9qE,EAAO,CAElE,CAoCO,SAASmsE,GAAsBjoB,GAAgB,aAAE6mB,GAAiB,CAAC,GACtE,MAAO,CAACrjE,GAAgB1H,aAEpB,IAAKosE,GAAwB1kE,EAAcw8C,GACvC,OAAO,KAEX,IAAK6mB,EACD,OAAO/qE,EAAO2F,uBAAuB,OAAQ,CAAElB,MAAO,4BAG1D,MAAMyC,EAAclH,EAAO2F,uBAAuB,KAElD,OADA3F,EAAO4K,kBAAkB,qCAAqC,EAAM1D,GAC7DA,CAAW,CAE1B,CAqDA,SAASkkE,GAA2BlkE,EAAasM,EAAYN,GAEzD,KAAOhM,EAAY0B,OAAOf,GAAG,qBAAuBX,EAAY0B,OAAOoC,kBAAkB,oBACrFwI,EAAWmX,OAAOnX,EAAWkD,cAAcxP,GAAcA,EAAY0B,QAGzE,MAAMyjE,EAAkB,GAExBC,EAAuB94D,EAAWqX,qBAAqB3jB,GAAakG,UAAU,CAAEkf,UAAW,cAE3FggD,EAAuB94D,EAAWpI,cAAclE,GAAakG,aAC7D,IAAK,MAAMgJ,KAAUi2D,EACjB74D,EAAW3a,OAAOud,GAEtB,SAASk2D,EAAuBC,GAC5B,IAAK,MAAM,KAAEn6E,KAAUm6E,EAAY,CAE/B,GAAIn6E,EAAKyV,GAAG,YAAcqL,EAAOuE,eAAerlB,GAC5C,MAEAA,EAAKyV,GAAG,YAAczV,EAAK4Y,kBAAkB,mBAC7CqhE,EAAgB16E,KAAKS,EAE7B,CACJ,CACJ,CAyGA,SAASg6E,GAAwBh6E,EAAM8xD,EAAgBjkD,EAAS0lE,GAAqBvzE,IACjF,IAAK8iE,GAAgB9iE,GACjB,OAAO,EAEX,IAAK,MAAMmhB,KAAgBnhB,EAAKqyD,mBAE5B,IAAIlxC,EAAa0wC,WAAW,gBAIvBC,EAAenmD,SAASwV,GACzB,OAAO,EAGf,OAAOtT,EAAOpN,OAAS,CAC3B,oBClea,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ4H,gBCJV,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQA,OCevB,MAAM+xE,GAAuB,CAAC,WAAY,aAAc,cAIzC,MAAMC,WAAoB,EAAAhsE,OAIrC,qBAAWC,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,GAAAsmB,MAAO,EAAAlgB,OAAQs+D,GAAW,EAAAvyD,kBACtC,CAIA,WAAAljB,CAAYyK,GACRyB,MAAMzB,GAINjN,KAAKw6E,oBAAsB,GAC3BvtE,EAAO0B,OAAOC,OAAO,mBAAmB,EAC5C,CAIA,IAAAC,GACI,MAAM5B,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfqtE,EAAaxtE,EAAO0B,OAAOvD,IAAI,mBACrC,GAAI6B,EAAO8G,QAAQE,IAAI,qBAOnB,MAAM,IAAI,EAAAxH,cAAc,wBAAyBzM,KAAM,CAAE06E,eAAgB,sBAE7EttE,EAAMgB,OAAOuX,SAAS,YAAa,CAAE1W,gBAAiBqrE,KAClDG,GACArtE,EAAMgB,OAAOY,OAAO,aAAc,CAAE84B,kBAAmB,cACvD16B,EAAMgB,OAAOY,OAAO,SAAU,CAAE84B,kBAAmB,cACnD16B,EAAMgB,OAAOY,OAAO,eAAgB,CAAE84B,kBAAmB,eAGzD16B,EAAMgB,OAAOuX,SAAS,WAAY,CAC9BC,eAAgB,SAChBkiB,kBAAmB,cAG3B,IAAK,MAAMpe,KAAa4wD,GACpBltE,EAAMgB,OAAOc,uBAAuBwa,EAAW,CAC3CixD,eAAe,IAIvB1tE,EAAO+C,SAASxH,IAAI,eAAgB,IAAI4tE,GAAYnpE,EAAQ,aAC5DA,EAAO+C,SAASxH,IAAI,eAAgB,IAAI4tE,GAAYnpE,EAAQ,aAC5DA,EAAO+C,SAASxH,IAAI,qBAAsB,IAAI4tE,GAAYnpE,EAAQ,iBAAkB,CAAEqpE,YAAY,KAClGrpE,EAAO+C,SAASxH,IAAI,qBAAsB,IAAI4tE,GAAYnpE,EAAQ,iBAAkB,CAAEqpE,YAAY,KAClGrpE,EAAO+C,SAASxH,IAAI,aAAc,IAAI8sE,GAAkBroE,EAAQ,YAChEA,EAAO+C,SAASxH,IAAI,cAAe,IAAI8sE,GAAkBroE,EAAQ,aACjEA,EAAO+C,SAASxH,IAAI,sBAAuB,IAAIuvE,GAAiB9qE,EAAQ,WACxEA,EAAO+C,SAASxH,IAAI,qBAAsB,IAAIuvE,GAAiB9qE,EAAQ,UACnEwtE,IACAxtE,EAAO+C,SAASxH,IAAI,wBAAyB,IAAIyuE,GAAiBhqE,EAAQ,aAC1EA,EAAO+C,SAASxH,IAAI,uBAAwB,IAAIyuE,GAAiBhqE,EAAQ,aAE7EjN,KAAK46E,0BACL56E,KAAK66E,yBACL76E,KAAK86E,uBACL96E,KAAK6lB,6BACL7lB,KAAK+6E,gCACT,CAIA,SAAA/3D,GACI,MACMhT,EADShQ,KAAKiN,OACI+C,SAClBi6B,EAASj6B,EAAS5E,IAAI,UACtB8+B,EAAUl6B,EAAS5E,IAAI,WACzB6+B,GAGAA,EAAOE,qBAAqBn6B,EAAS5E,IAAI,cAAe,CAAEuP,SAAU,SAEpEuvB,GAGAA,EAAQC,qBAAqBn6B,EAAS5E,IAAI,eAAgB,CAAEuP,SAAU,WAG1E3a,KAAKg7E,wBACLh7E,KAAK+kB,kBACT,CASA,wBAAAqzC,CAAyBkhB,GACrBt5E,KAAKw6E,oBAAoB/6E,KAAK65E,EAClC,CAIA,qBAAA2B,GACI,MAAO,IACAX,MACAt6E,KAAKw6E,oBAAoBv6E,KAAIq5E,GAAYA,EAASljE,gBAE7D,CAKA,uBAAAwkE,GACI,MAAM3tE,EAASjN,KAAKiN,OACdiuE,EAAuBjuE,EAAO+C,SAAS5E,IAAI,yBAC3C+vE,EAAsBluE,EAAO+C,SAAS5E,IAAI,wBAChDpL,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,UAAU,CAAC4c,EAAKtd,KACxD,MAAM+J,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UAEpC8nE,GAAuBloE,EAAOG,QAGlCH,EAAOG,MAAMS,QAAO,KAChB,MAAM+tD,EAAgBvuD,EAAUkK,mBAChC,GAAIlK,EAAU2mB,aAAiC,YAAlB1wB,EAAK82B,UAAyB,CACvD,IAAKwhC,EAAcrjC,UACf,OAEJ,MAAM8B,EAAiBuhC,EAAcllD,OACrC,IAAKssD,GAAgB3oC,GACjB,OAOJ,GALsB03C,GAAW5kE,MAAMktB,EAAgB,CACnDk4C,eAAgB,WAChBE,YAAY,KAGoD,IAA9Cp4C,EAAe3sB,aAAa,cAO7C,CACD,IAAKwtE,IAAyBA,EAAqB3tE,UAC/C,OAEJ2tE,EAAqBvtE,QAAQ,CACzBupE,gCAAiCA,GAAgCjqE,EAAOG,MAAO,aAEvF,MAbS6mE,GAAsB55C,IACvBptB,EAAOU,QAAQ,sBAEnBV,EAAOU,QAAQ,eAWnBrK,EAAK22B,iBACLrZ,EAAIsZ,MACR,KAEK,CAED,GAAI7sB,EAAU2mB,cAAgB3mB,EAAU2sB,kBAAkBxB,QACtD,OAEJ,IAAK2iD,IAAwBA,EAAoB5tE,UAC7C,OAEJ4tE,EAAoBxtE,QAAQ,CACxBupE,gCAAiCA,GAAgCjqE,EAAOG,MAAO,aAEnF9J,EAAK22B,iBACLrZ,EAAIsZ,MACR,IACF,GACH,CAAEC,QAAS,MAClB,CAKA,sBAAA0gD,GACI,MAAM5tE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACf4C,EAAW/C,EAAO+C,SAClBitD,EAAejtD,EAAS5E,IAAI,SAElCpL,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,SAAS,CAAC4c,EAAKtd,KACvD,MAAMsK,EAAMR,EAAMpJ,SACZq2B,EAAiBzsB,EAAIP,UAAUkK,mBAAmBb,OACxD,GAAI9I,EAAIP,UAAU2mB,aACdgvC,GAAgB3oC,IAChBA,EAAe1lB,UACdrR,EAAKonC,OAAQ,CACd,MAAMotC,EAAe/D,GAAuB15C,GACtC+gD,EAAcnH,GAAsB55C,GAGtCy9C,GAAgBsD,GAChBnuE,EAAOU,QAAQ,eACfrK,EAAK22B,iBACLrZ,EAAIsZ,QAIC49C,IAAiBsD,GACtBnuE,EAAOU,QAAQ,sBACfrK,EAAK22B,iBACLrZ,EAAIsZ,QAICkhD,IACLnuE,EAAOU,QAAQ,uBACfrK,EAAK22B,iBACLrZ,EAAIsZ,OAEZ,IACD,CAAEC,QAAS,OAGdn6B,KAAK2R,SAASsrD,EAAc,gBAAgB,KACxC,MAAMoe,EAAerrE,EAAS5E,IAAI,uBAGlCiwE,EAAaruE,UACRquE,EAAa9tE,WAYY,IAPPkmE,GAFXxmE,EAAOG,MAAMpJ,SACEqJ,UAAU2sB,kBAAkBtjB,QAQpC/V,QACf06E,EAAa1tE,SACjB,GAER,CAKA,oBAAAmtE,GACI,MAAM7tE,EAASjN,KAAKiN,OACpBjN,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,OAAO,CAAC4c,EAAKtd,KACrD,MAAMg4B,EAAch4B,EAAKokC,SAAW,cAAgB,aACpC1nC,KAAKiN,OAAO+C,SAAS5E,IAAIkwB,GAC7B/tB,YACRN,EAAOU,QAAQ2tB,GACfh4B,EAAKokB,kBACLpkB,EAAK22B,iBACLrZ,EAAIsZ,OACR,GACD,CAAEC,QAAS,MAClB,CAIA,gBAAApV,GACI,MAAM9X,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACf4kD,EAAiBhyD,KAAKi7E,wBACtBR,EAAaxtE,EAAO0B,OAAOvD,IAAI,mBAC/BwkB,EAAc6qD,EAAa,YAAc,WAC/CxtE,EAAOmC,WAAWK,IAAI,UAMjBsW,iBAAiB,CAClBzW,KAAM,KACNlC,MAAO,CAAC4H,GAAelH,YAAaA,EAAOnI,cAAciqB,EAAa,CAAE+oC,SAAU,OAOjF5yC,iBAAiB,CAClBzW,KAAM,IACNlC,MAAO,CAAC4H,GAAelH,YACfkH,EAAY0B,QAAU1B,EAAY0B,OAAOf,GAAG,UAAW,MAChD7H,EAAOnI,cAAciqB,EAAa,CAAE+oC,SAAU,KAElD,KAEXzG,kBAAmB,SAElB1pD,KAAI2Y,IACLA,EAAWjO,GAAG,cHpUf,CAAC0N,EAAKtd,EAAMud,KACf,MAAM,OAAE/S,EAAM,OAAEM,GAAWyS,EAC3B,IAAKvd,EAAKgjB,WACN,OAEJ,MAAMlT,EAAQnS,MAAMyB,KAAKY,EAAKgjB,WAAWC,SAAS,CAAEwyC,SAAS,KACxDvyD,QAAQtG,GAASkO,EAAOC,eAAenO,EAAM,gBAClD,IAAKkT,EAAMzS,OACP,OAEJ,MAAMq2E,EAAaxD,GAAY3xE,OACzBk1E,EF2BP,SAAmBrD,GACtB,IAAIzpC,EAAS,EACTvzB,EAASg9D,EAASh9D,OACtB,KAAOA,GAAQ,CAEX,GAAIyhE,GAAezhE,GACfuzB,QAEC,CAED,MAAM3P,EAAkB5jB,EAAO4jB,gBAO3BA,GAAmB69C,GAAe79C,IAClC2P,GAER,CACAvzB,EAASA,EAAOA,MACpB,CACA,OAAOuzB,CACX,CEnD2BqxC,CAAUh4E,EAAK2iB,UAClC,IAAI0yC,EAAWr1D,EAAK2iB,SAASvP,QAAUpT,EAAK2iB,SAASvP,OAAOf,GAAG,UAAW,MAAQ,WAAa,WAE/F,MAAM4lE,EAAoBnoE,EAAM,GAAG1F,aAAa,YAC5C6tE,IACA5iB,EAAW4iB,GAEf,MAAM31E,EAAa,CACfoxE,aACAD,aACApe,YAEJ,IAAK,MAAMz4D,KAAQkT,EAEVlT,EAAKuN,aAAa,eACnBK,EAAO6mE,cAAc/uE,EAAY1F,GAGrCkT,EAAMzS,OAAS,GAUXyS,EAAM,GAAG1F,aAAa,eAAiB9H,EAAWoxE,YAClDn2D,EAAc26D,iBAAiBpoE,EAAM,GAE7C,GG0R0D,IAErDqnE,GACDxtE,EAAOmC,WAAWK,IAAI,YACjBsW,iBAAiB,CAClB3Y,MAAO,WACPkC,KAAM,MAGdrC,EAAOmC,WAAWK,IAAI,mBACjBsW,iBAAiB,CAClB3Y,MAAOwiB,EACPtgB,KAAM2qE,GAAsBjoB,GAC5BE,kBAAmB,SAElB1pD,KAAI2Y,IH3GV,IAAyC/S,EG4GpC+S,EAAWjO,GAAG,YAAaylE,GAA0B3mB,EAAgBhyD,KAAKw6E,oBAAqBptE,IAC/F+T,EAAWjO,GAAG,UH7GsB9E,EG6GoBhB,EAAMgB,OH5G/D,CAACwS,EAAKtd,EAAMud,KACf,MAAM,OAAE/S,EAAM,OAAEkT,GAAWH,EACrB+O,EAAchP,EAAIne,KAAKo2B,MAAM,KAAK,GAGxC,IAAKzqB,EAAOC,eAAeuhB,EAAa,cACpC,OAGJ,MAAM6rD,EAAYz6D,EAAO6lB,eAAevjC,EAAKmc,UACvCi8D,EAAWp4E,EAAKmc,SAAS6W,aAAahzB,EAAK3C,QAC3Cg7E,EAAU36D,EAAO6lB,eAAe60C,EAAU,CAAEE,WAAW,IAKvD5mE,EAHYlH,EAAO+nB,YAAY4lD,EAAWE,GAAS7M,aAG3Bv0D,IAAIoqB,WAE7B3vB,GAILkkE,GAA2BlkE,EAAalH,EAAQkT,EAAO,GGsFmB,IAE1E/T,EAAOmC,WAAWK,IAAI,gBACjBsW,iBAAiB,CAClB3Y,MAAOwiB,EACPtgB,KAAM2qE,GAAsBjoB,EAAgB,CAAE6mB,cAAc,IAC5D3mB,kBAAmB,SAElB1pD,KAAI2Y,IACLA,EAAWjO,GAAG,YAAaylE,GAA0B3mB,EAAgBhyD,KAAKw6E,oBAAqBptE,EAAO,CAAEyrE,cAAc,IAAQ,IAElI,MAAMgD,GHxDkCjD,EGwD0B54E,KAAKw6E,oBHxDnBlrE,EGwDwCrC,EAAO2E,QAAQtC,KHvDxG,CAACsR,EAAKtd,KACT,GAAIA,EAAKw4E,cAAcnnD,OAAS,EAC5B,OAEJ,MAAM0F,EAAiB/2B,EAAKw4E,cAAcplE,OAC1C,IAAKssD,GAAgB3oC,GACjB,OAEJ,IAAKu+C,EAAWhsE,MAAK0sE,GAA+B,cAAlBA,EAASjhB,OACvCihB,EAASC,4BACTD,EAASC,2BAA2Bl/C,KACpC,OAEJ,MAAMrlB,EAAc1R,EAAK0d,OAAOC,cAAcoZ,GACxCmhB,EAAYlsC,EAAK4J,cAAclE,GAC/BqlE,EAAa7+B,EAAUtgC,YAC7B,IAAI6gE,EAA0BvgC,EAAUvjC,MACxC,IAAK,MAAM,KAAE/X,KAAUm6E,EAAY,CAE/B,GAAIn6E,EAAKyV,GAAG,YAAcrS,EAAK0d,OAAOuE,eAAerlB,IAASA,EAAKyV,GAAG,cAClE,MAEAzV,EAAKyV,GAAG,YAAczV,EAAK4Y,kBAAkB,oBAC7CijE,EAA0BzsE,EAAKiT,oBAAoBriB,GAEnDm6E,EAAW2B,MAAK,EAAGC,uBAAwBA,EAAiBznD,QAAQunD,KAE5E,CACAz4E,EAAK44E,aAAeH,CAAuB,GA7B5C,IAAyCnD,EAAYtpE,EGyDpDrC,EAAO2E,QAAQoP,OAAO9N,GAAG,sBAAuB2oE,GAChD5uE,EAAO3J,KAAK0d,OAAO9N,GAAG,sBAAuB2oE,GAC7C77E,KAAK2R,SAASvE,EAAMpJ,SAAU,cH7S/B,SAAoCoJ,EAAOwE,EAASogD,EAAgBiG,GACvE,MAAO,KACH,MAAMvrC,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aAChCuvD,EAAiB,GACjB1D,EAAiB,IAAIvoE,IACrBksE,EAAe,IAAI/hC,IACzB,IAAK,MAAMlmB,KAASzH,EAChB,GAAkB,UAAdyH,EAAM/pB,MAAkC,SAAd+pB,EAAM1xB,KAChC+1E,GAAwBrkD,EAAM1U,SAAUg5D,GAEnCtkD,EAAMvuB,WAAWqO,IAAI,cAItBmoE,EAAa5zE,IAAI2rB,EAAM1U,SAASoN,WAHhC2rD,GAAwBrkD,EAAM1U,SAAS6W,aAAanC,EAAMxzB,QAAS83E,QAOtE,GAAkB,UAAdtkD,EAAM/pB,MAAoB+pB,EAAMvuB,WAAWqO,IAAI,cACpDukE,GAAwBrkD,EAAM1U,SAAUg5D,QAGvC,GAAkB,aAAdtkD,EAAM/pB,KAAqB,CAChC,MAAMlK,EAAOi0B,EAAMzP,MAAMzM,MAAM4U,UAC3BmlC,EAAenmD,SAASsoB,EAAM9S,eAC9Bm3D,GAAwBrkD,EAAMzP,MAAMzM,MAAOwgE,GACX,OAA5BtkD,EAAMjT,mBACNs3D,GAAwBrkD,EAAMzP,MAAMzM,MAAMqe,aAAa,GAAImiD,GAEvD4D,EAA6Bn8E,IAC7Bi8E,EAAe18E,KAAKS,IAIxBk8E,EAAa5zE,IAAItI,IAGhB8iE,GAAgB9iE,IAGjBm8E,EAA6Bn8E,IAC7Bi8E,EAAe18E,KAAKS,EAGhC,CAEJ,IAAK,MAAMozE,KAAYmF,EAAelpE,SAClC4sE,EAAe18E,QAAQ68E,EAA0BhJ,EAAU8I,IAE/D,IAAK,MAAMl8E,KAAQ,IAAIm6C,IAAI8hC,GACvBvqE,EAAQkb,cAAc5sB,EAC1B,EAEJ,SAASo8E,EAA0BhJ,EAAU8I,GACzC,MAAMD,EAAiB,GACjBzG,EAAU,IAAIr7B,IACd4N,EAAQ,GACd,IAAK,MAAM,KAAE5sC,EAAI,SAAE63D,KAAcH,GAAyBO,EAAU,WAAY,CAC5E,GAAIoC,EAAQzhE,IAAIoH,GACZ,SAEJ,MAAMkhE,EAAalhE,EAAK3N,aAAa,cAEjCwlE,GAAYqJ,EAAarJ,EAASxlE,aAAa,gBAC/Cu6C,EAAMtnD,OAAS47E,EAAa,GAGhCt0B,EAAMs0B,GAAcl6E,OAAO6T,YAAYjV,MAAMyB,KAAK2Y,EAAKlF,iBAClD3P,QAAO,EAAER,KAASgsD,EAAenmD,SAAS7F,MAE/C,MAAM+H,EAAS4lE,GAAkBt4D,EAAM,CAAE+e,UAAW,YACpD,IAAK,MAAMpsB,KAASD,EAChB2nE,EAAQltE,IAAIwF,IAERquE,EAA6BruE,EAAOD,IAI/ByuE,EAAgCxuE,EAAOi6C,EAAOm0B,KAHnDD,EAAe18E,KAAKuO,EAOhC,CACA,OAAOmuE,CACX,CACA,SAASE,EAA6Bn8E,EAAM6N,GACxC,MAAMiH,EAAcpD,EAAQoP,OAAOC,cAAc/gB,GACjD,IAAK8U,EACD,OAAO,EAMX,GAJqBijD,EAAY/1C,KAAK,eAAgB,CAClD1M,aAActV,EACd8U,gBAGA,OAAO,EAEX,IAAK9U,EAAKyV,GAAG,UAAW,eAAiBzV,EAAKyV,GAAG,UAAW,YACxD,OAAO,EAEX,MAAM8mE,EAAWvC,GAAwBh6E,EAAM8xD,EAAgBjkD,GAC/D,SAAI0uE,IAAYznE,EAAYW,GAAG,UAAW,SAGhC8mE,IAAYznE,EAAYW,GAAG,UAAW,QAIpD,CACA,SAAS6mE,EAAgCt8E,EAAM+nD,EAAOm0B,GAElD,GAAIA,EAAanoE,IAAI/T,GACjB,OAAO,EAEX,MAAM8U,EAAcpD,EAAQoP,OAAOC,cAAc/gB,GACjD,IAAI+pC,EAASge,EAAMtnD,OAAS,EAE5B,IAAK,IAAIuT,EAAUc,EAAY0B,QAASxC,EAAQyB,GAAG,mBAAoBzB,EAAUA,EAAQwC,OAAQ,CAC7F,MAAMgmE,EAAoBvE,GAAejkE,GACnCyoE,EAAgBzE,GAAWhkE,GACjC,IAAKyoE,IAAkBD,EACnB,SAEJ,MAAM9+D,EAAY,oBAAmB8+D,EAAoB,OAAS,QAKlE,GAJqBzkB,EAAY/1C,KAAKtE,EAAW,CAC7C5I,YAAad,EACb0oE,gBAAiB30B,EAAMhe,KAGvB,MAEJ,GAAI0yC,IACA1yC,IAEIA,EAAS,GACT,OAAO,CAGnB,CACA,OAAO,CACX,CACJ,CGgKqD4yC,CAA2BzvE,EAAOH,EAAO2E,QAASogD,EAAgBhyD,MAAO,CAAE2a,SAAU,SAElI3a,KAAKkT,GAAG,wBAAwB,CAAC0N,GAAO5L,cAAa4nE,sBAC7C5nE,EAAYrV,IAAMi9E,EAAgB5F,aAClCp2D,EAAIsL,QAAS,EACbtL,EAAIsZ,OACR,IAGJl6B,KAAKkT,GAAG,wBAAwB,CAAC0N,GAAO5L,cAAa4nE,sBAC7C5nE,EAAYvS,MAAQ61E,GAA8BsE,EAAgBjkB,WAClE3jD,EAAYrV,IAAM04E,GAA4BuE,EAAgBjkB,SAAUikB,EAAgB7F,cACxFn2D,EAAIsL,QAAS,EACbtL,EAAIsZ,OACR,GAER,CAIA,qBAAA8gD,GACI,MAAM5tE,EAAQpN,KAAKiN,OAAOG,MACpB4kD,EAAiBhyD,KAAKi7E,wBAG5B7tE,EAAMpJ,SAASktB,mBAAkBpjB,GA2HzC,SAA8BV,EAAOU,EAAQkkD,EAAgBiG,GACzD,MAAMvrC,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aAChC6rD,EAAiB,IAAIvoE,IACrBuqE,EAAaxiB,EAAYhrD,OAAO0B,OAAOvD,IAAI,mBACjD,IAAI0xE,GAAU,EACd,IAAK,MAAM3oD,KAASzH,EAAS,CACzB,GAAkB,UAAdyH,EAAM/pB,MAAkC,SAAd+pB,EAAM1xB,KAAiB,CACjD,MAAMvC,EAAOi0B,EAAM1U,SAASoN,UAE5B,IAAKzf,EAAMgB,OAAOC,eAAenO,EAAM,cACnC,IAAK,MAAMkW,KAAiBnV,MAAMyB,KAAKxC,EAAKqyD,oBACpCP,EAAenmD,SAASuK,KACxBtI,EAAO1G,gBAAgBgP,EAAelW,GACtC48E,GAAU,GAItBtE,GAAwBrkD,EAAM1U,SAAUg5D,GAEnCtkD,EAAMvuB,WAAWqO,IAAI,eACtBukE,GAAwBrkD,EAAM1U,SAAS6W,aAAanC,EAAMxzB,QAAS83E,GAGvE,IAAK,MAAQv4E,KAAM68E,EAAS,iBAAEd,KAAsB7uE,EAAM8L,cAAchZ,GAChE8iE,GAAgB+Z,IAChBvE,GAAwByD,EAAkBxD,EAGtD,KAEuB,UAAdtkD,EAAM/pB,KACXouE,GAAwBrkD,EAAM1U,SAAUg5D,GAGrB,aAAdtkD,EAAM/pB,MAAuB4nD,EAAenmD,SAASsoB,EAAM9S,gBAChEm3D,GAAwBrkD,EAAMzP,MAAMzM,MAAOwgE,GACX,OAA5BtkD,EAAMjT,mBACNs3D,GAAwBrkD,EAAMzP,MAAMzM,MAAMqe,aAAa,GAAImiD,IAInE,IAAKgC,GAA4B,aAAdtmD,EAAM/pB,MAAuBkwE,GAAqBzuE,SAASsoB,EAAM9S,cAAe,CAC/F,MAAMnN,EAAUigB,EAAMzP,MAAMzM,MAAM4U,UACF,OAA5BsH,EAAMjT,mBAA8BhN,GAAWA,EAAQyB,GAAG,UAAW,aACrE7H,EAAOw3B,OAAOpxB,EAAS,aACvB4oE,GAAU,GAEuB,OAA5B3oD,EAAMzD,mBAA8Bxc,GAAWA,EAAQyB,GAAG,YAA8B,YAAhBzB,EAAQzR,OACrFqL,EAAOw3B,OAAOpxB,EAAS,YACvB4oE,GAAU,EAElB,CACJ,CAEA,MAAME,EAAU,IAAI3iC,IACpB,IAAK,MAAMi5B,KAAYmF,EAAelpE,SAClCutE,EAAU7kB,EAAY/1C,KAAK,YAAa,CACpCs2C,UAAW,IAAI6a,GAAmBC,GAClCA,WACAxlE,SACAkvE,aACEF,EAEV,OAAOA,CACX,CA3LmD,CAAqB1vE,EAAOU,EAAQkkD,EAAgBhyD,QAG/FA,KAAKkT,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,aACpC8S,EAAIsL,OJhWT,SAAwBssC,EAAW1qD,GACtC,IAAImvE,EAAY,EACZC,GAAc,EACdC,EAAQ,KACRL,GAAU,EACd,IAAK,MAAM,KAAEzhE,KAAUm9C,EAAW,CAC9B,MAAM+jB,EAAalhE,EAAK3N,aAAa,cACrC,GAAI6uE,EAAaU,EAAW,CACxB,IAAIrG,EACU,OAAVuG,GACAA,EAAQZ,EAAaU,EACrBrG,EAAYqG,IAGRE,EAAQZ,IACRY,EAAQZ,GAEZ3F,EAAY2F,EAAaY,GAEzBvG,EAAYsG,EAAa,IACzBtG,EAAYsG,EAAa,GAE7BpvE,EAAO7H,aAAa,aAAc2wE,EAAWv7D,GAC7CyhE,GAAU,EACVI,EAAatG,CACjB,MAEIuG,EAAQ,KACRF,EAAYV,EAAa,EACzBW,EAAaX,CAErB,CACA,OAAOO,CACX,CI+TyBM,CAAe5kB,EAAW1qD,IAAW8S,EAAIsL,MAAM,GAC7D,CAAEvR,SAAU,SAEf3a,KAAKkT,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,SAAQkvE,cAC5Cp8D,EAAIsL,OJzTT,SAAwBssC,EAAWwkB,EAASlvE,GAC/C,MAAM4nE,EAAU,IAAIr7B,IACpB,IAAIyiC,GAAU,EACd,IAAK,MAAM,KAAEzhE,KAAUm9C,EAAW,CAC9B,GAAIkd,EAAQzhE,IAAIoH,GACZ,SAEJ,IAAIs9C,EAAWt9C,EAAK3N,aAAa,YAC7BspE,EAAa37D,EAAK3N,aAAa,cAOnC,GALIsvE,EAAQ/oE,IAAI+iE,KACZA,EAAaxD,GAAY3xE,QAE7Bm7E,EAAQx0E,IAAIwuE,GAER37D,EAAK1F,GAAG,UAAW,YACf0F,EAAK3N,aAAa,eAAiBspE,IACnClpE,EAAO7H,aAAa,aAAc+wE,EAAY37D,GAC9CyhE,GAAU,QAIlB,IAAK,MAAM9uE,KAAS2lE,GAAkBt4D,EAAM,CAAE+e,UAAW,YACrDs7C,EAAQltE,IAAIwF,GAERA,EAAMN,aAAa,aAAeirD,IAClCqe,EAAaxD,GAAY3xE,OACzB82D,EAAW3qD,EAAMN,aAAa,aAE9BM,EAAMN,aAAa,eAAiBspE,IACpClpE,EAAO7H,aAAa,aAAc+wE,EAAYhpE,GAC9C8uE,GAAU,EAGtB,CACA,OAAOA,CACX,CIqRyBO,CAAe7kB,EAAWwkB,EAASlvE,IAAW8S,EAAIsL,MAAM,GACtE,CAAEvR,SAAU,QACnB,CAKA,0BAAAkL,GACI,MAAMzY,EAAQpN,KAAKiN,OAAOG,MACpB2M,EAAoB/Z,KAAKiN,OAAO8G,QAAQ3I,IAAI,qBAClDpL,KAAK2R,SAASvE,EAAO,gBAkM7B,SAAqCA,GACjC,MAAO,CAACwT,GAAMzgB,EAAS2V,MACnB,MAAM1C,EAAQjT,EAAQwV,GAAG,oBACrB1U,MAAMyB,KAAKvC,EAAQ0mB,eACnB,CAAC1mB,GACL,IAAKiT,EAAMzS,OACP,OAEJ,MAGM8e,GAHY3J,EACd1I,EAAMkX,gBAAgBxO,GACtB1I,EAAMpJ,SAASqJ,WACQkK,mBAE3B,IAAI+lE,EACJ,GAAIta,GAAgBvjD,EAAS/I,QACzB4mE,EAAU79D,EAAS/I,WAElB,KAAIssD,GAAgBvjD,EAASklB,cAAeq+B,GAAgBvjD,EAASoN,WAItE,OAHAywD,EAAU79D,EAASklB,UAIvB,CACAv3B,EAAMS,QAAOC,IACT,MAAMyvE,EAAUD,EAAQ5vE,aAAa,YAC/B8vE,EAAYF,EAAQ5vE,aAAa,cACjC+vE,EAAqBrqE,EAAM,GAAG1F,aAAa,eAAiB,EAC5DgwE,EAAa5oC,KAAKC,IAAIyoC,EAAYC,EAAoB,GAC5D,IAAK,MAAMv9E,KAAQkT,EAAO,CACtB,MAAMuqE,EAAa3a,GAAgB9iE,GAC/Bo9E,EAAQ3nE,GAAG,UAAW,aAAezV,EAAKyV,GAAG,UAAW,cAOxD7H,EAAOw3B,OAAOplC,EAAM,YAExB4N,EAAO6mE,cAAc,CACjBoC,YAAa4G,EAAaz9E,EAAKwN,aAAa,cAAgB,GAAKgwE,EACjE1G,WAAY2G,EAAaz9E,EAAKwN,aAAa,cAAgB8lE,GAAY3xE,OACvE82D,SAAU4kB,GACXr9E,EACP,IACF,CAEV,CAjP8C09E,CAA4BxwE,GAAQ,CAAEuN,SAAU,SA6BtF3a,KAAK2R,SAASoI,EAAmB,wBAAwB,CAAC6G,EAAKtd,KAC3D8J,EAAMS,QAAOC,IAET,MAAM+vE,EAAqB58E,MAAMyB,KAAKY,EAAKnD,QAAQ0mB,eAC7Ci3D,EAAWD,EAAmBA,EAAmBl9E,OAAS,GAQhE,GAPIk9E,EAAmBl9E,OAAS,GAAKm9E,EAASnoE,GAAG,YAAcmoE,EAASnpE,SAC9BkpE,EAAmBt7E,MAAM,GAAI,GACjC+V,MAAM0qD,KACpCl1D,EAAOnH,OAAOm3E,GAIH,QAAfx6E,EAAK8jB,QAAmC,OAAf9jB,EAAK8jB,OAAiB,CAC/C,MAAM22D,EAAc98E,MAAMyB,KAAKY,EAAKnD,QAAQ0mB,eACXouD,GAAiB8I,IAE9C/I,GAAqB+I,EAAajwE,EAE1C,IACF,GAEV,CAIA,8BAAAitE,GACI,MAAM9tE,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACjBzD,EAAO6pB,cAAcknD,sBAAsB,CACvCr+E,GAAI,OACJ2R,MAAOZ,EAAE,yCACT2L,WAAY,CACR,CACI/K,MAAOZ,EAAE,6BACTsmB,UAAW,OAEf,CACI1lB,MAAOZ,EAAE,6BACTsmB,UAAW,eAI3B,EAgLJ,SAASkgD,GAAgC9pE,EAAOgtB,GAC5C,MAAM/sB,EAAYD,EAAMpJ,SAASqJ,UACjC,IAAKA,EAAU2mB,YACX,OAAQmhD,GAAuB/nE,GAEnC,GAAkB,YAAdgtB,EACA,OAAO,EAEX,MACMC,EADgBhtB,EAAUkK,mBACKb,OAC/B4jB,EAAkBD,EAAeC,gBACvC,OAAIltB,EAAMgB,OAAOsG,SAAS4lB,OAGtBA,EAAgB3lB,SAGbsgE,GAAiB,CAAC56C,EAAgBC,IAC7C,CCvpBO,SAAS2jD,GAAmBhxE,EAAQquB,EAAahqB,EAAOC,GAC3DtE,EAAO6D,GAAGC,iBAAiBvI,IAAI8yB,GAAa,KACxC,MAAMnqB,EAAaH,GAAc,EAAAI,WAAYnE,EAAQquB,EAAahqB,EAAOC,GAKzE,OAJAJ,EAAWE,IAAI,CACXG,SAAS,EACTC,cAAc,IAEXN,CAAU,IAErBlE,EAAO6D,GAAGC,iBAAiBvI,IAAI,WAAW8yB,KAAe,KACrD,MAAMnqB,EAAaH,GAAc,EAAAgC,8BAA+B/F,EAAQquB,EAAahqB,EAAOC,GAK5F,OAJAJ,EAAWE,IAAI,CACXwB,KAAM,mBACNpB,cAAc,IAEXN,CAAU,GAEzB,CAIA,SAASH,GAAcwpB,EAAavtB,EAAQquB,EAAahqB,EAAOC,GAC5D,MAAML,EAAUjE,EAAO+C,SAAS5E,IAAIkwB,GAC9BhsB,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAYpC,OAXAsD,EAAK+B,IAAI,CACLC,QACAC,SAGJjC,EAAK5H,KAAK,OAAQ,aAAagK,GAAGR,EAAS,QAAS,aAEpD5B,EAAK4D,GAAG,WAAW,KACfjG,EAAOU,QAAQ2tB,GACfruB,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBvC,CACX,CCrCe,MAAM,WAAe,EAAAf,OAIhC,qBAAWC,GACP,MAAO,QACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM6B,EAAI1Q,KAAKiN,OAAOyD,EAEjB1Q,KAAKiN,OAAO6D,GAAGC,iBAAiBkD,IAAI,iBACrCgqE,GAAmBj+E,KAAKiN,OAAQ,eAAgByD,EAAE,iBAAkB,EAAAP,MAAM+tE,cAGzEl+E,KAAKiN,OAAO6D,GAAGC,iBAAiBkD,IAAI,iBACrCgqE,GAAmBj+E,KAAKiN,OAAQ,eAAgByD,EAAE,iBAAkB,EAAAP,MAAMguE,aAElF,ECvBW,MAAM,WAAa,EAAA5vE,OAI9B,mBAAWgF,GACP,MAAO,CAACgnE,GAAa,GACzB,CAIA,qBAAW/rE,GACP,MAAO,MACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECnBW,MAAM2vE,WAAyB,EAAArxE,QAI1C,OAAAC,GACI,MAAMjL,EAAQ/B,KAAK63B,YACnB73B,KAAK+B,MAAQA,EACb/B,KAAKuN,UAAqB,MAATxL,CACrB,CAOA,OAAA4L,EAAQ,WAAE0wE,EAAa,GAAM,CAAC,GAC1B,MAAMjxE,EAAQpN,KAAKiN,OAAOG,MACpBpJ,EAAWoJ,EAAMpJ,SACvB,IAAI+J,EAAS9M,MAAMyB,KAAKsB,EAASqJ,UAAUC,qBACtC9G,QAAOwH,GAASg1D,GAAgBh1D,IACjC4qD,GAAmB5qD,EAAMN,aAAa,eAC1CK,EAASwmE,GAA+BxmE,GACxCX,EAAMS,QAAOC,IACT,IAAK,MAAME,KAASD,EAChBD,EAAO7H,aAAa,YAAao4E,GAAc,EAAIA,EAAa,EAAGrwE,EACvE,GAER,CAMA,SAAA6pB,GACI,MACM7zB,EADQhE,KAAKiN,OAAOG,MACHpJ,SACjBgK,GAAQ,IAAAb,OAAMnJ,EAASqJ,UAAUC,qBACvC,OAAIU,GACAg1D,GAAgBh1D,IAChB4qD,GAAmB5qD,EAAMN,aAAa,aAC/BM,EAAMN,aAAa,aAEvB,IACX,ECnDJ,MAAM4wE,GAA0B,CAAC,EAC3BC,GAA+B,CAAC,EAChCC,GAA+B,CAAC,EAChCC,GAAmB,CACrB,CAAEC,UAAW,OAAQC,cAAe,OAAQhmB,SAAU,YACtD,CAAE+lB,UAAW,SAAUC,cAAe,SAAUhmB,SAAU,YAC1D,CAAE+lB,UAAW,SAAUC,cAAe,SAAUhmB,SAAU,YAC1D,CAAE+lB,UAAW,UAAWC,cAAe,IAAKhmB,SAAU,YACtD,CAAE+lB,UAAW,uBAAwBC,cAAe,KAAMhmB,SAAU,YACpE,CAAE+lB,UAAW,cAAeC,cAAe,IAAKhmB,SAAU,YAC1D,CAAE+lB,UAAW,cAAeC,cAAe,IAAKhmB,SAAU,YAC1D,CAAE+lB,UAAW,cAAeC,cAAe,IAAKhmB,SAAU,YAC1D,CAAE+lB,UAAW,cAAeC,cAAe,IAAKhmB,SAAU,YAC1D,CAAE+lB,UAAW,cAAeC,cAAe,IAAKhmB,SAAU,YAC1D,CAAE+lB,UAAW,cAAeC,cAAe,IAAKhmB,SAAU,aAE9D,IAAK,MAAM,UAAE+lB,EAAS,cAAEC,EAAa,SAAEhmB,KAAc8lB,GACjDH,GAAwBI,GAAa/lB,EACrC4lB,GAA6BG,GAAaC,EACtCA,IACAH,GAA6BG,GAAiBD,GAM/C,SAASE,KACZ,OAAOH,GAAiBx+E,KAAI4+E,GAAKA,EAAEH,WACvC,CAIO,SAAS,GAA6BI,GACzC,OAAOR,GAAwBQ,IAAkB,IACrD,CAIO,SAASC,GAAkCh9E,GAC9C,OAAOy8E,GAA6Bz8E,IAAU,IAClD,CAIO,SAASi9E,GAAkCj9E,GAC9C,OAAOw8E,GAA6Bx8E,IAAU,IAClD,CCrCe,MAAMk9E,WAAyB,EAAAlyE,QAS1C,WAAAvK,CAAYyK,EAAQiyE,EAAaC,GAC7BzwE,MAAMzB,GACNjN,KAAKk/E,YAAcA,EACnBl/E,KAAKo/E,gBAAkBD,CAC3B,CAIA,OAAAnyE,GACIhN,KAAK+B,MAAQ/B,KAAK63B,YAClB73B,KAAKuN,UAAYvN,KAAK83B,eAC1B,CAQA,OAAAnqB,CAAQ/I,EAAU,CAAC,GACf,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBpJ,EAAWoJ,EAAMpJ,SACvBoJ,EAAMS,QAAOC,IACT9N,KAAKq/E,yBAAyBz6E,GAC9B,IAAImJ,EAAS9M,MAAMyB,KAAKsB,EAASqJ,UAAUC,qBACtC9G,QAAOwH,GAASA,EAAMP,aAAa,cACxC,GAAKM,EAAOpN,OAAZ,CAGAoN,EAASwmE,GAA+BxmE,GACxC,IAAK,MAAMC,KAASD,EAChBD,EAAO7H,aAAa,YAAarB,EAAQwF,MAAQpK,KAAKk/E,YAAalxE,EAHvE,CAIA,GAER,CAIA,oBAAAsxE,CAAqBv9E,GACjB,OAAK/B,KAAKo/E,iBAGHp/E,KAAKo/E,gBAAgBvzE,SAAS9J,EACzC,CAMA,SAAA81B,GACI,MAAM67C,GAAW,IAAAvmE,OAAMnN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UAAUC,qBAC5D,OAAI01D,GAAgB0Q,GACTA,EAAShmE,aAAa,aAE1B,IACX,CAMA,aAAAoqB,GACI,MAAM7qB,EAASjN,KAAKiN,OACdixE,EAAejxE,EAAO+C,SAAS5E,IAAI,gBACnC+yE,EAAelxE,EAAO+C,SAAS5E,IAAI,gBACzC,OAAO8yE,EAAa3wE,WAAa4wE,EAAa5wE,SAClD,CAMA,wBAAA8xE,CAAyBz6E,GACrB,IAAKA,EAAQwF,KACT,OAEJ,MAAMuuD,EAAW,GAA6B/zD,EAAQwF,MACtD,IAAKuuD,EACD,OAEJ,MAAM1rD,EAASjN,KAAKiN,OACdquB,EAAc,GAAGq9B,QACP1rD,EAAO+C,SAAS5E,IAAIkwB,GACvBv5B,OACTkL,EAAOU,QAAQ2tB,EAEvB,EChGW,MAAMikD,WAA4B,EAAAxyE,QAI7C,OAAAC,GACI,MAAMjL,EAAQ/B,KAAK63B,YACnB73B,KAAK+B,MAAQA,EACb/B,KAAKuN,UAAqB,MAATxL,CACrB,CAOA,OAAA4L,CAAQ/I,EAAU,CAAC,GACf,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBpJ,EAAWoJ,EAAMpJ,SACvB,IAAI+J,EAAS9M,MAAMyB,KAAKsB,EAASqJ,UAAUC,qBACtC9G,QAAOwH,GAASg1D,GAAgBh1D,IAA4C,YAAlCA,EAAMN,aAAa,cAClEK,EAASwmE,GAA+BxmE,GACxCX,EAAMS,QAAOC,IACT,IAAK,MAAME,KAASD,EAChBD,EAAO7H,aAAa,iBAAkBrB,EAAQ46E,SAAUxxE,EAC5D,GAER,CAIA,SAAA6pB,GACI,MACM7zB,EADQhE,KAAKiN,OAAOG,MACHpJ,SACjBgK,GAAQ,IAAAb,OAAMnJ,EAASqJ,UAAUC,qBACvC,OAAI01D,GAAgBh1D,IAA4C,YAAlCA,EAAMN,aAAa,YACtCM,EAAMN,aAAa,gBAEvB,IACX,ECzCG,SAAS+xE,GAA8BnG,GAC1C,MAAO,CAAC14D,EAAKtd,EAAMud,KACf,MAAM,OAAE/S,EAAM,OAAEM,EAAM,WAAE0S,GAAeD,EAGvC,IAAiE,IAA7DC,EAAWne,KAAKW,EAAK2iB,SAAUqzD,EAASoG,iBACxC,OAECp8E,EAAKgjB,YACNjkB,OAAO69C,OAAO58C,EAAMud,EAAc2F,gBAAgBljB,EAAK2iB,SAAU3iB,EAAK8iB,cAE1E,IAAI02D,GAAU,EACd,IAAK,MAAM58E,KAAQoD,EAAKgjB,WAAWC,SAAS,CAAEwyC,SAAS,IAC9C3qD,EAAOC,eAAenO,EAAMo5E,EAASljE,gBAGrCkjE,EAASqG,kBAAkBz/E,KAI5BA,EAAKuN,aAAa6rE,EAASljE,iBAG/BtI,EAAO7H,aAAaqzE,EAASljE,cAAekjE,EAASsG,qBAAqBt8E,EAAK2iB,UAAW/lB,GAC1F48E,GAAU,IAEVA,GACAh8D,EAAWC,QAAQzd,EAAK2iB,SAAUqzD,EAASoG,gBAC/C,CAER,CC9Be,MAAMG,WAA4B,EAAAtxE,OAI7C,qBAAWC,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,yBAAAmwE,GACI,OAAOA,IACX,CAIA,4BAAAkB,CAA6BhB,GACzB,OAAO,GAA6BA,EACxC,CAIA,iCAAAC,CAAkCh9E,GAC9B,OAAOg9E,GAAkCh9E,EAC7C,CAIA,iCAAAi9E,CAAkCj9E,GAC9B,OAAOi9E,GAAkCj9E,EAC7C,ECtBG,SAASg+E,GAAoBpxE,GAChC,MAAM,WAAE0vE,EAAU,SAAEmB,EAAQ,OAAE72E,GAAWgG,EACzC,MAAO,CACHhG,OAAQq3E,GAA0Br3E,GAClC01E,WAAYA,IAAc,EAC1BmB,SAAUA,IAAY,EAE9B,CAeA,SAASQ,GAA0Br3E,GAC/B,MAAMs3E,EAAmB,CACrBC,UAAW,CAAC,WAAY,YACxBC,cAAc,GAElB,OAAe,IAAXx3E,IAGCA,EAGI1H,MAAME,QAAQwH,IAA4B,iBAAVA,EACrCs3E,EAAiBC,WAAY,IAAA79D,SAAQ1Z,IAGrCs3E,EAAiBC,UAAYv3E,EAAOu3E,WAChC,IAAA79D,SAAQ1Z,EAAOu3E,WACfD,EAAiBC,UACrBD,EAAiBE,eAAiBx3E,EAAOw3E,cATzCF,EAAiBC,UAAY,IAHtBD,CAef,CCpDA,MAAMG,GAAoB,UAOX,MAAMC,WAA8B,EAAA9xE,OAI/C,mBAAWgF,GACP,MAAO,CAACgnE,GAAasF,GACzB,CAIA,qBAAWrxE,GACP,MAAO,uBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNA,EAAO0B,OAAOC,OAAO,kBAAmB,CACpCjG,QAAQ,EACR01E,YAAY,EACZmB,UAAU,GAElB,CAIA,IAAA3wE,GACI,MAAM5B,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACf6qD,EAAchrD,EAAO8G,QAAQ3I,IAAImvE,IAEjC3B,EA8Fd,SAAmC0H,GAC/B,MAAM1H,EAAa,GACbqH,EAAmBF,GAAoBO,GAC7C,GAAIA,EAAkB33E,OAAQ,CAC1B,MAAMw3E,EAAeF,EAAiBt3E,OAAOw3E,aAC7CvH,EAAWn5E,KAAK,CACZ2W,cAAe,YACf+xD,aAAciY,GACdV,gBAAiB,CAAE/2E,OAAQ,mBAC3B,UAAA43E,CAAWtzE,GACP,IAAIkyE,EAAiBP,KACjBuB,IACAhB,EAAiBA,EAAe34E,QAAOg6E,KAAexB,GAAkCwB,MAE5FvzE,EAAO+C,SAASxH,IAAI,YAAa,IAAIy2E,GAAiBhyE,EAAQmzE,GAAmBjB,GACrF,EACA,iBAAAQ,CAAkBz/E,GACd,MAAwC,YAAjCA,EAAKwN,aAAa,aAA8D,YAAjCxN,EAAKwN,aAAa,WAC5E,EACA,iBAAA+yE,CAAkBvgF,GACd,IAAKF,KAAK2/E,kBAAkBz/E,GACxB,OAAQA,EAAKuN,aAAa,aAE9B,IAAKvN,EAAKuN,aAAa,aACnB,OAAO,EAEX,MAAM1L,EAAQ7B,EAAKwN,aAAa,aAChC,OAAI3L,GAASq+E,IAGN,GAA6Br+E,IAAU7B,EAAKwN,aAAa,WACpE,EACA,sBAAA4qD,CAAuBxqD,EAAQ4wE,EAAWxqE,GACtC,GAAIwqE,GAAaA,IAAc0B,GAAmB,CAC9C,IAAID,EASA,YADAryE,EAAO6V,SAAS,kBAAmB+6D,EAAWxqE,GARhC,CACd,MAAMnS,EAAQi9E,GAAkCN,GAChD,GAAI38E,EAEA,YADA+L,EAAO7H,aAAa,OAAQlE,EAAOmS,EAG3C,CAKJ,CACApG,EAAOsX,YAAY,kBAAmBlR,GACtCpG,EAAO1G,gBAAgB,OAAQ8M,EACnC,EACA,oBAAA0rE,CAAqBc,GACjB,MAAMh7E,EAAQg7E,EAAWtsE,SAAS,mBAClC,GAAI1O,EACA,OAAOA,EAEX,MAAMgkB,EAAYg3D,EAAWhzE,aAAa,QAC1C,OAAIgc,EACOq1D,GAAkCr1D,GAEtC02D,EACX,GAER,CAwDA,OAvDIE,EAAkBd,UAClB5G,EAAWn5E,KAAK,CACZ2W,cAAe,eACf+xD,cAAc,EACduX,gBAAiB,CAAE95E,WAAY,YAC/B,UAAA26E,CAAWtzE,GACPA,EAAO+C,SAASxH,IAAI,eAAgB,IAAI+2E,GAAoBtyE,GAChE,EACA,iBAAA0yE,CAAkBz/E,GACd,MAAwC,YAAjCA,EAAKwN,aAAa,WAC7B,EACA,iBAAA+yE,CAAkBvgF,GACd,OAAOF,KAAK2/E,kBAAkBz/E,IAASA,EAAKuN,aAAa,eAC7D,EACA,sBAAA6qD,CAAuBxqD,EAAQ6yE,EAAczsE,GACrCysE,EACA7yE,EAAO7H,aAAa,WAAY,WAAYiO,GAG5CpG,EAAO1G,gBAAgB,WAAY8M,EAE3C,EACA,oBAAA0rE,CAAqBc,GACjB,OAAOA,EAAWjzE,aAAa,WACnC,IAGJ6yE,EAAkBjC,YAClBzF,EAAWn5E,KAAK,CACZ2W,cAAe,YACf+xD,aAAc,EACduX,gBAAiB,CAAE95E,WAAY,SAC/B,UAAA26E,CAAWtzE,GACPA,EAAO+C,SAASxH,IAAI,YAAa,IAAI41E,GAAiBnxE,GAC1D,EACA,iBAAA0yE,CAAkBz/E,GACd,OAAO04D,GAAmB14D,EAAKwN,aAAa,YAChD,EACA,iBAAA+yE,CAAkBvgF,GACd,OAAOF,KAAK2/E,kBAAkBz/E,IAASA,EAAKuN,aAAa,YAC7D,EACA,sBAAA6qD,CAAuBxqD,EAAQ8yE,EAAW1sE,GACrB,GAAb0sE,GAAkBA,EAAY,EAC9B9yE,EAAO7H,aAAa,QAAS26E,EAAW1sE,GAGxCpG,EAAO1G,gBAAgB,QAAS8M,EAExC,EACA,oBAAA0rE,CAAqBc,GACjB,MAAMG,EAAsBH,EAAWhzE,aAAa,SACpD,OAAOmzE,GAAuB,EAAIA,EAAsB,CAC5D,IAGDjI,CACX,CApN2BkI,CADO7zE,EAAO0B,OAAOvD,IAAI,oBAE5C,IAAK,MAAMkuE,KAAYV,EACnBU,EAASiH,WAAWtzE,GACpBG,EAAMgB,OAAOY,OAAO,YAAa,CAAEC,gBAAiBqqE,EAASljE,gBAE7D6hD,EAAYG,yBAAyB,CACjCC,MAAO,OACPjiD,cAAekjE,EAASljE,cACxB,sBAAAkiD,CAAuBxqD,EAAQ+vC,EAAgB7oC,GAC3CskE,EAAShhB,uBAAuBxqD,EAAQ+vC,EAAgB7oC,EAC5D,IAIR/H,EAAOmC,WAAWK,IAAI,UAAUjH,KAAI2Y,IAChC,IAAK,MAAMm4D,KAAYV,EACnBz3D,EAAWjO,GAAG,aAAcusE,GAA8BnG,IAC1Dn4D,EAAWjO,GAAG,aAAcusE,GAA8BnG,GAC9D,IAGJrhB,EAAY/kD,GAAG,wBAAwB,CAAC0N,GAAO5L,cAAa4nE,sBACxD,IAAK,MAAMtD,KAAYV,EACfU,EAASsG,qBAAqB5qE,IAAgB4nE,EAAgBtD,EAASljE,iBACvEwK,EAAIsL,QAAS,EACbtL,EAAIsZ,OAEZ,IAGJl6B,KAAK2R,SAAS1E,EAAO+C,SAAS5E,IAAI,cAAe,gBAAgB,CAACwV,EAAKk4C,KACnE1rD,EAAMS,QAAOC,IACT,IAAK,MAAMuN,KAAQy9C,EACf,IAAK,MAAMwgB,KAAYV,EACfU,EAASqG,kBAAkBtkE,IAI3BvN,EAAO7H,aAAaqzE,EAASljE,cAAekjE,EAASnR,aAAc9sD,EAG/E,GACF,IAGN48C,EAAY/kD,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,aAC3C,IAAK,MAAM,KAAEuN,KAAUm9C,EACnB,IAAK,MAAM8gB,KAAYV,EAEfU,EAASmH,kBAAkBplE,KAI3Bi+D,EAASqG,kBAAkBtkE,GAC3BvN,EAAO7H,aAAaqzE,EAASljE,cAAekjE,EAASnR,aAAc9sD,GAInEvN,EAAO1G,gBAAgBkyE,EAASljE,cAAeiF,GAEnDuF,EAAIsL,QAAS,EAErB,IAGJ+rC,EAAY/kD,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,aAC3C,IAAK,MAAM,KAAEuN,EAAI,mBAAEo9C,KAAwBD,EAEvC,GAAKC,GAIDA,EAAmB/qD,aAAa,aAAe2N,EAAK3N,aAAa,YAIrE,IAAK,MAAM4rE,KAAYV,EAAY,CAC/B,MAAM,cAAExiE,GAAkBkjE,EAC1B,IAAKA,EAASqG,kBAAkBtkE,GAC5B,SAEJ,MAAMtZ,EAAQ02D,EAAmB/qD,aAAa0I,GAC1CiF,EAAK3N,aAAa0I,IAAkBrU,IACpC+L,EAAO7H,aAAamQ,EAAerU,EAAOsZ,GAC1CuF,EAAIsL,QAAS,EAErB,CACJ,GAER,iBC/IS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ3jB,OCKR,MAAMw4E,WAA2B,EAAA7kE,KAY5C,WAAA1Z,CAAYwJ,GAAQ,kBAAEs0E,EAAiB,iBAAEU,EAAgB,mBAAEC,IACvDvyE,MAAM1C,GAINhM,KAAKkhF,WAAa,KAYlBlhF,KAAKmhF,oCAAsC,KAQ3CnhF,KAAKohF,oBAAsB,KAQ3BphF,KAAKqhF,yBAA2B,KAIhCrhF,KAAKmc,aAAe,IAAI,EAAAC,aAIxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBAItBtc,KAAKid,WAAa,IAAI,EAAAH,eACtB,MAAMwkE,EAAoB,CACtB,KACA,sBAEJthF,KAAKmT,SAAWnT,KAAKunB,mBACrBvnB,KAAK6tC,YAAc,IAAI,EAAA7wB,YAAY,CAC/BC,WAAYjd,KAAKid,WACjBd,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,cAEfC,UAAW,SAKf2jE,GAAoBA,EAAiBrgF,QACrCX,KAAKkhF,WAAalhF,KAAKuhF,kBAAkBP,EAAkBC,GAC3DjhF,KAAKmT,SAAS3K,IAAIxI,KAAKkhF,aAGvBI,EAAkB7hF,KAAK,sCAIvB6gF,EAAkBjC,YAAciC,EAAkBd,YAClDx/E,KAAKwhF,8BAA8BlB,GACnCgB,EAAkB7hF,KAAK,gDAE3BO,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO+uE,GAEXnuE,SAAUnT,KAAKmT,UAEvB,CAIA,MAAAsK,GAEI,GADA/O,MAAM+O,SACFzd,KAAKkhF,WAAY,CACjBlhF,KAAKid,WAAWzU,IAAIxI,KAAKkhF,YACzBlhF,KAAKmc,aAAa3T,IAAIxI,KAAKkhF,WAAWhtE,UAElClU,KAAKohF,qBAAuBphF,KAAKqhF,4BACjCrhF,KAAKid,WAAWzU,IAAIxI,KAAKmT,SAASsuE,KAAKtwE,YACvCnR,KAAKmc,aAAa3T,IAAIxI,KAAKmT,SAASsuE,KAAKtwE,WAAW+C,UAExD,IAAK,MAAMhU,KAAQF,KAAKkhF,WAAW/tE,SAC/BnT,KAAKkhF,WAAW/kE,aAAa3T,IAAItI,EAAKgU,UAE1C,IAAAwtE,4BAA2B,CACvBxkE,iBAAkBld,KAAKkhF,WAAW7kE,WAClCF,aAAcnc,KAAKkhF,WAAW/kE,aAC9BwlE,UAAW3hF,KAAKkhF,WAAW/tE,SAG3ByuE,gBAAiB,IAAM,EAAA9qE,OAAO5S,OACzB29E,iBAAiB7hF,KAAKkhF,WAAWhtE,SACjC4tE,iBAAiB,yBACjBjpD,MAAM,KACNl4B,OACLsR,oBAAqBjS,KAAKgM,QAAUhM,KAAKgM,OAAOiG,qBAExD,CACA,GAAIjS,KAAKohF,oBAAqB,CAC1BphF,KAAKid,WAAWzU,IAAIxI,KAAKohF,qBACzBphF,KAAKmc,aAAa3T,IAAIxI,KAAKohF,oBAAoBltE,SAC/C,MAAMwT,EAAmBpkB,GAASA,EAAKokB,kBAIvC1nB,KAAKqc,WAAWhL,IAAI,aAAcqW,GAClC1nB,KAAKqc,WAAWhL,IAAI,YAAaqW,GACjC1nB,KAAKqc,WAAWhL,IAAI,UAAWqW,GAC/B1nB,KAAKqc,WAAWhL,IAAI,YAAaqW,EACrC,CACI1nB,KAAKqhF,2BACLrhF,KAAKid,WAAWzU,IAAIxI,KAAKqhF,0BACzBrhF,KAAKmc,aAAa3T,IAAIxI,KAAKqhF,yBAAyBntE,UAGxDlU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,KAAArC,GACI7R,KAAK6tC,YAAYlmB,YACrB,CAIA,SAAAqmB,GACIhuC,KAAK6tC,YAAYG,WACrB,CAIA,OAAA70B,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAOA,iBAAAooE,CAAkBQ,EAAcd,GAC5B,MAAMC,EAAa,IAAI,EAAAhlE,KAAKlc,KAAKgM,QAsBjC,OArBAk1E,EAAW/tE,SAAW+tE,EAAW35D,mBACjC25D,EAAW/tE,SAASsU,QAAQs6D,GAC5Bb,EAAW5jE,YAAY,CACnBC,IAAK,MACL3X,WAAY,CACR,aAAcq7E,EACd1uE,MAAO,CACH,KACA,wBAGRY,SAAU+tE,EAAW/tE,WAEzB+tE,EAAW/tE,SAASF,SAAS,WAAWvB,GAAG1R,MAC3CkhF,EAAWrvE,MAAQ,WACf7R,KAAKmT,SAAShG,MAAM0E,OACxB,EACAqvE,EAAW/kE,aAAe,IAAI,EAAAC,aAC9B8kE,EAAW7kE,WAAa,IAAI,EAAAC,iBAC5B4kE,EAAWzjE,SACXyjE,EAAW7kE,WAAW1K,SAASuvE,EAAWhtE,SACnCgtE,CACX,CAOA,6BAAAM,CAA8BlB,GAC1B,MAAM5vE,EAAI1Q,KAAKgM,OAAO0E,EAChBsxE,EAAwB,GAC1B1B,EAAkBjC,aAClBr+E,KAAKohF,oBAAsBphF,KAAKiiF,yBAChCD,EAAsBviF,KAAKO,KAAKohF,sBAEhCd,EAAkBd,WAClBx/E,KAAKqhF,yBAA2BrhF,KAAKkiF,8BACrCF,EAAsBviF,KAAKO,KAAKqhF,2BAGhCrhF,KAAKkhF,YACLlhF,KAAKmhF,oCAAsC,IAAI,EAAA35D,gBAAgBxnB,KAAKgM,OAAQg2E,GAC5EhiF,KAAKmhF,oCAAoC9vE,IAAI,CACzCC,MAAOZ,EAAE,mBACTsjB,aAAa,IAGjBh0B,KAAKmhF,oCAAoChwE,WAAWzJ,KAAK,aAAamhB,OAAOm5D,EAAuB,aAAa,IAAI/uD,IAAeA,EAAWrmB,MAAKW,GAAaA,MAEjKvN,KAAKmhF,oCAAoChwE,WAAW+B,GAAG,oBAAoB,CAAC0N,EAAKtd,EAAMiK,KAC9EA,IACDvN,KAAKmhF,oCAAoCntD,aAAc,EAC3D,IAEJh0B,KAAKmT,SAAS3K,IAAIxI,KAAKmhF,sCAGvBnhF,KAAKmT,SAASsU,QAAQu6D,EAE9B,CAIA,sBAAAC,GACI,MAAMvxE,EAAI1Q,KAAKgM,OAAO0E,EAChB0wE,EAAsB,IAAI,EAAAtjE,iBAAiB9d,KAAKgM,OAAQ,EAAAm2E,0BA2B9D,OA1BAf,EAAoB/vE,IAAI,CACpBC,MAAOZ,EAAE,YACT6B,MAAO,6CAEX6uE,EAAoB/hE,UAAUhO,IAAI,CAC9BonC,IAAK,EACL2pC,KAAM,EACNrgF,MAAO,EACP4pE,UAAW,YAEfyV,EAAoB/hE,UAAUnM,GAAG,SAAS,KACtC,MAAMm8B,EAAe+xC,EAAoB/hE,UAAUnL,QAC7CmqE,EAAahvC,EAAagzC,cAC5BjnD,OAAOwjB,MAAMy/B,GAGb+C,EAAoBlzC,UAAYx9B,EAAE,8BAGjC2+B,EAAaizC,gBAIdtiF,KAAKkiB,KAAK,YAAa,CAAEm8D,eAHzB+C,EAAoBlzC,UAAYx9B,EAAE,sCAItC,IAEG0wE,CACX,CAIA,2BAAAc,GACI,MAAMxxE,EAAI1Q,KAAKgM,OAAO0E,EAChB6xE,EAAqB,IAAI,EAAA1yC,iBAAiB7vC,KAAKgM,QAOrD,OANAu2E,EAAmBlxE,IAAI,CACnB06B,UAAU,EACVz6B,MAAOZ,EAAE,kBACT6B,MAAO,gDAEXgwE,EAAmBtvE,SAAS,WAAWvB,GAAG1R,KAAM,gBACzCuiF,CACX,EC3SJ,eCQa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQh6E,OCgBR,MAAM,WAAyB,EAAAgG,OAI1C,qBAAWC,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CACA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOjB,OAAO0E,EAClB8xE,EAAmBv1E,EAAO0B,OAAOvD,IAAI,mBACrC60E,EAAmBF,GAAoByC,GACvCC,EAAkBxC,EAAiBt3E,OAAOu3E,UAIhD,GAAIuC,EAAgB52E,SAAS,YAAa,CACtC,MAAM62E,EAAmB,CACrB,CACIpxE,MAAOZ,EAAE,8BACTc,QAASd,EAAE,QACXtG,KAAM,OACNmH,KFxDpB,ibE0DgB,CACID,MAAOZ,EAAE,gCACTc,QAASd,EAAE,UACXtG,KAAM,SACNmH,KC9DpB,shBDgEgB,CACID,MAAOZ,EAAE,gCACTc,QAASd,EAAE,UACXtG,KAAM,SACNmH,KEpEpB,wXFuEkBoxE,EAAcjyE,EAAE,iBAChBuwE,EAAqBvwE,EAAE,gCACvB4qB,EAAc,eACpBruB,EAAO6D,GAAGC,iBAAiBvI,IAAI8yB,EAAasnD,GAAuB,CAC/D31E,SACAgzE,mBACA4C,kBAAmBvnD,EACnBqnD,cACAG,WAAY,EAAA3yE,MAAMguE,aAClB8C,qBACAyB,sBAGJz1E,EAAO6D,GAAGC,iBAAiBvI,IAAI,WAAW8yB,IAAeynD,GAA4B,CACjF91E,SACAgzE,mBACA4C,kBAAmBvnD,EACnBqnD,cACA1B,qBACAyB,qBAER,CAIA,GAAID,EAAgB52E,SAAS,aAAe22E,EAAiBnE,YAAcmE,EAAiBhD,SAAU,CAClG,MAAMkD,EAAmB,CACrB,CACIpxE,MAAOZ,EAAE,iCACTc,QAASd,EAAE,WACXtG,KAAM,UACNmH,KGtGpB,2qDHwGgB,CACID,MAAOZ,EAAE,mDACTc,QAASd,EAAE,6BACXtG,KAAM,uBACNmH,KI5GpB,oxGJ8GgB,CACID,MAAOZ,EAAE,qCACTc,QAASd,EAAE,eACXtG,KAAM,cACNmH,KKlHpB,iyBLoHgB,CACID,MAAOZ,EAAE,qCACTc,QAASd,EAAE,eACXtG,KAAM,cACNmH,KMxHpB,qlBN0HgB,CACID,MAAOZ,EAAE,qCACTc,QAASd,EAAE,eACXtG,KAAM,cACNmH,KO9HpB,ikEPgIgB,CACID,MAAOZ,EAAE,qCACTc,QAASd,EAAE,eACXtG,KAAM,cACNmH,KQpIpB,6pDRuIkBoxE,EAAcjyE,EAAE,iBAChBuwE,EAAqBvwE,EAAE,gCACvB4qB,EAAc,eACpBruB,EAAO6D,GAAGC,iBAAiBvI,IAAI8yB,EAAasnD,GAAuB,CAC/D31E,SACAgzE,mBACA4C,kBAAmBvnD,EACnBqnD,cACAG,WAAY,EAAA3yE,MAAM+tE,aAClB+C,qBACAyB,sBAIAD,EAAgB52E,SAAS,aACzBoB,EAAO6D,GAAGC,iBAAiBvI,IAAI,WAAW8yB,IAAeynD,GAA4B,CACjF91E,SACAgzE,mBACA4C,kBAAmBvnD,EACnBqnD,cACA1B,qBACAyB,qBAGZ,CACJ,EAgBJ,SAASE,IAAuB,OAAE31E,EAAM,iBAAEgzE,EAAgB,kBAAE4C,EAAiB,YAAEF,EAAW,WAAEG,EAAU,mBAAE7B,EAAkB,iBAAEyB,IACxH,MAAMM,EAAgB/1E,EAAO+C,SAAS5E,IAAIy3E,GAC1C,OAAQ72E,IACJ,MAAM8F,GAAe,IAAAC,gBAAe/F,EAAQ,EAAA2c,iBACtCs6D,EAAiBnxE,EAAaX,WA+BpC,OA9BAW,EAAapK,KAAK,aAAagK,GAAGsxE,GAClClxE,EAAaS,MAAQ,0BAErB0wE,EAAe/vE,GAAG,WAAW,KACzBjG,EAAOU,QAAQk1E,GACf51E,EAAO2E,QAAQtC,KAAKuC,OAAO,IAE/BoxE,EAAe5xE,IAAI,CACfC,MAAOqxE,EACPpxE,KAAMuxE,EACNtxE,SAAS,EACTC,cAAc,IAElBwxE,EAAev7E,KAAK,QAAQgK,GAAGsxE,EAAe,SAASjhF,KAAWA,IAClE+P,EAAa0I,KAAK,iBAAiB,KAC/B,MAAM0oE,EAuElB,UAAkC,OAAEj2E,EAAM,iBAAEgzE,EAAgB,aAAEnuE,EAAY,kBAAE+wE,EAAiB,iBAAEH,EAAgB,mBAAEzB,IAC7G,MAAMj1E,EAASiB,EAAOjB,OAChBs0E,EAAoB,IACnBL,KACsB,gBAArB4C,EAAsC,CACtCxE,YAAY,EACZmB,UAAU,GACV,MAEF7mB,EAAWkqB,EAAkBzkD,QAAQ,OAAQ,IACnD,IAAI4iD,EAAmB,KACvB,GAAIf,EAAiBt3E,OAAOu3E,UAAUr0E,SAAS8sD,GAAW,CACtD,MAAMwqB,EAAmBl2E,EAAO+C,SAAS5E,IAAI,aACvCg4E,EAAqBC,GAAsB,CAC7Cp2E,SACA41E,oBACAM,qBAGE7D,EAAuBgE,GAA2BH,GACxDnC,EAAmB0B,EAAiBl8E,OAAO84E,GAAsBr/E,IAAImjF,EACzE,CACA,MAAMF,EAAqB,IAAInC,GAAmB/0E,EAAQ,CACtDi1E,qBACAX,oBACAU,qBAQJ,GANIf,EAAiBt3E,OAAOu3E,UAAUr0E,SAAS8sD,KAE3C,IAAArW,0BAAyBxwC,GAAc,IAC5BoxE,EAAmBhC,WAAW/tE,SAASgf,MAAM2H,GAAUA,EAAM/G,SAGxEutD,EAAkBjC,WAAY,CAC9B,MAAMkF,EAAmBt2E,EAAO+C,SAAS5E,IAAI,aAC7C83E,EAAmB9B,oBAAoB15E,KAAK,aAAagK,GAAG6xE,GAC5DL,EAAmB9B,oBAAoB/hE,UAAU3X,KAAK,SAASgK,GAAG6xE,GAClEL,EAAmBhwE,GAAG,aAAa,CAAC0N,EAAKtd,IAAS2J,EAAOU,QAAQ,YAAarK,IAClF,CACA,GAAIg9E,EAAkBd,SAAU,CAC5B,MAAMgE,EAAsBv2E,EAAO+C,SAAS5E,IAAI,gBAChD83E,EAAmB7B,yBAAyB35E,KAAK,aAAagK,GAAG8xE,GACjEN,EAAmB7B,yBAAyB35E,KAAK,QAAQgK,GAAG8xE,EAAqB,SAASzhF,KAAWA,IACrGmhF,EAAmBhwE,GAAG,gBAAgB,KAClC,MAAMuwE,EAAaD,EAAoBzhF,MACvCkL,EAAOU,QAAQ,eAAgB,CAAE6xE,UAAWiE,GAAa,GAEjE,CAGA,OADAP,EAAmBjwE,SAAS,WAAWvB,GAAGI,GACnCoxE,CACX,CA1HuCQ,CAAyB,CAChDz2E,SACAgzE,mBACAnuE,eACA+wE,oBACA5B,qBACAyB,qBAEJ5wE,EAAauB,UAAUF,SAAS3K,IAAI06E,EAAmB,IAI3DpxE,EAAaoB,GAAG,WAAW,KACvBjG,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBC,CAAY,CAE3B,CAWA,SAASuxE,IAAsB,OAAEp2E,EAAM,iBAAEk2E,EAAgB,kBAAEN,IACvD,MAAM72E,EAASiB,EAAOjB,OAChBg3E,EAAgB/1E,EAAO+C,SAAS5E,IAAIy3E,GAC1C,MAAO,EAAGvxE,QAAOlH,OAAMmH,OAAMC,cACzB,MAAMqM,EAAS,IAAI,EAAAzM,WAAWpF,GAyB9B,OAxBA6R,EAAOxM,IAAI,CAAEC,QAAOC,OAAMC,YAC1B2xE,EAAiBjwE,GAAG,gBAAgB,KAChC2K,EAAOkV,KAAOowD,EAAiBphF,QAAUqI,CAAI,IAEjDyT,EAAO3K,GAAG,WAAW,KAEb8vE,EAAcjhF,MAEVohF,EAAiBphF,QAAUqI,EAC3B6C,EAAOU,QAAQk1E,GAIVM,EAAiBphF,QAAUqI,GAChC6C,EAAOU,QAAQ,YAAa,CAAEvD,SAKlC6C,EAAOG,MAAMS,QAAO,KAChBZ,EAAOU,QAAQ,YAAa,CAAEvD,QAAO,GAE7C,IAEGyT,CAAM,CAErB,CAyEA,SAASklE,IAA4B,OAAE91E,EAAM,iBAAEgzE,EAAgB,kBAAE4C,EAAiB,YAAEF,EAAW,mBAAE1B,EAAkB,iBAAEyB,IACjH,OAAQ12E,IACJ,MAAMyG,EAAW,IAAI,EAAAC,gBAAgB1G,GAC/B23E,EAAc12E,EAAO+C,SAAS5E,IAAIy3E,GAClCM,EAAmBl2E,EAAO+C,SAAS5E,IAAI,aACvCk0E,EAAuBgE,GAA2BH,GAClDC,EAAqBC,GAAsB,CAC7Cp2E,SACA41E,oBACAM,qBAEEnC,EAAmB0B,EAAiBl8E,OAAO84E,GAAsBr/E,IAAImjF,GACrEF,EAAqB,IAAInC,GAAmB/0E,EAAQ,CACtDi1E,qBACAX,kBAAmB,IACZL,EAEH5B,YAAY,EACZmB,UAAU,GAEdwB,qBAYJ,OAVAkC,EAAmBjwE,SAAS,WAAWvB,GAAGe,GAC1CA,EAAStB,WAAWE,IAAI,CACpBC,MAAOqxE,EACPpxE,KAAM,EAAApB,MAAM0yE,KAEhBpwE,EAASY,UAAUF,SAAS3K,IAAI06E,GAChCzwE,EAAS/K,KAAK,aAAagK,GAAGiyE,EAAa,aAC3ClxE,EAASS,GAAG,WAAW,KACnBjG,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBY,CAAQ,CAEvB,CACA,SAAS6wE,GAA2BH,GAChC,MAAoD,mBAAzCA,EAAiB7D,qBAChBsE,GAAoBT,EAAiB7D,qBAAqBsE,EAAgBx5E,MAG3E,KAAM,CAErB,CSjWe,MAAM,WAAuB,EAAAmE,OAIxC,mBAAWgF,GACP,MAAO,CAAC8sE,GAAuB,GACnC,CAIA,qBAAW7xE,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECpBW,MAAMo1E,WAA6B,EAAA92E,QAI9C,WAAAvK,CAAYyK,GACRyB,MAAMzB,GAGNjN,KAAKkT,GAAG,WAAW,KACflT,KAAKgN,SAAS,GACf,CAAE2N,SAAU,WACnB,CAIA,OAAA3N,GACI,MAAM82E,EAAmB9jF,KAAK+jF,oBAC9B/jF,KAAK+B,MAAQ/B,KAAK63B,UAAUisD,GAC5B9jF,KAAKuN,YAAcu2E,EAAiBnjF,MACxC,CAQA,OAAAgN,CAAQ/I,EAAU,CAAC,GACf5E,KAAKiN,OAAOG,MAAMS,QAAOC,IACrB,MAAMg2E,EAAmB9jF,KAAK+jF,oBACxBhiF,OAAgC6I,IAAvBhG,EAAQmzB,YAA6B/3B,KAAK63B,UAAUisD,GAAoBl/E,EAAQmzB,WAC/F,IAAK,MAAM7jB,KAAW4vE,EACd/hF,EACA+L,EAAO7H,aAAa,mBAAmB,EAAMiO,GAG7CpG,EAAO1G,gBAAgB,kBAAmB8M,EAElD,GAER,CAIA,SAAA2jB,CAAUisD,GACN,OAAOA,EAAiBxrE,OAAMpE,GAAWA,EAAQxG,aAAa,oBAClE,CAIA,iBAAAq2E,GACI,MAAM32E,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACfymB,EAAiBznB,EAAMpJ,SAASqJ,UAAU4M,gBAC1C+3D,EAAen9C,EAAe5c,MAAMvB,OACpCstE,EAAW,GACb51E,EAAOC,eAAe2jE,EAAc,oBACpCgS,EAASvkF,QAAQg0E,GAAqBzB,IAE1C,IAAK,MAAM9xE,KAAQ20B,EAAetO,SAAS,CAAEwyC,SAAS,IAC9C3qD,EAAOC,eAAenO,EAAM,qBAAuB8jF,EAASn4E,SAAS3L,IACrE8jF,EAASvkF,QAAQg0E,GAAqBvzE,IAG9C,OAAO8jF,CACX,EClEW,MAAMC,WAAmC,EAAAC,iBACpD,WAAA1hF,GACIkM,SAAS0G,WAITpV,KAAKmkF,aAAe,CAAC,SACzB,CAIA,UAAAC,CAAWziE,GACP,GAAIA,EAAS7d,OAAQ,CACjB,MAAMugF,EAAarkF,KAAKsP,KAAK4O,aAAaoH,aAAa3D,EAAS7d,QAC5DugF,GACAA,EAAW1uE,GAAG,UAAW,UACU,YAAnC0uE,EAAW32E,aAAa,SACxB22E,EAAWhwE,aAAa,CAAEyD,QAAS,sBACnC9X,KAAKkiB,KAAK,qBAAsBP,EAExC,CACJ,ECpBJ,MAAM2iE,IAAwC,IAAAC,gBAAe,cAU9C,MAAMC,WAAwB,EAAAj2E,OAIzC,qBAAWC,GACP,MAAO,iBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACgnE,GACZ,CAIA,IAAA1rE,GACI,MAAM5B,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfwE,EAAU3E,EAAO2E,QACjBqmD,EAAchrD,EAAO8G,QAAQ3I,IAAImvE,IAEjC3qD,EADa3iB,EAAO0B,OAAOvD,IAAI,mBACJ,YAAc,WAC/C6B,EAAO+C,SAASxH,IAAI,WAAY,IAAI4tE,GAAYnpE,EAAQ,SACxDA,EAAO+C,SAASxH,IAAI,gBAAiB,IAAIq7E,GAAqB52E,IAC9D2E,EAAQtC,KAAKsT,YAAYqhE,IACzB72E,EAAMgB,OAAOY,OAAO,YAAa,CAAEC,gBAAiB,oBACpD7B,EAAMgB,OAAO45B,mBAAkB7N,IAC3B,MAAMj6B,EAAOi6B,EAAQsnD,KAErB,IAAKvhF,EAAKwN,aAAa,eAAkD,QAAjCxN,EAAKwN,aAAa,YACtD,OAAO,CACX,GACD,mBACHT,EAAOmC,WAAWK,IAAI,UAAUjH,KAAI2Y,IAEhCA,EAAWjO,GAAG,iBA+Qf,CAAC0N,EAAKtd,EAAMud,KACf,MAAMuF,EAAc9iB,EAAK8iB,YACnBq+D,EAAYr+D,EAAY1P,OACxBuP,EAAW3iB,EAAK2iB,SACtB,IAAKpF,EAAcC,WAAWne,KAAKsjB,EAAU,CAAExjB,MAAM,IACjD,OAEJ,GAAqC,YAAjCwjB,EAASvY,aAAa,UAA0B0Y,EAAYmS,YAAcksD,EAAUh3E,aAAa,YACjG,OAEJoT,EAAcC,WAAWC,QAAQkF,EAAU,CAAExjB,MAAM,IACnD,MAAMqL,EAAS+S,EAAc/S,OAC7BA,EAAO7H,aAAa,WAAY,OAAQw+E,GACpCnhF,EAAK2iB,SAASxY,aAAa,YAC3BK,EAAO7H,aAAa,mBAAmB,EAAMw+E,GAEjDnhF,EAAKgjB,WAAaxY,EAAO+nB,YAAYzP,EAAY,IA7R7CjF,EAAWjO,GAAG,cA4Of,CAAC0N,EAAKtd,EAAMud,KACf,MAAM,OAAE/S,EAAM,OAAEM,GAAWyS,EAC3B,IAAKvd,EAAKgjB,WACN,OAGJ,MAAMo+D,EAAezjF,MAChByB,KAAKY,EAAKgjB,WAAWC,SAAS,CAAEwyC,SAAS,KACzCvyD,QAAQtG,GAA2C,SAAlCA,EAAKwN,aAAa,aAA0BU,EAAOC,eAAenO,EAAM,gBACzFy1B,QAAO,CAACgvD,EAAKzkF,KACd,MAAM82E,EAAa92E,EAAKwN,aAAa,cAIrC,OAHKi3E,EAAI1wE,IAAI+iE,IACT2N,EAAItzE,IAAI2lE,EAAYvD,GAAqBvzE,IAEtCykF,CAAG,GACX,IAAIz0E,KAKP,IAAK,MAAO,CAAEkD,KAAUsxE,EAAathC,UACjC,GAAIhwC,EAAMxG,MAAK1M,GAAQA,EAAKwN,aAAa,qBACrC,IAAK,MAAMxN,KAAQkT,EACftF,EAAO7H,aAAa,mBAAmB,EAAM/F,EAGzD,GAtQ+D,CACvDya,SAAU,QAGdwG,EAAWjO,GAAG,gBAAiB0xE,GAAgC,CAAEniF,KAAM,QAASqV,QAAS,sBACzFqJ,EAAWjO,GAAG,gBAAiB0xE,GAAgC,CAAEniF,KAAM,QAASqV,QAAS,CAAC,mBAAoB,2CAC9GqJ,EAAWjO,GAAG,eAAgB0xE,GAAgC,CAAEniF,KAAM,OAAQqV,QAAS,mCACvFqJ,EAAWjO,GAAG,aA4S1B,SAA2C2xE,GACvC,MAAMryB,EAAU,IAAI,EAAA9C,QA7SkD,CAAEjtD,KAAM,KAAMqV,QAAS,cA8S7F,MAAO,CAAC8I,EAAKtd,EAAMud,KACf,MAAMikE,EAAgBtyB,EAAQj3C,MAAMjY,EAAK2iB,UACzC,IAAK6+D,EACD,OAEJ,MAAMvpE,EAAQupE,EAAcvpE,MAC5BA,EAAM9Y,MAAO,EACboe,EAAcC,WAAWC,QAAQzd,EAAK2iB,SAAU1K,EAAM,CAE9D,CAvTwCwpE,GAAwE,IAExG93E,EAAOmC,WAAWK,IAAI,YAAYsW,iBAAiB,CAC/C3Y,MAAOwiB,EACPtgB,KAAM,CAAC4E,GAAWpG,aACd,GAAIk3E,GAAmB9wE,EAAS+jD,EAAYgjB,yBACxC,OAAOntE,EAAO2F,uBAAuB,OAAQ,CAAElB,MAAO,iCAC1D,EAEJ2/C,kBAAmB,YAEvB+F,EAAYG,yBAAyB,CACjCC,MAAO,OACPjiD,cAAe,WACf,sBAAAkiD,CAAuBxqD,EAAQ/L,EAAOmS,GACrB,QAATnS,EACA+L,EAAOoX,SAAS,YAAahR,GAG7BpG,EAAOqX,YAAY,YAAajR,EAExC,IAEJ+jD,EAAYG,yBAAyB,CACjCC,MAAO,aACPjiD,cAAe,kBACf,aAAAzQ,CAAcmI,EAAQ0H,GAAc,aAAEqjE,IAClC,GAA6C,QAAzCrjE,EAAa9H,aAAa,YAC1B,OAAO,KAEX,MAAMsH,EAAclH,EAAOqtD,gBAAgB,QAAS,CAChD/wD,KAAM,cACFoL,EAAa9H,aAAa,mBAC1B,CAAEu3E,QAAS,WACX,QACApM,EACA,CAAE7X,SAAU,YACZ,CAAExjD,SAAU,QAEpB,GAAIq7D,EACA,OAAO7jE,EAEX,MAAM0kE,EAAU5rE,EAAO2F,uBAAuB,OAAQ,CAAEyxE,gBAAiB,SAAWlwE,GAEpF,OADA0kE,EAAQ7sB,gBAAkB,IAAM,KACzB6sB,CACX,EACA,cAAAD,CAAejkE,GACX,OAAOwvE,GAAmBxvE,EAAcyiD,EAAYgjB,wBACxD,EACA,oBAAAzB,CAAqB1rE,EAAQ0H,GAAc,aAAEqjE,IACzC,MAAM/gE,EAAU,CAAC,oBAIjB,OAHKktE,GAAmBxvE,EAAcyiD,EAAYgjB,0BAC9CnjE,EAAQrY,KAAK,wCAEVqO,EAAOgvC,uBAAuB+7B,EAAe,QAAU,OAAQ,CAClEtmE,MAAOuF,EAAQzX,KAAK,MAE5B,IAGJ43D,EAAY/kD,GAAG,gBAAgB,CAAC0N,GAAOpL,eAAcR,kBACjD,MAAMmwE,EAAiCH,GAAmBxvE,EAAcyiD,EAAYgjB,yBAC/DjmE,EAAYY,SAAS,kCACtBuvE,IAChBvkE,EAAIsL,QAAS,EACbtL,EAAIsZ,OACR,IAIJ+9B,EAAY/kD,GAAG,gBAAgB,CAAC0N,GAAOpL,eAAcR,kBACjD,MAAMowE,EAAqE,QAAzC5vE,EAAa9H,aAAa,aAAyBqmE,GAAuBv+D,GAC5G,IAAI6vE,GAAoB,EACxB,MAAMhL,EAAaptE,EAAO2E,QAAQtC,KAAKqpB,qBAAqB3jB,GAAakG,UAAU,CAAEkf,UAAW,aAChG,IAAK,MAAM,KAAEl6B,KAAUm6E,EAAY,CAC/B,GAAIn6E,EAAKyV,GAAG,YAAc1I,EAAO2E,QAAQoP,OAAOuE,eAAerlB,GAC3D,MAEAA,EAAKyV,GAAG,UAAW,UAAyC,YAA7BzV,EAAKwN,aAAa,UACjD23E,GAAoB,EAE5B,CACIA,GAAqBD,IACrBxkE,EAAIsL,QAAS,EACbtL,EAAIsZ,OACR,IAGJ+9B,EAAY/kD,GAAG,aAAa,CAAC0N,GAAO43C,YAAW1qD,aAC3C,IAAK,MAAM,KAAEuN,EAAI,mBAAEo9C,KAAwBD,EAAW,CAElD,IAAKC,EACD,SAEJ,GAAIA,EAAmB/qD,aAAa,eAAiB2N,EAAK3N,aAAa,cACnE,SAEJ,MAAM43E,EAAuB7sB,EAAmBhrD,aAAa,mBACvD83E,EAAmBlqE,EAAK5N,aAAa,mBACvC83E,IAAqBD,GACrBx3E,EAAO1G,gBAAgB,kBAAmBiU,GAC1CuF,EAAIsL,QAAS,IAEPq5D,GAAoBD,IAC1Bx3E,EAAO7H,aAAa,mBAAmB,EAAMoV,GAC7CuF,EAAIsL,QAAS,EAErB,KAGJ9e,EAAMpJ,SAASktB,mBAAkBpjB,IAC7B,MAAM4e,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAI6oC,GAAW,EACf,IAAK,MAAM5nD,KAAU6e,EACjB,GAAmB,aAAf7e,EAAOzD,MAA8C,YAAvByD,EAAOwT,aAA4B,CACjE,MAAMnN,EAAUrG,EAAO6W,MAAMzM,MAAM4U,UACH,QAA5Bhf,EAAO6iB,mBAA+Bxc,EAAQzG,aAAa,qBAC3DK,EAAO1G,gBAAgB,kBAAmB8M,GAC1CuhD,GAAW,EAEnB,MACK,GAAmB,UAAf5nD,EAAOzD,MAAmC,SAAfyD,EAAOpL,KACvC,IAAK,MAAM,KAAEvC,KAAU4N,EAAO0W,cAAc3W,EAAO4R,SAASoN,WACpD3sB,EAAKyV,GAAG,YAA+C,QAAjCzV,EAAKwN,aAAa,aAAyBxN,EAAKuN,aAAa,qBACnFK,EAAO1G,gBAAgB,kBAAmBlH,GAC1Cu1D,GAAW,GAK3B,OAAOA,CAAQ,IAGnBz1D,KAAK2R,SAASC,EAAQtC,KAAKtL,SAAU,WAAW,CAAC4c,EAAKtd,MAC9C,IAAAkiF,SAAQliF,KAAUghF,KAClBr3E,EAAOU,QAAQ,iBACfiT,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SAEf3a,KAAK2R,SAASC,EAAQtC,KAAKtL,SAAU,sBAAsB,CAAC4c,EAAKtd,KAC7D,MAAM+gF,EAAa/gF,EAAKQ,OACxB,IAAKugF,IAAeA,EAAW1uE,GAAG,UAAW,SACzC,OAEJ,MAAM8vE,EAAoB7zE,EAAQtC,KAAKiT,oBAAoB8hE,GAErD7uE,EADqB5D,EAAQoP,OAAO0kE,gBAAgBD,GAClB/uE,OACpClB,GAAgBwtD,GAAgBxtD,IAA0D,QAAzCA,EAAa9H,aAAa,aAC3E1N,KAAK2lF,uBAAuBnwE,EAChC,IAYJxV,KAAK2R,SAASC,EAAQtC,KAAKtL,SAAU,WAiL7C,SAA8CoJ,EAAOpB,GACjD,MAAO,CAACgnC,EAAW4yC,KACf,MAAMxrD,GAAY,IAAAyrD,mCAAkCD,EAAavb,QAASr+D,EAAOC,0BAC3EmC,EAAShB,EAAMgB,OACff,EAAYD,EAAMpJ,SAASqJ,UACjC,IAAKA,EAAU2mB,YACX,OAEJ,MAAMvU,EAAWpS,EAAUkK,mBACrBb,EAAS+I,EAAS/I,OAExB,GAAiB,SAAb0jB,GAAwB3a,EAAS+Y,QAAS,CAC1C,MAAMoiB,EAAWxsC,EAAO03E,yBAAyB14E,EAAMmV,oBAAoB7L,GAAS,WACpF,IAAKkkC,EACD,OAEJ,MAAMmrC,EAAiBnrC,EAAS3iC,MAAMvB,OAClCqvE,GAAkB/iB,GAAgB+iB,IAA8D,QAA3CA,EAAer4E,aAAa,cACjFN,EAAMS,QAAOC,GAAUA,EAAO0I,aAAaokC,KAC3CgrC,EAAa3rD,iBACb2rD,EAAal+D,kBACbsrB,EAAU9Y,OAElB,MAEK,GAAiB,QAAbE,GAAuB3a,EAAS8Y,WAAayqC,GAAgBtsD,IAA8C,QAAnCA,EAAOhJ,aAAa,YAAuB,CACxH,MAAMktC,EAAWxsC,EAAO03E,yBAAyB14E,EAAMurB,qBAAqBjiB,GAAS,YACrF,IAAKkkC,EACD,OAEJxtC,EAAMS,QAAOC,GAAUA,EAAO0I,aAAaokC,KAC3CgrC,EAAa3rD,iBACb2rD,EAAal+D,kBACbsrB,EAAU9Y,MACd,EAER,CArNyD8rD,CAAqC54E,EAAOH,EAAOjB,QAAS,CAAEmuB,QAAS,UAExHn6B,KAAK2R,SAASC,EAAQoP,OAAQ,uBAAuB,CAACJ,EAAKtd,KACvD,MAAM2iF,EAAa3iF,EAAK44E,aAAaxlE,OAC/BwvE,EAAoBD,EAAWtwE,GAAG,mBAAoB,OAAqC,GAA5BrS,EAAK44E,aAAavnD,OACjFwxD,EAAqBC,GAAeH,IAAe3iF,EAAK44E,aAAavnD,QAAU,EAC/E0xD,EAAmBJ,EAAWtwE,GAAG,UAAW,SACA,SAA9CswE,EAAWv4E,aAAa,oBACxB04E,GAAeH,EAAWvvE,QAC9B,IAAKwvE,IAAsBC,IAAuBE,EAC9C,OAEJ,MAAMx5D,EAAYvpB,EAAKw4E,cAAcjvD,UACjCA,GAAmD,QAAtCA,EAAUnf,aAAa,cACpCpK,EAAKw4E,cAAgB1uE,EAAMwnB,iBAAiB/H,EAAW,GAC3D,GACD,CAAElS,SAAU,QACf3a,KAAKgrC,wBACT,CASA,sBAAA26C,CAAuBjS,GACnB,MAAMzmE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfk5E,EAA0BrlF,MAAMyB,KAAK0K,EAAMpJ,SAASqJ,UAAU0mB,aACpE3mB,EAAMS,QAAOC,IACTA,EAAO0I,aAAak9D,EAAU,OAC9BzmE,EAAOU,QAAQ,iBACfG,EAAO0I,aAAa8vE,EAAwB,GAEpD,CAOA,sBAAAt7C,GACI,MAAM,MAAE59B,EAAK,GAAE0D,EAAE,EAAEJ,GAAM1Q,KAAKiN,OAC9B,IAAIg+B,EAAuB,KACtBn6B,GAGL1D,EAAMpJ,SAASqJ,UAAU6F,GAAG,gBAAgB,KACxC,MAAMg4B,EAAc99B,EAAMpJ,SAASqJ,UAAUwE,MAAM6E,OAC7C6vE,EAAwBC,GAAsBv7C,GAC9Cw7C,EAA2BD,GAAsBt7C,GACnDq7C,IAA0BE,EAC1B31E,EAAGq6B,kBAAkBC,SAAS16B,EAAE,0BAE1B61E,GAAyBE,GAC/B31E,EAAGq6B,kBAAkBC,SAAS16B,EAAE,0BAEpCu6B,EAAuBC,CAAW,GAE1C,EA6DJ,SAAS05C,GAAgCC,GACrC,MAAMryB,EAAU,IAAI,EAAA9C,QAAQm1B,GAC5B,MAAO,CAACjkE,EAAKtd,EAAMud,KACf,MAAMikE,EAAgBtyB,EAAQj3C,MAAMjY,EAAK2iB,UACpC6+D,GAGAjkE,EAAcC,WAAWC,QAAQzd,EAAK2iB,SAAU6+D,EAAcvpE,QAGnElZ,OAAO69C,OAAO58C,EAAMud,EAAc2F,gBAAgBljB,EAAK2iB,SAAU3iB,EAAK8iB,aAAa,CAE3F,CAmBA,SAAS4+D,GAAmBxvE,EAAckxE,GACtC,OAAQlxE,EAAaG,GAAG,UAAW,cAAgBH,EAAaG,GAAG,UAAW,cACjC,QAAzCH,EAAa9H,aAAa,aAC1BqmE,GAAuBv+D,IAM/B,SAA+BA,EAAcw8C,GACzC,IAAK,MAAM3wC,KAAgB7L,EAAa+8C,mBAEpC,IAAIlxC,EAAa0wC,WAAW,gBAGvBC,EAAenmD,SAASwV,GACzB,OAAO,EAGf,OAAO,CACX,CAhBQslE,CAAsBnxE,EAAckxE,EAC5C,CA2DA,SAASN,GAAepxE,GACpB,QAASA,GAAeA,EAAYW,GAAG,qBAAuBX,EAAYY,SAAS,mBACvF,CAIA,SAAS4wE,GAAsBtyE,GAC3B,SAAKA,IAGAA,EAAQyB,GAAG,UAAW,eAAiBzB,EAAQyB,GAAG,UAAW,aAGvB,QAApCzB,EAAQxG,aAAa,YAChC,CCxce,MAAM,WAAmB,EAAAa,OAIpC,qBAAWC,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM6B,EAAI1Q,KAAKiN,OAAOyD,EACtButE,GAAmBj+E,KAAKiN,OAAQ,WAAYyD,EAAE,cAAe,EAAAP,MAAMy2E,SACvE,iBCxBS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQr+E,OCKR,MAAM,WAAiB,EAAAgG,OAIlC,mBAAWgF,GACP,MAAO,CAACixE,GAAiB,GAC7B,CAIA,qBAAWh2E,GACP,MAAO,UACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECDG,SAASo4E,GAAiCC,EAAUliF,GACvD,MAAM+b,EAAY,CAACC,EAAKtd,EAAMud,KAC1B,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAEJ,MAAMyiE,EAAM5hE,EAAK4d,kBACXI,EAAaT,EAAc/S,OAC3Bi5E,EAASlmE,EAAcG,OAAOC,cAAc3d,EAAKpD,MACjD8mF,EAAsB,IAAID,EAAOlgE,eAClCsL,MAAK2H,GAASA,EAAMhhB,kBAAkB,mBAE3CwI,EAAW3a,OAAOqgF,GAClB,MAAMC,EAAmBH,EAASI,oBAAoB5lE,EAAY4jD,EAAKtgE,GACvE0c,EAAWpb,OAAOob,EAAWsT,iBAAiBmyD,EAAQ,GAAIE,EAAiB,EAE/E,OAAO9lE,IACHA,EAAWjO,GAAG,sBAAuByN,EAAU,CAEvD,CChCO,SAASwmE,GAA2B95E,GACvC,MAAM2H,EAAc3H,EAAUmK,qBAC9B,OAAIxC,GAQD,SAAuBA,GAC1B,QAASA,EAAY8D,kBAAkB,WAAY,IAAAC,UAAS/D,EAChE,CAVuBoyE,CAAcpyE,GACtBA,EAEJ,IACX,CAwBO,SAASqyE,GAAyBv5E,EAAQg5E,EAAU5hB,EAAKtgE,GAC5D,OAAOkJ,EAAO2F,uBAAuB,SAAU,CAAElB,MAAO,SAAW,CAC/Du0E,EAASI,oBAAoBp5E,EAAQo3D,EAAKtgE,GAC1CkJ,EAAO6F,cAEf,CAIO,SAAS2zE,GAA4Bj6E,GACxC,MAAMsK,EAAkBtK,EAAUmK,qBAClC,OAAIG,GAAmBA,EAAgBhC,GAAG,UAAW,SAC1CgC,EAEJ,IACX,CAWO,SAAS4vE,GAAYn6E,EAAO83D,EAAKpvD,EAAYW,GAChDrJ,EAAMS,QAAOC,IACT,MAAM05E,EAAe15E,EAAOnI,cAAc,QAAS,CAAEu/D,QACrD93D,EAAMmJ,aAAaixE,EAAc1xE,EAAY,KAAM,CAC/CU,aAAc,KACdC,oBAAqBA,EAAsB,YAAS7L,GACtD,GAEV,CClEe,MAAM68E,WAA0B,EAAA16E,QAI3C,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3Bq6E,EAAgBJ,GAA4Bj6E,GAClDrN,KAAK+B,MAAQ2lF,EAAgBA,EAAch6E,aAAa,YAAS9C,EACjE5K,KAAKuN,UAwCb,SAAyBF,GACrB,MAAM6G,EAAU7G,EAAUmK,qBAC1B,QAAStD,GAA4B,UAAjBA,EAAQzR,IAChC,CA3CyBklF,CAAgBt6E,IA4BzC,SAA2BA,EAAWD,GAElC,IAAIsJ,GADmB,IAAAsB,2BAA0B3K,EAAWD,GAChC6K,MAAMvB,OAKlC,OAHIA,EAAO/B,UAAYvH,EAAMgB,OAAOid,QAAQ3U,KACxCA,EAASA,EAAOA,QAEbtJ,EAAMgB,OAAO+J,WAAWzB,EAAQ,QAC3C,CApCuDkxE,CAAkBv6E,EAAWD,EAChF,CAUA,OAAAO,CAAQu3D,GACJ,MAAM93D,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3Bq6E,EAAgBJ,GAA4Bj6E,GAC9Cq6E,EACAt6E,EAAMS,QAAOC,IACTA,EAAO7H,aAAa,MAAOi/D,EAAKwiB,EAAc,IAIlDH,GAAYn6E,EAAO83D,EAAK73D,GAAW,EAE3C,ECnCW,MAAMw6E,GAOjB,WAAArlF,CAAYwJ,EAAQ2C,GAChB,MAAMm5E,EAAYn5E,EAAOm5E,UACnBC,EAAiBp5E,EAAOo5E,gBAAkB,GAC1CC,EAAmB,IAAI3tC,IAAI1rC,EAAOs5E,iBAClCC,EAAsBJ,EACvB1nF,OAAO2nF,GACPvhF,QAAO2hF,IACR,MAAM1lF,EAAO0lF,EAAS1lF,KACtB,OAAKA,GAWGulF,EAAiB/zE,IAAIxR,KAHzB,IAAA6J,YAAW,+BAAgC,CAAE67E,cACtC,EAEuB,IAEtCnoF,KAAKgM,OAASA,EACdhM,KAAKkoF,oBAAsBA,CAC/B,CAMA,QAAAE,CAASljB,GACL,QAASllE,KAAKqoF,UAAUnjB,EAC5B,CAUA,mBAAAgiB,CAAoBp5E,EAAQo3D,EAAKtgE,GAC7B,OAAO5E,KAAKqoF,UAAUnjB,GAAKojB,eAAex6E,EAAQlJ,EACtD,CAOA,SAAAyjF,CAAUnjB,GACN,IAAKA,EACD,OAAO,IAAIqjB,GAAMvoF,KAAKgM,QAE1Bk5D,EAAMA,EAAI5pD,OACV,IAAK,MAAMrQ,KAAcjL,KAAKkoF,oBAAqB,CAC/C,MAAMM,EAAkBv9E,EAAW+zD,KAC7BxqD,GAAU,IAAA6N,SAAQpX,EAAWi6D,KACnC,IAAK,MAAMujB,KAAcj0E,EAAS,CAC9B,MAAM+G,EAAQvb,KAAK0oF,eAAexjB,EAAKujB,GACvC,GAAIltE,EACA,OAAO,IAAIgtE,GAAMvoF,KAAKgM,OAAQk5D,EAAK3pD,EAAOitE,EAElD,CACJ,CACA,OAAO,IACX,CAOA,cAAAE,CAAexjB,EAAK1wD,GAEhB,IAAI+G,EAAQ2pD,EAAI3pD,MAAM/G,GACtB,GAAI+G,EACA,OAAOA,EAGX,IAAIotE,EAASzjB,EAAI9mC,QAAQ,eAAgB,IAEzC,OADA7iB,EAAQotE,EAAOptE,MAAM/G,GACjB+G,IAIJotE,EAASA,EAAOvqD,QAAQ,SAAU,IAClC7iB,EAAQotE,EAAOptE,MAAM/G,GACjB+G,GAGG,KACX,EAOJ,MAAMgtE,GACF,WAAA/lF,CAAYwJ,EAAQk5D,EAAK3pD,EAAOitE,GAC5BxoF,KAAKklE,IAAMllE,KAAK4oF,aAAa1jB,GAC7BllE,KAAK6oF,QAAU78E,EACfhM,KAAK8oF,OAASvtE,EACdvb,KAAK+oF,iBAAmBP,CAC5B,CAMA,cAAAF,CAAex6E,EAAQlJ,GACnB,MAAMgB,EAAa,CAAC,EACpB,IAAIoP,EACJ,GAAIpQ,EAAQokF,sBAAyBpkF,EAAQqkF,oBAAsBjpF,KAAKklE,KAAOllE,KAAK+oF,iBAAmB,CAC/F/oF,KAAKklE,MACLt/D,EAAW,mBAAqB5F,KAAKklE,KAErCtgE,EAAQokF,uBACRpjF,EAAW2M,MAAQ,qBAEvB,MAAM22E,EAAYlpF,KAAKmpF,gBAAgBvkF,GACvCoQ,EAAclH,EAAOm+C,iBAAiB,MAAOrmD,GAAY,CAACgc,EAAY1D,KAClEA,EAAaguC,aAAatqC,EAAYsnE,EAAU,GAExD,MAEQlpF,KAAKklE,MACLt/D,EAAWs/D,IAAMllE,KAAKklE,KAE1BlwD,EAAclH,EAAO4F,mBAAmB9O,EAAQgrB,YAAahqB,GAGjE,OADAkI,EAAO4K,kBAAkB,iBAAiB,EAAM1D,GACzCA,CACX,CAIA,eAAAm0E,CAAgBvkF,GACZ,OAAI5E,KAAK+oF,iBACE/oF,KAAK+oF,iBAAiB/oF,KAAK8oF,QAK9B9oF,KAAKklE,KAAOtgE,EAAQokF,qBACbhpF,KAAKopF,sBAET,EAEf,CAIA,mBAAAA,GACI,MAAM73E,EAAO,IAAI,EAAA83E,SACX34E,EAAI1Q,KAAK6oF,QAAQn4E,EAqCvB,OApCAa,EAAKpR,QCnLb,oyCDoLQoR,EAAK+3E,QA7KuB,YA8KR,IAAI,EAAAC,SAAS,CAC7BhsE,IAAK,MACL3X,WAAY,CACR2M,MAAO,yCAEXY,SAAU,CACN,CACIoK,IAAK,MACL3X,WAAY,CACR2M,MAAO,+BAEXY,SAAU,CAAC5B,IAEf,CACIgM,IAAK,IACL3X,WAAY,CACR2M,MAAO,6BACPzO,OAAQ,SACR0lE,IAAK,sBACLzE,KAAM/kE,KAAKklE,IACX,wBAAyBx0D,EAAE,0BAE/ByC,SAAU,CACN,CACIoK,IAAK,OACL3X,WAAY,CACR2M,MAAO,oCAEXY,SAAU,CAACnT,KAAKklE,WAKjCznD,SACgB+rE,SACvB,CAMA,YAAAZ,CAAa1jB,GACT,OAAKA,EAGDA,EAAI3pD,MAAM,WACH2pD,EAEJ,WAAaA,EALT,IAMf,iBE9NS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ38D,OCKR,MAAMkhF,WAA0B,EAAAl7E,OAI3C,qBAAWC,GACP,MAAO,mBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNA,EAAO0B,OAAOC,OAAO,aAAc,CAC/BghB,YAAa,SACbk4D,UAAW,CACP,CACIrlF,KAAM,cACNyiE,IAAK,CACD,kCACA,kBAEJlG,KAAMzjD,GAGE,2HAFOA,EAAM,yKASzB,CACI9Y,KAAM,UACNyiE,IAAK,CACD,qCACA,oCACA,qCAEJlG,KAAMzjD,GAGE,uIAFOA,EAAM,gKASzB,CACI9Y,KAAM,UACNyiE,IAAK,CACD,wDACA,wDACA,mDACA,mDACA,sCAEJlG,KAAMzjD,IACF,MAAM5b,EAAK4b,EAAM,GACX89B,EAAO99B,EAAM,GACnB,MACI,0IAA8C5b,IAAK05C,EAAO,UAAUA,IAAS,+JAIpE,GAGrB,CACI52C,KAAM,QACNyiE,IAAK,CACD,qBACA,0CACA,0CACA,sCACA,4CACA,sCACA,qCAEJlG,KAAMzjD,GAGE,2IAFOA,EAAM,wKASzB,CACI9Y,KAAM,YACNyiE,IAAK,CACD,4BACA,iCAGR,CACIziE,KAAM,UACNyiE,IAAK,CACD,gBACA,YAGR,CACIziE,KAAM,aACNyiE,IAAK,CACD,qBACA,iBACA,qBACA,wBAGR,CACIziE,KAAM,SACNyiE,IAAK,gBAET,CACIziE,KAAM,WACNyiE,IAAK,qBAIjBllE,KAAK8mF,SAAW,IAAIe,GAAc56E,EAAOjB,OAAQiB,EAAO0B,OAAOvD,IAAI,cACvE,CAIA,IAAAyD,GACI,MAAM5B,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBsC,EAAIzD,EAAOyD,EACXtB,EAAanC,EAAOmC,WACpB65E,EAAqBh8E,EAAO0B,OAAOvD,IAAI,6BACvCwkB,EAAc3iB,EAAO0B,OAAOvD,IAAI,0BAChC07E,EAAW9mF,KAAK8mF,SACtB75E,EAAO+C,SAASxH,IAAI,aAAc,IAAIi/E,GAAkBx6E,IAExDmB,EAAOuX,SAAS,QAAS,CACrBC,eAAgB,eAChB3W,gBAAiB,CAAC,SAGtBG,EAAWK,IAAI,gBAAgBqW,mBAAmB,CAC9C1Y,MAAO,QACPkC,KAAM,CAACkG,GAAgB1H,aACnB,MAAMo3D,EAAM1vD,EAAa9H,aAAa,OACtC,OAAO25E,GAAyBv5E,EAAQg5E,EAAU5hB,EAAK,CACnDt1C,cACAq5D,qBAAsB/jB,GAAO+jB,GAC/B,IAIV75E,EAAWK,IAAI,gBAAgBjH,IAAIq+E,GAAiCC,EAAU,CAC1El3D,cACAq5D,wBAGJ75E,EAAWK,IAAI,mBAAmBqW,mBAAmB,CACjD1Y,MAAO,QACPkC,KAAM,CAACkG,GAAgB1H,aACnB,MAAMo3D,EAAM1vD,EAAa9H,aAAa,OAKtC,OLhLT,SAAuBsH,EAAalH,EAAQwD,GAE/C,OADAxD,EAAO4K,kBAAkB,SAAS,EAAM1D,IACjC,IAAA2D,UAAS3D,EAAalH,EAAQ,CAAEwD,SAC3C,CK6KuBo4E,CAJQrC,GAAyBv5E,EAAQg5E,EAAU5hB,EAAK,CAC3Dt1C,cACAo5D,sBAAsB,IAEGl7E,EAAQ4C,EAAE,gBAAgB,IAI/DtB,EAAWK,IAAI,mBAAmBjH,IAAIq+E,GAAiCC,EAAU,CAC7El3D,cACAo5D,sBAAsB,KAG1B55E,EAAWK,IAAI,UAEVsW,iBAAiB,CAClBzW,KAAM4E,GAAW,CAAC,SAAU0b,GAAa/jB,SAASqI,EAAQzR,OAASyR,EAAQxG,aAAa,OACpF,CAAEjL,MAAM,GACR,KACJ2K,MAAO,CAACu8E,GAAa77E,aACjB,MAAMo3D,EAAMykB,EAAUj8E,aAAa,OACnC,OAAIo5E,EAASsB,SAASljB,GACXp3D,EAAOnI,cAAc,QAAS,CAAEu/D,QAEpC,IAAI,IAIdn/C,iBAAiB,CAClBzW,KAAM,CACF7M,KAAM,MACNmD,WAAY,CACR,mBAAmB,IAG3BwH,MAAO,CAACu8E,GAAa77E,aACjB,MAAMo3D,EAAMykB,EAAUj8E,aAAa,mBACnC,OAAIo5E,EAASsB,SAASljB,GACXp3D,EAAOnI,cAAc,QAAS,CAAEu/D,QAEpC,IAAI,IAId18D,KAAI2Y,IAcLA,EAAWjO,GAAG,kBAbI,CAAC0N,EAAKtd,EAAMud,KAC1B,IAAKA,EAAcC,WAAWC,QAAQzd,EAAK2iB,SAAU,CAAExjB,MAAM,EAAMqV,QAAS,UACxE,OAEJ,MAAM,WAAEwO,EAAU,YAAEF,GAAgBvF,EAAc2F,gBAAgBljB,EAAK2iB,SAAU3iB,EAAK8iB,aACtF9iB,EAAKgjB,WAAaA,EAClBhjB,EAAK8iB,YAAcA,GACE,IAAAjZ,OAAMmZ,EAAWC,aAGlC1F,EAAcC,WAAW4F,OAAOpjB,EAAK2iB,SAAU,CAAExjB,MAAM,EAAMqV,QAAS,SAC1E,GAEsC,GAElD,ECtOJ,MAAM8xE,GAAa,2DAKJ,MAAMC,WAAuB,EAAAt7E,OAIxC,mBAAWgF,GACP,MAAO,CAAC,EAAAkG,UAAW,EAAAE,OAAQ,EAAAD,KAC/B,CAIA,qBAAWlL,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAK4Z,WAAa,KAClB5Z,KAAK6Z,kBAAoB,IAC7B,CAIA,IAAAhL,GACI,MAAM5B,EAASjN,KAAKiN,OACd6M,EAAgB7M,EAAOG,MAAMpJ,SAI7B+V,EAAoB9M,EAAO8G,QAAQ3I,IAAI,qBAC7CpL,KAAK2R,SAASoI,EAAmB,uBAAuB,KACpD,MAAMC,EAAaF,EAAczM,UAAU4M,gBACrCC,EAAmB,EAAAC,aAAaC,aAAaJ,EAAW/B,OAC9DiC,EAAiBG,WAAa,aAC9B,MAAMC,EAAoB,EAAAH,aAAaC,aAAaJ,EAAWO,KAC/DD,EAAkBD,WAAa,SAC/BP,EAAcU,KAAK,eAAe,KAC9Bxa,KAAK8pF,4BAA4B5vE,EAAkBI,GACnDJ,EAAiBQ,SACjBJ,EAAkBI,QAAQ,GAC3B,CAAEC,SAAU,QAAS,IAER1N,EAAO+C,SAAS5E,IAAI,QAC5B8H,GAAG,WAAW,KAClBlT,KAAK4Z,aACL,EAAA9C,OAAO5S,OAAO0W,aAAa5a,KAAK4Z,YAChC5Z,KAAK6Z,kBAAkBa,SACvB1a,KAAK4Z,WAAa,KAClB5Z,KAAK6Z,kBAAoB,KAC7B,GACD,CAAEc,SAAU,QACnB,CAQA,2BAAAmvE,CAA4BjvE,EAAcC,GACtC,MAAM7N,EAASjN,KAAKiN,OACd88E,EAAgB98E,EAAO8G,QAAQ3I,IAAIq+E,IAAmB3C,SAEtD/rE,EAAW,IAAI,EAAAC,UAAUH,EAAcC,GACvCG,EAASF,EAASG,UAAU,CAAEC,kBAAkB,IACtD,IAAI+pD,EAAM,GACV,IAAK,MAAM7pD,KAAQJ,EACXI,EAAKnb,KAAKyV,GAAG,gBACbuvD,GAAO7pD,EAAKnb,KAAKoD,MAGzB4hE,EAAMA,EAAI5pD,OAEL4pD,EAAI3pD,MAAMquE,KAKVG,EAAc3B,SAASljB,IAIFj4D,EAAO+C,SAAS5E,IAAI,cAEvBmC,WAKvBvN,KAAK6Z,kBAAoB,EAAAM,aAAaC,aAAaS,GAEnD7a,KAAK4Z,WAAa,EAAA9C,OAAO5S,OAAOsX,YAAW,KACvCvO,EAAOG,MAAMS,QAAOC,IAChB9N,KAAK4Z,WAAa,KAClB9L,EAAOnH,OAAOoU,GACdA,EAASL,SACT,IAAIe,EAAoB,KAGqB,eAAzCzb,KAAK6Z,kBAAkB6B,KAAKC,WAC5BF,EAAoBzb,KAAK6Z,mBAE7B0tE,GAAYt6E,EAAOG,MAAO83D,EAAKzpD,GAAmB,GAClDzb,KAAK6Z,kBAAkBa,SACvB1a,KAAK6Z,kBAAoB,IAAI,IAEjC5M,EAAO8G,QAAQ3I,IAAI,EAAAuO,QAAQkC,wBAAwB,GACpD,MAjCCd,EAASL,QAkCjB,iBC/HS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQnS,OCMR,MAAMyhF,WAAsB,EAAA9tE,KAKvC,WAAA1Z,CAAYsoE,EAAY9+D,GACpB0C,MAAM1C,GACNhM,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKqR,IAAI,qBAAsB,IAC/BrR,KAAKgrE,aAAehrE,KAAKirE,kBACzBjrE,KAAK+qE,YAAcD,EACnB9qE,KAAKsd,YAAY,CACbC,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,KACA,gBACA,sBAEJiL,SAAU,MAEdrK,SAAU,CACNnT,KAAKgrE,eAGjB,CAIA,MAAAvtD,GACI/O,MAAM+O,UACN,IAAAC,eAAc,CACVpO,KAAMtP,OAGVA,KAAKmc,aAAa3T,IAAIxI,KAAKgrE,aAAa92D,SAExClU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,OAAAiF,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAIA,KAAAtH,GACI7R,KAAKgrE,aAAan5D,OACtB,CAOA,OAAIqzD,GACA,OAAOllE,KAAKgrE,aAAa3rD,UAAUnL,QAAQnS,MAAMuZ,MACrD,CACA,OAAI4pD,CAAIA,GACJllE,KAAKgrE,aAAa3rD,UAAUtd,MAAQmjE,EAAI5pD,MAC5C,CAIA,OAAAkwD,GACIxrE,KAAKyrE,kBACL,IAAK,MAAMC,KAAa1rE,KAAK+qE,YAAa,CACtC,MAAM78B,EAAYw9B,EAAU1rE,MAE5B,GAAIkuC,EAGA,OADAluC,KAAKgrE,aAAa98B,UAAYA,GACvB,CAEf,CACA,OAAO,CACX,CAOA,eAAAu9B,GACIzrE,KAAKgrE,aAAa98B,UAAY,KAC9BluC,KAAKgrE,aAAaif,SAAWjqF,KAAKkqF,wBACtC,CAMA,eAAAjf,GACI,MAAMv6D,EAAI1Q,KAAKgM,OAAO0E,EAChB6L,EAAe,IAAI,EAAAuB,iBAAiB9d,KAAKgM,OAAQ,EAAA+R,wBACjDosE,EAAa5tE,EAAa8C,UAWhC,OAVArf,KAAKkqF,yBAA2Bx5E,EAAE,qCAClC1Q,KAAKoqF,qBAAuB15E,EAAE,wDAC9B6L,EAAajL,MAAQZ,EAAE,aACvB6L,EAAa0tE,SAAWjqF,KAAKkqF,yBAC7BC,EAAWxe,UAAY,MACvBwe,EAAWj3E,GAAG,SAAS,KAEnBqJ,EAAa0tE,SAAWE,EAAWj2E,QAAQnS,MAAQ/B,KAAKoqF,qBAAuBpqF,KAAKkqF,yBACpFlqF,KAAKqqF,mBAAqBF,EAAWj2E,QAAQnS,MAAMuZ,MAAM,IAEtDiB,CACX,ECnHW,MAAM+tE,WAAqB,EAAA/7E,OAItC,mBAAWgF,GACP,MAAO,CAACk2E,GAAmB,EAAAv5C,OAC/B,CAIA,qBAAW1hC,GACP,MAAO,cACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpBA,EAAO6D,GAAGC,iBAAiBvI,IAAI,cAAc,KACzC,MAAMkI,EAAI1Q,KAAKiN,OAAOjB,OAAO0E,EACvBmN,EAAS7d,KAAKuqF,oBAAoB,EAAAn5E,YAGxC,OAFAyM,EAAOrM,SAAU,EACjBqM,EAAOvM,MAAQZ,EAAE,gBACVmN,CAAM,IAEjB5Q,EAAO6D,GAAGC,iBAAiBvI,IAAI,sBAAsB,KACjD,MAAMkI,EAAI1Q,KAAKiN,OAAOjB,OAAO0E,EACvBmN,EAAS7d,KAAKuqF,oBAAoB,EAAAv3E,+BAExC,OADA6K,EAAOvM,MAAQZ,EAAE,SACVmN,CAAM,GAErB,CAIA,mBAAA0sE,CAAoB/vD,GAChB,MAAMvtB,EAASjN,KAAKiN,OACdkE,EAAa,IAAIqpB,EAAYvtB,EAAOjB,QACpCkF,EAAUjE,EAAO+C,SAAS5E,IAAI,cAC9B80B,EAAelgC,KAAKiN,OAAO8G,QAAQ3I,IAAI,UAW7C,OAVA+F,EAAWI,KC7DnB,4wBD8DQJ,EAAWzJ,KAAK,aAAagK,GAAGR,EAAS,aACzCC,EAAW+B,GAAG,WAAW,KACG,eAApBgtB,EAAavgC,GACbugC,EAAa6Q,OAGb/wC,KAAKgxC,aACT,IAEG7/B,CACX,CACA,WAAA6/B,GACI,MAAM/jC,EAASjN,KAAKiN,OACd6jC,EAAS7jC,EAAO8G,QAAQ3I,IAAI,UAC5B8F,EAAUjE,EAAO+C,SAAS5E,IAAI,cAC9BsF,EAAIzD,EAAOjB,OAAO0E,EACxB,IAAK1Q,KAAKwqF,UAAW,CACjB,MAAM1D,EAAW75E,EAAO8G,QAAQ3I,IAAIq+E,IAAmB3C,SACvD9mF,KAAKwqF,UAAY,KAAK,IAAAprE,4BAA2B4qE,IAAhC,CAsC7B,SAA2Bt5E,EAAGo2E,GAC1B,MAAO,CACH5Z,IACI,IAAKA,EAAKhI,IAAIvkE,OACV,OAAO+P,EAAE,6BACb,EAEJw8D,IACI,IAAK4Z,EAASsB,SAASlb,EAAKhI,KACxB,OAAOx0D,EAAE,mCACb,EAGZ,CAnD6E,CAAkBzD,EAAOyD,EAAGo2E,GAAW75E,EAAOjB,QAC/GhM,KAAKwqF,UAAUt3E,GAAG,UAAU,IAAMlT,KAAKyqF,qBAC3C,CACA35C,EAAOG,KAAK,CACRtxC,GAAI,aACJkuB,MAAOnd,EAAE,gBACTvQ,QAASH,KAAKwqF,UACdnqD,SAAS,EACT+Q,OAAQ,KACJpxC,KAAKwqF,UAAUtlB,IAAMh0D,EAAQnP,OAAS,GACtC/B,KAAKwqF,UAAU/e,kBACfzrE,KAAKwqF,UAAUxf,aAAa3rD,UAAUc,QAAQ,EAElDuqE,cAAe,CACX,CACIp5E,MAAOZ,EAAE,UACTq7B,UAAU,EACV4+C,UAAW,IAAM75C,EAAOC,QAE5B,CACIz/B,MAAOZ,EAAE,UACT6B,MAAO,mBACPw5B,UAAU,EACV4+C,UAAW,IAAM3qF,KAAKyqF,uBAItC,CACA,iBAAAA,GACI,MAAMx9E,EAASjN,KAAKiN,OACd6jC,EAAS7jC,EAAO8G,QAAQ3I,IAAI,UAC9BpL,KAAKwqF,UAAUhf,YACfv+D,EAAOU,QAAQ,aAAc3N,KAAKwqF,UAAUtlB,KAC5Cp0B,EAAOC,OACP9jC,EAAO2E,QAAQtC,KAAKuC,QAE5B,iBE5GS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQtJ,OCYR,MAAMqiF,WAAmB,EAAAr8E,OAIpC,mBAAWgF,GACP,MAAO,CAACk2E,GAAmBa,GAAcT,GAAgB,EAAA1gE,OAC7D,CAIA,qBAAW3a,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECzBW,MAAMo8E,WAA0B,EAAAt8E,OAI3C,mBAAWgF,GACP,MAAO,CAAC,EAAAkgB,wBACZ,CAIA,qBAAWjlB,GACP,MAAO,mBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,SAAAuU,GACI,MAAM/V,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACezD,EAAO8G,QAAQ3I,IAAI,EAAAqoB,yBAC3B9N,SAAS,aAAc,CAC3CtT,UAAW3B,EAAE,iBACb0C,MAAOnG,EAAO0B,OAAOvD,IAAI,uBAAyB,GAClDuoB,kBAAmBwzD,IAE3B,EC9BW,MAAM2D,WAAyB,EAAA/9E,QAI1C,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACff,EAAYD,EAAMpJ,SAASqJ,UACjCrN,KAAKuN,UAoBb,SAAoCF,EAAWe,EAAQhB,GACnD,MAAMsJ,EAMV,SAAkCrJ,EAAWD,GACzC,MACMsJ,GADiB,IAAAsB,2BAA0B3K,EAAWD,GAC9B6K,MAAMvB,OACpC,OAAIA,EAAO/B,UAAY+B,EAAOf,GAAG,UAAW,SACjCe,EAAOA,OAEXA,CACX,CAbmBq0E,CAAyB19E,EAAWD,GACnD,OAAOgB,EAAO+J,WAAWzB,EAAQ,YACrC,CAvByBs0E,CAA2B39E,EAAWe,EAAQhB,EACnE,CAMA,OAAAO,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MAC1BA,EAAMS,QAAOC,IACT,MAAMm9E,EAAmBn9E,EAAOnI,cAAc,aAC9CyH,EAAMmJ,aAAa00E,EAAkB,KAAM,KAAM,CAC7Cz0E,aAAc,SAChB,GAEV,iBCjCS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQjO,OCER,MAAM2iF,WAAyB,EAAA38E,OAI1C,qBAAWC,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBsC,EAAIzD,EAAOyD,EACXtB,EAAanC,EAAOmC,WAC1BhB,EAAOuX,SAAS,YAAa,CACzBC,eAAgB,iBAEpBxW,EAAWK,IAAI,gBAAgBqW,mBAAmB,CAC9C1Y,MAAO,YACPkC,KAAM,CAACkG,GAAgB1H,YACAA,EAAO2F,uBAAuB,MAAO,CACpDlB,MAAO,aAEP7M,MAAO,4BAIXoI,EAAO2F,uBAAuB,OAAQ,CAClC/N,MAAO,qBAKnB0J,EAAWK,IAAI,mBAAmBqW,mBAAmB,CACjD1Y,MAAO,YACPkC,KAAM,CAACkG,GAAgB1H,aACnB,MAAMwD,EAAQZ,EAAE,cACVstD,EAAclwD,EAAO2F,uBAAuB,OAC5C03E,EAAmBr9E,EAAOm+C,iBAAiB,OAAQ,CAAE15C,MAAO,sBAAuB,SAAUqP,GAC/FA,EAAWwpE,UAAY16E,EAAE,aAC7B,IAGA,OAFA5C,EAAOoX,SAAS,aAAc84C,GAC9BlwD,EAAO5H,OAAO4H,EAAO8mB,iBAAiBopC,EAAa,GAAImtB,GAyCvE,SAA2Bn2E,EAAalH,EAAQwD,GAE5C,OADAxD,EAAO4K,kBAAkB,aAAa,EAAM1D,IACrC,IAAA2D,UAAS3D,EAAalH,EAAQ,CAAEwD,SAC3C,CA3CuB+5E,CAAkBrtB,EAAalwD,EAAQwD,EAAM,IAG5DlC,EAAWK,IAAI,UACVsW,iBAAiB,CAClBzW,KAAM4E,IAGF,MAAMo3E,EAA8D,UAAzCp3E,EAAQE,SAAS,qBACtCm3E,EAA4D,UAAxCr3E,EAAQE,SAAS,oBAC3C,IAAKk3E,IAAuBC,EACxB,OAAO,KAGX,GAA0B,GAAtBr3E,EAAQuV,WAAiB,CACzB,MAAM+hE,EAAWt3E,EAAQyV,SAAS,GAElC,IAAK6hE,EAAS71E,GAAG,UAAW,SAA2C,QAAhC61E,EAASp3E,SAAS,WACrD,OAAO,IAEf,MACK,GAAIF,EAAQuV,WAAa,EAC1B,OAAO,KAEX,MAAO,CAAEhnB,MAAM,EAAM,EAEzB2K,MAAO,YAGP8kD,kBAAmB,SAEvBjlD,EAAO+C,SAASxH,IAAI,YAAa,IAAIsiF,GAAiB79E,GAC1D,ECnFW,MAAMw+E,WAAoB,EAAAl9E,OAIrC,qBAAWC,GACP,MAAO,aACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OAEpBA,EAAO6D,GAAGC,iBAAiBvI,IAAI,aAAa,KACxC,MAAM8G,EAAOtP,KAAKgR,cAAc,EAAAI,YAIhC,OAHA9B,EAAK+B,IAAI,CACLG,SAAS,IAENlC,CAAI,IAEfrC,EAAO6D,GAAGC,iBAAiBvI,IAAI,qBAAqB,IAAMxI,KAAKgR,cAAc,EAAAgC,gCACjF,CAIA,aAAAhC,CAAcwpB,GACV,MAAMvtB,EAASjN,KAAKiN,OACdjB,EAASiB,EAAOjB,OAChBkF,EAAUjE,EAAO+C,SAAS5E,IAAI,aAC9BkE,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAC9B0E,EAAI1E,EAAO0E,EAWjB,OAVApB,EAAK+B,IAAI,CACLC,MAAOZ,EAAE,cACTa,KCpDZ,uSDsDQjC,EAAK5H,KAAK,aAAagK,GAAGR,EAAS,aAEnClR,KAAK2R,SAASrC,EAAM,WAAW,KAC3BrC,EAAOU,QAAQ,aACfV,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBvC,CACX,EE3CW,MAAMo8E,WAAkB,EAAAn9E,OAInC,mBAAWgF,GACP,MAAO,CAAC23E,GAAkBO,GAAa,EAAAtiE,OAC3C,CAIA,qBAAW3a,GACP,MAAO,WACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECKG,SAASk9E,GAAK5pF,GACjB,YAAiB6I,IAAV7I,GAAuBA,EAAM+S,SAAS,KACjD,CAMO,SAAS82E,GAAK7pF,GACjB,OAAOA,EAAM8pF,QAAQ,GAAGztD,QAAQ,SAAU,IAAM,IACpD,CC6IA,SAAS0tD,GAAmBC,GACxB,MAAMzxD,EAAkByxD,EAAY73E,QAAQomB,gBAC5C,OAOYpmB,EAPPomB,GAEayxD,EAAY73E,QAAQwC,QAMvBf,GAAG,UAAW,OAASzB,EAAQyB,GAAG,UAAW,MADhE,IAAgBzB,CADhB,CA+BA,SAAS83E,GAAgBC,EAAcC,GACnC,MAAMC,EAAkB,IAAI7yE,OAAO,UAAU2yE,EAAatsF,WAAWssF,EAAahiD,qBAAsB,MAClGmiD,EAAqB,2CACrBC,EAAsB,wDACtBC,EAAsB,IAAIhzE,OAAO,aAAa2yE,EAAatsF,iDAAkD,MAC7G4sF,EAAkC,IAAIjzE,OAAO,UAAU2yE,EAAatsF,gDAAiD,MACrH6sF,EAAsBF,EAAoB73D,KAAKy3D,GAC/CO,EAA8BF,EAAgC93D,KAAKy3D,GAInEQ,EAAmBF,IAAwBC,EAC3CE,EAAiBR,EAAgB13D,KAAKy3D,GAC5C,IAAIpN,EAAgB,UAChB10E,EAAO,KACPi0E,EAAa,KACjB,GAAIsO,GAAkBA,EAAe,GAAI,CACrC,MAAMC,EAAqBR,EAAmB33D,KAAKk4D,EAAe,IASlE,GARIC,GAAsBA,EAAmB,KACzC9N,EAAgB8N,EAAmB,GAAGtxE,OACtClR,EAAyB,WAAlB00E,GAAgD,UAAlBA,EAA4B,KAAO,MAMtD,WAAlBA,EAA4B,CAC5B,MAAM+N,EAyBlB,SAA+B34E,GAE3B,GAAoB,MAAhBA,EAAQzR,MAAuC,MAAvByR,EAAQwC,OAAOjU,MAAgByR,EAAQwC,OAAOjJ,aAAa,QACnF,OAAOyG,EAAQwC,OAAOhJ,aAAa,QAEvC,MAAMo/E,EAoBV,SAA4B54E,GAGxB,GAAIA,EAAQyV,SAAS,GAAGhU,GAAG,SACvB,OAAO,KAEX,IAAK,MAAM4/C,KAAarhD,EAAQ2S,cAAe,CAG3C,IAAK0uC,EAAU5/C,GAAG,UAAW,QACzB,SAEJ,MAAMo3E,EAAoBx3B,EAAU5rC,SAAS,GAC7C,GAAKojE,EAIL,OAAIA,EAAkBp3E,GAAG,SACdo3E,EAEJA,EAAkBpjE,SAAS,EACtC,CAEA,OAAO,IACX,CA5C8BqjE,CAAmB94E,GAC7C,IAAK44E,EACD,OAAO,KAEX,MAAMG,EAAaH,EAAkBI,MACrC,MAAmB,MAAfD,EACO,SAEa,MAAfA,EACE,OAGa,MAAfA,EACE,SAEJ,IACX,CA9CkCE,CAAsBlB,EAAa/3E,SACrD24E,IACA/N,EAAgB+N,EAExB,KACK,CACD,MAAMO,EAAsBf,EAAoB53D,KAAKk4D,EAAe,IAChES,GAAuBA,EAAoB,KAC3C/O,EAAatpE,SAASq4E,EAAoB,IAElD,CACIV,IACAtiF,EAAO,KAEf,CACA,MAAO,CACHA,OACAi0E,aACA34E,MAAO2nF,GAAuBvO,GAC9BwO,iBAAkBZ,EAE1B,CAyDA,SAASW,GAAuBtrF,GAC5B,GAAIA,EAAMgwD,WAAW,uBACjB,MAAO,uBAEX,OAAQhwD,GACJ,IAAK,cACD,MAAO,cACX,IAAK,cACD,MAAO,cACX,IAAK,cACD,MAAO,cACX,IAAK,cACD,MAAO,cACX,IAAK,SACL,IAAK,OACL,IAAK,SACD,OAAOA,EACX,QACI,OAAO,KAEnB,CAIA,SAASwrF,GAAmB7O,EAAW5wE,EAAQ0/E,GAC3C,MAAM1tF,EAAOgO,EAAOnI,cAAc+4E,EAAUt0E,MAY5C,OATIs0E,EAAUh5E,OACVoI,EAAO6V,SAAS,kBAAmB+6D,EAAUh5E,MAAO5F,GAEpD4+E,EAAUL,YAAcK,EAAUL,WAAa,GAC/CvwE,EAAO7H,aAAa,QAASy4E,EAAUL,WAAYv+E,GAEnD4+E,EAAU4O,kBAAoBE,GAC9B1/E,EAAOoX,SAAS,aAAcplB,GAE3BA,CACX,CAkBA,SAAS2tF,GAAgBv5E,GACrB,MAAMwqE,EAAYxqE,EAAQE,SAAS,YACnC,QAAkBxJ,IAAd8zE,EACA,MAAO,CAAC,EAEZ,MAAMgP,EAAUhP,EAAUnjE,MAAM,wBAC1BoyE,EAAajP,EAAUnjE,MAAM,sBAC7BqyE,EAAclP,EAAUnjE,MAAM,wBACpC,OAAImyE,GAAWC,GAAcC,EAClB,CACHjuF,GAAI+tF,EAAQ,GACZG,MAAOF,EAAW,GAClB1jD,OAAQl1B,SAAS64E,EAAY,KAG9B,CACH3jD,OAAQ,EAEhB,CAIA,SAAS6jD,GAAoB55E,EAASpG,GAElC,MAAMigF,EAAgB,IAAI,EAAAr+B,QAAQ,CAC9BjtD,KAAM,OACNkG,OAAQ,CACJ,WAAY,YAGd+b,EAAQ5W,EAAOoL,cAAchF,GACnC,IAAK,MAAMnS,KAAS2iB,EACG,iBAAf3iB,EAAMqI,MAA2B2jF,EAAcxyE,MAAMxZ,EAAM7B,OAC3D4N,EAAOnH,OAAO5E,EAAM7B,KAGhC,CAIA,SAAS8tF,GAAwB95E,GAC7B,MAAMnS,EAAQmS,EAAQE,SAAS,eAC/B,YAAcxJ,IAAV7I,GAAuBA,EAAM+S,SAAS,MAC/B/S,EDvaR,SAA8BA,GACjC,MAAMksF,EAAetvC,WAAW58C,GAChC,OAAIA,EAAM+S,SAAS,MAER82E,GAAoB,GAAfqC,EAAoB,IAE3BlsF,EAAM+S,SAAS,MAEb82E,GAAoB,GAAfqC,EAAoB,GAAK,IAEhClsF,EAAM+S,SAAS,MAEb82E,GAAoB,GAAfqC,GAEPlsF,EAAM+S,SAAS,MAEb82E,GAAoB,GAAfqC,EAAoB,MAE3BlsF,EAAM+S,SAAS,MAEb82E,GAAKqC,EAAe,GAAK,GAAK,MAElClsF,CACX,CCkZWmsF,CAAqBnsF,EAChC,CC1aA,MAAMosF,GAAe,uEACfC,GAAe,sCAIN,MAAMC,GAMjB,WAAA7rF,CAAYwB,EAAUwpF,GAA0B,GAC5CxtF,KAAKgE,SAAWA,EAChBhE,KAAKwtF,wBAA0BA,CACnC,CAIA,QAAAc,CAASC,GACL,OAAOJ,GAAaxrF,KAAK4rF,IAAeH,GAAazrF,KAAK4rF,EAC9D,CAIA,OAAA5gF,CAAQrK,GACJ,MAAMwK,EAAS,IAAI,EAAAkZ,aAAahnB,KAAKgE,WAC7BwqF,KAAMh1B,EAAgB,aAAE0yB,GAAiB5oF,EAAKmrF,aC/B/C,SAA4Bj1B,EAAkB1rD,GACzD,MAAM4gF,EAAmB,GACzB,IAAK,MAAM3sF,KAAS+L,EAAOoL,cAAcsgD,GAAmB,CACxD,MAAMtlD,EAAUnS,EAAM7B,KAClBgU,EAAQyB,GAAG,UAAW,OACrBzB,EAAQzG,aAAa,UACrByG,EAAQzG,aAAa,OAASyG,EAAQzG,aAAa,UACpDihF,EAAiBjvF,KAAKyU,EAE9B,CACA,IAAK,MAAMA,KAAWw6E,EAAkB,CACpC,MAAMzpF,EAAQiP,EAAQwC,OAAOi4E,cAAcz6E,GAAW,EAChDf,EAAWe,EAAQ2S,cACzB/Y,EAAO8gF,YAAY3pF,EAAOkO,EAAUe,EAAQwC,OAChD,CACJ,CDiBQm4E,CAAmBr1B,EAAkB1rD,GDjBtC,SAAgD0rD,EAAkB0yB,EAAcsB,GACnF,IAAKh0B,EAAiB/vC,WAClB,OAEJ,MAAM3b,EAAS,IAAI,EAAAkZ,aAAawyC,EAAiBx1D,UAC3C8qF,EA2HV,SAAiCt1B,EAAkB1rD,GAC/C,MAAM4W,EAAQ5W,EAAOoL,cAAcsgD,GAC7Bs1B,EAAmB,GACnBC,EAAe,IAAI10C,IACzB,IAAK,MAAMn6C,KAAQwkB,EAAM6B,WAAY,CAEjC,IAAKrmB,EAAKyV,GAAG,aAAezV,EAAKuC,KAAK8Y,MAAM,qBACxC,SAGJ,IAAIyzE,EAAahB,GAAwB9tF,GAQzC,QANmB0K,IAAfokF,GAC0B,GAA1BrwC,WAAWqwC,IACV/tF,MAAMyB,KAAKxC,EAAKwoC,iBAAiBvW,MAAK3lB,GAAaA,EAAUulD,WAAW,eACzEi9B,OAAapkF,GAGb1K,EAAK+uF,SAAS,kBAA8BrkF,IAAfokF,GAA4BD,EAAa96E,IAAI+6E,GAAa,CACvF,MAAME,EAAWzB,GAAgBvtF,GACjC4uF,EAAiBrvF,KAAK,CAClByU,QAAShU,EACTP,GAAIuvF,EAASvvF,GACbkuF,MAAOqB,EAASrB,MAChB5jD,OAAQilD,EAASjlD,OACjB+kD,oBAEepkF,IAAfokF,GACAD,EAAavmF,IAAIwmF,EAEzB,MAGID,EAAar8C,OAErB,CACA,OAAOo8C,CACX,CAhK6BK,CAAwB31B,EAAkB1rD,GACnE,IAAKghF,EAAiBnuF,OAClB,OAEJ,MAAMyuF,EAAmB,CAAC,EACpBnnC,EAAQ,GACd,IAAK,MAAMonC,KAAmBP,EAC1B,QAA+BlkF,IAA3BykF,EAAgBplD,OAAsB,CACjC6hD,GAAmBuD,KACpBpnC,EAAMtnD,OAAS,GAGnB,MAAM2uF,EAAiB,GAAGD,EAAgB1vF,MAAM0vF,EAAgBplD,SAE1DA,EAAS6K,KAAK2D,IAAI42C,EAAgBplD,OAAS,EAAGge,EAAMtnD,QAM1D,GAJIspC,EAASge,EAAMtnD,QAAUsnD,EAAMhe,GAAQtqC,KAAO0vF,EAAgB1vF,KAC9DsoD,EAAMtnD,OAASspC,GAGfA,EAASge,EAAMtnD,OAAS,EACxBsnD,EAAMtnD,OAASspC,EAAS,MAEvB,CACD,MAAMy0C,EAAYsN,GAAgBqD,EAAiBnD,GAEnD,GAAIjiD,EAASge,EAAMtnD,OAAS,GAAKsnD,EAAMhe,GAAQslD,YAAY9sF,MAAQi8E,EAAUt0E,KAAM,CAEjE,GAAV6/B,GACkB,MAAlBy0C,EAAUt0E,WACaQ,IAAvBykF,EAAgB1vF,IAChByvF,EAAiBE,KACjB5Q,EAAUL,WAAa+Q,EAAiBE,IAE5C,MAAMC,EAAchC,GAAmB7O,EAAW5wE,EAAQ0/E,GAE1D,GAAI7B,GAAK0D,EAAgBL,cACV,GAAV/kD,GAAe0hD,GAAK1jC,EAAMhe,EAAS,GAAG+kD,aAAc,CACrD,IAAIA,EAAaK,EAAgBL,WAC7B/kD,EAAS,IAET+kD,EAAapD,GAAKjtC,WAAWqwC,GAAcrwC,WAAWsJ,EAAMhe,EAAS,GAAG+kD,cAE5ElhF,EAAO6V,SAAS,eAAgBqrE,EAAYO,EAChD,CAEA,GAAoB,GAAhBtnC,EAAMtnD,OAAa,CACnB,MAAM+V,EAAS24E,EAAgBn7E,QAAQwC,OACjCzR,EAAQyR,EAAOi4E,cAAcU,EAAgBn7E,SAAW,EAC9DpG,EAAO8gF,YAAY3pF,EAAOsqF,EAAa74E,EAC3C,KACK,CACD,MAAM84E,EAAkBvnC,EAAMhe,EAAS,GAAGwlD,iBAC1C3hF,EAAO1H,YAAYmpF,EAAaC,EAAgBA,EAAgB7uF,OAAS,GAC7E,CAEAsnD,EAAMhe,GAAU,IACTolD,EACHE,cACAE,iBAAkB,IAGR,GAAVxlD,QAAsCr/B,IAAvBykF,EAAgB1vF,KAC/ByvF,EAAiBE,GAAkB5Q,EAAUL,YAAc,EAEnE,CACJ,CAGA,MAAM3K,EAA2C,MAAhC2b,EAAgBn7E,QAAQzR,KAAe4sF,EAAgBn7E,QAAUpG,EAAOnI,cAAc,MAEvGmI,EAAO1H,YAAYstE,EAAUzrB,EAAMhe,GAAQslD,aAC3CtnC,EAAMhe,GAAQwlD,iBAAiBhwF,KAAKi0E,GAEtB,GAAVzpC,QAAsCr/B,IAAvBykF,EAAgB1vF,IAC/ByvF,EAAiBE,KAGjBD,EAAgBn7E,SAAWw/D,GAC3B5lE,EAAO1H,YAAYipF,EAAgBn7E,QAASw/D,GAGhDoa,GAAoBuB,EAAgBn7E,QAASpG,GAC7CA,EAAOsX,YAAY,cAAeiqE,EAAgBn7E,SAClDpG,EAAOsX,YAAY,cAAeiqE,EAAgBn7E,QACtD,KACK,CAED,MAAMw7E,EAAYznC,EAAM91B,MAAKu9D,GAAaA,EAAUV,YAAcK,EAAgBL,aAElF,GAAIU,EAAW,CACX,MAAMC,EAAYD,EAAUD,iBAE5B3hF,EAAO1H,YAAYipF,EAAgBn7E,QAASy7E,EAAUA,EAAUhvF,OAAS,IACzEmN,EAAOsX,YAAY,cAAeiqE,EAAgBn7E,QACtD,MAEI+zC,EAAMtnD,OAAS,CAEvB,CAER,CCxFQivF,CAAuCp2B,EAAkB0yB,EAAclsF,KAAKwtF,yBExB7E,SAAuCh0B,EAAkBq2B,GAC5D,IAAKr2B,EAAiB/vC,WAClB,OAEJ,MAAMqmE,EAAe,IAAI,EAAA9oE,aAAawyC,EAAiBx1D,UACjD+rF,EA4BV,SAA0Bv2B,EAAkB1rD,GACxC,MAAM4W,EAAQ5W,EAAOoL,cAAcsgD,GAC7Bw2B,EAAuB,IAAI,EAAAtgC,QAAQ,CACrCjtD,KAAM,WAEJstF,EAAY,GAClB,IAAK,MAAMhuF,KAAS2iB,EAAO,CACvB,GAAkB,gBAAd3iB,EAAMqI,KACN,SAEJ,MAAM6lF,EAAKluF,EAAM7B,KACXo6B,EAAkB21D,EAAG31D,gBACrB41D,EAAkB51D,GAAmBA,EAAgB3kB,GAAG,WAAa2kB,EAAgB73B,KAAO,KAG5F0tF,EAAe,CAAC,SAChBC,EAAkBJ,EAAqBz0E,MAAM00E,GAC7CI,EAA6BJ,EAAGviF,aAAa,aAC7C4iF,EAAkD,gBAApBJ,EAC9BK,EAA+BF,GACjCF,EAAavjF,MAAK1M,GAAQ+vF,EAAGviF,aAAa,MAAM7B,SAAS3L,KAGzDkwF,GACAC,IACCC,IACAC,GACDR,EAAUtwF,KAAKsC,EAAM7B,KAAKwN,aAAa,MAE/C,CACA,OAAOqiF,CACX,CA3DsBS,CAAiBh3B,EAAkBs2B,IAkEzD,SAAgDC,EAAWv2B,EAAkB1rD,GACzE,MAAM4W,EAAQ5W,EAAOoL,cAAcsgD,GAC7Bi3B,EAAuB,IAAI,EAAA/gC,QAAQ,CACrCjtD,KAAM,QAEJiuF,EAAO,GACb,IAAK,MAAM3uF,KAAS2iB,EAChB,GAAI3iB,EAAM7B,KAAKyV,GAAG,YAAc86E,EAAqBl1E,MAAMxZ,EAAM7B,MAAO,CACpE,MAAM+vF,EAAKluF,EAAM7B,KACXywF,EAASV,EAAGviF,aAAa,YAAcuiF,EAAGviF,aAAa,YAAYmrB,MAAM,KAAO,GAClF83D,EAAOhwF,QAAUgwF,EAAOr4E,OAAMs4E,GAASb,EAAUp8C,QAAQi9C,IAAU,IACnEF,EAAKjxF,KAAKwwF,GAGJA,EAAGviF,aAAa,QACtBgjF,EAAKjxF,KAAKwwF,EAElB,CAEJ,IAAK,MAAMp5E,KAAO65E,EACd5iF,EAAOnH,OAAOkQ,EAEtB,CAvFIg6E,CAAuCd,EAAWv2B,EAAkBs2B,GA+GxE,SAA2BgB,EAAUt3B,EAAkB1rD,GACnD,MAAM4W,EAAQ5W,EAAOoL,cAAcsgD,GAC7Bm3B,EAAS,GACf,IAAK,MAAM5uF,KAAS2iB,EAChB,GAAkB,gBAAd3iB,EAAMqI,MAA0BrI,EAAM7B,KAAKyV,GAAG,UAAW,WAAY,CACrE,MAAMhW,EAAKoC,EAAM7B,KAAKwN,aAAa,MACnC,GAAIojF,EAASjlF,SAASlM,GAClB,SAECoxF,EAAoBhvF,EAAM7B,KAAKwW,OAAOmQ,cAAelnB,IACtDgxF,EAAOlxF,KAAKsC,EAAM7B,KAE1B,CAEJ,IAAK,MAAM0wF,KAASD,EAAQ,CACxB,MAAMK,EAAQ,CACVp6E,IAAKq6E,EAAQL,IAEbA,EAAMnjF,aAAa,SACnBujF,EAAME,IAAMN,EAAMljF,aAAa,QAEnC,MAAMmJ,EAAM/I,EAAOnI,cAAc,MAAOqrF,GACxCljF,EAAO8gF,YAAYgC,EAAM3rF,MAAQ,EAAG4R,EAAK+5E,EAAMl6E,OACnD,CACA,SAASq6E,EAAoBvnD,EAAO7pC,GAChC,IAAK,MAAM0b,KAAQmuB,EAEf,GAAInuB,EAAK1F,GAAG,WAAY,CACpB,GAAiB,OAAb0F,EAAK5Y,MAAiB4Y,EAAK3N,aAAa,aAAe/N,EACvD,OAAO,EAEX,GAAIoxF,EAAoB11E,EAAKwL,cAAelnB,GACxC,OAAO,CAEf,CAEJ,OAAO,CACX,CACA,SAASsxF,EAAQL,GACb,IAAK,MAAM92D,KAAS82D,EAAM/pE,cAEtB,GAAIiT,EAAMnkB,GAAG,YAAcmkB,EAAMpsB,aAAa,OAC1C,OAAOosB,EAAMpsB,aAAa,MAGtC,CACJ,CA5JIyjF,CAAkBpB,EAAWv2B,EAAkBs2B,GA4FnD,SAAgCt2B,EAAkB1rD,GAC9C,MAAM4W,EAAQ5W,EAAOoL,cAAcsgD,GAC7Bw2B,EAAuB,IAAI,EAAAtgC,QAAQ,CACrCjtD,KAAM,WAEJkuF,EAAS,GACf,IAAK,MAAM5uF,KAAS2iB,EACE,gBAAd3iB,EAAMqI,MAA0B4lF,EAAqBz0E,MAAMxZ,EAAM7B,OACjEywF,EAAOlxF,KAAKsC,EAAM7B,MAG1B,IAAK,MAAM0wF,KAASD,EAChB7iF,EAAOnH,OAAOiqF,EAEtB,CAzGIQ,CAAuB53B,EAAkBs2B,GACzC,MAAMuB,EAiKV,SAA6C73B,EAAkB1rD,GAC3D,MAAM4W,EAAQ5W,EAAOoL,cAAcsgD,GAC7Bi3B,EAAuB,IAAI,EAAA/gC,QAAQ,CACrCjtD,KAAM,QAEJiuF,EAAO,GACb,IAAK,MAAM3uF,KAAS2iB,EACZ3iB,EAAM7B,KAAKyV,GAAG,YAAc86E,EAAqBl1E,MAAMxZ,EAAM7B,OACzD6B,EAAM7B,KAAKwN,aAAa,OAAOqkD,WAAW,YAC1C2+B,EAAKjxF,KAAKsC,EAAM7B,MAI5B,OAAOwwF,CACX,CA/KmBY,CAAoC93B,EAAkBs2B,GACjEuB,EAAO1wF,QA0Nf,SAAyD4wF,EAAeC,EAAkB1jF,GAEtF,GAAIyjF,EAAc5wF,SAAW6wF,EAAiB7wF,OAC1C,IAAK,IAAIL,EAAI,EAAGA,EAAIixF,EAAc5wF,OAAQL,IAAK,CAC3C,MAAMmxF,EAAS,QAAQD,EAAiBlxF,GAAG8J,eAnNnBsnF,EAmNsDF,EAAiBlxF,GAAGqxF,IAlNnG3uF,KAAK0uF,EAAUn2E,MAAM,UAAUtb,KAAI2xF,GAC/Br4E,OAAOs4E,aAAa98E,SAAS68E,EAAM,OAC3CvxF,KAAK,OAiNAyN,EAAO7H,aAAa,MAAOwrF,EAAQF,EAAcjxF,GACrD,CArND,IAA6BoxF,CAuNpC,CAjOQI,CAAgDT,EAuLxD,SAAiCxB,GAC7B,IAAKA,EACD,MAAO,GAEX,MAAMkC,EAAqB,uFACrBC,EAAe,IAAI14E,OAAO,OAASy4E,EAAmBruF,OAAS,yBAA0B,KACzF2tF,EAASxB,EAAQt0E,MAAMy2E,GACvBttF,EAAS,GACf,GAAI2sF,EACA,IAAK,MAAM3uE,KAAS2uE,EAAQ,CACxB,IAAIt7E,GAAY,EACZ2M,EAAM7W,SAAS,aACfkK,EAAY,YAEP2M,EAAM7W,SAAS,gBACpBkK,EAAY,cAEZA,GACArR,EAAOjF,KAAK,CACRkyF,IAAKjvE,EAAM0b,QAAQ2zD,EAAoB,IAAI3zD,QAAQ,eAAgB,IACnEh0B,KAAM2L,GAGlB,CAEJ,OAAOrR,CACX,CAjNgEutF,CAAwBpC,GAAUC,EAElG,CFYQoC,CAA8B14B,EAAkBl2D,EAAK+lC,aAAaC,QAAQ,aG5BnE,SAA4BkwB,GACvC,MAAM24B,EAAmB,GACnBrkF,EAAS,IAAI,EAAAkZ,aAAawyC,EAAiBx1D,UACjD,IAAK,MAAM,KAAE9D,KAAU4N,EAAOoL,cAAcsgD,GACxC,GAAKt5D,EAAKyV,GAAG,WAAb,CAGA,IAAK,MAAMnJ,KAAatM,EAAKwoC,gBACrB,UAAUjU,KAAKjoB,IACfsB,EAAOqX,YAAY3Y,EAAWtM,GAGtC,IAAK,MAAMkyF,KAAalyF,EAAKmyF,gBACrB,UAAU59D,KAAK29D,IACftkF,EAAOsX,YAAYgtE,EAAWlyF,IAGlCA,EAAKyV,GAAG,UAAW,UACnBzV,EAAKyV,GAAG,UAAW,YAAczV,EAAKyU,SACtCzU,EAAKyV,GAAG,UAAW,QAAUzV,EAAKyU,UAClCw9E,EAAiB1yF,KAAKS,EAd1B,CAiBJ,IAAK,MAAMA,KAAQiyF,EAAkB,CACjC,MAAMG,EAAapyF,EAAKwW,OAClB67E,EAAaD,EAAW3D,cAAczuF,GAC5C4N,EAAO8gF,YAAY2D,EAAYryF,EAAK2mB,cAAeyrE,GACnDxkF,EAAOnH,OAAOzG,EAClB,CACJ,CHAQsyF,CAAmBh5B,GACnBl2D,EAAKnD,QAAUq5D,CACnB,EIGJ,SAASi5B,GAAYz9E,EAAaolB,EAAWtsB,GAAQ,cAAE8lD,EAAa,qBAAE8+B,IAClE,IAAIjzE,EAAW3R,EAAO8mB,iBAAiB5f,EAA0B,WAAbolB,EAAyB,QAAU,UASvF,OAHA3a,EAAWA,EAASwvD,yBAAwB,EAAG/uE,UAAYA,EAAKyV,GAAG,aAC9Di+C,EAAc/nD,SAAS3L,EAAKuC,QAC5BiwF,EAAqB7mF,SAAS3L,EAAKuC,OAAQ,CAAE23B,cAC9B,WAAbA,EAAyB3a,EAASoN,UAAYpN,EAASklB,UAClE,CAIA,SAASguD,GAAmBt3E,EAAMu4C,GAC9B,QAASv4C,GAAQA,EAAK1F,GAAG,YAAci+C,EAAc/nD,SAASwP,EAAK5Y,KACvE,CCrDA,MAAMmwF,GAAkB,8CAIT,MAAMC,GAMjB,WAAArwF,CAAYwB,GACRhE,KAAKgE,SAAWA,CACpB,CAIA,QAAAsqF,CAASC,GACL,OAAOqE,GAAgBjwF,KAAK4rF,EAChC,CAIA,OAAA5gF,CAAQrK,GACJ,MAAMwK,EAAS,IAAI,EAAAkZ,aAAahnB,KAAKgE,WAC7BwqF,KAAMh1B,GAAqBl2D,EAAKmrF,aC1BjC,SAA2Bj1B,EAAkB1rD,GACxD,IAAK,MAAMgsB,KAAS0/B,EAAiB3yC,cACjC,GAAIiT,EAAMnkB,GAAG,UAAW,MAA0C,WAAlCmkB,EAAM1lB,SAAS,eAA6B,CACxE,MAAMm+E,EAAa/4B,EAAiBm1B,cAAc70D,GAClDhsB,EAAOnH,OAAOmzB,GACdhsB,EAAO8gF,YAAY2D,EAAYz4D,EAAMjT,cAAe2yC,EACxD,CAER,CDmBQs5B,CAAkBt5B,EAAkB1rD,GNgGrC,SAAmC0rD,EAAkB1rD,GACxD,IAAK,MAAM/L,KAAS+L,EAAOoL,cAAcsgD,GAAmB,CACxD,MAAMtlD,EAAUnS,EAAM7B,KACtB,GAAIgU,EAAQyB,GAAG,UAAW,MAAO,CAE7B,MAAMtO,EAAa6M,EAAQyV,SAAS,GAChCtiB,GAAcA,EAAWsO,GAAG,UAAW,MACvC7H,EAAOilF,cAAc1rF,EAE7B,CACJ,CACJ,CM1GQ2rF,CAA0Bx5B,EAAkB1rD,GDxBrC,SAAuC0rD,EAAkB1rD,GACpE,MAAMoR,EAAe,IAAI,EAAA+zE,aAAanlF,EAAO9J,SAAS0uD,iBAChDx0C,EAAe,IAAI,EAAAg1E,aAAah0E,EAAc,CAAEi0E,cAAe,SAC/Dv/B,EAAgB11C,EAAa01C,cAC7B8+B,EAAuBx0E,EAAaw0E,qBACpCU,EAAoB,GAC1B,IAAK,MAAMrxF,KAAS+L,EAAOoL,cAAcsgD,GAAmB,CACxD,MAAMtlD,EAAUnS,EAAM7B,KACtB,GAAIgU,EAAQyB,GAAG,UAAW,MAAO,CAC7B,MAAMyjB,EAAcq5D,GAAYv+E,EAAS,UAAWpG,EAAQ,CAAE8lD,gBAAe8+B,yBACvEp4D,EAAkBm4D,GAAYv+E,EAAS,WAAYpG,EAAQ,CAAE8lD,gBAAe8+B,yBAC5EW,EAAqBV,GAAmBv5D,EAAaw6B,IAC5B++B,GAAmBr4D,EAAiBs5B,IAKrCy/B,IAC1BD,EAAkB3zF,KAAKyU,EAE/B,CACJ,CACA,IAAK,MAAMA,KAAWk/E,EACdl/E,EAAQ0B,SAAS,6BACjB9H,EAAOnH,OAAOuN,GAGdpG,EAAOswB,QAAQlqB,EAASpG,EAAOnI,cAAc,KAGzD,CCLQ2tF,CAA8B95B,EAAkB1rD,GAChDxK,EAAKnD,QAAUq5D,CACnB,EE5BJ,MAAM+5B,GAAoB,8BAIX,MAAMC,GAMjB,WAAAhxF,CAAYwB,GACRhE,KAAKgE,SAAWA,CACpB,CAIA,QAAAsqF,CAASC,GACL,OAAOgF,GAAkB5wF,KAAK4rF,EAClC,CAIA,OAAA5gF,CAAQrK,GACJ,MAAMwK,EAAS,IAAI,EAAAkZ,aAAahnB,KAAKgE,WAC7BwqF,KAAMh1B,GAAqBl2D,EAAKmrF,aC3BjC,SAA+Bj1B,EAAkB1rD,GAC5D,IAAK,MAAMgsB,KAAS0/B,EAAiB3yC,cACjC,GAAIiT,EAAMnkB,GAAG,UAAW,6BAA8B,CAClD,MAAM48E,EAAa/4B,EAAiBm1B,cAAc70D,GAClDhsB,EAAOnH,OAAOmzB,GACdhsB,EAAO8gF,YAAY2D,EAAYz4D,EAAMjT,cAAe2yC,EACxD,CAER,CDoBQi6B,CAAsBj6B,EAAkB1rD,GE5BjC,SAAqB0rD,EAAkB1rD,GAClD,IAAK,MAAMgsB,KAAS0/B,EAAiB3yC,cAC7BiT,EAAMnkB,GAAG,UAAW,UAAYmkB,EAAMrsB,aAAa,UACnDK,EAAO1G,gBAAgB,QAAS0yB,EAG5C,CFuBQ45D,CAAYl6B,EAAkB1rD,GG7BvB,SAAiC0rD,EAAkB1rD,GAC9D,IAAK,MAAMgsB,KAAS0/B,EAAiB3yC,cAC7BiT,EAAMnkB,GAAG,UAAW,UAAwC,QAA5BmkB,EAAM1lB,SAAS,UAC/CtG,EAAOsX,YAAY,QAAS0U,EAGxC,CHwBQ65D,CAAwBn6B,EAAkB1rD,GI9BnC,SAA0B0rD,EAAkB1rD,GACvD,IAAK,MAAMgsB,KAAS74B,MAAMyB,KAAK82D,EAAiB3yC,eACxCiT,EAAMnkB,GAAG,UAAW,UACpB7H,EAAOnH,OAAOmzB,EAG1B,CJyBQ85D,CAAiBp6B,EAAkB1rD,GACnCxK,EAAKnD,QAAUq5D,CACnB,EKaJ,SAASq6B,GAA0BtF,GAC/B,OAAOA,EAAWnwD,QAAQ,2DAA2D,CAAC01D,EAAWC,IACpE,IAAlBA,EAAOpzF,OAAe,IAAMM,MAAM8yF,EAAOpzF,OAAS,GAAGN,KAAK,MAAWq0B,OAAO,EAAGq/D,EAAOpzF,SAErG,CCjCe,MAAMqzF,WAAwB,EAAAzlF,OAIzC,qBAAWC,GACP,MAAO,iBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,EAAAmS,kBACZ,CAIA,IAAA7W,GACI,MAAM5B,EAASjN,KAAKiN,OACd8M,EAAoB9M,EAAO8G,QAAQ3I,IAAI,qBACvC8T,EAAejS,EAAO2E,QAAQtC,KAAKtL,SACnCiwF,EAAc,GACdzG,EAA0BxtF,KAAKiN,OAAO8G,QAAQE,IAAI,kBACxDggF,EAAYx0F,KAAK,IAAI4uF,GAAiBnvE,EAAcsuE,IACpDyG,EAAYx0F,KAAK,IAAIozF,GAAqB3zE,IAC1C+0E,EAAYx0F,KAAK,IAAI+zF,GAAuBt0E,IAC5CnF,EAAkB7G,GAAG,uBAAuB,CAAC0N,EAAKtd,KAC9C,GAAIA,EAAK4wF,kCACL,OAGJ,GADkBjnF,EAAOG,MAAMpJ,SAASqJ,UAAUkK,mBAAmBb,OACvDf,GAAG,UAAW,aACxB,OAEJ,MAAM44E,EAAajrF,EAAK+lC,aAAaC,QAAQ,aACvC6qD,EAAmBF,EAAY9hE,MAAKiiE,GAAcA,EAAW9F,SAASC,KACxE4F,IACK7wF,EAAKmrF,cACNnrF,EAAKmrF,YCtDlB,SAAmBF,EAAY77B,GAClC,MAAM2hC,EAAY,IAAIC,UAMhBC,EFNH,SAA0BhG,GAE7B,OAAOsF,GAA0BA,GAA0BtF,IAEtDnwD,QAAQ,mFAAoF,QAC5FA,QAAQ,mDAAoD,IAC5DA,QAAQ,oEAAqE,SAC7EA,QAAQ,QAAS,OACjBA,QAAQ,iBAAkB,gBAE1BA,QAAQ,+BAAgC,IAExCA,QAAQ,2BAA4B,KAC7C,CEP2Bo2D,CA+D3B,SAA+BjG,GAC3B,MAAMkG,EAAe,UAEfC,EAAiBnG,EAAW56C,QAAQ8gD,GAC1C,GAAIC,EAAiB,EACjB,OAAOnG,EAEX,MAAMoG,EAAiBpG,EAAW56C,QALb,UAKmC+gD,EAAiBD,GACzE,OAAOlG,EAAWqG,UAAU,EAAGF,EAAiBD,IAC3CE,GAAkB,EAAIpG,EAAWqG,UAAUD,GAAkB,GACtE,CAzE4CE,CADxCtG,GAHAA,EAAaA,EAAWnwD,QAAQ,wBAAyB,KAGjCA,QAAQ,wDAAyD,MAGnF02D,EAAeT,EAAUU,gBAAgBR,EAAgB,cFa5D,SAAgCO,GACnCA,EAAaE,iBAAiB,yBAAyBjvF,SAAQkqF,IAC3D,MAAMgF,EAAchF,EACdiF,EAAkBD,EAAY7J,UAAUzqF,QAAU,EACxDs0F,EAAY7J,UAAYnqF,MAAMi0F,EAAkB,GAAG70F,KAAK,MAAWq0B,OAAO,EAAGwgE,EAAgB,GAErG,CElBIC,CAAuBL,GAEvB,MAAMM,EAAaN,EAAatG,KAAKttB,UAE/Bm0B,EAeV,SAAwBP,EAAcpiC,GAClC,MAAMxzC,EAAe,IAAI,EAAA+zE,aAAavgC,GAChCx0C,EAAe,IAAI,EAAAg1E,aAAah0E,EAAc,CAAEi0E,cAAe,SAC/D5pD,EAAWurD,EAAa3tE,yBACxBqiB,EAAQsrD,EAAatG,KAAKxnF,WAChC,KAAOwiC,EAAM7oC,OAAS,GAClB4oC,EAASnjC,YAAYojC,EAAM,IAE/B,OAAOtrB,EAAao3E,UAAU/rD,EAAU,CAAEuxB,cAAc,GAC5D,CAxBqBy6B,CAAeT,EAAcpiC,GAExC8iC,EA4BV,SAAuBV,GACnB,MAAMnsF,EAAS,GACTujF,EAAe,GACfuJ,EAAYx0F,MAAMyB,KAAKoyF,EAAa7rF,qBAAqB,UAC/D,IAAK,MAAMvD,KAAS+vF,EACZ/vF,EAAMgwF,OAAShwF,EAAMgwF,MAAMC,UAAYjwF,EAAMgwF,MAAMC,SAASh1F,SAC5DgI,EAAOlJ,KAAKiG,EAAMgwF,OAClBxJ,EAAazsF,KAAKiG,EAAMw7D,YAGhC,MAAO,CACHv4D,SACAujF,aAAcA,EAAa7rF,KAAK,KAExC,CA1CyBu1F,CAAcd,GACnC,MAAO,CACHtG,KAAM6G,EACND,aACAzsF,OAAQ6sF,EAAa7sF,OACrBujF,aAAcsJ,EAAatJ,aAEnC,CD+BuC2J,CAAUtH,EAAYrvE,EAAawzC,kBAE1DyhC,EAAiBxmF,QAAQrK,GACzBA,EAAK4wF,mCAAoC,EAC7C,GACD,CAAEv5E,SAAU,QACnB,EEjEJ,MAAMm7E,GAAgB,eAKP,MAAMC,WAAuB,EAAAxnF,OAIxC,qBAAWC,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpBA,EAAO6D,GAAGC,iBAAiBvI,IAAIstF,IAAe,KAC1C,MAAMxmF,EAAOtP,KAAKgR,cAAc,EAAAI,YAIhC,OAHA9B,EAAK+B,IAAI,CACLG,SAAS,IAENlC,CAAI,IAEfrC,EAAO6D,GAAGC,iBAAiBvI,IAAI,WAAWstF,MAAiB,IAAM91F,KAAKgR,cAAc,EAAAgC,gCACxF,CAIA,aAAAhC,CAAcwpB,GACV,MAAMvtB,EAASjN,KAAKiN,OACdjB,EAASiB,EAAOjB,OAChBkF,EAAUjE,EAAO+C,SAAS5E,IAAI0qF,IAC9BxmF,EAAO,IAAIkrB,EAAYvtB,EAAOjB,QAC9B0E,EAAI1E,EAAO0E,EAWjB,OAVApB,EAAK+B,IAAI,CACLC,MAAOZ,EAAE,iBACTa,KCrDZ,y0BDuDQjC,EAAK5H,KAAK,aAAagK,GAAGR,EAAS,aAEnClR,KAAK2R,SAASrC,EAAM,WAAW,KAC3BrC,EAAOU,QAAQmoF,IACf7oF,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBvC,CACX,EE9CW,MAAM0mF,WAA4B,EAAAjpF,QAI7C,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MAC1BpN,KAAKuN,aAAc,IAAAJ,OAAMnN,KAAKi2F,oBAAoB7oF,EAAMpJ,SAASqJ,UAAWD,EAAMgB,QACtF,CAIA,OAAAT,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACrBhB,EAAMS,QAAOC,IACT,IAAK,MAAM5N,KAAQF,KAAKi2F,oBAAoB7oF,EAAMpJ,SAASqJ,UAAWe,GAClE,GAAIlO,EAAKyV,GAAG,aACR,IAAK,MAAMS,KAAiBpW,KAAKk2F,yBAAyBh2F,EAAMkO,GAC5DN,EAAO6pB,yBAAyBvhB,OAGnC,CAGD,MAAM+/E,EAAYroF,EAAO0W,cAActkB,GACvC,IAAK,MAAMkW,KAAiBpW,KAAKk2F,yBAAyBh2F,EAAMkO,GAC5DN,EAAO1G,gBAAgBgP,EAAe+/E,EAE9C,CACJ,GAER,CAOA,oBAACF,CAAoB5oF,EAAWe,GAC5B,MAAMgoF,EAA8Bl2F,MACvB,IAAAiN,OAAMnN,KAAKk2F,yBAAyBh2F,EAAMkO,IAGvD,IAAK,MAAMioF,KAAYhpF,EAAU0mB,YAC7B,IAAK,MAAM7zB,KAAQm2F,EAAS9vE,YACnBnY,EAAO25B,QAAQ7nC,IAASk2F,EAA2Bl2F,WAC9CA,GAKlB,IAAK,MAAM8N,KAASX,EAAUC,oBACtB8oF,EAA2BpoF,WACrBA,GAIVooF,EAA2B/oF,WACrBA,EAEd,CASA,yBAAC6oF,CAAyBh2F,EAAMkO,GAC5B,IAAK,MAAOgI,KAAkBlW,EAAKiW,gBAAiB,CAChD,MAAMo3C,EAAsBn/C,EAAO85B,uBAAuB9xB,GACtDm3C,GAAuBA,EAAoBp+C,qBACrCiH,EAEd,CACJ,EC9EW,MAAMkgF,WAA4B,EAAA/nF,OAI7C,qBAAWC,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACpBA,EAAO+C,SAASxH,IAAI,eAAgB,IAAIwtF,GAAoB/oF,GAChE,ECfW,MAAMspF,WAAqB,EAAAhoF,OAItC,mBAAWgF,GACP,MAAO,CAAC+iF,GAAqBP,GACjC,CAIA,qBAAWvnF,GACP,MAAO,cACX,CAIA,2BAAWC,GACP,OAAO,CACX,EC6FJ,SAAS+nF,GAAW/sD,EAAMgtD,EAAaC,EAAa,QAEhD,MAAO,GAAGA,EAAWC,OAAO7hD,KAAKC,IAAI,EAAG0hD,MAAgBhtD,GAC5D,gBC5Ha,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQlhC,OCEvB,MAAMquF,GAA2B,oBASlB,MAAMC,WAAsB,EAAAtoF,OAIvC,qBAAWC,GACP,MAAO,eACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,EAAAujF,eACZ,CAIA,WAAAt0F,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAKqR,IAAI,uBAAuB,GAChCrR,KAAK09B,iBAAmB,IAAI,EAAAC,gBAC5B39B,KAAK+2F,eAAiB,IAAI7mF,IAC1BlQ,KAAKg3F,eAAiB,IAAI9mF,IAC1BjD,EAAO0B,OAAOC,OAAO,4CAA4C,EACrE,CAIA,IAAAC,GACI7O,KAAKi3F,sBACL,MAAMhqF,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOjB,OAAO0E,EACxBzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,iBAAiB,KAC5C,MAAM2I,EAAanR,KAAKgR,cAAc,EAAAI,YAOtC,OANAD,EAAWE,IAAI,CACXC,MAAOZ,EAAE,UACTa,KChEhB,orBDiEgBC,SAAS,EACTe,MAAO,6BAEJpB,CAAU,IAErBlE,EAAO6D,GAAGC,iBAAiBvI,IAAI,yBAAyB,KACpD,MAAM2I,EAAanR,KAAKgR,cAAc,EAAAgC,+BAKtC,OAJA7B,EAAWE,IAAI,CACXC,MAAOZ,EAAE,eACTmC,KAAM,qBAEH1B,CAAU,IAIjBnR,KAAKk3F,wCACLl3F,KAAKkT,GAAG,8BAA8B,CAAC0N,EAAKne,EAAM00F,KAC1CA,GACAn3F,KAAKo3F,qBACLp3F,KAAKq3F,qBACLr3F,KAAKs3F,qBAGLt3F,KAAKu3F,qBACLv3F,KAAKw3F,kBACT,IAEJx3F,KAAKkT,GAAG,oBAAoB,CAAC0N,EAAKne,EAAM8K,IAAcvN,KAAKy3F,qBAAqBlqF,KAChFvN,KAAK2R,SAAS1E,EAAQ,qBAAqB,CAAC2T,EAAKne,EAAMi1F,IAAe13F,KAAKy3F,oBAAoBC,MAGnGzqF,EAAO3J,KAAK4P,GAAG,OAAO,KACdlT,KAAKm3F,qBACLn3F,KAAK23F,kBACT,GACD,CAAEh9E,SAAU,QACnB,CAIA,gBAAAg9E,GACI,MAAM1qF,EAASjN,KAAKiN,OACd3J,EAAO,CAAC,EACd,IAAK,MAAOqY,EAAUi8E,KAAmC53F,KAAK+2F,eAAgB,CAC1E,MAAMc,EAAU73F,KAAKg3F,eAAe5rF,IAAIuQ,GAClCm8E,EAAUF,EAA+BG,QAAQh2F,MAGnD81F,IAAYC,IACZx0F,EAAKqY,GAAYm8E,EACjB93F,KAAKg3F,eAAe3lF,IAAIsK,EAAUm8E,GAE1C,CACIz1F,OAAOyD,KAAKxC,GAAM3C,QAClBsM,EAAO3J,KAAK+N,IAAI/N,EAAM,CAAE00F,UAAW,CAAExyE,YAAY,GAAQyyE,8BAA8B,GAE/F,CACA,mBAAAhB,GACI,MAAMhqF,EAASjN,KAAKiN,OACdirF,EAAqBjrF,EAAO0B,OAAOvD,IAAI,4CAC7C,IAAK8sF,GAAsBjrF,EAAO8G,QAAQE,IAAI,gCAa1C,MAAM,IAAI,EAAAxH,cAAc,2DAA4D,OAYnFyrF,GAVkC,CACnC,kBACA,sBACA,mBAOsDtrF,MAAK4B,GAAcvB,EAAO8G,QAAQE,IAAIzF,MAC5F2pF,QAAQC,KAAK,uRAKbnrF,EAAO8G,QAAQE,IAAI,iCACnBkkF,QAAQC,KAAK,0QAIrB,CAcA,kBAAAf,GACI,MAAMpqF,EAASjN,KAAKiN,OACdgM,EAAchM,EAAO2E,QAAQtC,KAC7BlC,EAAQH,EAAOG,MACrBA,EAAMS,QAAOC,IACTA,EAAO0I,aAAa,MACpB1I,EAAO6pB,yBAAyBvqB,EAAMpJ,SAASqJ,UAAUklD,mBAAmB,IAIhF,IAAK,MAAO52C,EAAU08E,KAAmBp/E,EAAYq/E,SAAU,CAC3D,MAAMh1F,EA0KlB,SAAgB8kD,GACZ,OAAOA,EAAM2J,WAAW,IAC5B,CAZSwmC,CADanwC,EA/JgBn7C,EAAO3J,KAAK8H,IAAI,CAAEuQ,cFxKjD,SAAoBysC,GAQvB,MAAMowC,EAAmB,CACrB,CAAE/1F,KAAM,UAAWg2F,QAAQ,GAC3B,CAAEh2F,KAAM,UAAWg2F,QAAQ,GAC3B,CAAEh2F,KAAM,QAASg2F,QAAQ,GACzB,CAAEh2F,KAAM,aAAcg2F,QAAQ,GAC9B,CAAEh2F,KAAM,UAAWg2F,QAAQ,GAC3B,CAAEh2F,KAAM,SAAUg2F,QAAQ,GAC1B,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,MAAOg2F,QAAQ,GACvB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,WAAYg2F,QAAQ,GAC5B,CAAEh2F,KAAM,aAAcg2F,QAAQ,GAC9B,CAAEh2F,KAAM,SAAUg2F,QAAQ,GAC1B,CAAEh2F,KAAM,SAAUg2F,QAAQ,GAC1B,CAAEh2F,KAAM,OAAQg2F,QAAQ,GACxB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,SAAUg2F,QAAQ,GAC1B,CAAEh2F,KAAM,SAAUg2F,QAAQ,GAC1B,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,OAAQg2F,QAAQ,GACxB,CAAEh2F,KAAM,MAAOg2F,QAAQ,GACvB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,IAAKg2F,QAAQ,GACrB,CAAEh2F,KAAM,UAAWg2F,QAAQ,GAC3B,CAAEh2F,KAAM,QAASg2F,QAAQ,GACzB,CAAEh2F,KAAM,QAASg2F,QAAQ,GACzB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,QAASg2F,QAAQ,GACzB,CAAEh2F,KAAM,KAAMg2F,QAAQ,GACtB,CAAEh2F,KAAM,KAAMg2F,QAAQ,IAEpBC,EAAuBF,EAAiBv4F,KAAIiU,GAAWA,EAAQzR,OAAMpC,KAAK,KAE1Es4F,EAAQvwC,EAGThqB,QAAQ,IAAI9kB,OAAO,OAAOo/E,aAAiC,KAAM,UAEjEt6D,QAAQ,aAAc,QAEtBvF,MAAM,MACX,IAAI49D,EAAc,EACdmC,GAAqB,EACzB,OAAOD,EACFnyF,QAAOijC,GAAQA,EAAK9oC,SACpBV,KAAIwpC,IACLmvD,EA2DR,SAAiCnvD,EAAMovD,GACnC,OAAI,IAAIv/E,OAAO,gBAAgB3W,KAAK8mC,GACzB,QAEF,IAAInwB,OAAO,UAAU3W,KAAK8mC,GACxB,QAE6B,UAA/BovD,GAAyE,WAA/BA,IACxC,QAKf,CAxE6BC,CAAwBrvD,EAAMmvD,GAoB3D,SAA6BnvD,EAAM+uD,GAC/B,OAAOA,EAAiB5rF,MAAKsH,IACrBA,EAAQukF,UAGP,IAAIn/E,OAAO,IAAIpF,EAAQzR,gBAAgBE,KAAK8mC,IAKzD,CA7BYsvD,CAAoBtvD,EAAM+uD,GACnBhC,GAAW/sD,EAAMgtD,KAmCpC,SAAsBhtD,EAAM+uD,GACxB,OAAOA,EAAiB5rF,MAAKsH,GAClB,IAAIoF,OAAO,KAAKpF,EAAQzR,SAASE,KAAK8mC,IAErD,CArCYuvD,CAAavvD,EAAM+uD,GACZhC,GAAW/sD,IAAQgtD,GAEH,WAAvBmC,GAA0D,SAAvBA,EAC5BnvD,EAEJ+sD,GAAW/sD,EAAMgtD,MAEvBp2F,KAAK,KACd,CEgQW44F,CAAW7wC,GAFPA,EAhKG8wC,GAAkC,IAAAvzF,eAAc0yF,EAAe94B,cAAe,WAAY,CAC5F45B,KAAM,IACN,aAAc,6BAEZvB,GAAiC,IAAAjyF,eAAc0yF,EAAe94B,cAAe,MAAO,CACtFhtD,MAAO,yBACP,aAAcjP,GACf,CAAC41F,IACJA,EAAgCn3F,MAAQuB,EAExC41F,EAAgCE,kBAAkB,EAAG,GAGrDF,EAAgC73B,iBAAiB,SAAS,KACtDu2B,EAA+BG,QAAQh2F,MAAQm3F,EAAgCn3F,MAC/EkL,EAAO6D,GAAGtJ,QAAQ,IAEtByR,EAAYpL,QAAOC,IACf,MAAMurF,EAAWpgF,EAAYjV,SAASg6B,QAAQriB,GAC9C7N,EAAOoX,SAAS,YAAam0E,EAAS,IAG1CpsF,EAAO6D,GAAGotB,mBAAmB,iBAAmBviB,EAAUu9E,GAC1Dl5F,KAAK+2F,eAAe1lF,IAAIsK,EAAUi8E,GAClC53F,KAAK09B,iBAAiBU,QAAQi6D,EAAgBT,GAC9C53F,KAAKg3F,eAAe3lF,IAAIsK,EAAUrY,EACtC,CAoIR,IAAsB8kD,EAnIdpoD,KAAKs5F,qBACT,CAIA,kBAAA/B,GACI,MACMt+E,EADSjZ,KAAKiN,OACO2E,QAAQtC,KACnCtP,KAAK23F,mBACL1+E,EAAYpL,QAAOC,IACf,IAAK,MAAO6N,KAAa3b,KAAK+2F,eAC1BjpF,EAAOqX,YAAY,YAAalM,EAAYjV,SAASg6B,QAAQriB,GACjE,IAEJ3b,KAAK09B,iBAAiBiB,UACtB3+B,KAAK+2F,eAAerkD,QACpB1yC,KAAKg3F,eAAetkD,QACpBz5B,EAAYpH,OAChB,CAIA,mBAAAynF,GACI,MAAMrsF,EAASjN,KAAKiN,QACb2qF,GAAkC53F,KAAK+2F,eAAexnF,SACvDgqF,EAAW3B,EAA+B3zF,cAAc,YAK9DgJ,EAAO2E,QAAQtC,KAAKtL,SAASsc,WAAY,EACzCi5E,EAAS1nF,OACb,CAIA,gBAAAylF,GACI,MAAMrqF,EAASjN,KAAKiN,OACpB,IAAK,MAAMiE,KAAWjE,EAAO+C,SAASA,WAClCkB,EAAQsoF,cAAc5C,IAGtB3pF,EAAO8G,QAAQE,IAAI,sBACnBhH,EAAO8G,QAAQ3I,IAAI,qBAAqBouF,cAAc5C,GAE9D,CAIA,eAAAY,GACI,MAAMvqF,EAASjN,KAAKiN,OACpB,IAAK,MAAMiE,KAAWjE,EAAO+C,SAASA,WAClCkB,EAAQuoF,mBAAmB7C,IAG3B3pF,EAAO8G,QAAQE,IAAI,sBACnBhH,EAAO8G,QAAQ3I,IAAI,qBAAqBquF,mBAAmB7C,GAEnE,CAMA,mBAAAa,CAAoBC,GAChB,GAAK13F,KAAKm3F,oBAGV,IAAK,MAAO,CAAES,KAAmC53F,KAAK+2F,eAClDa,EAA+B3zF,cAAc,YAAYy1F,SAAWhC,CAE5E,CAKA,mCAAAR,GACI,MACMp5D,EADS99B,KAAKiN,OACI6D,GAAGxB,KAAKwuB,SAEhC,OAAOA,IAAaA,EAAS67D,kBACjC,CAIA,kBAAAvC,GACI,GAAIp3F,KAAKiN,OAAO8G,QAAQE,IAAI,UAAW,CACnC,MAAMisB,EAAelgC,KAAKiN,OAAO8G,QAAQ3I,IAAI,UACzC80B,EAAalN,QACbkN,EAAa6Q,MAErB,CACJ,CACA,aAAA//B,CAAcwpB,GACV,MAAMvtB,EAASjN,KAAKiN,OACdkE,EAAa,IAAIqpB,EAAYvtB,EAAOjB,QA0B1C,OAzBAmF,EAAWE,IAAI,CACX06B,UAAU,EACVt6B,cAAc,IAElBN,EAAWzJ,KAAK,QAAQgK,GAAG1R,KAAM,uBAEjCmR,EAAWzJ,KAAK,aAAagK,GAAG1R,KAAM,YAAaiN,EAAQ,aAAcA,EAAO8G,QAAQ3I,IAAI,EAAA0rF,gBAAiB,UAAU,CAACvpF,EAAWqsF,EAAkBC,MAE5ItsF,IAIDqsF,IAKAC,IAKR75F,KAAK2R,SAASR,EAAY,WAAW,KACjCnR,KAAKm3F,qBAAuBn3F,KAAKm3F,mBAAmB,IAEjDhmF,CACX,EExUW,MAAM2oF,WAA4B,EAAA1oF,WAO7C,WAAA5O,CAAYwJ,EAAQ43E,GAChBl1E,MAAM1C,GACNhM,KAAK4jF,gBAAkBA,EACvB5jF,KAAK+5F,YAAc/5F,KAAKg6F,iBACxBh6F,KAAKqR,IAAI,CACLC,MAAOsyE,EAAgBnhF,KACvB8P,MAAO,wBACPw5B,UAAU,IAEd/rC,KAAKsS,eAAe,CAChB1M,WAAY,CACRiN,KAAM,YAGd7S,KAAKmT,SAAS3K,IAAIxI,KAAK+5F,YAAa,EACxC,CAIA,cAAAC,GACI,MAAMD,EAAc,IAAI,EAAA79E,KAAKlc,KAAKgM,QAiBlC,OAhBA+tF,EAAYz8E,YAAY,CACpBC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,wBACA,iCACA,cAGJ,cAAe,QAEnBY,SAAU,CACNnT,KAAK4jF,gBAAgBqW,mBAGtBF,CACX,iBC7CS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQxxF,OCGR,MAAM2xF,WAAsB,EAAAh+E,KAOvC,WAAA1Z,CAAYwJ,EAAQ02E,GAChBh0E,MAAM1C,GACNhM,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKqR,IAAI,eAAgB,IACzBrR,KAAKqR,IAAI,gBAAiB,IAC1BrR,KAAKmT,SAAWnT,KAAKunB,mBACrBvnB,KAAKmT,SAASF,SAAS,WAAWvB,GAAG1R,MACrC,IAAK,MAAMiL,KAAcy3E,EAAkB,CACvC,MAAMyX,EAAe,IAAIL,GAAoB9tF,EAAQf,GACrDjL,KAAKmT,SAAS3K,IAAI2xF,EACtB,CACAn6F,KAAKkT,GAAG,uBAAuB,KAC3B,IAAK,MAAM4mB,KAAS95B,KAAKmT,SACrB2mB,EAAM/G,KAAO/yB,KAAKo6F,aAAavuF,SAASiuB,EAAM8pD,gBAAgBnhF,KAClE,IAEJzC,KAAKkT,GAAG,wBAAwB,KAC5B,IAAK,MAAM4mB,KAAS95B,KAAKmT,SACrB2mB,EAAMvsB,UAAYvN,KAAKq6F,cAAcxuF,SAASiuB,EAAM8pD,gBAAgBnhF,KACxE,IAEJzC,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,iBAEJM,KAAM,WAEVM,SAAUnT,KAAKmT,UAEvB,CAIA,MAAAsK,GACI/O,MAAM+O,SACN,IAAK,MAAMqc,KAAS95B,KAAKmT,SACrBnT,KAAKmc,aAAa3T,IAAIsxB,EAAM5lB,UAEhC,IAAAwtE,4BAA2B,CACvBxkE,iBAAkBld,KAAKqc,WACvBF,aAAcnc,KAAKmc,aACnBwlE,UAAW3hF,KAAKmT,SAChByuE,gBAAiB,EACjB3vE,oBAAqBjS,KAAKgM,QAAUhM,KAAKgM,OAAOiG,sBAGpDjS,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,KAAArC,GACI7R,KAAKmT,SAAShG,MAAM0E,OACxB,CAIA,OAAAsH,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,iBC/ES,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ5Q,OCGR,MAAM+xF,WAAuB,EAAAp+E,KAQxC,WAAA1Z,CAAYwJ,EAAQsF,EAAOoxE,GACvBh0E,MAAM1C,GACNhM,KAAKu6F,UAAY,IAAI,EAAAC,UAAUxuF,GAC/BhM,KAAKu6F,UAAUnlE,KAAO9jB,EACtBtR,KAAKy6F,SAAW,IAAIP,GAAcluF,EAAQ02E,GAC1C1iF,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,+BAEJM,KAAM,QACN,kBAAmB7S,KAAKu6F,UAAU56F,IAEtCwT,SAAU,CACNnT,KAAKu6F,UACLv6F,KAAKy6F,WAGjB,eCnCS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQlyF,OCGR,MAAMmyF,WAAuB,EAAAx+E,KAOxC,WAAA1Z,CAAYwJ,EAAQ02E,GAChBh0E,MAAM1C,GACN,MAAM0E,EAAI1E,EAAO0E,EACjB1Q,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKmT,SAAWnT,KAAKunB,mBACrBvnB,KAAK26F,qBAAuB,IAAIL,GAAetuF,EAAQ0E,EAAE,gBAAiBgyE,EAAiB10E,OAC3FhO,KAAK46F,sBAAwB,IAAIN,GAAetuF,EAAQ0E,EAAE,eAAgBgyE,EAAiB90D,QAC3F5tB,KAAKqR,IAAI,eAAgB,IACzBrR,KAAKqR,IAAI,gBAAiB,IAC1BrR,KAAK6c,YAAc,IAAI,EAAAC,eACvB9c,KAAK+c,aAAe,IAAI,EAAAC,YAAY,CAChCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,CAAC,eAEhBC,UAAW,CAAC,UAGhBqlE,EAAiB10E,MAAMrN,QACvBX,KAAKmT,SAAS3K,IAAIxI,KAAK26F,sBAEvBjY,EAAiB90D,OAAOjtB,QACxBX,KAAKmT,SAAS3K,IAAIxI,KAAK46F,uBAE3B56F,KAAK26F,qBAAqBF,SAASxnF,SAAS,WAAWvB,GAAG1R,MAC1DA,KAAK46F,sBAAsBH,SAASxnF,SAAS,WAAWvB,GAAG1R,MAC3DA,KAAK26F,qBAAqBF,SACrB/yF,KAAK,eAAgB,iBACrBgK,GAAG1R,KAAM,eAAgB,iBAC9BA,KAAK46F,sBAAsBH,SACtB/yF,KAAK,eAAgB,iBACrBgK,GAAG1R,KAAM,eAAgB,iBAC9BA,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,mBAGRY,SAAUnT,KAAKmT,UAEvB,CAIA,MAAAsK,GACI/O,MAAM+O,SAENzd,KAAK6c,YAAYrU,IAAIxI,KAAK26F,qBAAqBF,UAC/Cz6F,KAAK6c,YAAYrU,IAAIxI,KAAK46F,sBAAsBH,UAEhDz6F,KAAKmc,aAAa3T,IAAIxI,KAAK26F,qBAAqBF,SAASvmF,SACzDlU,KAAKmc,aAAa3T,IAAIxI,KAAK46F,sBAAsBH,SAASvmF,SAC1DlU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,KAAArC,GACI7R,KAAK+c,aAAa4K,YACtB,CAIA,SAAAqmB,GACIhuC,KAAK+c,aAAaixB,WACtB,ECnFJ,MAAM6sD,GAAgC,CAClC,UAAW,WAAY,KAAM,KAAM,aAAc,SAAU,KAAM,WAAY,SAAU,KACvF,KAAM,UAAW,QAAS,KAAM,QAAS,KAAM,QAAS,MAE7C,MAAMC,WAAmB,EAAAvsF,OAIpC,qBAAWC,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAKyiB,SAAS,0BACdziB,KAAKyiB,SAAS,yBACdziB,KAAKyiB,SAAS,qBACdziB,KAAKyiB,SAAS,oCACdziB,KAAKyiB,SAAS,mCACdziB,KAAKyiB,SAAS,+BACdziB,KAAKyiB,SAAS,mBACdziB,KAAKyiB,SAAS,yBAClB,CAIA,IAAA5T,GACI7O,KAAK+6F,aAAe/6F,KAAKiN,OAAO8G,QAAQ3I,IAAI,qBAChD,CAsBA,eAAA4vF,CAAgBjnC,EAAY2uB,EAAmB,IAC3C,MAAMuY,EAAwB,CAC1BjtF,MAAO,GACP4f,OAAQ,IAEZ,IAAK,MAAM3iB,KAAcy3E,EAAkB,CACvC,MAAMl1D,EAAgB,GAChB0tE,EAAgB,GACtB,IAAK,MAAMC,KAAiBpnC,EAAWrF,sBAAsBzjD,EAAWiJ,SAAU,CAC9E,MAAMm5C,EAAiB,mBAAoB8tC,GAAgBA,EAAc9tC,eACzE,GAAI8tC,EAAcpzD,SAAWslB,GACzB,GAA6B,iBAAlBA,EACP7/B,EAAc/tB,KAAK4tD,QAElB,GAAI8tC,EAAcpzD,QAAS,CAC5B,MAAMqzD,EAAqBD,EAC3B3tE,EAAc/tB,KAAK07F,EAAc/tF,OAC7BguF,EAAmBhuC,oBACnB5/B,EAAc/tB,KAAK27F,EAAmBhuC,mBAE9C,OAGA8tC,EAAcz7F,KAAK07F,EAAc/tF,MAEzC,CACA,MAAM6sF,EAAkBj6F,KAAKq7F,gBAAgBpwF,EAAY,CACrD,CAAEmqB,KAAM,0BAER5H,EAAc7sB,OACds6F,EAAsBjtF,MAAMvO,KAAK,IAC1BwL,EACHgvF,kBACAzsE,gBACAua,SAAS,IAIbkzD,EAAsBrtE,OAAOnuB,KAAK,IAC3BwL,EACHgvF,kBACAiB,iBAGZ,CACA,OAAOD,CACX,CAMA,sBAAAK,CAAuBrwF,EAAY+C,GAC/B,MAAMZ,EAAQpN,KAAKiN,OAAOG,MACpBgJ,EAAgBpW,KAAK+6F,aAAajhC,8BAA8B7uD,EAAWiJ,SACjF,QAAK9G,EAAMgB,OAAOC,eAAeL,EAAOoI,IAGjCnL,EAAWuiB,cAAc3hB,SAASmC,EAAMvL,KACnD,CAMA,qBAAA84F,CAAsBtwF,EAAY+C,GAC9B,MAAMoI,EAAgBpW,KAAK+6F,aAAajhC,8BAA8B7uD,EAAWiJ,SAC3EsnF,EAAoBxtF,EAAMN,aAAa0I,GAC7C,OAAOpW,KAAKy7F,cAAcD,EAAmBvwF,EAAW6M,QAC5D,CAMA,iBAAA4jF,CAAkBzwF,EAAY+C,GAC1B,OAAI/C,EAAWuiB,cAAc3hB,SAASmC,EAAMvL,MACjC,CAACuL,GAEL,IACX,CAMA,gCAAA2tF,CAAiC1wF,EAAYoC,GACzC,MAAMD,EAAQpN,KAAKiN,OAAOG,MAC1B,IAAK,MAAMk+C,KAAoBrgD,EAAWiwF,cACtC,GAAI9tF,EAAMgB,OAAOwsB,0BAA0BvtB,EAAWi+C,GAClD,OAAO,EAGf,OAAO,CACX,CAMA,+BAAAswC,CAAgC3wF,EAAYoC,GACxC,IAAK,MAAMi+C,KAAoBrgD,EAAWiwF,cAAe,CACrD,MAAMM,EAAoBx7F,KAAK26B,8BAA8BttB,EAAWi+C,GACxE,GAAItrD,KAAKy7F,cAAcD,EAAmBvwF,EAAW6M,SACjD,OAAO,CAEf,CACA,OAAO,CACX,CAMA,2BAAA+jF,CAA4B5wF,EAAYoC,GACpC,OAAOA,CACX,CAMA,eAAAguF,CAAgBpwF,EAAYkI,GACxB,MAAM,QAAEe,EAAO,QAAE4D,GAAY7M,EAC7B,MAAO,CACHsS,KAqEWqS,EArEQ1b,EAsEnB2mF,GAA8BhvF,SAAS+jB,GAtEC,MAAV1b,GAC9BtO,WAAY,CACR2M,MAAOuF,GAEX3E,YAiEZ,IAAuByc,CA/DnB,CAMA,aAAA6rE,CAAcD,EAAmB1jF,GAC7B,OAAO,GAAS0jF,KA8CIt2F,EA7CGs2F,EA8CpB/0F,QAAQvB,EAAI4S,UAAY7W,MAAME,QAAQ+D,EAAI4S,WA7CzCA,EAAQQ,OAAM9L,GAAagvF,EAAkB1jF,QAAQjM,SAASW,KA4C1E,IAA4BtH,CA3CxB,CASA,sBAAA42F,EAAuB,MAAE9tF,EAAK,OAAE4f,IAC5B,MAAMmuE,EAAgB/7F,KAAKiN,OAAO8G,QAAQ3I,IAAI,cAC9C2wF,EAAc3rC,kBAAkBpiD,EAAM/N,IAAI+7F,KAC1CD,EAAc3rC,kBAAkBxiC,EAAO3tB,IAAI+7F,IAC/C,CASA,6BAAArhE,CAA8BttB,EAAW+I,GACrC,MACMhI,EADQpO,KAAKiN,OAAOG,MACLgB,OACrB,GAAIf,EAAU2mB,YACV,OAAO3mB,EAAUK,aAAa0I,GAElC,IAAK,MAAMsO,KAASrX,EAAU0mB,YAC1B,IAAK,MAAM7zB,KAAQwkB,EAAM6B,WACrB,GAAInY,EAAOC,eAAenO,EAAMkW,GAC5B,OAAOlW,EAAKwN,aAAa0I,GAIrC,OAAO,IACX,EAuBJ,SAAS4lF,IAA0C,QAAE9nF,EAAO,QAAE4D,IAC1D,MAAO,CACHrV,KAAMyR,EACN4D,UAER,gBCzQa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQvP,OCMR,MAAM0zF,WAAgB,EAAA1tF,OAIjC,qBAAWC,GACP,MAAO,SACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACunF,GACZ,CAIA,IAAAjsF,GACI,MAAM5B,EAASjN,KAAKiN,OACd8mD,EAAa9mD,EAAO8G,QAAQ3I,IAAI,cAChC8wF,EAAajvF,EAAO8G,QAAQ3I,IAAI,cAChCs3E,EAAmBz1E,EAAO0B,OAAOvD,IAAI,qBACrC+wF,EAA6BD,EAAWlB,gBAAgBjnC,EAAY2uB,GAE1Ez1E,EAAO6D,GAAGC,iBAAiBvI,IAAI,SAASwD,IACpC,MAAM0E,EAAI1E,EAAO0E,EACX6hB,GAAW,IAAAxgB,gBAAe/F,GAC1BowF,EAAenvF,EAAO+C,SAAS5E,IAAI,SA8CzC,OA7CAmnB,EAAS/X,KAAK,iBAAiB,KAC3B,MAAMnH,EAAY,IAAIqnF,GAAe1uF,EAAQmwF,GAE7C5pE,EAASlf,UAAUF,SAAS3K,IAAI6K,GAEhCA,EAAUJ,SAAS,WAAWvB,GAAG6gB,GAEjClf,EAAU3L,KAAK,gBAAgBgK,GAAG0qF,EAAc,SAChD/oF,EAAU3L,KAAK,iBAAiBgK,GAAG0qF,EAAc,gBAAgB,IAGrE7pE,EAAS7qB,KAAK,aAAagK,GAAG0qF,GAE9B7pE,EAASphB,WAAW46B,UAAW,EAE/BxZ,EAASphB,WAAWzJ,KAAK,SAASgK,GAAG0qF,EAAc,SAASr6F,GACpDA,EAAMpB,OAAS,EACR+P,EAAE,mBAEa,IAAjB3O,EAAMpB,OACJoB,EAAM,GAGN2O,EAAE,YAMjB6hB,EAAS7qB,KAAK,SAASgK,GAAG0qF,EAAc,SAASr6F,IAC7C,MAAM+V,EAAU,CACZ,qBAKJ,OAHI/V,EAAMpB,OAAS,GACfmX,EAAQrY,KAAK,qCAEVqY,EAAQzX,KAAK,IAAI,IAK5BkyB,EAASrf,GAAG,WAAW0N,IACnB3T,EAAOU,QAAQ,QAAS,CAAEykF,UAAWxxE,EAAIld,OAAOkgF,gBAAgBnhF,OAChEwK,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExB0gB,CAAQ,GAEvB,ECtFW,MAAM8pE,WAAqB,EAAAtvF,QAOtC,WAAAvK,CAAYyK,EAAQy1E,GAChBh0E,MAAMzB,GACNjN,KAAKqR,IAAI,QAAS,IAClBrR,KAAKqR,IAAI,gBAAiB,IAC1BrR,KAAKs8F,kBAAoB5Z,EACzB1iF,KAAKu8F,YAAcv8F,KAAKiN,OAAO8G,QAAQ3I,IAAI0vF,GAC/C,CAIA,OAAA9tF,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BtL,EAAQ,IAAIs4C,IACZggD,EAAgB,IAAIhgD,IAE1B,IAAK,MAAMpvC,KAAcjL,KAAKs8F,kBAAkB1uE,OAExC5tB,KAAKu8F,YAAYZ,iCAAiC1wF,EAAYoC,IAC9DgtF,EAAc7xF,IAAIyC,EAAWxI,MAG7BzC,KAAKu8F,YAAYX,gCAAgC3wF,EAAYoC,IAC7DtL,EAAMyG,IAAIyC,EAAWxI,MAI7B,MAAMyK,GAAa,IAAAC,OAAME,EAAUC,sBAAwBD,EAAUkK,mBAAmBb,OACxF,GAAIxJ,EAAY,CACZ,MAAMsvF,EAAiBtvF,EAAWmL,aAAa,CAAEg6D,aAAa,EAAMoqB,aAAa,IACjF,IAAK,MAAMzuF,KAASwuF,EAAgB,CAChC,GAAIxuF,EAAM2H,GAAG,eACT,MAEJ,IAAK,MAAM1K,KAAcjL,KAAKs8F,kBAAkBtuF,MAEvChO,KAAKu8F,YAAYjB,uBAAuBrwF,EAAY+C,KAGzDqsF,EAAc7xF,IAAIyC,EAAWxI,MAEzBzC,KAAKu8F,YAAYhB,sBAAsBtwF,EAAY+C,IACnDjM,EAAMyG,IAAIyC,EAAWxI,OAK7B,GAAI2K,EAAMgB,OAAOsG,SAAS1G,GACtB,KAER,CACJ,CACAhO,KAAKq6F,cAAgBp5F,MAAMyB,KAAK23F,GAAelmD,OAC/Cn0C,KAAKuN,UAAYvN,KAAKq6F,cAAc15F,OAAS,EAC7CX,KAAK+B,MAAQ/B,KAAKuN,UAAYtM,MAAMyB,KAAKX,GAAOoyC,OAAS,EAC7D,CAyBA,OAAAxmC,EAAQ,UAAEykF,EAAS,WAAEr6D,IACjB,IAAK/3B,KAAKq6F,cAAcxuF,SAASumF,GAa7B,YADA,IAAA9lF,YAAW,oDAGf,MAAMc,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BqvF,EAAc18F,KAAKiN,OAAO8G,QAAQ3I,IAAI,sBACtCuxF,EAAiB,IAChB38F,KAAKs8F,kBAAkB1uE,UACvB5tB,KAAKs8F,kBAAkBtuF,OAExB4uF,EAAoBD,EAAen2F,QAAO,EAAG/D,UAAWzC,KAAK+B,MAAM8J,SAASpJ,KAC5EwI,EAAa0xF,EAAexqE,MAAK,EAAG1vB,UAAWA,GAAQ2vF,IACvDyK,OAAgCjyF,IAAfmtB,GAA4B/3B,KAAK+B,MAAM8J,SAASZ,EAAWxI,MAAQs1B,EAC1F3qB,EAAMS,QAAO,KACT,IAAIivF,EAKAA,EAsDhB,SAAgC7xF,GAC5B,MAAO,YAAaA,CACxB,CA5DgB8xF,CAAuB9xF,GACTjL,KAAKg9F,oBAiEnC,SAAgC3vF,GAC5B,MAAMU,EAAS9M,MAAMyB,KAAK2K,EAAUC,qBACpC,OAAIS,EAAOpN,OACAoN,EAEJ,CAACV,EAAUkK,mBAAmBb,OACzC,CAvEuDumF,CAAuB5vF,GAAYpC,GAG5D,CAACjL,KAAKu8F,YAAYV,4BAA4B5wF,EAAYoC,IAE5E,IAAK,MAAMyI,KAAcgnF,EACjBD,EACAH,EAAY1iC,kBAAkB/uD,EAAWiJ,QAASjJ,EAAW6M,QAAShC,GAGtE4mF,EAAYxiC,qBAAqBjvD,EAAWiJ,QAASgpF,GAA8BN,EAAmB3xF,GAAa6K,EAE3H,GAER,CAIA,mBAAAknF,CAAoBG,EAAgBlyF,GAChC,MAAM8C,EAAS,IAAIssC,IACnB,IAAK,MAAM+iD,KAAiBD,EAAgB,CACxC,MAAMX,EAAiBY,EAAc/kF,aAAa,CAAEg6D,aAAa,EAAMoqB,aAAa,IACpF,IAAK,MAAMzuF,KAASwuF,EAAgB,CAChC,GAAIxuF,EAAM2H,GAAG,eACT,MAEJ,MAAM0nF,EAAiBr9F,KAAKu8F,YAAYb,kBAAkBzwF,EAAY+C,GACtE,GAAIqvF,EAAgB,CAChB,IAAK,MAAMC,KAAiBD,EACxBtvF,EAAOvF,IAAI80F,GAEf,KACJ,CACJ,CACJ,CACA,OAAOvvF,CACX,EAUJ,SAASmvF,GAA8BN,EAAmB3xF,GACtD,OAAO2xF,EAAkBjnE,QAAO,CAAC7d,EAASu3C,IAClCA,EAAkB5sD,OAASwI,EAAWxI,KAC/BqV,EAEJA,EAAQtR,QAAOgG,IAAc6iD,EAAkBv3C,QAAQjM,SAASW,MACxEvB,EAAW6M,QAClB,CC5Ke,MAAMylF,WAAyB,EAAAhvF,OAI1C,qBAAWC,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACunF,GAAY,qBACxB,CAIA,IAAAjsF,GACI,MAAM5B,EAASjN,KAAKiN,OACfA,EAAO8G,QAAQE,IAAI,iBAGxBjU,KAAKu8F,YAActvF,EAAO8G,QAAQ3I,IAAI0vF,IACtC96F,KAAKw9F,WAAax9F,KAAKiN,OAAO8G,QAAQ3I,IAAI,aAC1CpL,KAAK+6F,aAAe/6F,KAAKiN,OAAO8G,QAAQ3I,IAAI,sBAC5CpL,KAAK2R,SAAS3R,KAAKu8F,YAAa,0BAA0B,CAAC37E,GAAM3V,EAAY+C,MACrEhO,KAAKy9F,wBAAwBxyF,EAAY+C,KACzC4S,EAAIsL,QAAS,EACbtL,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,yBAAyB,CAAC37E,GAAM3V,EAAY+C,MACpEhO,KAAK09F,uBAAuBzyF,EAAY+C,KACxC4S,EAAIsL,QAAS,EACbtL,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,qBAAqB,CAAC37E,GAAM3V,EAAY+C,MACpE,MAAMD,EAAS/N,KAAK29F,mBAAmB1yF,EAAY+C,GAC/CD,IACA6S,EAAIsL,OAASne,EACb6S,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,mBAAmB,CAAC37E,GAAM3V,EAAYkI,MAClE,MAAMyqF,EAAqB59F,KAAK69F,iBAAiB5yF,EAAYkI,GACzDyqF,IACAh9E,EAAIsL,OAAS0xE,EACbh9E,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACnB,CAIA,uBAAA8iF,CAAwBxyF,EAAY+C,GAChC,MAAMZ,EAAQpN,KAAKiN,OAAOG,MAC1B,IAAK,CAAC,KAAM,KAAM,MAAMvB,SAASZ,EAAWiJ,SACxC,OAAO,EAEX,IAAKlU,KAAKw9F,WAAWx6B,gBAAgBh1D,GACjC,OAAO,EAEX,MAAMoI,EAAgBpW,KAAK+6F,aAAajhC,8BAA8B7uD,EAAWiJ,SACjF,GAA0B,MAAtBjJ,EAAWiJ,SAAyC,MAAtBjJ,EAAWiJ,QAAiB,CAC1D,IAAK9G,EAAMgB,OAAOC,eAAeL,EAAOoI,GACpC,OAAO,EAEX,MACM+M,EADanjB,KAAKw9F,WAAW5kC,mBAAmB5qD,EAAMN,aAAa,aACpC,KAAO,KAC5C,OAAOzC,EAAWiJ,SAAWiP,CACjC,CAEI,OAAO/V,EAAMgB,OAAOC,eAAeL,EAAOoI,EAElD,CAIA,sBAAAsnF,CAAuBzyF,EAAY+C,GAC/B,MAAMoI,EAAgBpW,KAAK+6F,aAAajhC,8BAA8B7uD,EAAWiJ,SAC3EsnF,EAAoBxtF,EAAMN,aAAa0I,GAC7C,OAAOpW,KAAKu8F,YAAYd,cAAcD,EAAmBvwF,EAAW6M,QACxE,CAIA,kBAAA6lF,CAAmB1yF,EAAY+C,GAC3B,OAAKhO,KAAKy9F,wBAAwBxyF,EAAY+C,GAGpB,MAAtB/C,EAAWiJ,QACJlU,KAAKw9F,WAAWtpB,gCAAgClmE,EAAO,CAAEmmE,YAAY,IAGrEn0E,KAAKw9F,WAAWjpB,+BAA+BvmE,GAN/C,IAQf,CAIA,gBAAA6vF,CAAiB5yF,EAAYkI,GACzB,MAAM,QAAEe,EAAO,QAAE4D,GAAY7M,EAC7B,MAAe,MAAXiJ,GAA8B,MAAXA,EACZ,CACHqJ,IAAKrJ,EACLtO,WAAY,CACR2M,MAAOuF,GAEX3E,SAAU,CACN,CACIoK,IAAK,KACLpK,cAKI,MAAXe,EACE,CACHqJ,IAAK,KACLpK,SAAU,CACN,CACIoK,IAAKrJ,EACLtO,WAAY,CACR2M,MAAOuF,GAEX3E,cAKT,IACX,ECzIW,MAAM2qF,WAA0B,EAAAvvF,OAI3C,qBAAWC,GACP,MAAO,mBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACunF,GACZ,CAIA,IAAAjsF,GACI,MAAM5B,EAASjN,KAAKiN,OACfA,EAAO8G,QAAQE,IAAI,kBAGxBjU,KAAKu8F,YAActvF,EAAO8G,QAAQ3I,IAAI0vF,IACtC96F,KAAK+9F,YAAc/9F,KAAKiN,OAAO8G,QAAQ3I,IAAI,cAC3CpL,KAAK2R,SAAS3R,KAAKu8F,YAAa,0BAA0B,CAAC37E,GAAM3V,EAAY+C,MACrEhO,KAAKg+F,cAAc/yF,EAAY+C,KAC/B4S,EAAIsL,OAASlsB,KAAKy9F,wBAAwBxyF,EAAY+C,GACtD4S,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,qBAAqB,CAAC37E,GAAM3V,EAAY+C,MAChEhO,KAAKg+F,cAAc/yF,EAAY+C,KAC/B4S,EAAIsL,OAASlsB,KAAK29F,mBAAmB1yF,EAAY+C,GACjD4S,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,0BAA0B,CAAC37E,IAAQ5S,aACzChO,KAAKiN,OAAO8G,QAAQ3I,IAAI,cAChCglD,kBAAkBpiD,EAC3BxH,QAAOyE,GAAoC,cAAtBA,EAAWiJ,UAChCjU,KAAIgL,IAAc,CAAGxI,KAAM,UAAWqV,QAAS7M,EAAW6M,YAAY,IAEnF,CAQA,aAAAkmF,CAAc/yF,EAAY+C,GACtB,MAAI,CAAC,KAAM,MAAMnC,SAASZ,EAAWiJ,SACZ,aAAdlG,EAAMvL,OAEb,CAAC,QAAS,SAASoJ,SAASZ,EAAWiJ,UAClB,SAAdlG,EAAMvL,IAGrB,CAQA,uBAAAg7F,CAAwBxyF,EAAY+C,GAChC,GAAI,CAAC,KAAM,MAAMnC,SAASZ,EAAWiJ,SAAU,CAC3C,MAAM+pF,EAAWj+F,KAAK+9F,YAAYG,gBAAgBlwF,GAE5C0nD,EADW1nD,EAAM0I,OACAA,OACjBynF,EAAczoC,EAAMhoD,aAAa,gBAAkB,EACnD0wF,EAAiB1oC,EAAMhoD,aAAa,mBAAqB,EACzD2wF,EAAgBJ,EAASK,IAAMH,GAAeF,EAASM,OAASH,EACtE,MAA0B,MAAtBnzF,EAAWiJ,QACJmqF,GAGCA,CAEhB,CACA,GAAI,CAAC,QAAS,SAASxyF,SAASZ,EAAWiJ,SAAU,CACjD,MAAMiqF,EAAcnwF,EAAMN,aAAa,gBAAkB,EACzD,MAA0B,SAAtBzC,EAAWiJ,QACJiqF,EAAc,EAGdA,EAAcn+F,KAAK+9F,YAAYloC,QAAQ7nD,EAEtD,CAEA,OAAO,CACX,CAQA,kBAAA2vF,CAAmB1yF,EAAY+C,GAC3B,OAAKhO,KAAKy9F,wBAAwBxyF,EAAY+C,GAGvC,CAACA,GAFG,IAGf,EC7GW,MAAMwwF,WAAyB,EAAAjwF,OAI1C,qBAAWC,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACunF,GAAY,qBACxB,CAIA,IAAAjsF,GACI,MAAM5B,EAASjN,KAAKiN,OACfA,EAAO8G,QAAQE,IAAI,iBAGxBjU,KAAKu8F,YAActvF,EAAO8G,QAAQ3I,IAAI0vF,IACtC96F,KAAK+6F,aAAe/6F,KAAKiN,OAAO8G,QAAQ3I,IAAI,sBAC5CpL,KAAK2R,SAAS3R,KAAKu8F,YAAa,oCAAoC,CAAC37E,GAAM3V,EAAYoC,MACzD,KAAtBpC,EAAWiJ,UACX0M,EAAIsL,OAASlsB,KAAKy+F,gBAAgBxzF,EAAYoC,GAC9CuT,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,mCAAmC,CAAC37E,GAAM3V,EAAYoC,MACxD,KAAtBpC,EAAWiJ,UACX0M,EAAIsL,OAASlsB,KAAK0+F,eAAezzF,EAAYoC,GAC7CuT,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACf3a,KAAK2R,SAAS3R,KAAKu8F,YAAa,+BAA+B,CAAC37E,GAAM3V,EAAYoC,MAC9E,GAA0B,KAAtBpC,EAAWiJ,QACX,OAEJ,MAAM4B,EAAa9V,KAAK2+F,uBAAuB1zF,EAAYoC,GACvDyI,IACA8K,EAAIsL,OAASpW,EACb8K,EAAIsZ,OACR,GACD,CAAEvf,SAAU,SACnB,CAIA,eAAA8jF,CAAgBxzF,EAAYoC,GACxB,MAAMD,EAAQpN,KAAKiN,OAAOG,MAE1B,GAAIC,EAAU2mB,YACV,OAAO3mB,EAAUI,aAAa,YAGlC,IAAK,MAAMiX,KAASrX,EAAU0mB,YAC1B,IAAK,MAAM7zB,KAAQwkB,EAAM6B,WACrB,IAAKrmB,EAAKyV,GAAG,eAAiBvI,EAAMgB,OAAOqsC,SAASv6C,KAAUA,EAAKuN,aAAa,YAC5E,OAAO,EAInB,OAAO,CACX,CAIA,cAAAixF,CAAezzF,EAAYoC,GACvB,MAAMD,EAAQpN,KAAKiN,OAAOG,MACpBgJ,EAAgBpW,KAAK+6F,aAAajhC,8BAA8B7uD,EAAWiJ,SAEjF,GAAI7G,EAAU2mB,YAAa,CACvB,GAAI3mB,EAAUI,aAAa,YAAa,CACpC,MAAM+tF,EAAoBnuF,EAAUK,aAAa0I,GACjD,GAAIpW,KAAKu8F,YAAYd,cAAcD,EAAmBvwF,EAAW6M,SAC7D,OAAO,CAEf,CACA,OAAO,CACX,CAEA,IAAK,MAAM4M,KAASrX,EAAU0mB,YAC1B,IAAK,MAAM7zB,KAAQwkB,EAAM6B,WACrB,IAAKrmB,EAAKyV,GAAG,eAAiBvI,EAAMgB,OAAOqsC,SAASv6C,KAAUA,EAAKuN,aAAa,YAAa,CACzF,MAAM+tF,EAAoBt7F,EAAKwN,aAAa0I,GAC5C,OAAOpW,KAAKu8F,YAAYd,cAAcD,EAAmBvwF,EAAW6M,QACxE,CAGR,OAAO,CACX,CAIA,sBAAA6mF,CAAuB1zF,EAAYoC,GAC/B,MAAMD,EAAQpN,KAAKiN,OAAOG,MAE1B,GAAIC,EAAU2mB,YAAa,CACvB,MAAM6zC,EAAWx6D,EAAUK,aAAa,YACxC,OAAO,IAAA45D,oBAAmBj6D,EAAUkK,mBAAoB,WAAYswD,EAAUz6D,EAClF,CAEA,MAAMosB,EAAS,GACf,IAAK,MAAM9U,KAASrX,EAAU0mB,YAAa,CAEvC,MAAM6qE,EAAgBxxF,EAAMyoB,YAAYgpE,GAAwBn6E,EAAMzM,MAAO,YAAY,EAAM7K,GAAQyxF,GAAwBn6E,EAAMnK,IAAK,YAAY,EAAOnN,IAE7J,IAAK,MAAMlN,KAAQ0+F,EAAcr4E,YACxBrmB,EAAKyV,GAAG,eAAiBvI,EAAMgB,OAAOqsC,SAASv6C,KAAUA,EAAKuN,aAAa,aAC5E+rB,EAAO/5B,KAAKO,KAAKiN,OAAOG,MAAMoX,cAActkB,GAGxD,CAGA,OAoBR,SAAyBs5B,GACrB,IAAK,IAAIl5B,EAAI,EAAGA,EAAIk5B,EAAO74B,OAAQL,IAAK,CACpC,MAAMw+F,EAActlE,EAAOl5B,EAAI,GAAGqkB,UAAU6U,EAAOl5B,IAC/Cw+F,GAEAtlE,EAAOpxB,SAAS9H,EAAG,EAAGw+F,EAE9B,CACA,OAAOtlE,CACX,CA7BeulE,CAAgBvlE,EAC3B,EAMJ,SAASqlE,GAAwBp/E,EAAUrJ,EAAe4oF,EAAU5xF,GAChE,MAAM6xF,EAAgBx/E,EAASukB,WAAag7D,EAAWv/E,EAASoN,UAAYpN,EAASklB,YACrF,IAAKs6D,IAAkBA,EAAcxxF,aAAa2I,GAC9C,OAAOqJ,EAEX,MAAMo+B,EAAiBohD,EAAcvxF,aAAa0I,GAClD,OAAO,IAAA8oF,yBAAwBz/E,EAAUrJ,EAAeynC,EAAgBmhD,EAAU5xF,EACtF,CC9He,MAAM+xF,WAAqB,EAAA5wF,OAItC,qBAAWC,GACP,MAAO,cACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,qBAAsBunF,GAAYyC,GAAkBO,GAAmBU,GACnF,CAIA,IAAA3vF,GACI,MAAM5B,EAASjN,KAAKiN,OACd8mD,EAAa9mD,EAAO8G,QAAQ3I,IAAI,cAChC8wF,EAAajvF,EAAO8G,QAAQ3I,IAAI,cAChCs3E,EAAmBz1E,EAAO0B,OAAOvD,IAAI,qBACrC+wF,EAA6BD,EAAWlB,gBAAgBjnC,EAAY2uB,GAC1Ez1E,EAAO+C,SAASxH,IAAI,QAAS,IAAI6zF,GAAapvF,EAAQkvF,IACtDD,EAAWJ,uBAAuBK,EACtC,EClCW,MAAMiD,WAAc,EAAA7wF,OAI/B,qBAAWC,GACP,MAAO,OACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC4rF,GAAclD,GAC1B,ECrBG,SAASoD,GAAuBjwF,EAAYxK,GAC/C,MAAM,eAAE06F,EAAc,UAAElN,EAAS,YAAEp9E,EAAW,aAAEmzD,EAAY,eAAEo3B,GAAiB,EAAK,aAAEC,EAAe,MAAM,IAAS56F,EACpHwK,EAAWK,IAAI,UAAUJ,qBAAqB,CAC1CC,KAAM,CACF7M,KAAMuS,EACNrM,OAAQ,CACJ,CAACypF,GAAY,YAGrBhlF,MAAO,CACHpH,IAAKs5F,EACLv9F,MAAQiT,IACJ,IAAKwqF,EAAaxqF,GACd,OAEJ,MAAMyqF,EAAazqF,EAAY0qF,mBAAmBtN,GAC5CrwF,EAAQw9F,EAAiBI,GAAoBF,GAAcA,EACjE,OAAIt3B,IAAiBpmE,EACVA,OADX,CAEA,IAIhB,CASO,SAAS69F,GAAmBxwF,EAAY+T,EAAiBy5D,EAAiBijB,GAC7EzwF,EAAWK,IAAI,UAAUjH,KAAI2Y,GAAcA,EAAWjO,GAAG,WAAaiQ,GAAiB,CAACvC,EAAKtd,EAAMud,KAG/F,IAAKvd,EAAKgjB,WACN,OAIJ,MAAMw5E,EAAkB,CACpB,mBACA,mBACA,mBACA,sBACA,sBACA,sBACA,qBACA,qBACA,qBACA,oBACA,oBACA,qBACFt5F,QAAO4rF,GAAa9uF,EAAK2iB,SAASgpE,SAASmD,KAC7C,IAAK0N,EAAgBn/F,OACjB,OAEJ,MAAMkkF,EAAiB,CACnBl8E,OAAQm3F,GAGZ,IAAKj/E,EAAcC,WAAWne,KAAKW,EAAK2iB,SAAU4+D,GAC9C,OAEJ,MAAMrvE,EAAe,IAAIlS,EAAKgjB,WAAWC,SAAS,CAAEwyC,SAAS,KAASzV,MACtEziC,EAAcC,WAAWC,QAAQzd,EAAK2iB,SAAU4+D,GAChD,MAAMkb,EAAmB,CACrBr6F,MAAOpC,EAAK2iB,SAASy5E,mBAAmB,gBACxCl/C,MAAOl9C,EAAK2iB,SAASy5E,mBAAmB,gBACxCj8E,MAAOngB,EAAK2iB,SAASy5E,mBAAmB,iBAEtCM,EAAgB,CAClBt6F,MAAOi6F,GAAoBI,EAAiBr6F,OAC5C86C,MAAOm/C,GAAoBI,EAAiBv/C,OAC5C/8B,MAAOk8E,GAAoBI,EAAiBt8E,QAE5Cu8E,EAAct6F,QAAUm6F,EAAcn6F,OACtCmb,EAAc/S,OAAO7H,aAAa22E,EAAgBl3E,MAAOs6F,EAAct6F,MAAO8P,GAE9EwqF,EAAcx/C,QAAUq/C,EAAcr/C,OACtC3/B,EAAc/S,OAAO7H,aAAa22E,EAAgBp8B,MAAOw/C,EAAcx/C,MAAOhrC,GAE9EwqF,EAAcv8E,QAAUo8E,EAAcp8E,OACtC5C,EAAc/S,OAAO7H,aAAa22E,EAAgBn5D,MAAOu8E,EAAcv8E,MAAOjO,EAClF,KAER,CAIO,SAASyqF,GAAyB7wF,EAAYxK,GACjD,MAAM,aAAE4Q,EAAY,eAAE8pF,EAAc,UAAElN,GAAcxtF,EACpDwK,EAAWK,IAAI,YAAYJ,qBAAqB,CAC5CjC,MAAO,CACH3K,KAAM+S,EACNxP,IAAKs5F,GAEThwF,KAAMutC,IAAuB,CACzB72C,IAAK,QACLjE,MAAO,CACH,CAACqwF,GAAYv1C,MAI7B,CAIO,SAASqjD,GAAuB9wF,EAAYxK,GAC/C,MAAM,eAAE06F,EAAc,UAAElN,GAAcxtF,EACtCwK,EAAWK,IAAI,YAAYjH,KAAI2Y,GAAcA,EAAWjO,GAAG,aAAaosF,WAAwB,CAAC1+E,EAAKtd,EAAMud,KACxG,MAAM,KAAE3gB,EAAI,kBAAEghB,GAAsB5d,GAC9B,OAAE0d,EAAM,OAAElT,GAAW+S,EAC3B,IAAKA,EAAcC,WAAWC,QAAQzd,EAAKpD,KAAM0gB,EAAIne,MACjD,OAEJ,MAAMizD,EAAQ,IAAI10C,EAAOC,cAAc/gB,GAAM2mB,eAAesL,MAAK2H,GAASA,EAAMnkB,GAAG,UAAW,WAC1FuL,EACApT,EAAO6V,SAASyuE,EAAWlxE,EAAmBw0C,GAG9C5nD,EAAOsX,YAAYgtE,EAAW18B,EAClC,KAER,CAKA,SAASiqC,GAAoBj6F,GACzB,IAAKA,EACD,OAEJ,MAAMy6F,EAAQ,CAAC,MAAO,QAAS,SAAU,QAEzC,IADwBA,EAAM7nF,OAAMgW,GAAQ5oB,EAAM4oB,KAE9C,OAAO5oB,EAEX,MAAM06F,EAAe16F,EAAMs5B,IAE3B,OADsBmhE,EAAM7nF,OAAMgW,GAAQ5oB,EAAM4oB,KAAU8xE,IAInDA,EAFI16F,CAGf,CCjJO,SAAS26F,GAAuBr6F,EAAKjE,EAAO7B,EAAM4N,EAAQq6D,EAAe,GACxEpmE,eAAyComE,GAAuDpmE,EAAQomE,EACxGr6D,EAAO7H,aAAaD,EAAKjE,EAAO7B,GAGhC4N,EAAO1G,gBAAgBpB,EAAK9F,EAEpC,CASO,SAASogG,GAAqBxyF,EAAQyyF,EAAgB36F,EAAa,CAAC,GACvE,MAAM46F,EAAY1yF,EAAOnI,cAAc,YAAaC,GAGpD,OAFAkI,EAAO2yF,cAAc,YAAaD,GAClC1yF,EAAO5H,OAAOs6F,EAAWD,GAClBC,CACX,CAIO,SAASE,GAAoBrrC,EAAYmrC,GAC5C,MAAM9qC,EAAQ8qC,EAAU9pF,OAAOA,OACzB0nF,EAAiBrpF,SAAS2gD,EAAMhoD,aAAa,mBAAqB,MAClE,OAAE6wF,GAAWlpC,EAAW6oC,gBAAgBsC,GAC9C,QAASpC,GAAkBG,EAASH,CACxC,CAMO,SAASuC,GAAevyF,EAAQgB,EAAYxK,GAC/C,MAAM,eAAE06F,GAAmB16F,EAC3BwJ,EAAOY,OAAO,YAAa,CACvBC,gBAAiB,CAACqwF,KAEtBD,GAAuBjwF,EAAY,CAAE4F,YAAa,eAAgBpQ,IAClEq7F,GAAyB7wF,EAAY,CAAEoG,aAAc,eAAgB5Q,GACzE,CAIO,SAASg8F,GAA0BvzF,GACtC,MAAMsK,EAAkBtK,EAAUmK,qBAElC,OAAIG,GAAmBA,EAAgBhC,GAAG,UAAW,SAC1CgC,EAEJtK,EAAUkK,mBAAmBlD,aAAa,QACrD,CCmDO,SAASwsF,GAA2BjxE,GACvC,OAAQzO,IACJA,EAAWjO,GAAG,WAAW0c,KAAe,CAAChP,EAAKtd,GAAQwK,aAElD,IAAKxK,EAAKgjB,WACN,OAEJ,MAAMk6E,EAAYl9F,EAAKgjB,WAAWrO,MAAM4U,UAClCzG,EAActY,EAAO8mB,iBAAiB4rE,EAAW,GAEvD,GAAIl9F,EAAK2iB,SAAStR,QAEd,YADA7G,EAAO2yF,cAAc,YAAar6E,GAGtC,MAAMpf,EAAa/F,MAAMyB,KAAK89F,EAAU35E,eAExC,GAAI7f,EAAWsR,OAAM+C,GAAQA,EAAK1F,GAAG,UAAW,aAAa,CACzD,MAAM6nD,EAAY1vD,EAAOnI,cAAc,aACvCmI,EAAO5H,OAAOs3D,EAAW1vD,EAAO8mB,iBAAiB4rE,EAAW,IAC5D,IAAK,MAAMnlF,KAAQrU,EACf8G,EAAO8qB,KAAK9qB,EAAO0W,cAAcnJ,GAAOvN,EAAO8mB,iBAAiB4oC,EAAW,OAEnF,IACD,CAAE7iD,SAAU,OAAQ,CAE/B,CAoFA,SAASmmF,GAAyBC,GAC9B,IAAI3C,EAAiB,EACjBn5F,EAAQ,EAEZ,MAAMkO,EAAWlS,MAAMyB,KAAKq+F,EAAGl6E,eAC1BrgB,QAAOszB,GAAwB,OAAfA,EAAMr3B,MAAgC,OAAfq3B,EAAMr3B,OAElD,KAAOwC,EAAQkO,EAASxS,QAAmC,OAAzBwS,EAASlO,GAAOxC,MAAe,CAC7D,MAAMu+F,EAAK7tF,EAASlO,GAGpBm5F,GADgBrpF,SAASisF,EAAGtzF,aAAa,YAAc,KAEvDzI,GACJ,CACA,OAAOm5F,CACX,CC1Oe,MAAM,GA6EjB,WAAA57F,CAAYkzD,EAAO9wD,EAAU,CAAC,GAI1B5E,KAAKihG,mBAAoB,EACzBjhG,KAAKkhG,OAASxrC,EACd11D,KAAKmhG,eAA4Bv2F,IAAhBhG,EAAQ05F,IAAoB15F,EAAQ05F,IAAM15F,EAAQw8F,UAAY,EAC/EphG,KAAKqhG,aAA0Bz2F,IAAhBhG,EAAQ05F,IAAoB15F,EAAQ05F,IAAM15F,EAAQ08F,OACjEthG,KAAKuhG,kBAAkC32F,IAAnBhG,EAAQ25F,OAAuB35F,EAAQ25F,OAAS35F,EAAQ48F,aAAe,EAC3FxhG,KAAKyhG,gBAAgC72F,IAAnBhG,EAAQ25F,OAAuB35F,EAAQ25F,OAAS35F,EAAQ88F,UAC1E1hG,KAAK2hG,mBAAqB/8F,EAAQg9F,gBAClC5hG,KAAK6hG,UAAY,IAAIxnD,IACrBr6C,KAAK8hG,KAAO,EACZ9hG,KAAK+hG,UAAY,EACjB/hG,KAAKgiG,QAAU,EACfhiG,KAAKiiG,WAAa,EAClBjiG,KAAKkiG,cAAgB,IAAIhyF,IACzBlQ,KAAKmiG,mBAAqB,CAC9B,CAIA,CAAC9gG,OAAOC,YACJ,OAAOtB,IACX,CAMA,IAAA6B,GACQ7B,KAAKoiG,sBACLpiG,KAAKqiG,wCAET,MAAM/D,EAAMt+F,KAAKkhG,OAAOv3E,SAAS3pB,KAAK+hG,WAEtC,IAAKzD,GAAOt+F,KAAKsiG,gBACb,MAAO,CAAExgG,MAAM,EAAMC,WAAO6I,GAGhC,IAAK0zF,EAAI3oF,GAAG,UAAW,YAEnB,OADA3V,KAAK+hG,YACE/hG,KAAK6B,OAEhB,GAAI7B,KAAKuiG,mBACL,OAAOviG,KAAKwiG,oBAEhB,IAAIC,EAAW,KACf,MAAMC,EAAW1iG,KAAK2iG,cACtB,GAAID,EACI1iG,KAAK2hG,mBAAqB3hG,KAAK4iG,oBAC/BH,EAAWziG,KAAK6iG,gBAAgBH,EAASI,KAAMJ,EAASpE,IAAKoE,EAASnE,aAGzE,CACD,MAAMuE,EAAOxE,EAAI30E,SAAS3pB,KAAKiiG,YAC/B,IAAKa,EAED,OAAO9iG,KAAKwiG,oBAEhB,MAAMO,EAAUhuF,SAAS+tF,EAAKp1F,aAAa,YAAc,KACnDs1F,EAAUjuF,SAAS+tF,EAAKp1F,aAAa,YAAc,MAErDq1F,EAAU,GAAKC,EAAU,IACzBhjG,KAAKijG,aAAaH,EAAME,EAASD,GAEhC/iG,KAAK4iG,oBACNH,EAAWziG,KAAK6iG,gBAAgBC,IAEpC9iG,KAAKmiG,kBAAoBniG,KAAKgiG,QAAUe,CAC5C,CAOA,OALA/iG,KAAKgiG,UACDhiG,KAAKgiG,SAAWhiG,KAAKmiG,mBACrBniG,KAAKiiG,aAGFQ,GAAYziG,KAAK6B,MAC5B,CAOA,OAAAqhG,CAAQ5E,GACJt+F,KAAK6hG,UAAUr5F,IAAI81F,EACvB,CAIA,iBAAAkE,GAMI,OALAxiG,KAAK8hG,OACL9hG,KAAK+hG,YACL/hG,KAAKgiG,QAAU,EACfhiG,KAAKiiG,WAAa,EAClBjiG,KAAKmiG,mBAAqB,EACnBniG,KAAK6B,MAChB,CAIA,aAAAygG,GAEI,YAAwB13F,IAAjB5K,KAAKqhG,SAAyBrhG,KAAK8hG,KAAO9hG,KAAKqhG,OAC1D,CAIA,gBAAAkB,GAEI,YAA2B33F,IAApB5K,KAAKyhG,YAA4BzhG,KAAKgiG,QAAUhiG,KAAKyhG,UAChE,CAQA,eAAAoB,CAAgBC,EAAMK,EAAYnjG,KAAK8hG,KAAMsB,EAAepjG,KAAKgiG,SAC7D,MAAO,CACHlgG,MAAM,EACNC,MAAO,IAAIshG,GAAUrjG,KAAM8iG,EAAMK,EAAWC,GAEpD,CAIA,eAAAR,GACI,MAAMU,EAAuBtjG,KAAK6hG,UAAU5tF,IAAIjU,KAAK8hG,MAC/CyB,EAAsBvjG,KAAK8hG,KAAO9hG,KAAKmhG,UACvCqC,EAA4BxjG,KAAKgiG,QAAUhiG,KAAKuhG,aAChDkC,OAA6C74F,IAApB5K,KAAKyhG,YAA4BzhG,KAAKgiG,QAAUhiG,KAAKyhG,WACpF,OAAO6B,GAAwBC,GAAuBC,GAA6BC,CACvF,CAIA,WAAAd,GACI,MAAMe,EAAS1jG,KAAKkiG,cAAc92F,IAAIpL,KAAK8hG,MAE3C,OAAK4B,GAIEA,EAAOt4F,IAAIpL,KAAKgiG,UAHZ,IAIf,CAQA,YAAAiB,CAAaH,EAAME,EAASD,GACxB,MAAMz/F,EAAO,CACTw/F,OACAxE,IAAKt+F,KAAK8hG,KACVvD,OAAQv+F,KAAKgiG,SAEjB,IAAK,IAAI2B,EAAc3jG,KAAK8hG,KAAM6B,EAAc3jG,KAAK8hG,KAAOkB,EAASW,IACjE,IAAK,IAAIC,EAAiB5jG,KAAKgiG,QAAS4B,EAAiB5jG,KAAKgiG,QAAUe,EAASa,IACzED,GAAe3jG,KAAK8hG,MAAQ8B,GAAkB5jG,KAAKgiG,SACnDhiG,KAAK6jG,iBAAiBF,EAAaC,EAAgBtgG,EAInE,CAQA,gBAAAugG,CAAiBvF,EAAKC,EAAQj7F,GACrBtD,KAAKkiG,cAAcjuF,IAAIqqF,IACxBt+F,KAAKkiG,cAAc7wF,IAAIitF,EAAK,IAAIpuF,KAEnBlQ,KAAKkiG,cAAc92F,IAAIkzF,GAC/BjtF,IAAIktF,EAAQj7F,EACzB,CAIA,kBAAA8+F,GACI,QAASpiG,KAAKmhG,WACVnhG,KAAKmhG,UAAY,IAChBnhG,KAAKihG,iBACd,CA2BA,qCAAAoB,GACI,MAAMyB,EAAiB9jG,KAAK+jG,cAAc,GAC1C,IAAK,IAAIzjG,EAAIN,KAAKmhG,WAAYnhG,KAAKihG,kBAAmB3gG,IAC9CwjG,IAAmB9jG,KAAK+jG,cAAczjG,KACtCN,KAAK8hG,KAAOxhG,EACZN,KAAK+hG,UAAYzhG,EACjBN,KAAKihG,mBAAoB,EAGrC,CAIA,aAAA8C,CAAcC,GAEV,MAAO,IADKhkG,KAAKkhG,OAAOv3E,SAASq6E,GAClBn9E,eAAe8O,QAAO,CAACsuE,EAAM3F,IACjC2F,EAAOlvF,SAASupF,EAAI5wF,aAAa,YAAc,MACvD,EACP,EAKJ,MAAM21F,GASF,WAAA7gG,CAAY0hG,EAAapB,EAAMK,EAAWC,GACtCpjG,KAAK8iG,KAAOA,EACZ9iG,KAAKs+F,IAAM4F,EAAYpC,KACvB9hG,KAAKu+F,OAAS2F,EAAYlC,QAC1BhiG,KAAKmkG,cAAgBhB,EACrBnjG,KAAKokG,iBAAmBhB,EACxBpjG,KAAKiiG,WAAaiC,EAAYjC,WAC9BjiG,KAAK+hG,UAAYmC,EAAYnC,UAC7B/hG,KAAKkhG,OAASgD,EAAYhD,MAC9B,CAQA,YAAImD,GACA,OAAOrkG,KAAKs+F,MAAQt+F,KAAKmkG,eAAiBnkG,KAAKu+F,SAAWv+F,KAAKokG,gBACnE,CAIA,aAAIE,GACA,OAAOvvF,SAAS/U,KAAK8iG,KAAKp1F,aAAa,YAAc,IACzD,CAIA,cAAI62F,GACA,OAAOxvF,SAAS/U,KAAK8iG,KAAKp1F,aAAa,YAAc,IACzD,CAIA,YAAIs2F,GACA,OAAOhkG,KAAK+hG,SAChB,CAIA,iBAAAyC,GAEI,OADcxkG,KAAKkhG,OAAOxlF,KAAK1X,SAASoJ,MAC3BwnB,iBAAiB50B,KAAKkhG,OAAOv3E,SAAS3pB,KAAKs+F,KAAMt+F,KAAKiiG,WACvE,EC9WG,SAASwC,GAAcpvC,EAAYzwD,GACtC,MAAO,CAAC8wD,GAAS5nD,aACb,MAAMqwF,EAAczoC,EAAMhoD,aAAa,gBAAkB,EACnDg3F,EAAe52F,EAAO2F,uBAAuB,QAAS,KAAM,IAC5DkxF,EAAgB72F,EAAO2F,uBAAuB,SAAU,CAAElB,MAAO,SAAWmyF,GAE9EvG,EAAc,GACdrwF,EAAO5H,OAAO4H,EAAO8mB,iBAAiB8vE,EAAc,OAAQ52F,EAAO2F,uBAAuB,QAAS,KAAM3F,EAAO6F,YAAWO,GAAWA,EAAQyB,GAAG,UAAW,aAAezB,EAAQjP,MAAQk5F,MAG3LA,EAAc9oC,EAAWQ,QAAQH,IACjC5nD,EAAO5H,OAAO4H,EAAO8mB,iBAAiB8vE,EAAc,OAAQ52F,EAAO2F,uBAAuB,QAAS,KAAM3F,EAAO6F,YAAWO,GAAWA,EAAQyB,GAAG,UAAW,aAAezB,EAAQjP,OAASk5F,MAGhM,IAAK,MAAM,eAAEyG,EAAc,OAAEp+F,KAAY5B,EAAQigG,gBAC7C/2F,EAAO5H,OAAO4H,EAAO8mB,iBAAiB8vE,EAAcE,GAAiB92F,EAAO6F,WAAWnN,IAS3F,OANAsH,EAAO5H,OAAO4H,EAAO8mB,iBAAiB8vE,EAAc,SAAU52F,EAAO6F,YAAWO,IACxEA,EAAQyB,GAAG,UAAW,cAGlB/Q,EAAQigG,gBAAgBj4F,MAAK,EAAGpG,YAAaA,EAAO0N,QAEzDtP,EAAQgoD,SAmGvB,SAAuB53C,EAAalH,GAEhC,OADAA,EAAO4K,kBAAkB,SAAS,EAAM1D,IACjC,IAAA2D,UAAS3D,EAAalH,EAAQ,CAAE2zD,oBAAoB,GAC/D,CAtGkCqjC,CAAcH,EAAe72F,GAAU62F,CAAa,CAEtF,CAsBO,SAASI,GAAangG,EAAU,CAAC,GACpC,MAAO,CAAC47F,GAAa1yF,aACjB,MAAMk3F,EAAWxE,EAAU9pF,OACrBg/C,EAAQsvC,EAAStuF,OACjBstF,EAAWtuC,EAAMi5B,cAAcqW,GAC/Bd,EAAc,IAAI,GAAYxuC,EAAO,CAAE4oC,IAAK0F,IAC5C7F,EAAczoC,EAAMhoD,aAAa,gBAAkB,EACnD0wF,EAAiB1oC,EAAMhoD,aAAa,mBAAqB,EAC/D,IAAIhJ,EAAS,KAEb,IAAK,MAAMugG,KAAaf,EACpB,GAAIe,EAAUnC,MAAQtC,EAAW,CAC7B,MACM0E,EADYD,EAAU3G,IAAMH,GAAe8G,EAAU1G,OAASH,EAChC,KAAO,KAC3C15F,EAASE,EAAQgoD,UACb,IAAA9gC,kBAAiBhe,EAAO2d,sBAAsBy5E,GAAkBp3F,GAChEA,EAAO2F,uBAAuByxF,GAClC,KACJ,CAEJ,OAAOxgG,CAAM,CAErB,CAaO,SAASygG,GAA4BvgG,EAAU,CAAC,GACnD,MAAO,CAAC4Q,GAAgB1H,aACpB,IAAK0H,EAAakB,OAAOf,GAAG,UAAW,aACnC,OAAO,KAEX,IAAKyvF,GAAmC5vF,GACpC,OAAO,KAEX,GAAI5Q,EAAQgoD,SACR,OAAO9+C,EAAO2F,uBAAuB,OAAQ,CAAElB,MAAO,6BAErD,CAED,MAAMyC,EAAclH,EAAO2F,uBAAuB,KAElD,OADA3F,EAAO4K,kBAAkB,qCAAqC,EAAM1D,GAC7DA,CACX,EAER,CASO,SAASowF,GAAmC5vF,GAG/C,OADkD,GADhCA,EAAakB,OACK+S,cACSjU,EAkBhB+8C,mBAAmB1wD,OAC3BC,IAlBzB,CC3Ge,MAAMujG,WAA2B,EAAAt4F,QAI5C,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3Be,EAAShB,EAAMgB,OACrBpO,KAAKuN,UAqCb,SAA2BF,EAAWe,GAClC,MAAMisB,EAAiBhtB,EAAUkK,mBAAmBb,OAC9C4uF,EAAcjrE,IAAmBA,EAAe3e,KAAO2e,EAAiBA,EAAe3jB,OAC7F,OAAOtI,EAAO+J,WAAWmtF,EAAa,QAC1C,CAzCyB,CAAkBj4F,EAAWe,EAClD,CAcA,OAAAT,CAAQ/I,EAAU,CAAC,GACf,MAAMqI,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfioD,EAAapoD,EAAO8G,QAAQ3I,IAAI,cAChCm6F,EAAct4F,EAAO0B,OAAOvD,IAAI,8BAChCo6F,EAAiBv4F,EAAO0B,OAAOvD,IAAI,sCACbR,IAAxBhG,EAAQu5F,aAA6BoH,IACrC3gG,EAAQu5F,YAAcoH,QAEK36F,IAA3BhG,EAAQw5F,gBAAgCoH,IACxC5gG,EAAQw5F,eAAiBoH,GAE7Bp4F,EAAMS,QAAOC,IACT,MAAM4nD,EAAQL,EAAWowC,YAAY33F,EAAQlJ,GAC7CwI,EAAMmJ,aAAam/C,EAAO,KAAM,KAAM,CAAEj/C,oBAAqB,SAC7D3I,EAAO0I,aAAa1I,EAAO8mB,iBAAiB8gC,EAAMgwC,cAAc,CAAC,EAAG,EAAG,IAAK,GAAG,GAEvF,ECjCW,MAAMC,WAAyB,EAAA54F,QAQ1C,WAAAvK,CAAYyK,EAAQrI,EAAU,CAAC,GAC3B8J,MAAMzB,GACNjN,KAAK6tF,MAAQjpF,EAAQipF,OAAS,OAClC,CAIA,OAAA7gF,GACI,MAAMK,EAAYrN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UAEvCu4F,IADa5lG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACJy6F,+BAA+Bx4F,GAAW1M,OACjFX,KAAKuN,UAAYq4F,CACrB,CAQA,OAAAj4F,GACI,MAAMV,EAASjN,KAAKiN,OACdI,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UAClCgoD,EAAapoD,EAAO8G,QAAQ3I,IAAI,cAChC06F,EAA6B,UAAf9lG,KAAK6tF,MACnBkY,EAAqB1wC,EAAWwwC,+BAA+Bx4F,GAC/D24F,EAAa3wC,EAAW4wC,cAAcF,GACtCzH,EAAMwH,EAAcE,EAAW74F,MAAQ64F,EAAWvkB,KAClD/rB,EAAQqwC,EAAmB,GAAG1xF,aAAa,SACjDghD,EAAW6wC,WAAWxwC,EAAO,CAAEywC,GAAIL,EAAcxH,EAAMA,EAAM,EAAG8H,wBAAyBN,GAC7F,ECtCW,MAAMO,WAA4B,EAAAt5F,QAQ7C,WAAAvK,CAAYyK,EAAQrI,EAAU,CAAC,GAC3B8J,MAAMzB,GACNjN,KAAK6tF,MAAQjpF,EAAQipF,OAAS,OAClC,CAIA,OAAA7gF,GACI,MAAMK,EAAYrN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UAEvCu4F,IADa5lG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACJy6F,+BAA+Bx4F,GAAW1M,OACjFX,KAAKuN,UAAYq4F,CACrB,CASA,OAAAj4F,GACI,MAAMV,EAASjN,KAAKiN,OACdI,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UAClCgoD,EAAapoD,EAAO8G,QAAQ3I,IAAI,cAChClE,EAA8B,SAAflH,KAAK6tF,MACpBkY,EAAqB1wC,EAAWwwC,+BAA+Bx4F,GAC/Di5F,EAAgBjxC,EAAWkxC,iBAAiBR,GAC5CxH,EAASr3F,EAAeo/F,EAAcn5F,MAAQm5F,EAAc7kB,KAC5D/rB,EAAQqwC,EAAmB,GAAG1xF,aAAa,SACjDghD,EAAWmxC,cAAc9wC,EAAO,CAAEhV,QAAS,EAAGylD,GAAIj/F,EAAeq3F,EAASA,EAAS,GACvF,EC7CW,MAAMkI,WAAyB,EAAA15F,QAO1C,WAAAvK,CAAYyK,EAAQrI,EAAU,CAAC,GAC3B8J,MAAMzB,GACNjN,KAAKo6B,UAAYx1B,EAAQw1B,WAAa,cAC1C,CAIA,OAAAptB,GACI,MACM05F,EADa1mG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACVy6F,+BAA+B7lG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WAC3FrN,KAAKuN,UAAqC,IAAzBm5F,EAAc/lG,MACnC,CAIA,OAAAgN,GACI,MAAM0nD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCo1F,EAAYnrC,EAAWwwC,+BAA+B7lG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WAAW,GAC1D,iBAAnBrN,KAAKo6B,UAEtBi7B,EAAWsxC,sBAAsBnG,EAAW,GAG5CnrC,EAAWuxC,oBAAoBpG,EAAW,EAElD,ECjBG,SAASqG,GAAsBC,EAAaC,EAAgBj5F,GAC/D,MAAM,SAAEszF,EAAQ,YAAEI,EAAW,OAAEF,EAAM,UAAEI,GAAcqF,EAE/CC,EAAel5F,EAAOnI,cAAc,SACpCshG,EAAa3F,EAASF,EAAW,EACvC,IAAK,IAAI9gG,EAAI,EAAGA,EAAI2mG,EAAY3mG,IAC5BwN,EAAO2yF,cAAc,WAAYuG,EAAc,OAEnD,MAAME,EAAW,IAAI,IAAI,GAAYJ,EAAa,CAAE1F,WAAUE,SAAQE,cAAaE,YAAWE,iBAAiB,KAE/G,IAAK,MAAQtD,IAAK6I,EAAW5I,OAAQ6I,EAActE,KAAMtC,EAAS,SAAE6D,EAAQ,cAAEF,EAAa,iBAAEC,KAAsB8C,EAAU,CAEzH,MAAMG,EAAoBF,EAAY/F,EAChC9C,EAAM0I,EAAar9E,SAAS09E,GAElC,GAAKhD,EAQA,CACD,MAAMiD,EAAgBx5F,EAAOy5F,aAAa/G,GAC1C1yF,EAAOgd,OAAOw8E,EAAehJ,GAG7BkJ,GAAsBF,EAAeH,EAAWC,EAAc9F,EAAQI,EAAW5zF,EACrF,MAXQq2F,EAAgB/C,GAAYgD,EAAmB5C,IAC/ClB,GAAqBxyF,EAAQA,EAAO8mB,iBAAiB0pE,EAAK,OAWtE,CAGA,OA+JJ,SAAmC0I,EAAcF,EAAa1F,EAAUI,EAAa1zF,GACjF,MAAMqwF,EAAcppF,SAAS+xF,EAAYp5F,aAAa,gBAAkB,KACpEywF,EAAc,GAEdkC,GAAuB,cADGlC,EAAciD,EACiB4F,EAAcl5F,EAAQ,GAEnF,MAAMswF,EAAiBrpF,SAAS+xF,EAAYp5F,aAAa,mBAAqB,KAC1E0wF,EAAiB,GAEjBiC,GAAuB,iBADMjC,EAAiBoD,EACiBwF,EAAcl5F,EAAQ,EAE7F,CA3KI25F,CAA0BT,EAAcF,EAAa1F,EAAUI,EAAa1zF,GACrEk5F,CACX,CAwBO,SAASU,GAA8BhyC,EAAOiyC,EAAYvG,EAAW,GACxE,MAAMwG,EAAQ,GACR1D,EAAc,IAAI,GAAYxuC,EAAO,CAAE0rC,WAAUE,OAAQqG,EAAa,IAC5E,IAAK,MAAME,KAAY3D,EAAa,CAChC,MAAM,IAAE5F,EAAG,WAAEiG,GAAesD,EAExBvJ,EAAMqJ,GAAcA,GADLrJ,EAAMiG,EAAa,GAElCqD,EAAMnoG,KAAKooG,EAEnB,CACA,OAAOD,CACX,CAMO,SAASE,GAAkBtH,EAAWuH,EAAUj6F,GACnD,MAAMk3F,EAAWxE,EAAU9pF,OACrBg/C,EAAQsvC,EAAStuF,OACjBstF,EAAWgB,EAAS//F,MAEpB+iG,EAAaD,EAAW/D,EACxBiE,EAAoB,CAAC,EACrBC,EAHUnzF,SAASyrF,EAAU9yF,aAAa,YAGfs6F,EAC7BE,EAAiB,IACjBD,EAAkBjF,QAAUkF,GAEhC,MAAMnF,EAAUhuF,SAASyrF,EAAU9yF,aAAa,YAAc,KAC1Dq1F,EAAU,IACVkF,EAAkBlF,QAAUA,GAEhC,MACMzB,EADW0C,EACSgE,EACpBd,EAAW,IAAI,IAAI,GAAYxxC,EAAO,CAAE0rC,SAF7B4C,EAEuC1C,SAAQM,iBAAiB,KACjF,IACIuG,EADAC,EAAU,KAEd,IAAK,MAAMnD,KAAaiC,EAAU,CAC9B,MAAM,IAAE5I,EAAG,OAAEC,EAAM,KAAEuE,GAASmC,EAC1BnC,IAAStC,QAA6B51F,IAAhBu9F,IACtBA,EAAc5J,QAEE3zF,IAAhBu9F,GAA6BA,IAAgB5J,GAAUD,IAAQgD,IAC/D8G,EAAU9H,GAAqBxyF,EAAQm3F,EAAUT,oBAAqByD,GAE9E,CAGA,OADA5H,GAAuB,UAAW2H,EAAYxH,EAAW1yF,GAClDs6F,CACX,CA0BO,SAASC,GAAgC3yC,EAAO4yC,GACnD,MAAMC,EAAe,GACfrE,EAAc,IAAI,GAAYxuC,GACpC,IAAK,MAAMmyC,KAAY3D,EAAa,CAChC,MAAM,OAAE3F,EAAM,UAAE+F,GAAcuD,EAE1BtJ,EAAS+J,GAAiBA,GADR/J,EAAS+F,EAAY,GAEvCiE,EAAa9oG,KAAKooG,EAE1B,CACA,OAAOU,CACX,CAQO,SAASC,GAAgBhI,EAAW2H,EAAaM,EAAa36F,GACjE,MACM46F,EAAaD,EAAcN,EAC3BF,EAAoB,CAAC,EACrBU,EAHU5zF,SAASyrF,EAAU9yF,aAAa,YAGfg7F,EAC7BC,EAAiB,IACjBV,EAAkBlF,QAAU4F,GAEhC,MAAM3F,EAAUjuF,SAASyrF,EAAU9yF,aAAa,YAAc,KAC1Ds1F,EAAU,IACViF,EAAkBjF,QAAUA,GAEhC,MAAMoF,EAAU9H,GAAqBxyF,EAAQA,EAAOyU,oBAAoBi+E,GAAYyH,GAGpF,OADA5H,GAAuB,UAAWqI,EAAYlI,EAAW1yF,GAClDs6F,CACX,CAOO,SAASZ,GAAsBhH,EAAWoI,EAASC,EAAYC,EAAUC,EAAaj7F,GACzF,MAAMi1F,EAAUhuF,SAASyrF,EAAU9yF,aAAa,YAAc,KACxDs1F,EAAUjuF,SAASyrF,EAAU9yF,aAAa,YAAc,KAC5Cm7F,EAAa9F,EAAU,EACzBgG,GAEZ1I,GAAuB,UADH0I,EAAcF,EAAa,EACArI,EAAW1yF,EAAQ,GAEvD86F,EAAU5F,EAAU,EACtB8F,GAETzI,GAAuB,UADHyI,EAAWF,EAAU,EACMpI,EAAW1yF,EAAQ,EAE1E,CAsCO,SAASk7F,GAAmBtzC,EAAOL,GACtC,MAAM5xC,EAAQ4xC,EAAW4zC,WAAWvzC,GAC9BwzC,EAAa,IAAIjoG,MAAMwiB,GAAO0lF,KAAK,GACzC,IAAK,MAAM,OAAE5K,KAAY,IAAI,GAAY7oC,GACrCwzC,EAAW3K,KAEf,MAAM6K,EAAeF,EAAWvzE,QAAO,CAACjxB,EAAQ2kG,EAAY9K,IACjD8K,EAAa3kG,EAAS,IAAIA,EAAQ65F,IAC1C,IACH,GAAI6K,EAAazoG,OAAS,EAAG,CAEzB,MAAM2oG,EAAcF,EAAaA,EAAazoG,OAAS,GAGvD,OADA00D,EAAWk0C,cAAc7zC,EAAO,CAAEywC,GAAImD,KAC/B,CACX,CACA,OAAO,CACX,CA8BO,SAASE,GAAgB9zC,EAAOL,GACnC,MAAMo0C,EAAY,GACZC,EAAgBr0C,EAAWQ,QAAQH,GACzC,IAAK,IAAIsuC,EAAW,EAAGA,EAAW0F,EAAe1F,IAC5BtuC,EAAM/rC,SAASq6E,GACnBrvF,SACT80F,EAAUhqG,KAAKukG,GAGvB,GAAIyF,EAAU9oG,OAAS,EAAG,CAEtB,MAAMgpG,EAAWF,EAAUA,EAAU9oG,OAAS,GAG9C,OADA00D,EAAWu0C,WAAWl0C,EAAO,CAAEywC,GAAIwD,KAC5B,CACX,CACA,OAAO,CACX,CAyBO,SAASE,GAAuBn0C,EAAOL,GACnB2zC,GAAmBtzC,EAAOL,IAG7Cm0C,GAAgB9zC,EAAOL,EAE/B,CAmBO,SAASy0C,GAAmBp0C,EAAOq0C,GACtC,MAAMC,EAAa/oG,MAAMyB,KAAK,IAAI,GAAYgzD,EAAO,CACjD8rC,YAAauI,EAAWE,YACxBvI,UAAWqI,EAAWG,WACtB5L,IAAKyL,EAAWI,WAIpB,GAFkCH,EAAW1xF,OAAM,EAAGisF,gBAAgC,IAAfA,IAGnE,OAAOwF,EAAWI,QAGtB,MAAMC,EAAoBJ,EAAW,GAAGzF,WAAa,EACrD,OAAOwF,EAAWI,QAAUC,CAChC,CAsBO,SAASC,GAAsB30C,EAAOq0C,GACzC,MAAMO,EAAgBrpG,MAAMyB,KAAK,IAAI,GAAYgzD,EAAO,CACpD0rC,SAAU2I,EAAWQ,SACrBjJ,OAAQyI,EAAWI,QACnB5L,OAAQwL,EAAWG,cAIvB,GAFkCI,EAAchyF,OAAM,EAAGgsF,eAA8B,IAAdA,IAGrE,OAAOyF,EAAWG,WAGtB,MAAMM,EAAoBF,EAAc,GAAGhG,UAAY,EACvD,OAAOyF,EAAWG,WAAaM,CACnC,CC/Ye,MAAMC,WAAyB,EAAA19F,QAQ1C,WAAAvK,CAAYyK,EAAQrI,GAChB8J,MAAMzB,GACNjN,KAAKo6B,UAAYx1B,EAAQw1B,UACzBp6B,KAAK0qG,aAAiC,SAAlB1qG,KAAKo6B,WAA0C,QAAlBp6B,KAAKo6B,SAC1D,CAIA,OAAAptB,GACI,MAAM29F,EAAc3qG,KAAK4qG,oBACzB5qG,KAAK+B,MAAQ4oG,EACb3qG,KAAKuN,YAAco9F,CACvB,CAQA,OAAAh9F,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBQ,EAAMR,EAAMpJ,SAEZw8F,EADaxgG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACdy/F,iCAAiCj9F,EAAIP,WAAW,GACvEs9F,EAAc3qG,KAAK+B,MACnBq4B,EAAYp6B,KAAKo6B,UACvBhtB,EAAMS,QAAOC,IACT,MAAMg9F,EAA2B,SAAb1wE,GAAqC,QAAbA,EAEtC2wE,EAAgBD,EAActK,EAAYmK,EAC1CK,EAAgBF,EAAcH,EAAcnK,EAE5CyK,EAAsBD,EAAat0F,QAkHrD,SAAyBs0F,EAAcD,EAAcj9F,GAC5C6G,GAAQq2F,KACLr2F,GAAQo2F,IACRj9F,EAAOnH,OAAOmH,EAAOoL,cAAc6xF,IAEvCj9F,EAAO8qB,KAAK9qB,EAAOoL,cAAc8xF,GAAel9F,EAAO8mB,iBAAiBm2E,EAAc,SAG1Fj9F,EAAOnH,OAAOqkG,EAClB,CA1HYE,CAAgBF,EAAcD,EAAcj9F,GAC5C,MAAMq9F,EAAgBnrG,KAAK0qG,aAAe,UAAY,UAChDU,EAAWr2F,SAASyrF,EAAU9yF,aAAay9F,IAAkB,KAC7DE,EAAkBt2F,SAAS41F,EAAYj9F,aAAay9F,IAAkB,KAE5Er9F,EAAO7H,aAAaklG,EAAeC,EAAWC,EAAiBN,GAC/Dj9F,EAAO0I,aAAa1I,EAAOoL,cAAc6xF,IACzC,MAAM11C,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cAG3Cy+F,GAFcoB,EAAoB52F,aAAa,SAEjBghD,EAAW,GAEjD,CAIA,iBAAAu1C,GACI,MACMh9F,EADQ5N,KAAKiN,OAAOG,MACRpJ,SACZqxD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCo1F,EAAYnrC,EAAWw1C,iCAAiCj9F,EAAIP,WAAW,GAC7E,IAAKmzF,EACD,OAGJ,MAAMmK,EAAc3qG,KAAK0qG,aAkBjC,SAA2BlK,EAAWpmE,EAAWi7B,GAC7C,MACMK,EADW8qC,EAAU9pF,OACJA,OACjB40F,EAA8B,SAAblxE,EAAuBomE,EAAUpnE,YAAconE,EAAUlmE,gBAC1EixE,GAAqB71C,EAAMhoD,aAAa,mBAAqB,GAAK,EACxE,IAAK49F,EACD,OAGJ,MAAME,EAA2B,SAAbpxE,EAAuBomE,EAAY8K,EACjDG,EAA4B,SAAbrxE,EAAuBkxE,EAAiB9K,GAErDjC,OAAQmN,GAAmBr2C,EAAW6oC,gBAAgBsN,IACtDjN,OAAQoN,GAAoBt2C,EAAW6oC,gBAAgBuN,GACzDG,EAAe72F,SAASy2F,EAAW99F,aAAa,YAAc,KAC9Dm+F,EAA8BnL,GAAoBrrC,EAAYm2C,GAC9DM,EAA+BpL,GAAoBrrC,EAAYo2C,GAErE,OAAIF,GAAqBM,GAA+BC,OAAxD,EAIyBJ,EAAiBE,IAAiBD,EAEjCL,OAAiB1gG,CAC/C,CA1CYmhG,CAAkBvL,EAAWxgG,KAAKo6B,UAAWi7B,GA8CzD,SAAyBmrC,EAAWpmE,EAAWi7B,GAC3C,MAAM2vC,EAAWxE,EAAU9pF,OACrBg/C,EAAQsvC,EAAStuF,OACjBstF,EAAWtuC,EAAMi5B,cAAcqW,GAErC,GAAkB,QAAb5qE,GAAuB4pE,IAAa3uC,EAAWQ,QAAQH,GAAS,GAAoB,MAAbt7B,GAAkC,IAAb4pE,EAC7F,OAAO,KAEX,MAAMhB,EAAUjuF,SAASyrF,EAAU9yF,aAAa,YAAc,KACxDywF,EAAczoC,EAAMhoD,aAAa,gBAAkB,EAIzD,GAAIywF,IAHqC,QAAb/jE,GAAwB4pE,EAAWhB,IAAa7E,GACnC,MAAb/jE,GAAqB4pE,IAAa7F,GAG1D,OAAO,KAEX,MAAM6N,EAAqBj3F,SAASyrF,EAAU9yF,aAAa,YAAc,KACnEu+F,EAAgC,QAAb7xE,EAAsB4pE,EAAWgI,EAAqBhI,EACzEkD,EAAW,IAAI,IAAI,GAAYxxC,EAAO,CAAE4rC,OAAQ2K,KAEhDC,EADkBhF,EAAS/0E,MAAKpwB,GAASA,EAAM+gG,OAAStC,IAC1BjC,OAC9B4N,EAAkBjF,EAAS/0E,MAAK,EAAGmsE,MAAKiG,aAAYhG,YAClDA,IAAW2N,IAGE,QAAb9xE,EAEOkkE,IAAQ2N,EAIRA,IAAqB3N,EAAMiG,KAG1C,OAAO4H,GAAmBA,EAAgBrJ,KAAOqJ,EAAgBrJ,KAAO,IAC5E,CAhFYsJ,CAAgB5L,EAAWxgG,KAAKo6B,UAAWi7B,GAC/C,IAAKs1C,EACD,OAGJ,MAAMQ,EAAgBnrG,KAAK0qG,aAAe,UAAY,UAChD2B,EAAOt3F,SAASyrF,EAAU9yF,aAAay9F,IAAkB,KAE/D,OADwBp2F,SAAS41F,EAAYj9F,aAAay9F,IAAkB,OACpDkB,EACb1B,OADX,CAGJ,EAwFJ,SAASh2F,GAAQ6rF,GACb,MAAM8L,EAAkB9L,EAAU72E,SAAS,GAC3C,OAA+B,GAAxB62E,EAAU/2E,YAAmB6iF,EAAgB32F,GAAG,UAAW,cAAgB22F,EAAgB33F,OACtG,CClLe,MAAM43F,WAAyB,EAAAx/F,QAI1C,OAAAC,GACI,MAAMqoD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCs7F,EAAgBrxC,EAAWwwC,+BAA+B7lG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WACrFm/F,EAAY9F,EAAc,GAChC,GAAI8F,EAAW,CACX,MAAM92C,EAAQ82C,EAAUn4F,aAAa,SAE/Bo4F,EADgBp3C,EAAWQ,QAAQH,GACJ,EAC/Bg3C,EAAqBr3C,EAAW4wC,cAAcS,GAC9CiG,EAAkD,IAA7BD,EAAmBv/F,OAAeu/F,EAAmBjrB,OAASgrB,EAEzFzsG,KAAKuN,WAAao/F,CACtB,MAEI3sG,KAAKuN,WAAY,CAEzB,CAIA,OAAAI,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBioD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCwhG,EAAiBv3C,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WAC1Ew/F,EAAoBx3C,EAAW4wC,cAAc2G,GAC7CJ,EAAYI,EAAe,GAC3Bl3C,EAAQ82C,EAAUn4F,aAAa,SAC/By4F,EAAqBz3C,EAAW6oC,gBAAgBsO,GAAWjO,OACjEnxF,EAAMS,QAAOC,IACT,MAAMi/F,EAAeF,EAAkBprB,KAAOorB,EAAkB1/F,MAAQ,EACxEkoD,EAAWu0C,WAAWl0C,EAAO,CACzBywC,GAAI0G,EAAkB1/F,MACtBgsF,KAAM4T,IAEV,MAAMC,EAUlB,SAAwBt3C,EAAOu3C,EAAiBC,EAAexD,GAE3D,MAAMpL,EAAM5oC,EAAM/rC,SAASmrB,KAAK2D,IAAIw0D,EAAiBvD,EAAgB,IAErE,IAAIsD,EAAc1O,EAAI30E,SAAS,GAC3B40E,EAAS,EACb,IAAK,MAAMiC,KAAalC,EAAIz3E,cAAe,CACvC,GAAI03E,EAAS2O,EACT,OAAOF,EAEXA,EAAcxM,EACdjC,GAAUxpF,SAASyrF,EAAU9yF,aAAa,YAAc,IAC5D,CACA,OAAOs/F,CACX,CAxBgCG,CAAez3C,EAAOm3C,EAAkB1/F,MAAO2/F,EAAoBz3C,EAAWQ,QAAQH,IAC1G5nD,EAAO0I,aAAa1I,EAAO8mB,iBAAiBo4E,EAAa,GAAG,GAEpE,ECxCW,MAAMI,WAA4B,EAAArgG,QAI7C,OAAAC,GACI,MAAMqoD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCs7F,EAAgBrxC,EAAWwwC,+BAA+B7lG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WACrFm/F,EAAY9F,EAAc,GAChC,GAAI8F,EAAW,CACX,MAAM92C,EAAQ82C,EAAUn4F,aAAa,SAC/Bg5F,EAAmBh4C,EAAW4zC,WAAWvzC,IACzC,MAAEvoD,EAAK,KAAEs0E,GAASpsB,EAAWkxC,iBAAiBG,GACpD1mG,KAAKuN,UAAYk0E,EAAOt0E,EAASkgG,EAAmB,CACxD,MAEIrtG,KAAKuN,WAAY,CAEzB,CAIA,OAAAI,GACI,MAAM0nD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,eACpCohG,EAAWc,GA2D1B,SAA0BjgG,EAAWgoD,GACjC,MAAMu3C,EAAiBv3C,EAAWwwC,+BAA+Bx4F,GAC3Dm/F,EAAYI,EAAe,GAC3BU,EAAWV,EAAetpD,MAC1BiqD,EAAc,CAACf,EAAWc,GAChC,OAAOd,EAAU51D,SAAS02D,GAAYC,EAAcA,EAAYp3E,SACpE,CAjEsCq3E,CAAiBxtG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UAAWgoD,GAC/EK,EAAQ82C,EAAU91F,OAAOA,OAEzBwwF,EAAW,IAAI,IAAI,GAAYxxC,IAE/B+3C,EAAuB,CACzBtgG,MAAO+5F,EAAS/0E,MAAKpwB,GAASA,EAAM+gG,OAAS0J,IAAWjO,OACxD9c,KAAMylB,EAAS/0E,MAAKpwB,GAASA,EAAM+gG,OAASwK,IAAU/O,QAEpDyO,EAed,SAAwB9F,EAAUsF,EAAWc,EAAUG,GAInD,OAHgB14F,SAASu4F,EAAS5/F,aAAa,YAAc,KAG/C,EACH4/F,EAKFd,EAAUlyE,iBAAmBgzE,EAASl0E,YACpCk0E,EAASl0E,aAAeozE,EAAUlyE,gBAOrCmzE,EAAqBtgG,MACd+5F,EAAS/wE,UAAUhE,MAAK,EAAGosE,YACvBA,EAASkP,EAAqBtgG,QACtC21F,KAKIoE,EAAS/wE,UAAUhE,MAAK,EAAGosE,YACvBA,EAASkP,EAAqBhsB,OACtCqhB,IAGf,CA9C4B,CAAeoE,EAAUsF,EAAWc,EAAUG,GAClEztG,KAAKiN,OAAOG,MAAMS,QAAOC,IACrB,MAAM4/F,EAAkBD,EAAqBhsB,KAAOgsB,EAAqBtgG,MAAQ,EACjFkoD,EAAWk0C,cAAc7zC,EAAO,CAC5BywC,GAAIsH,EAAqBtgG,MACzBuzC,QAASgtD,IAEb5/F,EAAO0I,aAAa1I,EAAO8mB,iBAAiBo4E,EAAa,GAAG,GAEpE,ECrCW,MAAMW,WAA4B,EAAA5gG,QAI7C,OAAAC,GACI,MAAMqoD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCgC,EAAQpN,KAAKiN,OAAOG,MACpBs5F,EAAgBrxC,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WACzEugG,EAAYlH,EAAc/lG,OAAS,EACzCX,KAAKuN,UAAYqgG,EACjB5tG,KAAK+B,MAAQ6rG,GAAalH,EAAcpuF,OAAMwqF,GAAQ9iG,KAAK6tG,aAAa/K,EAAMA,EAAKpsF,OAAOA,SAC9F,CAYA,OAAA/I,CAAQ/I,EAAU,CAAC,GACf,GAAIA,EAAQmzB,aAAe/3B,KAAK+B,MAC5B,OAEJ,MAAMszD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCgC,EAAQpN,KAAKiN,OAAOG,MACpBs5F,EAAgBrxC,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WACzEqoD,EAAQgxC,EAAc,GAAGryF,aAAa,UACtC,MAAElH,EAAK,KAAEs0E,GAASpsB,EAAW4wC,cAAcS,GAC3CoH,EAAmB9tG,KAAK+B,MAAQoL,EAAQs0E,EAAO,EAC/CssB,EAAqBr4C,EAAMhoD,aAAa,gBAAkB,EAChEN,EAAMS,QAAOC,IACT,GAAIggG,EAAkB,CAGlB,MACME,EAAmBtG,GAA8BhyC,EAAOo4C,EAD7CA,EAAmBC,EAAqBA,EAAqB,GAE9E,IAAK,MAAM,KAAEjL,KAAUkL,EACnBlG,GAAkBhF,EAAMgL,EAAkBhgG,EAElD,CACAuyF,GAAuB,cAAeyN,EAAkBp4C,EAAO5nD,EAAQ,EAAE,GAEjF,CAIA,YAAA+/F,CAAarN,EAAW9qC,GACpB,MAAMyoC,EAAcppF,SAAS2gD,EAAMhoD,aAAa,gBAAkB,KAClE,QAASywF,GAAeqC,EAAU9pF,OAAOzR,MAAQk5F,CACrD,ECpDW,MAAM8P,WAA+B,EAAAlhG,QAIhD,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBioD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCs7F,EAAgBrxC,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WACzEugG,EAAYlH,EAAc/lG,OAAS,EACzCX,KAAKuN,UAAYqgG,EACjB5tG,KAAK+B,MAAQ6rG,GAAalH,EAAcpuF,OAAMwqF,GAAQpC,GAAoBrrC,EAAYytC,IAC1F,CAYA,OAAAn1F,CAAQ/I,EAAU,CAAC,GACf,GAAIA,EAAQmzB,aAAe/3B,KAAK+B,MAC5B,OAEJ,MAAMszD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCgC,EAAQpN,KAAKiN,OAAOG,MACpBs5F,EAAgBrxC,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WACzEqoD,EAAQgxC,EAAc,GAAGryF,aAAa,UACtC,MAAElH,EAAK,KAAEs0E,GAASpsB,EAAWkxC,iBAAiBG,GAC9CwH,EAAsBluG,KAAK+B,MAAQoL,EAAQs0E,EAAO,EACxDr0E,EAAMS,QAAOC,IACT,GAAIogG,EAAqB,CAGrB,MAAMF,EAAmB3F,GAAgC3yC,EAAOw4C,GAChE,IAAK,MAAM,KAAEpL,EAAI,OAAEvE,KAAYyP,EAC3BxF,GAAgB1F,EAAMvE,EAAQ2P,EAAqBpgG,EAE3D,CACAuyF,GAAuB,iBAAkB6N,EAAqBx4C,EAAO5nD,EAAQ,EAAE,GAEvF,ECqPG,SAAS,GAAuBoG,GACnC,MAAMi6F,EAjBH,SAA+Bj6F,GAClC,GAAIA,EAAQyB,GAAG,UAAW,oBACtB,OAAOzB,EAEX,MAAMf,EAAWe,EAAQ2S,cACzB,OAAO5lB,MACFyB,KAAKyQ,GACLgf,MAAKje,GAAWA,EAAQyB,GAAG,UAAW,qBAC/C,CAS+B,CAAsBzB,GACjD,OAAKi6F,EAGEltG,MAAMyB,KAAKyrG,EAAmBtnF,eAF1B,EAGf,CChTe,MAAM,WAAmB,EAAAtY,OAIpC,qBAAWC,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI7O,KAAKyiB,SAAS,iBACdziB,KAAKyiB,SAAS,aAClB,CA6BA,eAAAy7E,CAAgBsC,GACZ,MAAMwE,EAAWxE,EAAU9pF,OACrBg/C,EAAQsvC,EAAStuF,OACjBstF,EAAWtuC,EAAMi5B,cAAcqW,GAC/Bd,EAAc,IAAI,GAAYxuC,EAAO,CAAE4oC,IAAK0F,IAClD,IAAK,MAAM,KAAElB,EAAI,IAAExE,EAAG,OAAEC,KAAY2F,EAChC,GAAIpB,IAAStC,EACT,MAAO,CAAElC,MAAKC,SAM1B,CAsBA,WAAAkH,CAAY33F,EAAQlJ,GAChB,MAAM8wD,EAAQ5nD,EAAOnI,cAAc,SAC7BwzF,EAAOv0F,EAAQu0F,MAAQ,EACvBz4C,EAAU97C,EAAQ87C,SAAW,EAQnC,OAPA0tD,GAAgBtgG,EAAQ4nD,EAAO,EAAGyjC,EAAMz4C,GACpC97C,EAAQu5F,aACRkC,GAAuB,cAAevrD,KAAK2D,IAAI7zC,EAAQu5F,YAAahF,GAAOzjC,EAAO5nD,EAAQ,GAE1FlJ,EAAQw5F,gBACRiC,GAAuB,iBAAkBvrD,KAAK2D,IAAI7zC,EAAQw5F,eAAgB19C,GAAUgV,EAAO5nD,EAAQ,GAEhG4nD,CACX,CA6BA,UAAAwwC,CAAWxwC,EAAO9wD,EAAU,CAAC,GACzB,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBihG,EAAWzpG,EAAQuhG,IAAM,EACzBmI,EAAe1pG,EAAQu0F,MAAQ,EAC/BoV,OAAqD3jG,IAAnChG,EAAQwhG,uBAC1BoI,EAAoB5pG,EAAQwhG,uBAAyBiI,EAAW,EAAIA,EACpElV,EAAOn5F,KAAK61D,QAAQH,GACpBhV,EAAU1gD,KAAKipG,WAAWvzC,GAChC,GAAI24C,EAAWlV,EAMX,MAAM,IAAI,EAAA1sF,cAAc,4CAA6CzM,KAAM,CAAE4E,YAEjFwI,EAAMS,QAAOC,IACT,MAAMqwF,EAAczoC,EAAMhoD,aAAa,gBAAkB,EAMzD,GAJIywF,EAAckQ,GACdhO,GAAuB,cAAelC,EAAcmQ,EAAc54C,EAAO5nD,EAAQ,IAGhFygG,IAAiC,IAAbF,GAAkBA,IAAalV,GAEpD,YADAiV,GAAgBtgG,EAAQ4nD,EAAO24C,EAAUC,EAAc5tD,GAI3D,MAAM+tD,EAAeF,EAAkBz5D,KAAKC,IAAIs5D,EAAUG,GAAqBH,EACzEK,EAAgB,IAAI,GAAYh5C,EAAO,CAAE4rC,OAAQmN,IAEjDE,EAAiB,IAAI1tG,MAAMy/C,GAASyoD,KAAK,GAC/C,IAAK,MAAM,IAAE7K,EAAG,OAAEC,EAAM,WAAEgG,EAAU,UAAED,EAAS,KAAExB,KAAU4L,EAAe,CACtE,MAAME,EAActQ,EAAMiG,EAAa,EAEjCsK,EAAiBvQ,GAAOkQ,GAAqBA,GAAqBI,EADvCtQ,EAAM+P,GAAYA,GAAYO,GAK3D9gG,EAAO7H,aAAa,UAAWs+F,EAAa+J,EAAcxL,GAE1D6L,EAAepQ,IAAW+F,GAGrBiK,GAAmBM,IACxBF,EAAepQ,GAAU+F,EAEjC,CACA,IAAK,IAAIN,EAAW,EAAGA,EAAWsK,EAActK,IAAY,CACxD,MAAMgB,EAAWl3F,EAAOnI,cAAc,YACtCmI,EAAO5H,OAAO8+F,EAAUtvC,EAAO24C,GAC/B,IAAK,IAAIS,EAAY,EAAGA,EAAYH,EAAehuG,OAAQmuG,IAAa,CACpE,MAAM/L,EAAU4L,EAAeG,GACzBvO,EAAiBzyF,EAAO8mB,iBAAiBowE,EAAU,OAErDjC,EAAU,GACVzC,GAAqBxyF,EAAQyyF,EAAgBwC,EAAU,EAAI,CAAEA,gBAAYn4F,GAG7EkkG,GAAah6D,KAAKi6D,IAAIhM,GAAW,CACrC,CACJ,IAER,CA4BA,aAAAyD,CAAc9wC,EAAO9wD,EAAU,CAAC,GAC5B,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBihG,EAAWzpG,EAAQuhG,IAAM,EACzB6I,EAAkBpqG,EAAQ87C,SAAW,EAC3CtzC,EAAMS,QAAOC,IACT,MAAMswF,EAAiB1oC,EAAMhoD,aAAa,kBAEtC2gG,EAAWjQ,GACXtwF,EAAO7H,aAAa,iBAAkBm4F,EAAiB4Q,EAAiBt5C,GAE5E,MAAMu5C,EAAejvG,KAAKipG,WAAWvzC,GAErC,GAAiB,IAAb24C,GAAkBY,IAAiBZ,EAAU,CAC7C,IAAK,MAAMrJ,KAAYtvC,EAAM7uC,cAEpBm+E,EAASrvF,GAAG,UAAW,aAG5Bu5F,GAAYF,EAAiBlhG,EAAQA,EAAO8mB,iBAAiBowE,EAAUqJ,EAAW,MAAQ,IAE9F,MACJ,CACA,MAAMnK,EAAc,IAAI,GAAYxuC,EAAO,CAAE6oC,OAAQ8P,EAAUzM,iBAAiB,IAChF,IAAK,MAAMqD,KAAaf,EAAa,CACjC,MAAM,IAAE5F,EAAG,KAAEwE,EAAI,iBAAEsB,EAAgB,cAAED,EAAa,UAAEG,EAAS,WAAEC,GAAeU,EAK9E,GAAIb,EAAmBiK,EAAU,CAG7BvgG,EAAO7H,aAAa,UAAWq+F,EAAY0K,EAAiBlM,GAE5D,MAAM8L,EAAczK,EAAgBI,EAAa,EACjD,IAAK,IAAIjkG,EAAIg+F,EAAKh+F,GAAKsuG,EAAatuG,IAChC4jG,EAAYhB,QAAQ5iG,EAE5B,MAII4uG,GAAYF,EAAiBlhG,EAAQm3F,EAAUT,oBAEvD,IAER,CA6BA,UAAAoF,CAAWl0C,EAAO9wD,GACd,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpB2/F,EAAenoG,EAAQu0F,MAAQ,EAC/BgW,EAAWnvG,KAAK61D,QAAQH,GACxBvoD,EAAQvI,EAAQuhG,GAChB1kB,EAAOt0E,EAAQ4/F,EAAe,EACpC,GAAItrB,EAAO0tB,EAAW,EAMlB,MAAM,IAAI,EAAA1iG,cAAc,+CAAgDzM,KAAM,CAAE01D,QAAO9wD,YAE3FwI,EAAMS,QAAOC,IACT,MAAMshG,EAAgB,CAAEjiG,QAAOs0E,SAIzB,YAAE4tB,EAAW,YAAEC,GAiqBjC,SAA0C55C,GAAO,MAAEvoD,EAAK,KAAEs0E,IACtD,MAAM4tB,EAAc,IAAIn/F,IAClBo/F,EAAc,GACpB,IAAK,MAAM,IAAEhR,EAAG,OAAEC,EAAM,WAAEgG,EAAU,KAAEzB,KAAU,IAAI,GAAYptC,EAAO,CAAE4rC,OAAQ7f,IAAS,CACtF,MAAM8tB,EAAgBjR,EAAMiG,EAAa,EAEzC,GADyCjG,GAAOnxF,GAASmxF,GAAO7c,GAAQ8tB,EAAgB9tB,EAClD,CAClC,MACM+tB,EAAejL,GADW9iB,EAAO6c,EAAM,GAE7C+Q,EAAYh+F,IAAIktF,EAAQ,CACpBuE,OACAE,QAASwM,GAEjB,CAEA,GADqClR,EAAMnxF,GAASoiG,GAAiBpiG,EACnC,CAC9B,IAAIi9F,EAGAA,EADAmF,GAAiB9tB,EACGA,EAAOt0E,EAAQ,EAIfoiG,EAAgBpiG,EAAQ,EAEhDmiG,EAAY7vG,KAAK,CACbqjG,OACAE,QAASuB,EAAa6F,GAE9B,CACJ,CACA,MAAO,CAAEiF,cAAaC,cAC1B,CAjsBiDG,CAAiC/5C,EAAO05C,GAIzEC,EAAYx6F,MA8rB5B,SAAwB6gD,EAAOg6C,EAAgBL,EAAavhG,GACxD,MAIM6hG,EAAc,IAJA,IAAI,GAAYj6C,EAAO,CACvCksC,iBAAiB,EACjBtD,IAAKoR,KAGHpR,EAAM5oC,EAAM/rC,SAAS+lF,GAC3B,IAAIE,EACJ,IAAK,MAAM,OAAErR,EAAM,KAAEuE,EAAI,SAAEuB,KAAcsL,EACrC,GAAIN,EAAYp7F,IAAIsqF,GAAS,CACzB,MAAQuE,KAAM+M,EAAU,QAAE7M,GAAYqM,EAAYjkG,IAAImzF,GAChDuR,EAAiBF,EACnB9hG,EAAOyU,oBAAoBqtF,GAC3B9hG,EAAO8mB,iBAAiB0pE,EAAK,GACjCxwF,EAAO8qB,KAAK9qB,EAAO0W,cAAcqrF,GAAaC,GAC9CzP,GAAuB,UAAW2C,EAAS6M,EAAY/hG,GACvD8hG,EAAeC,CACnB,MACSxL,IAELuL,EAAe9M,EAG3B,CAntBgBiN,CAAer6C,EADgB+rB,EAAO,EACQ4tB,EAAavhG,GAG/D,IAAK,IAAIxN,EAAImhF,EAAMnhF,GAAK6M,EAAO7M,IAC3BwN,EAAOnH,OAAO+uD,EAAM/rC,SAASrpB,IAGjC,IAAK,MAAM,QAAE0iG,EAAO,KAAEF,KAAUwM,EAC5BjP,GAAuB,UAAW2C,EAASF,EAAMh1F,IAqnBjE,SAA2B4nD,GAAO,MAAEvoD,EAAK,KAAEs0E,GAAQ3zE,GAC/C,MAAMqwF,EAAczoC,EAAMhoD,aAAa,gBAAkB,EACrDP,EAAQgxF,GAERkC,GAAuB,cADP5e,EAAO0c,EAAcA,GAAe1c,EAAOt0E,EAAQ,GAAKA,EACzBuoD,EAAO5nD,EAAQ,EAEtE,CAxnBYkiG,CAAkBt6C,EAAO05C,EAAethG,GAEnCk7F,GAAmBtzC,EAAO11D,OAG3BwpG,GAAgB9zC,EAAO11D,KAC3B,GAER,CA8BA,aAAAupG,CAAc7zC,EAAO9wD,GACjB,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBD,EAAQvI,EAAQuhG,GAChBuH,EAAkB9oG,EAAQ87C,SAAW,EACrC+gC,EAAO78E,EAAQuhG,GAAKuH,EAAkB,EAC5CtgG,EAAMS,QAAOC,KA4jBrB,SAA8B4nD,EAAO+3C,EAAsB3/F,GACvD,MAAMswF,EAAiB1oC,EAAMhoD,aAAa,mBAAqB,EAC/D,GAAI0wF,GAAkBqP,EAAqBtgG,MAAQixF,EAAgB,CAC/D,MAAM6R,EAAkBn7D,KAAK2D,IAAI2lD,EAAiB,EAAmCqP,EAAqBhsB,MACtGgsB,EAAqBtgG,MAAQ,EACjCW,EAAO7H,aAAa,iBAAkBm4F,EAAiB6R,EAAiBv6C,EAC5E,CACJ,CAlkBYw6C,CAAqBx6C,EAAO,CAAEvoD,QAAOs0E,QAAQ3zE,GAC7C,MAAMmhG,EAAe,GAAuBv5C,GAC5C,IAAK,IAAIy6C,EAAqB1uB,EAAM0uB,GAAsBhjG,EAAOgjG,IAAsB,CACnF,IAAK,MAAM,KAAErN,EAAI,OAAEvE,EAAM,UAAE+F,IAAe,IAAI,IAAI,GAAY5uC,IAEtD6oC,GAAU4R,GAAsB7L,EAAY,GAAK/F,EAAS+F,EAAY6L,EACtE9P,GAAuB,UAAWiE,EAAY,EAAGxB,EAAMh1F,GAElDywF,IAAW4R,GAEhBriG,EAAOnH,OAAOm8F,GAKtB,GAAImM,EAAakB,GAAqB,CAGlC,MAAMC,EAAwC,IAAvBD,EAA2BlB,EAAa,GAAKA,EAAakB,EAAqB,GAChGE,EAAqB1xD,WAAWswD,EAAakB,GAAoBziG,aAAa,gBAC9E4iG,EAAsB3xD,WAAWyxD,EAAe1iG,aAAa,gBACnEI,EAAOnH,OAAOsoG,EAAakB,IAE3BriG,EAAO7H,aAAa,cAAeoqG,EAAqBC,EAAsB,IAAKF,EACvF,CACJ,CAEK5G,GAAgB9zC,EAAO11D,OAGxBgpG,GAAmBtzC,EAAO11D,KAC9B,GAER,CA0CA,mBAAA4mG,CAAoBpG,EAAW+P,EAAgB,GAC3C,MAAMnjG,EAAQpN,KAAKiN,OAAOG,MAEpBsoD,EADW8qC,EAAU9pF,OACJA,OACjBssF,EAAUjuF,SAASyrF,EAAU9yF,aAAa,YAAc,KACxDq1F,EAAUhuF,SAASyrF,EAAU9yF,aAAa,YAAc,KAC9DN,EAAMS,QAAOC,IAET,GAAIi1F,EAAU,EAAG,CAEb,MAAM,aAAEyN,EAAY,YAAEC,GAAgBC,GAAgB3N,EAASwN,GAC/DlQ,GAAuB,UAAWoQ,EAAajQ,EAAW1yF,GAE1D,MAAM6iG,EAAqB,CAAC,EAExBH,EAAe,IACfG,EAAmB5N,QAAUyN,GAG7BxN,EAAU,IACV2N,EAAmB3N,QAAUA,GAGjCkM,GADsBnM,EAAUwN,EAAgBA,EAAgB,EAAIxN,EAAU,EACnDj1F,EAAQA,EAAOyU,oBAAoBi+E,GAAYmQ,EAC9E,CAEA,GAAI5N,EAAUwN,EAAe,CACzB,MAAMK,EAAgBL,EAAgBxN,EAEhCmE,EAAW,IAAI,IAAI,GAAYxxC,KAE7B6oC,OAAQsS,GAAoB3J,EAAS/0E,MAAK,EAAG2wE,UAAWA,IAAStC,IAEnEsQ,EAAgB5J,EAAS1gG,QAAO,EAAGs8F,OAAMwB,YAAW/F,YAC/BuE,IAAStC,GAAajC,IAAWsS,GAC/BtS,EAASsS,GAAmBtS,EAAS+F,EAAYuM,IAI9E,IAAK,MAAM,KAAE/N,EAAI,UAAEwB,KAAewM,EAC9BhjG,EAAO7H,aAAa,UAAWq+F,EAAYsM,EAAe9N,GAI9D,MAAM6N,EAAqB,CAAC,EAGxB3N,EAAU,IACV2N,EAAmB3N,QAAUA,GAEjCkM,GAAY0B,EAAe9iG,EAAQA,EAAOyU,oBAAoBi+E,GAAYmQ,GAC1E,MAAMvS,EAAiB1oC,EAAMhoD,aAAa,mBAAqB,EAE3D0wF,EAAiByS,GACjBxQ,GAAuB,iBAAkBjC,EAAiBwS,EAAel7C,EAAO5nD,EAExF,IAER,CAsDA,qBAAA64F,CAAsBnG,EAAW+P,EAAgB,GAC7C,MAAMnjG,EAAQpN,KAAKiN,OAAOG,MACpB43F,EAAWxE,EAAU9pF,OACrBg/C,EAAQsvC,EAAStuF,OACjBq6F,EAAer7C,EAAMi5B,cAAcqW,GACnChC,EAAUjuF,SAASyrF,EAAU9yF,aAAa,YAAc,KACxDq1F,EAAUhuF,SAASyrF,EAAU9yF,aAAa,YAAc,KAC9DN,EAAMS,QAAOC,IAET,GAAIk1F,EAAU,EAAG,CAEb,MAAMkE,EAAW,IAAI,IAAI,GAAYxxC,EAAO,CACpC0rC,SAAU2P,EACVzP,OAAQyP,EAAe/N,EAAU,EACjCpB,iBAAiB,MAGnB,aAAE4O,EAAY,YAAEC,GAAgBC,GAAgB1N,EAASuN,GAC/DlQ,GAAuB,UAAWoQ,EAAajQ,EAAW1yF,GAC1D,MAAQywF,OAAQsK,GAAe3B,EAAS/0E,MAAK,EAAG2wE,UAAWA,IAAStC,IAE9DmQ,EAAqB,CAAC,EAExBH,EAAe,IACfG,EAAmB3N,QAAUwN,GAG7BzN,EAAU,IACV4N,EAAmB5N,QAAUA,GAMjC,IAAIiO,EAA2B,EAC/B,IAAK,MAAM/L,KAAaiC,EAAU,CAC9B,MAAM,OAAE3I,EAAM,IAAED,GAAQ2G,EAOlBgM,EAAiB1S,IAAWsK,EAE9BmI,GAA4BR,GAAgBS,IAC5CD,EAA2B,GALN1S,GAAOyS,EAAeN,GAOvBQ,IAEfD,GACD9B,GAAY,EAAGphG,EAAQm3F,EAAUT,oBAAqBmM,GAG1DK,IAER,CACJ,CAEA,GAAIhO,EAAUuN,EAAe,CAEzB,MAAMK,EAAgBL,EAAgBvN,EAEhCkE,EAAW,IAAI,IAAI,GAAYxxC,EAAO,CAAE0rC,SAAU,EAAGE,OAAQyP,KAEnE,IAAK,MAAM,KAAEjO,EAAI,WAAEyB,EAAU,IAAEjG,KAAS4I,EAIpC,GAAIpE,IAAStC,GAAalC,EAAMiG,EAAawM,EAAc,CACvD,MAAMG,EAAe3M,EAAaqM,EAClC9iG,EAAO7H,aAAa,UAAWirG,EAAcpO,EACjD,CAGJ,MAAM6N,EAAqB,CAAC,EAExB5N,EAAU,IACV4N,EAAmB5N,QAAUA,GAEjCqL,GAAgBtgG,EAAQ4nD,EAAOq7C,EAAe,EAAGH,EAAe,EAAGD,GAEnE,MAAMxS,EAAczoC,EAAMhoD,aAAa,gBAAkB,EACrDywF,EAAc4S,GACd1Q,GAAuB,cAAelC,EAAcyS,EAAel7C,EAAO5nD,EAElF,IAER,CAUA,UAAAm7F,CAAWvzC,GAKP,MAAO,IADKA,EAAM/rC,SAAS,GACZ9C,eAEVrgB,QAAO6U,GAAQA,EAAK1F,GAAG,UAAW,eAClCggB,QAAO,CAAC+qB,EAAS49C,IAEX59C,EADa3rC,SAASupF,EAAI5wF,aAAa,YAAc,MAE7D,EACP,CAUA,OAAAmoD,CAAQH,GAEJ,OAAOz0D,MAAMyB,KAAKgzD,EAAM7uC,eACnB8O,QAAO,CAACw5E,EAAUr1E,IAAUA,EAAMnkB,GAAG,UAAW,YAAcw5F,EAAW,EAAIA,GAAU,EAChG,CAaA,iBAAAgC,CAAkBz7C,EAAO9wD,EAAU,CAAC,GAChC,OAAO,IAAI,GAAY8wD,EAAO9wD,EAClC,CAQA,qBAAAwsG,CAAsB/jG,GAClB,MAAMu6F,EAAQ,GACd,IAAK,MAAMljF,KAAS1kB,KAAKqxG,WAAWhkG,EAAU0mB,aAAc,CACxD,MAAM7f,EAAUwQ,EAAM4sF,sBAClBp9F,GAAWA,EAAQyB,GAAG,UAAW,cACjCiyF,EAAMnoG,KAAKyU,EAEnB,CACA,OAAO0zF,CACX,CAQA,gCAAAiD,CAAiCx9F,GAC7B,MAAMu6F,EAAQ,GACd,IAAK,MAAMljF,KAASrX,EAAU0mB,YAAa,CACvC,MAAMw9E,EAAoB7sF,EAAMzM,MAAM5D,aAAa,aAC/Ck9F,GACA3J,EAAMnoG,KAAK8xG,EAEnB,CACA,OAAO3J,CACX,CASA,8BAAA/B,CAA+Bx4F,GAC3B,MAAMq5F,EAAgB1mG,KAAKoxG,sBAAsB/jG,GACjD,OAAIq5F,EAAc/lG,OACP+lG,EAEJ1mG,KAAK6qG,iCAAiCx9F,EACjD,CAcA,aAAA44F,CAAcuL,GACV,MAAMC,EAAUD,EAAWvxG,KAAI6iG,GAAQA,EAAKpsF,OAAOzR,QACnD,OAAOjF,KAAK0xG,2BAA2BD,EAC3C,CAcA,gBAAAlL,CAAiBiL,GACb,MAAM97C,EAAQ87C,EAAW,GAAGn9F,aAAa,SAEnCo9F,EADW,IAAI,IAAI,GAAY/7C,IAEhClvD,QAAO2tB,GAASq9E,EAAW3lG,SAASsoB,EAAM2uE,QAC1C7iG,KAAIk0B,GAASA,EAAMoqE,SACxB,OAAOv+F,KAAK0xG,2BAA2BD,EAC3C,CAwBA,sBAAAE,CAAuBC,GACnB,GAAIA,EAAmBjxG,OAAS,IAAMX,KAAK6xG,8BAA8BD,GACrE,OAAO,EAKX,MAAMzY,EAAO,IAAI9+C,IACXqG,EAAU,IAAIrG,IACpB,IAAIy3D,EAAsB,EAC1B,IAAK,MAAMtR,KAAaoR,EAAoB,CACxC,MAAM,IAAEtT,EAAG,OAAEC,GAAWv+F,KAAKk+F,gBAAgBsC,GACvCwC,EAAUjuF,SAASyrF,EAAU9yF,aAAa,aAAe,EACzDq1F,EAAUhuF,SAASyrF,EAAU9yF,aAAa,aAAe,EAE/DyrF,EAAK3wF,IAAI81F,GACT59C,EAAQl4C,IAAI+1F,GAERyE,EAAU,GACV7J,EAAK3wF,IAAI81F,EAAM0E,EAAU,GAGzBD,EAAU,GACVriD,EAAQl4C,IAAI+1F,EAASwE,EAAU,GAEnC+O,GAAwB9O,EAAUD,CACtC,CAEA,MAAMgP,EAwNd,SAAiC5Y,EAAMz4C,GACnC,MAAMsxD,EAAc/wG,MAAMyB,KAAKy2F,EAAK5pF,UAC9B+2F,EAAgBrlG,MAAMyB,KAAKg+C,EAAQnxC,UAKzC,OAJgBulC,KAAKC,OAAOi9D,GACXl9D,KAAK2D,OAAOu5D,GAGA,IAFVl9D,KAAKC,OAAOuxD,GACXxxD,KAAK2D,OAAO6tD,GAC8B,EAClE,CAhOqC2L,CAAwB9Y,EAAMz4C,GAC3D,OAAOqxD,GAAwBD,CACnC,CAIA,UAAAT,CAAW73E,GACP,OAAOv4B,MAAMyB,KAAK82B,GAAQ2a,KAAK+9D,GACnC,CAIA,0BAAAR,CAA2BD,GACvB,MAAMU,EAAmBV,EAAQt9D,MAAK,CAACi+D,EAAQC,IAAWD,EAASC,IAGnE,MAAO,CAAEllG,MAFKglG,EAAiB,GAEf1wB,KADH0wB,EAAiBA,EAAiBxxG,OAAS,GAE5D,CAiBA,6BAAAkxG,CAA8BL,GAC1B,MAAM97C,EAAQ87C,EAAW,GAAGn9F,aAAa,SACnC2xF,EAAahmG,KAAKimG,cAAcuL,GAChCrT,EAAcppF,SAAS2gD,EAAMhoD,aAAa,iBAAmB,EAEnE,IAAK1N,KAAKsyG,yBAAyBtM,EAAY7H,GAC3C,OAAO,EAEX,MAAMmI,EAAgBtmG,KAAKumG,iBAAiBiL,GACtCpT,EAAiBrpF,SAAS2gD,EAAMhoD,aAAa,oBAAsB,EAEzE,OAAO1N,KAAKsyG,yBAAyBhM,EAAelI,EACxD,CAIA,wBAAAkU,EAAyB,MAAEnlG,EAAK,KAAEs0E,GAAQ8wB,GAGtC,OAF6BplG,EAAQolG,GACT9wB,EAAO8wB,CAEvC,EASJ,SAASnE,GAAgBtgG,EAAQ4nD,EAAO24C,EAAUlV,EAAMqZ,EAAmB5sG,EAAa,CAAC,GACrF,IAAK,IAAItF,EAAI,EAAGA,EAAI64F,EAAM74F,IAAK,CAC3B,MAAM0kG,EAAWl3F,EAAOnI,cAAc,YACtCmI,EAAO5H,OAAO8+F,EAAUtvC,EAAO24C,GAC/Ba,GAAYsD,EAAmB1kG,EAAQA,EAAO8mB,iBAAiBowE,EAAU,OAAQp/F,EACrF,CACJ,CAMA,SAASspG,GAAYtH,EAAO95F,EAAQyyF,EAAgB36F,EAAa,CAAC,GAC9D,IAAK,IAAItF,EAAI,EAAGA,EAAIsnG,EAAOtnG,IACvBggG,GAAqBxyF,EAAQyyF,EAAgB36F,EAErD,CAgBA,SAAS8qG,GAAgBrE,EAAMkE,GAC3B,GAAIlE,EAAOkE,EACP,MAAO,CAAEC,aAAc,EAAGC,YAAa,GAE3C,MAAMD,EAAe17D,KAAK29D,MAAMpG,EAAOkE,GAEvC,MAAO,CAAEC,eAAcC,YADFpE,EAAOmE,EAAeD,EAAiBC,EAEhE,CAsGA,SAAS0B,GAAkBQ,EAAQC,GAE/B,MAAMC,EAAOF,EAAOz6F,MACd46F,EAAOF,EAAO16F,MAIpB,OAAO26F,EAAKh8D,SAASi8D,IAAS,EAAI,CACtC,CCphCe,MAAMC,WAA0B,EAAA/lG,QAI3C,OAAAC,GACI,MAAMqoD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCwmG,EAAqBv8C,EAAW+7C,sBAAsBpxG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WACvFrN,KAAKuN,UAAY8nD,EAAWs8C,uBAAuBC,EACvD,CAMA,OAAAjkG,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBioD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IAC3CgC,EAAMS,QAAOC,IACT,MAAM8jG,EAAqBv8C,EAAW+7C,sBAAsBhkG,EAAMpJ,SAASqJ,WAErE0lG,EAAiBnB,EAAmB9tE,SAEpC,WAAEkvE,EAAU,YAAEC,GAmChC,SAA4BF,EAAgBnB,EAAoBv8C,GAC5D,IAAI69C,EAAiB,EACjBC,EAAkB,EACtB,IAAK,MAAM3S,KAAaoR,EAAoB,CACxC,MAAM,IAAEtT,EAAG,OAAEC,GAAWlpC,EAAW6oC,gBAAgBsC,GACnD0S,EAAiBE,GAAa5S,EAAWjC,EAAQ2U,EAAgB,WACjEC,EAAkBC,GAAa5S,EAAWlC,EAAK6U,EAAiB,UACpE,CAEA,MAAQ7U,IAAK+U,EAAc9U,OAAQ+U,GAAoBj+C,EAAW6oC,gBAAgB6U,GAGlF,MAAO,CAAEC,WAFUE,EAAiBI,EAEfL,YADDE,EAAkBE,EAE1C,CAhDgDE,CAAmBR,EAAgBnB,EAAoBv8C,GAC3FgrC,GAAuB,UAAW2S,EAAYD,EAAgBjlG,GAC9DuyF,GAAuB,UAAW4S,EAAaF,EAAgBjlG,GAC/D,IAAK,MAAM0yF,KAAaoR,EACpB,GAAgBpR,EAAWuS,EAAgBjlG,GAI/C+7F,GAFckJ,EAAe1+F,aAAa,SAEZghD,GAC9BvnD,EAAO0I,aAAau8F,EAAgB,KAAK,GAEjD,EAOJ,SAAS,GAAgBS,EAAiBC,EAAY3lG,GAC7C,GAAQ0lG,KACL,GAAQC,IACR3lG,EAAOnH,OAAOmH,EAAOoL,cAAcu6F,IAEvC3lG,EAAO8qB,KAAK9qB,EAAOoL,cAAcs6F,GAAkB1lG,EAAO8mB,iBAAiB6+E,EAAY,SAG3F3lG,EAAOnH,OAAO6sG,EAClB,CAIA,SAAS,GAAQhT,GACb,MAAM8L,EAAkB9L,EAAU72E,SAAS,GAC3C,OAA+B,GAAxB62E,EAAU/2E,YAAmB6iF,EAAgB32F,GAAG,UAAW,cAAgB22F,EAAgB33F,OACtG,CAeA,SAASy+F,GAAa5S,EAAWvoF,EAAOy7F,EAAkBC,GACtD,MAAMC,EAAiB7+F,SAASyrF,EAAU9yF,aAAaimG,IAAU,KACjE,OAAO7+D,KAAKC,IAAI2+D,EAAkBz7F,EAAQ27F,EAC9C,CC1Ee,MAAMC,WAAyB,EAAA9mG,QAI1C,WAAAvK,CAAYyK,GACRyB,MAAMzB,GAENjN,KAAK8xC,aAAc,CACvB,CAIA,OAAA9kC,GACI,MACM05F,EADa1mG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACVy6F,+BAA+B7lG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WAC3FrN,KAAKuN,UAAYm5F,EAAc/lG,OAAS,CAC5C,CAIA,OAAAgN,GACI,MAAMP,EAAQpN,KAAKiN,OAAOG,MACpBioD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCwhG,EAAiBv3C,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WAC1E24F,EAAa3wC,EAAW4wC,cAAc2G,GACtCl3C,EAAQk3C,EAAe,GAAGv4F,aAAa,SACvCy/F,EAAiB,GACvB,IAAK,IAAI9P,EAAWgC,EAAW74F,MAAO62F,GAAYgC,EAAWvkB,KAAMuiB,IAC/D,IAAK,MAAMlB,KAAQptC,EAAM/rC,SAASq6E,GAAUn9E,cACxCitF,EAAer0G,KAAK2N,EAAMoX,cAAcs+E,IAGhD11F,EAAMS,QAAOC,IACTA,EAAO0I,aAAas9F,EAAe,GAE3C,EClCW,MAAMC,WAA4B,EAAAhnG,QAI7C,WAAAvK,CAAYyK,GACRyB,MAAMzB,GAENjN,KAAK8xC,aAAc,CACvB,CAIA,OAAA9kC,GACI,MACM05F,EADa1mG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACVy6F,+BAA+B7lG,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WAC3FrN,KAAKuN,UAAYm5F,EAAc/lG,OAAS,CAC5C,CAIA,OAAAgN,GACI,MAAM0nD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrCgC,EAAQpN,KAAKiN,OAAOG,MACpBw/F,EAAiBv3C,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WAC1Em/F,EAAYI,EAAe,GAC3BU,EAAWV,EAAetpD,MAC1BoS,EAAQ82C,EAAUn4F,aAAa,SAC/B2/F,EAAgB3+C,EAAW6oC,gBAAgBsO,GAC3CyH,EAAc5+C,EAAW6oC,gBAAgBoP,GACzC9L,EAAc1sD,KAAK2D,IAAIu7D,EAAczV,OAAQ0V,EAAY1V,QACzDmD,EAAY5sD,KAAKC,IAAIi/D,EAAczV,OAAQ0V,EAAY1V,QACvDuV,EAAiB,GACvB,IAAK,MAAMI,KAAY,IAAI,GAAYx+C,EAAO,CAAE8rC,cAAaE,cACzDoS,EAAer0G,KAAK2N,EAAMoX,cAAc0vF,EAASpR,OAErD11F,EAAMS,QAAOC,IACTA,EAAO0I,aAAas9F,EAAe,GAE3C,EC6MJ,SAASK,GAAqBz+C,EAAO5nD,GACjC,IAAI2nD,GAAW,EACf,MAAM65C,EA4DV,SAAyB55C,GACrB,MAAMyoC,EAAcppF,SAAS2gD,EAAMhoD,aAAa,gBAAkB,KAC5D0mG,EAAUnzG,MAAMyB,KAAKgzD,EAAM7uC,eAC5B8O,QAAO,CAAC3wB,EAAOs5F,IAAQA,EAAI3oF,GAAG,UAAW,YAAc3Q,EAAQ,EAAIA,GAAO,GACzEsqG,EAAc,GACpB,IAAK,MAAM,IAAEhR,EAAG,KAAEwE,EAAI,WAAEyB,KAAgB,IAAI,GAAY7uC,GAAQ,CAE5D,GAAI6uC,EAAa,EACb,SAEJ,MAEM8P,EAFa/V,EAAMH,EAEKA,EAAciW,EAE5C,GAAI9V,EAAMiG,EAAa8P,EAAU,CAC7B,MAAMrM,EAAaqM,EAAW/V,EAC9BgR,EAAY7vG,KAAK,CAAEqjG,OAAME,QAASgF,GACtC,CACJ,CACA,OAAOsH,CACX,CAhFwBgF,CAAgB5+C,GACpC,GAAI45C,EAAY3uG,OAAQ,CAEpB80D,GAAW,EACX,IAAK,MAAMnyD,KAAQgsG,EACfjP,GAAuB,UAAW/8F,EAAK0/F,QAAS1/F,EAAKw/F,KAAMh1F,EAAQ,EAE3E,CACA,OAAO2nD,CACX,CAMA,SAAS8+C,GAAkB7+C,EAAO5nD,GAC9B,IAAI2nD,GAAW,EACf,MAAM++C,EAmEV,SAA4B9+C,GAExB,MAAM++C,EAAU,IAAIxzG,MAAMy0D,EAAMjsC,YAAY0/E,KAAK,GACjD,IAAK,MAAM,SAAEnF,KAAc,IAAI,GAAYtuC,EAAO,CAAEksC,iBAAiB,IACjE6S,EAAQzQ,KAEZ,OAAOyQ,CACX,CA1E4BC,CAAmBh/C,GACrCq3C,EAAe,GAErB,IAAK,MAAO/I,EAAUnvF,KAAS2/F,EAAgBpxD,WAEtCvuC,GAAQ6gD,EAAM/rC,SAASq6E,GAAUruF,GAAG,UAAW,aAChDo3F,EAAattG,KAAKukG,GAI1B,GAAI+I,EAAapsG,OAAQ,CAErB80D,GAAW,EACX,IAAK,MAAMuuC,KAAY+I,EAAa52E,UAChCroB,EAAOnH,OAAO+uD,EAAM/rC,SAASq6E,IAC7BwQ,EAAgBpsG,OAAO47F,EAAU,EAEzC,CAEA,MAAM2Q,EAAcH,EAAgBhuG,QAAO,CAAC83F,EAAK0F,IAAatuC,EAAM/rC,SAASq6E,GAAUruF,GAAG,UAAW,cAE/Fi/F,EAAYD,EAAY,GAE9B,IADgBA,EAAYr8F,OAAM3X,GAAUA,IAAWi0G,IACzC,CAGV,MAAMC,EAAaF,EAAYh/E,QAAO,CAACm/E,EAAMC,IAAYA,EAAUD,EAAOC,EAAUD,GAAM,GAC1F,IAAK,MAAO9Q,EAAUnvF,KAAS8/F,EAAYvxD,UAAW,CAClD,MAAM4rD,EAAkB6F,EAAahgG,EACrC,GAAIm6F,EAAiB,CACjB,IAAK,IAAI1uG,EAAI,EAAGA,EAAI0uG,EAAiB1uG,IACjCggG,GAAqBxyF,EAAQA,EAAO8mB,iBAAiB8gC,EAAM/rC,SAASq6E,GAAW,QAEnFvuC,GAAW,CACf,CACJ,CACJ,CACA,OAAOA,CACX,CAwCA,SAASu/C,GAAsB7gF,GAC3B,GAAmB,cAAfA,EAAM/pB,KACN,OAAO,EAEX,MAAMpE,EAAMmuB,EAAM9S,aAClB,MAAe,gBAARrb,GAAiC,YAARA,GAA6B,YAARA,CACzD,CCvTA,SAASivG,GAASv/C,EAAO5nD,GACrB,IAAI2nD,GAAW,EACf,IAAK,MAAM6oC,KAAO5oC,EAAM7uC,cAChBy3E,EAAI3oF,GAAG,UAAW,cAClB8/C,EAAWy/C,GAAY5W,EAAKxwF,IAAW2nD,GAG/C,OAAOA,CACX,CAIA,SAASy/C,GAAYlQ,EAAUl3F,GAC3B,IAAI2nD,GAAW,EACf,IAAK,MAAM+qC,KAAawE,EAASn+E,cAC7B4uC,EAAW0/C,GAAoB3U,EAAW1yF,IAAW2nD,EAEzD,OAAOA,CACX,CAMA,SAAS0/C,GAAoB3U,EAAW1yF,GAEpC,GAA4B,GAAxB0yF,EAAU/2E,WAGV,OADA3b,EAAO2yF,cAAc,YAAaD,IAC3B,EAIX,MAAM4U,EAAYn0G,MAAMyB,KAAK89F,EAAU35E,eAAergB,QAAOszB,GAASA,EAAMnkB,GAAG,WAE/E,IAAK,MAAMmkB,KAASs7E,EAChBtnG,EAAOmrB,KAAKnrB,EAAO0W,cAAcsV,GAAQ,aAG7C,QAASs7E,EAAUz0G,MACvB,CAMA,SAAS00G,GAAqBlhF,GAC1B,QAAKA,EAAM1U,SAAS/I,OAAOf,GAAG,UAAW,eAGpB,UAAdwe,EAAM/pB,MAAkC,SAAd+pB,EAAM1xB,MAAiC,UAAd0xB,EAAM/pB,KACpE,CCvEA,SAASkrG,GAAcx7E,EAAO9Y,GAC1B,IAAK8Y,EAAMnkB,GAAG,UAAW,aACrB,OAAO,EAEX,MAAMX,EAAcgM,EAAOC,cAAc6Y,GACzC,QAAK9kB,GAGEowF,GAAmCtrE,KAAW9kB,EAAYW,GAAG,UAAW,OACnF,gBCpCa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQpN,OCmBR,MAAM,WAAqB,EAAAgG,OAItC,qBAAWC,GACP,MAAO,cACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,GACZ,CAIA,WAAA/Q,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAKu1G,iBAAmB,EAC5B,CAIA,IAAA1mG,GACI,MAAM5B,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfgB,EAAShB,EAAMgB,OACfgB,EAAanC,EAAOmC,WACpBimD,EAAapoD,EAAO8G,QAAQ3I,IAAI,IACtCgD,EAAOuX,SAAS,QAAS,CACrBC,eAAgB,eAChB3W,gBAAiB,CAAC,cAAe,oBAErCb,EAAOuX,SAAS,WAAY,CACxBwF,QAAS,QACTE,SAAS,IAEbjd,EAAOuX,SAAS,YAAa,CACzByF,eAAgB,aAChBD,QAAS,WACTlc,gBAAiB,CAAC,UAAW,WAC7Boc,SAAS,EACTmqF,cAAc,IAGlBpmG,EAAWK,IAAI,UAAUjH,KtB9DrB2Y,IACJA,EAAWjO,GAAG,kBAAkB,CAAC0N,EAAKtd,EAAMud,KAExC,IAAKA,EAAcC,WAAWne,KAAKW,EAAK2iB,SAAU,CAAExjB,MAAM,EAAMqV,QAAS,UACrE,OAGJ,MAAM29F,EAwHlB,SAAgCz8F,GAC5B,IAAK,MAAM08F,KAAe18F,EAAW6N,cACjC,GAAI6uF,EAAY//F,GAAG,UAAW,SAC1B,OAAO+/F,CAGnB,CA9H8BC,CAAuBryG,EAAK2iB,UAE9C,IAAKwvF,IAAc50F,EAAcC,WAAWne,KAAK8yG,EAAW,CAAEhzG,MAAM,IAChE,OAGJoe,EAAcC,WAAWC,QAAQzd,EAAK2iB,SAAU,CAAExjB,MAAM,EAAMqV,QAAS,UAEvE,MAAMoO,EAAmBrF,EAAcsF,YAAYsvF,EAAWnyG,EAAK8iB,aAE7DwvF,GAAa,IAAAzoG,OAAM+Y,EAAiBI,WAAWC,YAEhDqvF,GAKL/0F,EAAc2F,gBAAgBljB,EAAK2iB,SAAUpF,EAAc/S,OAAO8mB,iBAAiBghF,EAAY,QAC/F/0F,EAAc4F,uBAAuBmvF,EAAYtyG,IAJ7Cud,EAAcC,WAAW4F,OAAOpjB,EAAK2iB,SAAU,CAAExjB,MAAM,EAAMqV,QAAS,SAIpB,GACxD,IsBsCF1I,EAAWK,IAAI,UAAUjH,KtB3BrB2Y,IACJA,EAAWjO,GAAG,iBAAiB,CAAC0N,EAAKtd,EAAMud,KACvC,MAAM40F,EAAYnyG,EAAK2iB,SAEvB,IAAKpF,EAAcC,WAAWne,KAAK8yG,EAAW,CAAEhzG,MAAM,IAClD,OAEJ,MAAM,KAAE02F,EAAI,YAAEgF,EAAW,eAAEC,GAiGvC,SAAmBqX,GACf,IACIrX,EADAD,EAAc,EAclB,MAAM0X,EAAW,GACXC,EAAW,GAGjB,IAAIC,EACJ,IAAK,MAAMC,KAAc/0G,MAAMyB,KAAK+yG,EAAU5uF,eAAgB,CAG1D,GAAwB,UAApBmvF,EAAWvzG,MAAwC,UAApBuzG,EAAWvzG,MAAwC,UAApBuzG,EAAWvzG,KACzE,SAGoB,UAApBuzG,EAAWvzG,MAAqBszG,IAChCA,EAAoBC,GAIxB,MAAMC,EAAMh1G,MAAMyB,KAAKszG,EAAWnvF,eAAergB,QAAQypF,GAAOA,EAAGt6E,GAAG,UAAW,QACjF,IAAK,MAAMorF,KAAMkV,EAEb,GAAKF,GAAqBC,IAAeD,GAChB,UAApBC,EAAWvzG,MACRxB,MAAMyB,KAAKq+F,EAAGl6E,eAAelmB,QAC7BM,MAAMyB,KAAKq+F,EAAGl6E,eAAevO,OAAMhU,GAAKA,EAAEqR,GAAG,UAAW,QAC5DwoF,IACA0X,EAASp2G,KAAKshG,OAEb,CACD+U,EAASr2G,KAAKshG,GAEd,MAAMmV,EAAcpV,GAAyBC,KACxC3C,GAAkB8X,EAAc9X,KACjCA,EAAiB8X,EAEzB,CAER,CACA,MAAO,CACH/X,cACAC,eAAgBA,GAAkB,EAClCjF,KAAM,IAAI0c,KAAaC,GAE/B,CA1J0DK,CAAUV,GAElD7vG,EAAa,CAAC,EAChBw4F,IACAx4F,EAAWw4F,eAAiBA,GAE5BD,IACAv4F,EAAWu4F,YAAcA,GAE7B,MAAMzoC,EAAQ70C,EAAc/S,OAAOnI,cAAc,QAASC,GAC1D,GAAKib,EAAc8nB,WAAW+sB,EAAOpyD,EAAK8iB,aAA1C,CASA,GANAvF,EAAcC,WAAWC,QAAQ00F,EAAW,CAAEhzG,MAAM,IAEpD02F,EAAKpzF,SAAQu4F,GAAOz9E,EAAcsF,YAAYm4E,EAAKz9E,EAAc/S,OAAO8mB,iBAAiB8gC,EAAO,UAEhG70C,EAAc2F,gBAAgBivF,EAAW50F,EAAc/S,OAAO8mB,iBAAiB8gC,EAAO,QAElFA,EAAM/gD,QAAS,CACf,MAAM2pF,EAAMz9E,EAAc/S,OAAOnI,cAAc,YAC/Ckb,EAAc/S,OAAO5H,OAAOo4F,EAAKz9E,EAAc/S,OAAO8mB,iBAAiB8gC,EAAO,QAC9E4qC,GAAqBz/E,EAAc/S,OAAQ+S,EAAc/S,OAAO8mB,iBAAiB0pE,EAAK,OAC1F,CACAz9E,EAAc4F,uBAAuBivC,EAAOpyD,EAZ5C,CAYiD,GACnD,IsBJF8L,EAAWK,IAAI,mBAAmBqW,mBAAmB,CACjD1Y,MAAO,CACH3K,KAAM,QACNmD,WAAY,CAAC,gBAEjB0J,KAAMm1F,GAAcpvC,EAAY,CAC5BzI,UAAU,EACVi4C,gBAAiB7kG,KAAKu1G,qBAG9BnmG,EAAWK,IAAI,gBAAgBqW,mBAAmB,CAC9C1Y,MAAO,CACH3K,KAAM,QACNmD,WAAY,CAAC,gBAEjB0J,KAAMm1F,GAAcpvC,EAAY,CAC5BwvC,gBAAiB7kG,KAAKu1G,qBAI9BnmG,EAAWK,IAAI,UAAUsW,iBAAiB,CAAE3Y,MAAO,WAAYkC,KAAM,OACrEF,EAAWK,IAAI,UAAUjH,KtBDrB2Y,IACJA,EAAWjO,GAAG,cAAc,CAAC0N,EAAKtd,KAC1BA,EAAK2iB,SAAStR,SAAqC,GAA1BrR,EAAK8iB,YAAYnhB,OAC1C2b,EAAIsZ,MACR,GACD,CAAEvf,SAAU,QAAS,IsBHxBvL,EAAWK,IAAI,YAAYsW,iBAAiB,CACxC3Y,MAAO,WACPkC,KpBhED,CAAC01F,GAAYl3F,YACTk3F,EAASrwF,QACZ7G,EAAO4F,mBAAmB,MAC1B5F,EAAO2F,uBAAuB,QoBgElCrE,EAAWK,IAAI,UAAUsW,iBAAiB,CAAE3Y,MAAO,YAAakC,KAAM,OACtEF,EAAWK,IAAI,UAAUsW,iBAAiB,CAAE3Y,MAAO,YAAakC,KAAM,OACtEF,EAAWK,IAAI,UAAUjH,IAAIq4F,GAA2B,OACxDzxF,EAAWK,IAAI,UAAUjH,IAAIq4F,GAA2B,OACxDzxF,EAAWK,IAAI,mBAAmBsW,iBAAiB,CAC/C3Y,MAAO,YACPkC,KAAMy1F,GAAa,CAAEn4C,UAAU,MAEnCx9C,EAAWK,IAAI,gBAAgBsW,iBAAiB,CAC5C3Y,MAAO,YACPkC,KAAMy1F,OAGV31F,EAAWK,IAAI,mBAAmBsW,iBAAiB,CAC/C3Y,MAAO,YACPkC,KAAM61F,GAA4B,CAAEv4C,UAAU,IAC9CsF,kBAAmB,SAEvB9iD,EAAWK,IAAI,gBAAgBsW,iBAAiB,CAC5C3Y,MAAO,YACPkC,KAAM61F,KACNjzC,kBAAmB,SAGvB9iD,EAAWK,IAAI,YAAYJ,qBAAqB,CAAEjC,MAAO,UAAWkC,KAAM,YAC1EF,EAAWK,IAAI,UAAUJ,qBAAqB,CAC1CjC,MAAO,CAAEpH,IAAK,UAAWjE,MAAOq0G,GAAe,YAC/C9mG,KAAM,YAEVF,EAAWK,IAAI,YAAYJ,qBAAqB,CAAEjC,MAAO,UAAWkC,KAAM,YAC1EF,EAAWK,IAAI,UAAUJ,qBAAqB,CAC1CjC,MAAO,CAAEpH,IAAK,UAAWjE,MAAOq0G,GAAe,YAC/C9mG,KAAM,YAGVrC,EAAO0B,OAAOC,OAAO,6BAA8B,GACnD3B,EAAO0B,OAAOC,OAAO,gCAAiC,GAEtD3B,EAAO+C,SAASxH,IAAI,cAAe,IAAI68F,GAAmBp4F,IAC1DA,EAAO+C,SAASxH,IAAI,sBAAuB,IAAIm9F,GAAiB14F,EAAQ,CAAE4gF,MAAO,WACjF5gF,EAAO+C,SAASxH,IAAI,sBAAuB,IAAIm9F,GAAiB14F,EAAQ,CAAE4gF,MAAO,WACjF5gF,EAAO+C,SAASxH,IAAI,wBAAyB,IAAI69F,GAAoBp5F,EAAQ,CAAE4gF,MAAO,UACtF5gF,EAAO+C,SAASxH,IAAI,yBAA0B,IAAI69F,GAAoBp5F,EAAQ,CAAE4gF,MAAO,WACvF5gF,EAAO+C,SAASxH,IAAI,iBAAkB,IAAI+jG,GAAiBt/F,IAC3DA,EAAO+C,SAASxH,IAAI,oBAAqB,IAAI4kG,GAAoBngG,IACjEA,EAAO+C,SAASxH,IAAI,2BAA4B,IAAIi+F,GAAiBx5F,EAAQ,CAAEmtB,UAAW,gBAC1FntB,EAAO+C,SAASxH,IAAI,6BAA8B,IAAIi+F,GAAiBx5F,EAAQ,CAAEmtB,UAAW,kBAC5FntB,EAAO+C,SAASxH,IAAI,kBAAmB,IAAIsqG,GAAkB7lG,IAC7DA,EAAO+C,SAASxH,IAAI,sBAAuB,IAAIiiG,GAAiBx9F,EAAQ,CAAEmtB,UAAW,WACrFntB,EAAO+C,SAASxH,IAAI,qBAAsB,IAAIiiG,GAAiBx9F,EAAQ,CAAEmtB,UAAW,UACpFntB,EAAO+C,SAASxH,IAAI,qBAAsB,IAAIiiG,GAAiBx9F,EAAQ,CAAEmtB,UAAW,UACpFntB,EAAO+C,SAASxH,IAAI,mBAAoB,IAAIiiG,GAAiBx9F,EAAQ,CAAEmtB,UAAW,QAClFntB,EAAO+C,SAASxH,IAAI,uBAAwB,IAAIylG,GAAuBhhG,IACvEA,EAAO+C,SAASxH,IAAI,oBAAqB,IAAImlG,GAAoB1gG,IACjEA,EAAO+C,SAASxH,IAAI,iBAAkB,IAAIqrG,GAAiB5mG,IAC3DA,EAAO+C,SAASxH,IAAI,oBAAqB,IAAIurG,GAAoB9mG,IJwD1D,SAAoCG,GAC/CA,EAAMpJ,SAASktB,mBAAkBpjB,GAKrC,SAA8BA,EAAQV,GAClC,MAAMsf,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAI6oC,GAAW,EAEf,MAAM4gD,EAAiB,IAAIh8D,IAC3B,IAAK,MAAMlmB,KAASzH,EAAS,CACzB,IAAIgpC,EAAQ,KACM,UAAdvhC,EAAM/pB,MAAkC,SAAd+pB,EAAM1xB,OAChCizD,EAAQvhC,EAAM1U,SAASoN,WAGR,UAAdsH,EAAM/pB,MAAkC,UAAd+pB,EAAM/pB,MAAoC,YAAd+pB,EAAM1xB,MAAoC,aAAd0xB,EAAM1xB,OACzFizD,EAAQvhC,EAAM1U,SAASpL,aAAa,UAGpC2gG,GAAsB7gF,KACtBuhC,EAAQvhC,EAAMzP,MAAMzM,MAAM5D,aAAa,UAEvCqhD,IAAU2gD,EAAepiG,IAAIyhD,KAG7BD,EAAW0+C,GAAqBz+C,EAAO5nD,IAAW2nD,EAElDA,EAAW8+C,GAAkB7+C,EAAO5nD,IAAW2nD,EAC/C4gD,EAAe7tG,IAAIktD,GAE3B,CACA,OAAOD,CACX,CAjC+C6gD,CAAqBxoG,EAAQV,IAC5E,CIzDQmpG,CAA2BnpG,GH7IpB,SAA2CA,GACtDA,EAAMpJ,SAASktB,mBAAkBpjB,GAKrC,SAAoCA,EAAQV,GACxC,MAAMsf,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAI6oC,GAAW,EACf,IAAK,MAAMthC,KAASzH,EACE,UAAdyH,EAAM/pB,MAAkC,SAAd+pB,EAAM1xB,OAChCgzD,EAAWw/C,GAAS9gF,EAAM1U,SAASoN,UAAW/e,IAAW2nD,GAE3C,UAAdthC,EAAM/pB,MAAkC,YAAd+pB,EAAM1xB,OAChCgzD,EAAWy/C,GAAY/gF,EAAM1U,SAASoN,UAAW/e,IAAW2nD,GAE9C,UAAdthC,EAAM/pB,MAAkC,aAAd+pB,EAAM1xB,OAChCgzD,EAAW0/C,GAAoBhhF,EAAM1U,SAASoN,UAAW/e,IAAW2nD,GAErD,UAAdthC,EAAM/pB,MAAkC,UAAd+pB,EAAM/pB,OAAqBirG,GAAqBlhF,KAC3EshC,EAAW0/C,GAAoBhhF,EAAM1U,SAAS/I,OAAQ5I,IAAW2nD,GAGzE,OAAOA,CACX,CAvB+C+gD,CAA2B1oG,EAAQV,IAClF,CG4IQqpG,CAAkCrpG,GAClCpN,KAAK2R,SAASvE,EAAMpJ,SAAU,eAAe,MC7JtC,SAAqCoJ,EAAOwE,GACvD,MAAM+a,EAASvf,EAAMpJ,SAAS2oB,OAC9B,IAAK,MAAM9e,KAAU8e,EAAOC,aAAc,CACtC,IAAI8oC,EACAghD,GAAc,EAClB,GAAmB,aAAf7oG,EAAOzD,KAAqB,CAC5B,MAAM8J,EAAUrG,EAAO6W,MAAMzM,MAAM4U,UACnC,IAAK3Y,IAAYA,EAAQyB,GAAG,UAAW,SACnC,SAEJ,GAA2B,eAAvB9H,EAAOwT,cAAwD,kBAAvBxT,EAAOwT,aAC/C,SAEJq0C,EAAQxhD,EACRwiG,EAAqC,eAAvB7oG,EAAOwT,YACzB,KACwB,YAAfxT,EAAOpL,MAAqC,aAAfoL,EAAOpL,OACzCizD,EAAQ7nD,EAAO4R,SAASpL,aAAa,SACrCqiG,EAA6B,YAAf7oG,EAAOpL,MAEzB,IAAKizD,EACD,SAEJ,MAAMyoC,EAAczoC,EAAMhoD,aAAa,gBAAkB,EACnD0wF,EAAiB1oC,EAAMhoD,aAAa,mBAAqB,EACzDw2F,EAAc,IAAI,GAAYxuC,GACpC,IAAK,MAAMuvC,KAAaf,EAAa,CACjC,MACMyS,EADY1R,EAAU3G,IAAMH,GAAe8G,EAAU1G,OAASH,EAC5B,KAAO,KACzCppF,EAAcpD,EAAQoP,OAAOC,cAAcgkF,EAAUnC,MACvD9tF,GAAeA,EAAYW,GAAG,YAAcX,EAAYvS,MAAQk0G,GAChE/kG,EAAQkb,cAAe4pF,EAAczR,EAAUnC,KAAKpsF,OAASuuF,EAAUnC,KAE/E,CACJ,CACJ,CD2HY8T,CAA4BxpG,EAAOH,EAAO2E,SF7JvC,SAAiCxE,EAAOwE,GACnD,MAAM+a,EAASvf,EAAMpJ,SAAS2oB,OAExBkqF,EAAe,IAAIx8D,IACzB,IAAK,MAAMxsC,KAAU8e,EAAOC,aAAc,CACtC,MAAMlW,EAAwB,aAAf7I,EAAOzD,KAAsByD,EAAO6W,MAAMzM,MAAMvB,OAAS7I,EAAO4R,SAAS/I,OACpFA,EAAOf,GAAG,UAAW,cACrBkhG,EAAaruG,IAAIkO,EAEzB,CACA,IAAK,MAAM8pF,KAAaqW,EAAatnG,SAAU,CAC3C,MAAMunG,EAAsB71G,MAAMyB,KAAK89F,EAAU35E,eAC5CrgB,QAAOszB,GAASw7E,GAAcx7E,EAAOloB,EAAQoP,UAClD,IAAK,MAAMw8C,KAAas5C,EACpBllG,EAAQkb,cAAc0wC,EAE9B,CACJ,CE6IYu5C,CAAwB3pG,EAAOH,EAAO2E,QAAQ,GAEtD,CAIA,sBAAAolG,CAAuBC,GACnBj3G,KAAKu1G,iBAAiB91G,KAAKw3G,EAC/B,EAQJ,SAASb,GAAehsG,GACpB,OAAQ04F,IACJ,MAAMuJ,EAAOt3F,SAAS+tF,EAAKp1F,aAAatD,IACxC,OAAIgxB,OAAOwjB,MAAMytD,IAASA,GAAQ,EACvB,KAEJA,CAAI,CAEnB,gBE5La,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ9jG,OCGR,MAAM2uG,WAAwB,EAAAh7F,KAIzC,WAAA1Z,CAAYwJ,GACR0C,MAAM1C,GACN,MAAMtE,EAAO1H,KAAKgvC,aAClBhvC,KAAKoT,MAAQpT,KAAKm3G,wBAClBn3G,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAKqR,IAAI,OAAQ,GACjBrR,KAAKqR,IAAI,UAAW,GACpBrR,KAAK0H,KAAK,SAASgK,GAAG1R,KAAM,UAAWA,KAAM,QAAQ,CAAC0gD,EAASy4C,IAAS,GAAGA,OAAUz4C,MACrF1gD,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CAAC,OAEZY,SAAU,CACN,CACIoK,IAAK,MACL3X,WAAY,CACR2M,MAAO,CAAC,mCAEZW,GAAI,CACA,+CAAgDxL,EAAKgK,GAAG,YAE5DyB,SAAUnT,KAAKoT,OAEnB,CACImK,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,mCAEJ,eAAe,GAEnBY,SAAU,CACN,CACIiiB,KAAM1tB,EAAKgK,GAAG,aAK9BwB,GAAI,CACAkkG,UAAW1vG,EAAKgK,IAAGkP,IACfA,EAAIqZ,gBAAgB,IAExBoyC,MAAO3kE,EAAKgK,IAAG,KACX1R,KAAKkiB,KAAK,UAAU,OAKhCliB,KAAKkT,GAAG,WAAW,CAAC0N,EAAKy2F,KACrB,MAAM,IAAE/Y,EAAG,OAAEC,GAAW8Y,EAAOvzG,OAAOi0F,QACtC/3F,KAAKoT,MAAMhI,IAA8B,IAAzB2J,SAASupF,EAAK,IAAM,IAAWvpF,SAASwpF,EAAQ,IAAM,IAAI1sF,OAAO,IAKrF7R,KAAKmc,aAAajJ,GAAG,yBAAyB,CAAC0N,EAAKne,EAAM60G,KACtD,IAAKA,EACD,OAEJ,MAAM,IAAEhZ,EAAG,OAAEC,GAAW+Y,EAAevf,QAEvC/3F,KAAKqR,IAAI,CACL8nF,KAAMpkF,SAASupF,GACf59C,QAAS3rC,SAASwpF,IACpB,IAENv+F,KAAKkT,GAAG,kBAAkB,IAAMlT,KAAKu3G,wBACrCv3G,KAAKkT,GAAG,eAAe,IAAMlT,KAAKu3G,uBACtC,CACA,MAAA95F,GACI/O,MAAM+O,UACN,IAAAikE,4BAA2B,CACvBxkE,iBAAkBld,KAAKqc,WACvBF,aAAcnc,KAAKmc,aACnBwlE,UAAW3hF,KAAKoT,MAChBwuE,gBAAiB,GACjB3vE,oBAAqBjS,KAAKgM,QAAUhM,KAAKgM,OAAOiG,sBAEpD,IAAK,MAAM/R,KAAQF,KAAKoT,MACpBpT,KAAKmc,aAAa3T,IAAItI,EAAKgU,SAE/BlU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,KAAA+5B,GACIjuC,KAAKqR,IAAI,CACL8nF,KAAM,EACNz4C,QAAS,GAEjB,CAIA,KAAA7uC,GACI7R,KAAKoT,MAAMhI,IAAI,GAAGyG,OACtB,CAIA,SAAAm8B,GACIhuC,KAAKoT,MAAMhI,IAAI,GAAGyG,OACtB,CAIA,mBAAA0lG,GACI,MAAMpe,EAAOn5F,KAAKm5F,KACZz4C,EAAU1gD,KAAK0gD,QACrB1gD,KAAKoT,MAAMnT,KAAI,CAACu3G,EAASvyG,KAErB,MAGM8tB,EAHU+hB,KAAK29D,MAAMxtG,EAAQ,IAGZk0F,GAFJl0F,EAAQ,GAEiBy7C,EAC5C82D,EAAQnmG,IAAI,OAAQ0hB,EAAK,GAEjC,CASA,iBAAA0kF,CAAkBzrG,EAAQsyF,EAAKC,EAAQjtF,GACnC,MAAMuM,EAAS,IAAI,EAAAzM,WAAWpF,GAW9B,OAVA6R,EAAOxM,IAAI,CACPC,QACAiB,MAAO,sCAEXsL,EAAOvL,eAAe,CAClB1M,WAAY,CACR,WAAY04F,EACZ,cAAeC,KAGhB1gF,CACX,CAIA,qBAAAs5F,GACI,MAAMO,EAAQ,GAEd,IAAK,IAAIzyG,EAAQ,EAAGA,EAAQ,IAAKA,IAAS,CACtC,MAAMq5F,EAAMxpD,KAAK29D,MAAMxtG,EAAQ,IACzBs5F,EAASt5F,EAAQ,GACjBqM,EAAQ,GAAGgtF,EAAM,OAAOC,EAAS,IACvCmZ,EAAMj4G,KAAKO,KAAKy3G,kBAAkBz3G,KAAKgM,OAAQsyF,EAAM,EAAGC,EAAS,EAAGjtF,GACxE,CACA,OAAOtR,KAAKunB,iBAAiBmwF,EACjC,ECvJW,MAAMC,WAAgB,EAAAppG,OAIjC,qBAAWC,GACP,MAAO,SACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAI1Q,KAAKiN,OAAOyD,EAEhBknG,EAA4C,QADjB3qG,EAAOjB,OAAOC,yBAE/CgB,EAAO6D,GAAGC,iBAAiBvI,IAAI,eAAewD,IAC1C,MAAMkF,EAAUjE,EAAO+C,SAAS5E,IAAI,eAC9B0G,GAAe,IAAAC,gBAAe/F,GAQpC,IAAI6rG,EAcJ,OArBA/lG,EAAapK,KAAK,aAAagK,GAAGR,GAElCY,EAAaX,WAAWE,IAAI,CACxBE,KAAM,EAAApB,MAAMulD,MACZpkD,MAAOZ,EAAE,gBACTc,SAAS,IAGbM,EAAaoB,GAAG,iBAAiB,KACzB2kG,IAIJA,EAAkB,IAAIX,GAAgBlrG,GACtC8F,EAAauB,UAAUF,SAAS3K,IAAIqvG,GACpCA,EAAgB5kG,SAAS,WAAWvB,GAAGI,GACvCA,EAAaoB,GAAG,WAAW,KACvBjG,EAAOU,QAAQ,cAAe,CAAEwrF,KAAM0e,EAAgB1e,KAAMz4C,QAASm3D,EAAgBn3D,UACrFzzC,EAAO2E,QAAQtC,KAAKuC,OAAO,IAC7B,IAECC,CAAY,IAEvB7E,EAAO6D,GAAGC,iBAAiBvI,IAAI,uBAAuBwD,IAClD,MAAMkF,EAAUjE,EAAO+C,SAAS5E,IAAI,eAC9BqH,EAAW,IAAI,EAAAC,gBAAgB1G,GAC/B6rG,EAAkB,IAAIX,GAAgBlrG,GAiB5C,OAhBA6rG,EAAgB5kG,SAAS,WAAWvB,GAAGe,GACvCA,EAASS,GAAG,iBAAiB,CAACwO,EAAOjf,EAAMuwB,KAClCA,GACD6kF,EAAgB5pE,OACpB,IAEJ4pE,EAAgB3kG,GAAG,WAAW,KAC1BjG,EAAOU,QAAQ,cAAe,CAAEwrF,KAAM0e,EAAgB1e,KAAMz4C,QAASm3D,EAAgBn3D,UACrFzzC,EAAO2E,QAAQtC,KAAKuC,OAAO,IAE/BY,EAAStB,WAAWE,IAAI,CACpBC,MAAOZ,EAAE,SACTa,KAAM,EAAApB,MAAMulD,QAEhBjjD,EAASY,UAAUF,SAAS3K,IAAIqvG,GAChCplG,EAAS/K,KAAK,aAAagK,GAAGR,GACvBuB,CAAQ,IAEnBxF,EAAO6D,GAAGC,iBAAiBvI,IAAI,eAAewD,IAC1C,MAAMpH,EAAU,CACZ,CACIwF,KAAM,eACNgD,MAAO,CACHkuB,YAAa,uBACbhqB,MAAOZ,EAAE,iBACTonG,UAAU,IAGlB,CAAE1tG,KAAM,aACR,CACIA,KAAM,SACNgD,MAAO,CACHkuB,YAAas8E,EAAe,wBAA0B,yBACtDtmG,MAAOZ,EAAE,wBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAas8E,EAAe,yBAA2B,wBACvDtmG,MAAOZ,EAAE,yBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,oBACbhqB,MAAOZ,EAAE,mBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,oBACbhqB,MAAOZ,EAAE,oBAIrB,OAAO1Q,KAAK+3G,iBAAiBrnG,EAAE,UCtI3C,yYDsIuE9L,EAASoH,EAAO,IAE/EiB,EAAO6D,GAAGC,iBAAiBvI,IAAI,YAAYwD,IACvC,MAAMpH,EAAU,CACZ,CACIwF,KAAM,eACNgD,MAAO,CACHkuB,YAAa,oBACbhqB,MAAOZ,EAAE,cACTonG,UAAU,IAGlB,CAAE1tG,KAAM,aACR,CACIA,KAAM,SACNgD,MAAO,CACHkuB,YAAa,sBACbhqB,MAAOZ,EAAE,sBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,sBACbhqB,MAAOZ,EAAE,sBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,iBACbhqB,MAAOZ,EAAE,gBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,iBACbhqB,MAAOZ,EAAE,iBAIrB,OAAO1Q,KAAK+3G,iBAAiBrnG,EAAE,OEhL3C,sYFgLiE9L,EAASoH,EAAO,IAEzEiB,EAAO6D,GAAGC,iBAAiBvI,IAAI,mBAAmBwD,IAC9C,MAAMpH,EAAU,CACZ,CACIwF,KAAM,SACNgD,MAAO,CACHkuB,YAAa,mBACbhqB,MAAOZ,EAAE,mBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAas8E,EAAe,sBAAwB,qBACpDtmG,MAAOZ,EAAE,sBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,qBACbhqB,MAAOZ,EAAE,qBAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAas8E,EAAe,qBAAuB,sBACnDtmG,MAAOZ,EAAE,qBAGjB,CAAEtG,KAAM,aACR,CACIA,KAAM,SACNgD,MAAO,CACHkuB,YAAa,2BACbhqB,MAAOZ,EAAE,2BAGjB,CACItG,KAAM,SACNgD,MAAO,CACHkuB,YAAa,6BACbhqB,MAAOZ,EAAE,8BAIrB,OAAO1Q,KAAKg4G,iCAAiCtnG,EAAE,eGhO3D,yYHgO+F9L,EAASoH,EAAO,GAE3G,CAQA,gBAAA+rG,CAAiBzmG,EAAOC,EAAM3M,EAASoH,GACnC,MAAMiB,EAASjN,KAAKiN,OACd6E,GAAe,IAAAC,gBAAe/F,GAC9BgE,EAAWhQ,KAAKi4G,6BAA6BnmG,EAAclN,GAkBjE,OAhBAkN,EAAaX,WAAWE,IAAI,CACxBC,QACAC,OACAC,SAAS,IAGbM,EAAapK,KAAK,aAAamhB,OAAO7Y,EAAU,aAAa,IAAIijB,IACtDA,EAAWrmB,MAAKW,GAAaA,MAExCvN,KAAK2R,SAASG,EAAc,WAAW8O,IACnC3T,EAAOU,QAAQiT,EAAIld,OAAO43B,aAEpB1a,EAAIld,kBAAkB,EAAAmsC,kBACxB5iC,EAAO2E,QAAQtC,KAAKuC,OACxB,IAEGC,CACX,CASA,gCAAAkmG,CAAiC1mG,EAAOC,EAAM3M,EAASoH,GACnD,MAAMiB,EAASjN,KAAKiN,OACd6E,GAAe,IAAAC,gBAAe/F,EAAQ,EAAA2c,iBACtCuvF,EAAmB,kBAEnBC,EAAelrG,EAAO+C,SAAS5E,IAAI8sG,GAEnCloG,EAAWhQ,KAAKi4G,6BAA6BnmG,EAAclN,GAqBjE,OApBAkN,EAAaX,WAAWE,IAAI,CACxBC,QACAC,OACAC,SAAS,EACTjE,WAAW,IAGfuE,EAAapK,KAAK,aAAamhB,OAAO,CAACsvF,KAAiBnoG,GAAW,aAAa,IAAIijB,IACzEA,EAAWrmB,MAAKW,GAAaA,MAGxCvN,KAAK2R,SAASG,EAAaX,WAAY,WAAW,KAC9ClE,EAAOU,QAAQuqG,GACfjrG,EAAO2E,QAAQtC,KAAKuC,OAAO,IAG/B7R,KAAK2R,SAASG,EAAc,WAAW8O,IACnC3T,EAAOU,QAAQiT,EAAIld,OAAO43B,aAC1BruB,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBC,CACX,CAQA,4BAAAmmG,CAA6BnmG,EAAclN,GACvC,MAAMqI,EAASjN,KAAKiN,OACd+C,EAAW,GACXu7B,EAAkB,IAAI,EAAAK,WAC5B,IAAK,MAAMhgC,KAAUhH,EACjBwzG,GAAcxsG,EAAQqB,EAAQ+C,EAAUu7B,GAG5C,OADA,IAAAI,mBAAkB75B,EAAcy5B,GACzBv7B,CACX,EASJ,SAASooG,GAAcxsG,EAAQqB,EAAQ+C,EAAUu7B,GAC7C,GAAoB,WAAhB3/B,EAAOxB,MAAqC,iBAAhBwB,EAAOxB,KAAyB,CAC5D,MAAMgD,EAAQxB,EAAOwB,MAAQ,IAAI,EAAA0+B,UAAUlgC,EAAOwB,QAC5C,YAAEkuB,EAAW,SAAEw8E,GAAalsG,EAAOwB,MACnC8D,EAAUjE,EAAO+C,SAAS5E,IAAIkwB,GACpCtrB,EAASvQ,KAAKyR,GACd9D,EAAMiE,IAAI,CAAEiqB,gBACZluB,EAAM1F,KAAK,aAAagK,GAAGR,GACvB4mG,GACA1qG,EAAM1F,KAAK,QAAQgK,GAAGR,EAAS,SAEnC9D,EAAMiE,IAAI,CACN06B,UAAU,GAElB,CACAR,EAAgB/iC,IAAIoD,EACxB,gBIxUa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQrD,OCKR,MAAM8vG,WAAuB,EAAA9pG,OAIxC,qBAAWC,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,GAAY,GACxB,CAIA,IAAA1E,GACI,MAAM5B,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfkC,EAAOrC,EAAO2E,QAAQtC,KAC5BtP,KAAK2R,SAASvE,EAAO,iBAAiB,CAACwT,EAAKwxB,IAASpyC,KAAKs4G,qBAAqB13F,EAAKwxB,IAAO,CAAEz3B,SAAU,SACvG3a,KAAK2R,SAASrC,EAAKtL,SAAU,cAAc,CAAC4c,EAAKtd,IAAStD,KAAKu4G,uBAAuB33F,EAAKtd,IAAO,CAAEqX,SAAU,SAC9G3a,KAAKw4G,4BACLx4G,KAAKy4G,wBACT,CAIA,qBAAArH,GACI,MAAM/7C,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCiC,EAAYrN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UACvCq5F,EAAgBrxC,EAAW+7C,sBAAsB/jG,GACvD,OAA4B,GAAxBq5F,EAAc/lG,OACP,KAMJ+lG,CACX,CAIA,sBAAAgS,GACI,MAAMrjD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCs7F,EAAgB1mG,KAAKoxG,wBAC3B,OAAK1K,EAGE1mG,KAAKiN,OAAOG,MAAMS,QAAOC,IAC5B,MAAM0rD,EAAmB1rD,EAAOqZ,0BACxBha,MAAO88F,EAAaxoB,KAAMyoB,GAAe70C,EAAWkxC,iBAAiBG,IACrEv5F,MAAOo9F,EAAU9oB,KAAM0oB,GAAY90C,EAAW4wC,cAAcS,GAC9DI,EAAcJ,EAAc,GAAGryF,aAAa,SAClD,IAAIskG,EAAkBxO,EAClByO,EAAqB1O,EAGzB,GAAI70C,EAAWs8C,uBAAuBjL,GAAgB,CAClD,MAAMqD,EAAa,CACfE,cACAC,aACAK,WACAJ,WAEJwO,EAAkB7O,GAAmBhD,EAAaiD,GAClD6O,EAAqBvO,GAAsBvD,EAAaiD,EAC5D,CACA,MAMMr0C,EAAQmxC,GAAsBC,EANb,CACnB1F,SAAUmJ,EACV/I,YAAayI,EACb3I,OAAQqX,EACRjX,UAAWkX,GAEkD9qG,GAEjE,OADAA,EAAO5H,OAAOwvD,EAAO8D,EAAkB,GAChCA,CAAgB,IA7BhB,IA+Bf,CAcA,gBAAAq/C,CAAiBC,EAAYrF,GACzB,MAAMsF,EAAgB/4G,KAAKg5G,kBAAkBF,EAAYrF,GACzDzzG,KAAKiN,OAAOG,MAAMS,QAAOC,IACrBA,EAAO0I,aAAauiG,EAAcnR,MAAM3nG,KAAI6iG,GAAQh1F,EAAO0W,cAAcs+E,KAAQ,CAAEmW,SAAUF,EAAcE,UAAW,GAE9H,CAIA,YAAAC,GACI,MAEMhlG,EADiB,IADLlU,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UACR0mB,aAAauvB,MACnBguD,sBAC/B,OAAIp9F,GAAWA,EAAQyB,GAAG,UAAW,aAC1BzB,EAEJ,IACX,CAIA,aAAAilG,GACI,MAAM9rG,EAAYrN,KAAKiN,OAAOG,MAAMpJ,SAASqJ,UAEvC6G,GADkB,IAAA/G,OAAME,EAAU0mB,aACRu9E,sBAChC,OAAIp9F,GAAWA,EAAQyB,GAAG,UAAW,aAC1BzB,EAEJ,IACX,CAUA,yBAAAskG,GACI,MAAMvrG,EAASjN,KAAKiN,OACdmsG,EAAc,IAAI/+D,IACxBptC,EAAOmC,WAAWK,IAAI,mBAAmBjH,KAAI2Y,GAAcA,EAAWjO,GAAG,aAAa,CAAC0N,EAAKtd,EAAMud,KAC9F,MAAMS,EAAaT,EAAc/S,QAcrC,SAAoCwT,GAChC,IAAK,MAAM+3F,KAAyBD,EAChC93F,EAAW6D,YAAY,+BAAgCk0F,GAE3DD,EAAY1mE,OAChB,CAlBI4mE,CAA2Bh4F,GAC3B,MAAMolF,EAAgB1mG,KAAKoxG,wBAC3B,IAAK1K,EACD,OAEJ,IAAK,MAAMlG,KAAakG,EAAe,CACnC,MAAM1xF,EAAc6L,EAAcG,OAAOC,cAAcu/E,GACvDl/E,EAAW4D,SAAS,+BAAgClQ,GACpDokG,EAAY5wG,IAAIwM,EACpB,CACA,MAAMukG,EAAe14F,EAAcG,OAAOC,cAAcylF,EAAcA,EAAc/lG,OAAS,IAC7F2gB,EAAW9K,aAAa+iG,EAAc,EAAE,GACzC,CAAE5+F,SAAU,YAOnB,CAQA,sBAAA89F,GACI,MAAMxrG,EAASjN,KAAKiN,OACpBjN,KAAKkT,GAAG,oBAAoB,KACxB,IAAKlT,KAAKuN,UAAW,CACjB,MAAMm5F,EAAgB1mG,KAAKoxG,wBAC3B,IAAK1K,EACD,OAEJz5F,EAAOG,MAAMS,QAAOC,IAChB,MAAM2R,EAAW3R,EAAO8mB,iBAAiB8xE,EAAc,GAAI,GACrDhiF,EAAQzX,EAAOG,MAAMgB,OAAO03E,yBAAyBrmE,GAC3D3R,EAAO0I,aAAakO,EAAM,GAElC,IAER,CAMA,oBAAA4zF,CAAqB52F,EAAO0wB,GACxB,MAAMijB,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCiC,EAAY+kC,EAAK,GACjBxtC,EAAUwtC,EAAK,GACfhlC,EAAQpN,KAAKiN,OAAOG,MACpBosG,GAAc50G,GAAgC,YAArBA,EAAQw1B,UACjCw3E,EAAqBv8C,EAAW+7C,sBAAsB/jG,GACvDukG,EAAmBjxG,SAGxB+gB,EAAMwY,OACN9sB,EAAMS,QAAOC,IACT,MAAM2rG,EAAoB7H,EAAmB4H,EAAa5H,EAAmBjxG,OAAS,EAAI,GAC1FyM,EAAMS,QAAOC,IACT,IAAK,MAAM0yF,KAAaoR,EACpBxkG,EAAM+4B,cAAcr4B,EAAOwW,gBAAgBk8E,EAAW,MAC1D,IAEJ,MAAMkZ,EAAgBtsG,EAAMgB,OAAO03E,yBAAyBh4E,EAAO8mB,iBAAiB6kF,EAAmB,IAGnGpsG,EAAUsI,GAAG,qBACb7H,EAAO0I,aAAakjG,GAGpBrsG,EAAUssG,MAAMD,EACpB,IAER,CAiBA,sBAAAnB,CAAuB33F,EAAKtd,GACxB,MAAM2J,EAASjN,KAAKiN,OACdy5F,EAAgB1mG,KAAKoxG,wBAC3B,IAAK1K,EACD,OAEJ,MAAMp3F,EAAOrC,EAAO2E,QAAQtC,KACtB0R,EAAS/T,EAAO2E,QAAQoP,OACxB44F,EAAalT,EAAczmG,KAAIugG,GAAalxF,EAAKkV,cAAcxD,EAAOC,cAAcu/E,MAC1Fl9F,EAAK+J,UAAYiC,EAAKgV,gBAAgBs1F,EAC1C,CAOA,iBAAAZ,CAAkBF,EAAYrF,GAC1B,MAAMp+C,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACrC4oG,EAAgB3+C,EAAW6oC,gBAAgB4a,GAC3C7E,EAAc5+C,EAAW6oC,gBAAgBuV,GACzCrS,EAAWtsD,KAAK2D,IAAIu7D,EAAc1V,IAAK2V,EAAY3V,KACnDgD,EAASxsD,KAAKC,IAAIi/D,EAAc1V,IAAK2V,EAAY3V,KACjDkD,EAAc1sD,KAAK2D,IAAIu7D,EAAczV,OAAQ0V,EAAY1V,QACzDmD,EAAY5sD,KAAKC,IAAIi/D,EAAczV,OAAQ0V,EAAY1V,QAEvDsb,EAAe,IAAI54G,MAAMqgG,EAASF,EAAW,GAAG+H,KAAK,MAAMlpG,KAAI,IAAM,KACrE65G,EAAgB,CAClB1Y,WACAE,SACAE,cACAE,aAEJ,IAAK,MAAM,IAAEpD,EAAG,KAAEwE,KAAU,IAAI,GAAYgW,EAAWzkG,aAAa,SAAUylG,GAC1ED,EAAavb,EAAM8C,GAAU3hG,KAAKqjG,GAEtC,MAAMiX,EAAiB9F,EAAY3V,IAAM0V,EAAc1V,IACjD0b,EAAmB/F,EAAY1V,OAASyV,EAAczV,OAO5D,OANIwb,GACAF,EAAa1jF,UAEb6jF,GACAH,EAAa9zG,SAAQu4F,GAAOA,EAAInoE,YAE7B,CACHyxE,MAAOiS,EAAaI,OACpBhB,SAAUc,GAAkBC,EAEpC,EC/RW,MAAME,WAAuB,EAAA3rG,OAIxC,qBAAWC,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,EAAA4mG,sBAAuB,EAAAz0F,kBAAmB2yF,GAAgB,GACtE,CAIA,IAAAxpG,GACI,MAAM5B,EAASjN,KAAKiN,OACdiS,EAAejS,EAAO2E,QAAQtC,KAAKtL,SACzChE,KAAK2R,SAASuN,EAAc,QAAQ,CAAC0B,EAAKtd,IAAStD,KAAKo6G,WAAWx5F,EAAKtd,KACxEtD,KAAK2R,SAASuN,EAAc,OAAO,CAAC0B,EAAKtd,IAAStD,KAAKo6G,WAAWx5F,EAAKtd,KACvEtD,KAAK2R,SAAS1E,EAAOG,MAAO,iBAAiB,CAACwT,GAAMzgB,EAAS2V,KAAgB9V,KAAKq6G,iBAAiBz5F,EAAKzgB,EAAS2V,IAAa,CAAE6E,SAAU,SAC1I3a,KAAKyiB,SAAS,wBAClB,CAOA,UAAA23F,CAAWx5F,EAAKtd,GACZ,MAAMgM,EAAOtP,KAAKiN,OAAO2E,QAAQtC,KAC3BgrG,EAAiBt6G,KAAKiN,OAAO8G,QAAQ3I,IAAIitG,IACzCkC,EAAwBv6G,KAAKiN,OAAO8G,QAAQ3I,IAAI,EAAA+uG,uBACjDG,EAAelJ,0BAGJ,OAAZxwF,EAAIne,MAAkBzC,KAAKiN,OAAOG,MAAMsnC,UAAU10C,KAAKiN,OAAOG,MAAMpJ,SAASqJ,cAGjF/J,EAAK22B,iBACLrZ,EAAIsZ,OACJl6B,KAAKiN,OAAOG,MAAM4J,cAAc,CAAEwO,WAAyB,QAAb5E,EAAIne,OAAkB,KAChE,MAAM+2D,EAAmB+gD,EAAsBC,iCAAiC55F,EAAIne,KAAMzC,KAAKiN,OAAOG,MAAMpJ,SAASqJ,WAAW,IAAMitG,EAAe5B,2BACrJppG,EAAKtL,SAASke,KAAK,kBAAmB,CAClCmnB,aAAc/lC,EAAK+lC,aACnBlpC,QAASH,KAAKiN,OAAO3J,KAAKm3G,OAAOjhD,GACjCpyC,OAAQxG,EAAIne,MACd,IAEV,CAaA,gBAAA43G,CAAiBz5F,EAAKzgB,EAAS2V,GAC3B,GAAIA,IAAeA,EAAWH,GAAG,qBAC7B,OAEJ,MAAMvI,EAAQpN,KAAKiN,OAAOG,MACpBioD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCmvG,EAAwBv6G,KAAKiN,OAAO8G,QAAQ3I,IAAI,EAAA+uG,uBAEhDO,EAAc16G,KAAK26G,6BAA6Bx6G,EAASiN,GAC/D,IAAKstG,EACD,OAEJ,MAAM9I,EAAqBv8C,EAAWwwC,+BAA+Bz4F,EAAMpJ,SAASqJ,WAC/EukG,EAAmBjxG,QAKxBigB,EAAIsZ,OACA/5B,EAAQwV,GAAG,oBACX4kG,EAAsBK,oCAAoCz6G,EAAQ8jB,SAASnW,GAAU9N,KAAK66G,sBAAsBH,EAAa9I,EAAoB9jG,KAGjJ9N,KAAKiN,OAAOG,MAAMS,QAAOC,IACrB9N,KAAK66G,sBAAsBH,EAAa9I,EAAoB9jG,EAAO,KAVvE+7F,GAAuB6Q,EAAarlD,EAa5C,CAIA,qBAAAwlD,CAAsBH,EAAa9I,EAAoB9jG,GACnD,MAAMunD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrC0vG,EAAmB,CACrBr3F,MAAO4xC,EAAW4zC,WAAWyR,GAC7Bh3F,OAAQ2xC,EAAWQ,QAAQ6kD,IAGzBrtG,EAmKd,SAAgCukG,EAAoBkJ,EAAkBhtG,EAAQunD,GAC1E,MAAM0lD,EAAgBnJ,EAAmB,GAAGv9F,aAAa,SACnDiyF,EAAgBjxC,EAAWkxC,iBAAiBqL,GAC5C5L,EAAa3wC,EAAW4wC,cAAc2L,GACtCvkG,EAAY,CACd48F,YAAa3D,EAAcn5F,MAC3B+8F,WAAY5D,EAAc7kB,KAC1B8oB,SAAUvE,EAAW74F,MACrBg9F,QAASnE,EAAWvkB,MAGlBu5B,EAAsD,IAA9BpJ,EAAmBjxG,OAgCjD,OA/BIq6G,IACA3tG,EAAU88F,SAAW2Q,EAAiBp3F,OAAS,EAC/CrW,EAAU68F,YAAc4Q,EAAiBr3F,MAAQ,EAkCzD,SAAyBiyC,EAAOulD,EAAgBC,EAAe7lD,GAC3D,MAAM8lD,EAAa9lD,EAAW4zC,WAAWvzC,GACnC0lD,EAAc/lD,EAAWQ,QAAQH,GACnCwlD,EAAgBC,GAChB9lD,EAAWmxC,cAAc9wC,EAAO,CAC5BywC,GAAIgV,EACJz6D,QAASw6D,EAAgBC,IAG7BF,EAAiBG,GACjB/lD,EAAW6wC,WAAWxwC,EAAO,CACzBywC,GAAIiV,EACJjiB,KAAM8hB,EAAiBG,GAGnC,CAhDQC,CAAgBN,EAAe1tG,EAAU88F,QAAU,EAAG98F,EAAU68F,WAAa,EAAG70C,IAIhF2lD,IAA0B3lD,EAAWs8C,uBAAuBC,GA+HpE,SAA0Cl8C,EAAOq0C,EAAYj8F,GACzD,MAAM,SAAEy8F,EAAQ,QAAEJ,EAAO,YAAEF,EAAW,WAAEC,GAAeH,EACjD/D,EAAa,CAAE74F,MAAOo9F,EAAU9oB,KAAM0oB,GACtC7D,EAAgB,CAAEn5F,MAAO88F,EAAaxoB,KAAMyoB,GAElDoR,GAAgB5lD,EAAOu0C,EAAajE,EAAYl4F,GAChDwtG,GAAgB5lD,EAAOw0C,EAAa,EAAGlE,EAAYl4F,GAEnDytG,GAAkB7lD,EAAO60C,EAAUjE,EAAex4F,GAClDytG,GAAkB7lD,EAAOy0C,EAAU,EAAG7D,EAAex4F,EAAQy8F,EACjE,CArIQiR,CAAiCT,EAAe1tG,EAAWS,IAiB3DT,EAAU88F,QAAUL,GAAmBiR,EAAe1tG,GACtDA,EAAU68F,WAAaG,GAAsB0Q,EAAe1tG,IAEzDA,CACX,CA/M0BouG,CAAuB7J,EAAoBkJ,EAAkBhtG,EAAQunD,GAEjFqmD,EAAkBruG,EAAU88F,QAAU98F,EAAUk9F,SAAW,EAC3DoR,EAAiBtuG,EAAU68F,WAAa78F,EAAU48F,YAAc,EActEyQ,EAAc7T,GAAsB6T,EANb,CACnBtZ,SAAU,EACVI,YAAa,EACbF,OAAQxsD,KAAK2D,IAAIijE,EAAiBZ,EAAiBp3F,QAAU,EAC7Dg+E,UAAW5sD,KAAK2D,IAAIkjE,EAAgBb,EAAiBr3F,OAAS,GAED3V,GAEjE,MAAMitG,EAAgBnJ,EAAmB,GAAGv9F,aAAa,SACnD0kG,EAAgB/4G,KAAK47G,gCAAgClB,EAAaI,EAAkBC,EAAe1tG,EAAWS,GACpH,GAAI9N,KAAKiN,OAAO8G,QAAQ3I,IAAI,kBAAkBmC,UAAW,CAGrD,MAAMsuG,EAAkBxmD,EAAWg8C,WAAW0H,EAAc94G,KAAI6iG,GAAQh1F,EAAO0W,cAAcs+E,MAC7Fh1F,EAAO0I,aAAaqlG,EACxB,MAGI/tG,EAAO0I,aAAauiG,EAAc,GAAI,GAE1C,OAAOgC,CACX,CAIA,+BAAAa,CAAgClB,EAAaI,EAAkBC,EAAe1tG,EAAWS,GACrF,MAAQ2V,MAAOq4F,EAAap4F,OAAQq4F,GAAiBjB,EAE/CkB,EA8Nd,SAA2BtmD,EAAOjyC,EAAOC,GAErC,MAAMzjB,EAAM,IAAIgB,MAAMyiB,GAAQylF,KAAK,MAC9BlpG,KAAI,IAAM,IAAIgB,MAAMwiB,GAAO0lF,KAAK,QACrC,IAAK,MAAM,OAAE5K,EAAM,IAAED,EAAG,KAAEwE,KAAU,IAAI,GAAYptC,GAChDz1D,EAAIq+F,GAAKC,GAAUuE,EAEvB,OAAO7iG,CACX,CAtOuCg8G,CAAkBvB,EAAaoB,EAAaC,GACrEG,EAAmB,IAAI,IAAI,GAAYnB,EAAe,CACpD3Z,SAAU/zF,EAAUk9F,SACpBjJ,OAAQj0F,EAAU88F,QAClB3I,YAAan0F,EAAU48F,YACvBvI,UAAWr0F,EAAU68F,WACrBtI,iBAAiB,KAGnBmX,EAAgB,GAEtB,IAAIxY,EAOJ,IAAK,MAAM0E,KAAaiX,EAAkB,CACtC,MAAM,IAAE5d,EAAG,OAAEC,GAAW0G,EAEpB1G,IAAWlxF,EAAU48F,cACrB1J,EAAiB0E,EAAUT,qBAG/B,MAAM2X,EAAY7d,EAAMjxF,EAAUk9F,SAC5B6R,EAAe7d,EAASlxF,EAAU48F,YAClCoS,EAAaL,EAAuBG,EAAYJ,GAAcK,EAAeN,GAG7EQ,EAAeD,EAAavuG,EAAOy5F,aAAa8U,GAAc,KAE9DE,EAAev8G,KAAKw8G,sBAAsBvX,EAAWqX,EAAc/b,EAAgBzyF,GAEpFyuG,IAIL/U,GAAsB+U,EAAcje,EAAKC,EAAQlxF,EAAU88F,QAAS98F,EAAU68F,WAAYp8F,GAC1FirG,EAAct5G,KAAK88G,GACnBhc,EAAiBzyF,EAAOyU,oBAAoBg6F,GAChD,CAEA,MAAMpe,EAAcppF,SAASgmG,EAAcrtG,aAAa,gBAAkB,KACpE0wF,EAAiBrpF,SAASgmG,EAAcrtG,aAAa,mBAAqB,KAC1E+uG,EAAsCpvG,EAAUk9F,SAAWpM,GAAeA,GAAe9wF,EAAU88F,QACnGuS,EAAyCrvG,EAAU48F,YAAc7L,GAAkBA,GAAkB/wF,EAAU68F,WACrH,GAAIuS,EAAqC,CACrC,MACME,EAAWpB,GAAkBR,EAAe5c,EAD7B,CAAEhxF,MAAOE,EAAU48F,YAAaxoB,KAAMp0E,EAAU68F,YACQp8F,EAAQT,EAAUk9F,UAC/FwO,EAAct5G,QAAQk9G,EAC1B,CACA,GAAID,EAAwC,CACxC,MACMC,EAAWrB,GAAgBP,EAAe3c,EAD9B,CAAEjxF,MAAOE,EAAUk9F,SAAU9oB,KAAMp0E,EAAU88F,SACYr8F,GAC3EirG,EAAct5G,QAAQk9G,EAC1B,CACA,OAAO5D,CACX,CAOA,qBAAAyD,CAAsBvX,EAAWqX,EAAc/b,EAAgBzyF,GAC3D,MAAM,KAAEg1F,EAAI,SAAEuB,GAAaY,EAS3B,OAJIZ,GACAv2F,EAAOnH,OAAOm8F,GAGbwZ,GAGLxuG,EAAO5H,OAAOo2G,EAAc/b,GACrB+b,GAHI,IAIf,CAOA,4BAAA3B,CAA6Bx6G,EAASiN,GAClC,IAAKjN,EAAQwV,GAAG,sBAAwBxV,EAAQwV,GAAG,WAC/C,OAAO,KAGX,GAAIxV,EAAQwV,GAAG,UAAW,SACtB,OAAOxV,EAIX,GAA0B,GAAtBA,EAAQspB,YAAmBtpB,EAAQwpB,SAAS,GAAGhU,GAAG,UAAW,SAC7D,OAAOxV,EAAQwpB,SAAS,GAG5B,MAAMigB,EAAex8B,EAAM8L,cAAc/Y,GACzC,IAAK,MAAM+T,KAAW01B,EAAarjB,WAC/B,GAAIrS,EAAQyB,GAAG,UAAW,SAAU,CAEhC,MAAMinG,EAAcxvG,EAAMyoB,YAAY+T,EAAa3xB,MAAO7K,EAAMurB,qBAAqBzkB,IACrF,GAAI9G,EAAMyvG,WAAWD,EAAa,CAAEE,mBAAmB,IACnD,OAAO,KAGX,MAAMC,EAAa3vG,EAAMyoB,YAAYzoB,EAAMmV,oBAAoBrO,GAAU01B,EAAarvB,KACtF,OAAInN,EAAMyvG,WAAWE,EAAY,CAAED,mBAAmB,IAC3C,KAGJ5oG,CACX,CAEJ,OAAO,IACX,EAkKJ,SAASqnG,GAAkB7lD,EAAOqyC,EAAUiV,EAAclvG,EAAQszF,EAAW,GAEzE,KAAI2G,EAAW,GAMf,OAHyBL,GAA8BhyC,EAAOqyC,EAAU3G,GAElC56F,QAAO,EAAG+3F,SAAQ+F,eAAgB2Y,GAAsB1e,EAAQ+F,EAAW0Y,KAC7F/8G,KAAI,EAAG6iG,UAAWgF,GAAkBhF,EAAMiF,EAAUj6F,IAC5E,CACA,SAASwtG,GAAgB5lD,EAAO+yC,EAAayU,EAAWpvG,GAEpD,KAAI26F,EAAc,GAMlB,OAHyBJ,GAAgC3yC,EAAO+yC,GAE1BjiG,QAAO,EAAG83F,MAAKiG,gBAAiB0Y,GAAsB3e,EAAKiG,EAAY2Y,KACzFj9G,KAAI,EAAG6iG,OAAMvE,YAAaiK,GAAgB1F,EAAMvE,EAAQkK,EAAa36F,IAC7F,CAMA,SAASmvG,GAAsBh4G,EAAOonG,EAAM8Q,GACxC,MAAMC,EAAWn4G,EAAQonG,EAAO,GAC1B,MAAEl/F,EAAK,KAAEs0E,GAAS07B,EAGxB,OAF0Bl4G,GAASkI,GAASlI,GAASw8E,GAChBx8E,EAAQkI,GAASiwG,GAAYjwG,CAEtE,CCxce,MAAMkwG,WAAsB,EAAA9uG,OAIvC,qBAAWC,GACP,MAAO,eACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC8kG,GAAgB,GAC5B,CAIA,IAAAxpG,GACI,MAAM5B,EAASjN,KAAKiN,OAEdiS,EADOjS,EAAO2E,QAAQtC,KACFtL,SACpB0M,EAAIzD,EAAOyD,EACjB1Q,KAAK2R,SAASuN,EAAc,YAAY,IAAIkzB,IAASpyC,KAAKs9G,eAAelrE,IAAO,CAAEjY,QAAS,UAC3Fn6B,KAAK2R,SAASuN,EAAc,OAAO,IAAIkzB,IAASpyC,KAAKu9G,6BAA6BnrE,IAAO,CAAEjY,QAAS,WACpGn6B,KAAK2R,SAASuN,EAAc,OAAO,IAAIkzB,IAASpyC,KAAKw9G,cAAcprE,IAAO,CAAEjY,QAAS,CAAC,KAAM,QAE5FltB,EAAO6pB,cAAcknD,sBAAsB,CACvCr+E,GAAI,QACJ2R,MAAOZ,EAAE,+CACT2L,WAAY,CACR,CACI/K,MAAOZ,EAAE,uCACTsmB,UAAW,OAEf,CACI1lB,MAAOZ,EAAE,2CACTsmB,UAAW,aAEf,CACI1lB,MAAOZ,EAAE,6DACTsmB,UAAW,OAEf,CACI1lB,MAAOZ,EAAE,8BACTsmB,UAAW,CAAC,CAAC,WAAY,CAAC,cAAe,CAAC,aAAc,CAAC,iBAIzE,CAKA,yBAAAumF,CAA0BE,EAAmB73B,GACzC,MAAM34E,EAASjN,KAAKiN,OAEd0K,EADY1K,EAAOG,MAAMpJ,SAASqJ,UACNmK,qBAC7BG,GAAoBA,EAAgBhC,GAAG,UAAW,WAGvDiwE,EAAa3rD,iBACb2rD,EAAal+D,kBACb+1F,EAAkBvjF,OAClBjtB,EAAOG,MAAMS,QAAOC,IAChBA,EAAO0I,aAAa1I,EAAOoL,cAAcvB,EAAgBgS,SAAS,GAAGA,SAAS,IAAI,IAE1F,CAKA,UAAA6zF,CAAWC,EAAmB73B,GAC1B,MAAM34E,EAASjN,KAAKiN,OACdooD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCkvG,EAAiBt6G,KAAKiN,OAAO8G,QAAQ3I,IAAI,kBACzCiC,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UAClC01D,GAAa6iB,EAAal+C,SAChC,IAAI84D,EAAYnrC,EAAWw1C,iCAAiCx9F,GAAW,GAIvE,GAHKmzF,IACDA,EAAY8Z,EAAepB,iBAE1B1Y,EACD,OAEJ5a,EAAa3rD,iBACb2rD,EAAal+D,kBACb+1F,EAAkBvjF,OAClB,MAAM8qE,EAAWxE,EAAU9pF,OACrBg/C,EAAQsvC,EAAStuF,OACjBgnG,EAAkBhoD,EAAMi5B,cAAcqW,GACtC2Y,EAAmB3Y,EAASrW,cAAc6R,GAC1Cod,EAAwC,IAArBD,EACzB,IAAK56C,GAAa66C,GAAwC,IAApBF,EAKlC,YAHAzwG,EAAOG,MAAMS,QAAOC,IAChBA,EAAO0I,aAAa1I,EAAO0W,cAAckxC,GAAO,IAIxD,MAAMmoD,EAAkBF,IAAqB3Y,EAASv7E,WAAa,EAC7Dq0F,EAAYJ,IAAoBroD,EAAWQ,QAAQH,GAAS,EAClE,GAAIqN,GAAa+6C,GAAaD,IAC1B5wG,EAAOU,QAAQ,uBAGX+vG,IAAoBroD,EAAWQ,QAAQH,GAAS,GAIhD,YAHAzoD,EAAOG,MAAMS,QAAOC,IAChBA,EAAO0I,aAAa1I,EAAO0W,cAAckxC,GAAO,IAK5D,IAAIs3C,EAEJ,GAAIjqC,GAAa86C,EAAiB,CAC9B,MAAME,EAAUroD,EAAM/rC,SAAS+zF,EAAkB,GACjD1Q,EAAc+Q,EAAQp0F,SAAS,EACnC,MAEK,IAAKo5C,GAAa66C,EAAkB,CACrC,MAAMI,EAActoD,EAAM/rC,SAAS+zF,EAAkB,GACrD1Q,EAAcgR,EAAYr0F,SAASq0F,EAAYv0F,WAAa,EAChE,MAGIujF,EAAchI,EAASr7E,SAASg0F,GAAoB56C,EAAY,GAAK,IAEzE91D,EAAOG,MAAMS,QAAOC,IAChBA,EAAO0I,aAAa1I,EAAOoL,cAAc8zF,GAAa,GAE9D,CAIA,WAAAsQ,CAAYtqE,EAAW4yC,GACnB,MAAM34E,EAASjN,KAAKiN,OACdo9D,EAAUub,EAAavb,QACvBjwC,GAAY,IAAAyrD,mCAAkCxb,EAASp9D,EAAOjB,OAAOC,0BACxDjM,KAAKi+G,iBAAiB7jF,EAAWwrD,EAAal+C,YAE7Dk+C,EAAa3rD,iBACb2rD,EAAal+D,kBACbsrB,EAAU9Y,OAElB,CAQA,gBAAA+jF,CAAiB7jF,EAAW8jF,GACxB,MAAM7oD,EAAar1D,KAAKiN,OAAO8G,QAAQ3I,IAAI,IACrCkvG,EAAiBt6G,KAAKiN,OAAO8G,QAAQ3I,IAAI,kBACzCgC,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3B01D,EAAY,CAAC,QAAS,QAAQl3D,SAASuuB,GAGvCssE,EAAgBrxC,EAAW+7C,sBAAsB/jG,GACvD,GAAIq5F,EAAc/lG,OAAQ,CACtB,IAAIw9G,EAQJ,OANIA,EADAD,EACY5D,EAAepB,eAGfn2C,EAAY2jC,EAAcA,EAAc/lG,OAAS,GAAK+lG,EAAc,GAEpF1mG,KAAKo+G,6BAA6BD,EAAW/jF,EAAW8jF,IACjD,CACX,CAEA,MAAM1d,EAAYnzF,EAAUwE,MAAMwC,aAAa,aAE/C,IAAKmsF,EACD,OAAO,EAGX,IAAKnzF,EAAU2mB,YACX,GAAIkqF,GAMA,GAAI7wG,EAAUmsG,YAAcz2C,IAAc11D,EAAU08B,sBAAsBy2D,GACtE,OAAO,MAGV,CACD,MAAM7oF,EAAkBtK,EAAUmK,qBAElC,IAAKG,IAAoBvK,EAAMgB,OAAOsG,SAASiD,GAC3C,OAAO,CAEf,CAGJ,QAAI3X,KAAKq+G,uBAAuBhxG,EAAWmzF,EAAWz9B,KAClD/iE,KAAKo+G,6BAA6B5d,EAAWpmE,EAAW8jF,IACjD,EAGf,CAQA,sBAAAG,CAAuBhxG,EAAWmzF,EAAWz9B,GACzC,MAAM31D,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAASpO,KAAKiN,OAAOG,MAAMgB,OAC3ByD,EAAQkxD,EAAY11D,EAAU2sB,kBAAoB3sB,EAAUkK,mBAGlE,IAAKnJ,EAAOutD,gBAAgB9pD,GAAO8D,GAAG,UAAW,aAE7C,OADyBvI,EAAMwnB,iBAAiB4rE,EAAWz9B,EAAY,MAAQ,GACvDhH,WAAWlqD,GAEvC,MAAMysG,EAAQlxG,EAAMkX,gBAAgBzS,GAGpC,OAFAzE,EAAMmxG,gBAAgBD,EAAO,CAAElkF,UAAW2oC,EAAY,UAAY,aAE3DlxD,EAAM2iB,QAAQ8pF,EAAMzsG,MAC/B,CAQA,4BAAAusG,CAA6BD,EAAW/jF,EAAW8jF,GAAkB,GACjE,MAAM9wG,EAAQpN,KAAKiN,OAAOG,MACpBsoD,EAAQyoD,EAAU9pG,aAAa,SAC/B6yF,EAAW,IAAI,IAAI,GAAYxxC,EAAO,CAAEksC,iBAAiB,MACvDtD,IAAK6L,EAAS5L,OAAQ2L,GAAehD,EAASA,EAASvmG,OAAS,GAClE69G,EAAkBtX,EAAS/0E,MAAK,EAAG2wE,UAAWA,GAAQqb,IAC5D,IAAI,IAAE7f,EAAG,OAAEC,GAAWigB,EACtB,OAAQpkF,GACJ,IAAK,OACDmkE,IACA,MACJ,IAAK,KACDD,IACA,MACJ,IAAK,QACDC,GAAUigB,EAAgBla,UAC1B,MACJ,IAAK,OACDhG,GAAOkgB,EAAgBja,WAQ/B,GAL4BjG,EAAM,GAAKA,EAAM6L,GACnB5L,EAAS,GAAKD,GAAO,GACvBC,EAAS2L,GAAc5L,GAAO6L,EAOlD,YAHA/8F,EAAMS,QAAOC,IACTA,EAAO0I,aAAa1I,EAAO0W,cAAckxC,GAAO,IAIpD6oC,EAAS,GACTA,EAAS2f,EAAkB,EAAIhU,EAC/B5L,KAEKC,EAAS2L,IACd3L,EAAS2f,EAAkBhU,EAAa,EACxC5L,KAEJ,MAAMmgB,EAAevX,EAAS/0E,MAAK+hF,GAAYA,EAAS5V,KAAOA,GAAO4V,EAAS3V,QAAUA,IAAQuE,KAC3F//B,EAAY,CAAC,QAAS,QAAQl3D,SAASuuB,GACvCkgF,EAAiBt6G,KAAKiN,OAAO8G,QAAQ3I,IAAI,kBAC/C,GAAI8yG,GAAmB5D,EAAe/sG,UAAW,CAC7C,MAAMurG,EAAawB,EAAenB,iBAAmBgF,EACrD7D,EAAezB,iBAAiBC,EAAY2F,EAChD,KACK,CACD,MAAMC,EAAmBtxG,EAAMwnB,iBAAiB6pF,EAAc17C,EAAY,EAAI,OAC9E31D,EAAMS,QAAOC,IACTA,EAAO0I,aAAakoG,EAAiB,GAE7C,CACJ,EC/RW,MAAM,WAA4B,EAAAx6B,iBAC7C,WAAA1hF,GACIkM,SAAS0G,WACTpV,KAAKmkF,aAAe,CAChB,YAAa,aAErB,CAIA,UAAAC,CAAWziE,GACP3hB,KAAKkiB,KAAKP,EAASvX,KAAMuX,EAC7B,EClBW,MAAMg9F,WAAmB,EAAApwG,OAIpC,qBAAWC,GACP,MAAO,YACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC8kG,GAAgB,GAC5B,CAIA,IAAAxpG,GACmB7O,KAAKiN,OAGb2E,QAAQtC,KAAKsT,YAAY,IAChC5iB,KAAK4+G,6BACL5+G,KAAK6+G,2BACT,CAKA,0BAAAD,GACI,MAAM3xG,EAASjN,KAAKiN,OACdooD,EAAapoD,EAAO8G,QAAQ3I,IAAI,IACtC,IAAI0zG,GAAuB,EAC3B,MAAMxE,EAAiBrtG,EAAO8G,QAAQ3I,IAAIitG,IAC1Cr4G,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,aAAa,CAAC4c,EAAKglE,KAC3D,MAAMv4E,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UACxC,IAAKrN,KAAKuN,YAAc+sG,EAAe/sG,UACnC,OAEJ,IAAKq4E,EAAajkE,SAAS+lB,SACvB,OAEJ,MAAMoxE,EAAawB,EAAenB,iBAAmB9jD,EAAWw1C,iCAAiCx9F,GAAW,GAC5G,IAAKyrG,EACD,OAEJ,MAAMrF,EAAazzG,KAAK++G,+BAA+Bn5B,GACnD6tB,GAAcuL,GAAoBlG,EAAYrF,KAC9CqL,GAAuB,EACvBxE,EAAezB,iBAAiBC,EAAYrF,GAC5C7tB,EAAa3rD,iBACjB,IAEJj6B,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,WAAW,KACnD86G,GAAuB,CAAK,IAkBhC9+G,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,mBAAmB4c,IACvDk+F,GAEAl+F,EAAIsZ,MACR,GACD,CAAEvf,SAAU,WACnB,CASA,yBAAAkkG,GACI,MAAM5xG,EAASjN,KAAKiN,OACpB,IAAI6rG,EAAYrF,EACZwL,GAAqB,EACrBH,GAAuB,EAC3B,MAAMxE,EAAiBrtG,EAAO8G,QAAQ3I,IAAIitG,IAC1Cr4G,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,aAAa,CAAC4c,EAAKglE,KACtD5lF,KAAKuN,WAAc+sG,EAAe/sG,YAInCq4E,EAAajkE,SAAS+lB,UAAYk+C,EAAajkE,SAASsoD,SAAW2b,EAAajkE,SAAS6oD,SAG7FsuC,EAAa94G,KAAK++G,+BAA+Bn5B,IAAa,IAElE5lF,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,aAAa,CAAC4c,EAAKglE,KAC3D,IAAKA,EAAajkE,SAASu9F,QACvB,OAEJ,IAAKpG,EACD,OAEJ,MAAMqG,EAAgBn/G,KAAK++G,+BAA+Bn5B,GACtDu5B,GAAiBH,GAAoBlG,EAAYqG,KACjD1L,EAAa0L,EAGRF,GAAsBxL,GAAcqF,IACrCmG,GAAqB,IAIxBA,IAGLH,GAAuB,EACvBxE,EAAezB,iBAAiBC,EAAYrF,GAC5C7tB,EAAa3rD,iBAAgB,IAEjCj6B,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,WAAW,KACnDi7G,GAAqB,EACrBH,GAAuB,EACvBhG,EAAa,KACbrF,EAAa,IAAI,IAGrBzzG,KAAK2R,SAAS1E,EAAO2E,QAAQtC,KAAKtL,SAAU,mBAAmB4c,IACvDk+F,GAEAl+F,EAAIsZ,MACR,GACD,CAAEvf,SAAU,WACnB,CAMA,8BAAAokG,CAA+Bn5B,GAE3B,MAAMw5B,EAAoBx5B,EAAa9hF,OACjCo4E,EAAel8E,KAAKiN,OAAO2E,QAAQtC,KAAKslB,iBAAiBwqF,EAAmB,GAGlF,OAFsBp/G,KAAKiN,OAAO2E,QAAQoP,OAAO0kE,gBAAgBxJ,GAC9BxlE,OACfrC,aAAa,YAAa,CAAEg+D,aAAa,GACjE,EAEJ,SAAS2sC,GAAoBK,EAAOC,GAChC,OAAOD,EAAM3oG,OAAOA,QAAU4oG,EAAM5oG,OAAOA,MAC/C,gBCzKa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQnO,OCkBR,MAAM,WAAc,EAAAgG,OAI/B,mBAAWgF,GACP,MAAO,CAAC,GAAcokG,GAASU,GAAgBsG,GAAYtB,GAAenD,GAAgB,EAAA/wF,OAC9F,CAIA,qBAAW3a,GACP,MAAO,OACX,CAIA,2BAAWC,GACP,OAAO,CACX,ECxCG,SAAS8wG,GAAgClyG,GAE5C,OADsBmyG,GAAuBnyG,IAItCoyG,GAAuBpyG,EAClC,CAIO,SAASmyG,GAAuBnyG,GACnC,MAAM2H,EAAc3H,EAAUmK,qBAC9B,OAAIxC,GAAe0qG,GAAc1qG,GACtBA,EAEJ,IACX,CAIO,SAASyqG,GAAuBpyG,GACnC,MAAMiK,EAAoBjK,EAAUkK,mBACpC,IAAKD,EACD,OAAO,KAEX,IAAIZ,EAASY,EAAkBZ,OAC/B,KAAOA,GAAQ,CACX,GAAIA,EAAOf,GAAG,YAAc+pG,GAAchpG,GACtC,OAAOA,EAEXA,EAASA,EAAOA,MACpB,CACA,OAAO,IACX,CAIA,SAASgpG,GAAc1qG,GACnB,QAASA,EAAY8D,kBAAkB,WAAY,IAAAC,UAAS/D,EAChE,CC5Be,MAAM2qG,WAAqB,EAAApxG,OAItC,mBAAWgF,GACP,MAAO,CAAC,EAAAkgB,wBACZ,CAIA,qBAAWjlB,GACP,MAAO,cACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,SAAAuU,GACI,MAAM/V,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXgjB,EAA0BzmB,EAAO8G,QAAQ3I,IAAI,EAAAqoB,yBAC7CmsF,EAA2B3yG,EAAO0B,OAAOvD,IAAI,wBAC7Cy0G,EAAoB5yG,EAAO0B,OAAOvD,IAAI,sBACxCw0G,GACAlsF,EAAwB/N,SAAS,eAAgB,CAC7CtT,UAAW3B,EAAE,iBACb0C,MAAOwsG,EACPjsF,kBAAmB8rF,KAGvBI,GACAnsF,EAAwB/N,SAAS,QAAS,CACtCtT,UAAW3B,EAAE,iBACb0C,MAAOysG,EACPlsF,kBAAmB6rF,IAG/B,iBCrDS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQj3G,OCIR,MAAMu3G,WAAuB,EAAA5jG,KAWxC,WAAA1Z,CAAYwJ,EAAQpH,GAChB8J,MAAM1C,GACNhM,KAAKqR,IAAI,QAAS,IAClBrR,KAAKqR,IAAI,cAAc,GACvBrR,KAAKqR,IAAI,aAAa,GACtBrR,KAAKqR,IAAI,WAAW,GACpBrR,KAAK4E,QAAUA,EACf5E,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAK6c,YAAc,IAAI,EAAAC,eACvB9c,KAAK8R,aAAe9R,KAAK+/G,sBACzB//G,KAAKggH,UAAYhgH,KAAKigH,uBACtBjgH,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKkgH,cAAe,EACpBlgH,KAAK6tC,YAAc,IAAI,EAAA7wB,YAAY,CAC/BC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,cAEfC,UAAW,SAGnBrd,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,mBAGRY,SAAU,CACNnT,KAAK8R,aACL9R,KAAKggH,aAGbhgH,KAAKkT,GAAG,gBAAgB,CAAC0N,EAAKne,EAAM09G,IAAengH,KAAKogH,eAAeD,IAC3E,CAIA,MAAA1iG,GACI/O,MAAM+O,SACN,CAACzd,KAAKggH,UAAWhgH,KAAK8R,aAAaX,YAAYpL,SAAQuJ,IACnDtP,KAAKmc,aAAa3T,IAAI8G,EAAK4E,SAC3BlU,KAAK6c,YAAYrU,IAAI8G,EAAK,IAE9BtP,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,KAAArC,CAAMuoB,IACiB,IAAfA,EACAp6B,KAAK6tC,YAAYG,YAGjBhuC,KAAK6tC,YAAYlmB,YAEzB,CAIA,OAAAxO,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAIA,mBAAA4mG,GACI,MAAM/zG,EAAShM,KAAKgM,OACd0E,EAAI1E,EAAO0E,EACXhJ,EAAO1H,KAAKgvC,aACZqxE,EAAgBrgH,KAAKsgH,qBAAqBt0G,GAC1CumB,GAAW,IAAAxgB,gBAAe/F,GAC1Bu0G,EAAe,IAAI,EAAArkG,KAwCzB,OAvCAqkG,EAAajjG,YAAY,CACrBC,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,KACA,mCAEJ7M,MAAO,CACH86G,gBAAiB94G,EAAKgK,GAAG,WAGjCyB,SAAU,CAAC,CACHoK,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,KACA,sDACA7K,EAAKynC,GAAG,QAAS,aAAaptC,GAAkB,IAATA,UAK3DwwB,EAASphB,WAAWmB,eAAe,CAC/B1M,WAAY,CACR2M,MAAO,4BAGfggB,EAASphB,WAAWgC,SAAS3K,IAAI+3G,GACjChuF,EAASphB,WAAWG,MAAQZ,EAAE,gBAC9B6hB,EAASphB,WAAWK,SAAU,EAC9B+gB,EAASkuF,cAA+C,QAA/Bz0G,EAAOiG,oBAAgC,KAAO,KACvEsgB,EAASlf,UAAUF,SAAS3K,IAAI63G,GAChC9tF,EAAS7qB,KAAK,aAAagK,GAAG1R,KAAM,cAAc+B,IAAUA,IAC5DwwB,EAASrf,GAAG,iBAAiB,CAAC0N,EAAKne,EAAMwgC,KACjCA,IACAo9E,EAAcj+D,uBACdi+D,EAAch+D,yBAClB,IAEG9vB,CACX,CAMA,oBAAA0tF,GACI,MAAMj0G,EAAShM,KAAKgM,OACdg0G,EAAY,IAAI,EAAAU,cAAc10G,GAqBpC,OApBAg0G,EAAU1tG,eAAe,CACrBY,GAAI,CACAytG,KAAMX,EAAUhxE,aAAat9B,GAAG,WAGxCsuG,EAAUj+G,MAAQ/B,KAAK+B,MACvBi+G,EAAUt4G,KAAK,aAAc,YAAYgK,GAAG1R,MAC5CA,KAAK0H,KAAK,YAAa,WAAWgK,GAAGsuG,GACrCA,EAAU9sG,GAAG,SAAS,KAClB,MAAMitG,EAAaH,EAAU9rG,QAAQnS,MAE/B6+G,EAAc5gH,KAAK4E,QAAQi8G,iBAAiB1uF,MAAKuR,GAAOy8E,IAAez8E,EAAIpyB,QACjFtR,KAAKkgH,cAAe,EACpBlgH,KAAK+B,MAAQ6+G,GAAeA,EAAYpgE,OAAS2/D,CAAU,IAE/DH,EAAU9sG,GAAG,QAAQ,KACjBlT,KAAKkgH,cAAe,EACpBlgH,KAAKogH,eAAeJ,EAAU9rG,QAAQnS,MAAM,IAEhDi+G,EAAU/sG,SAAS,SAASvB,GAAG1R,MACxBggH,CACX,CAIA,oBAAAM,CAAqBt0G,GACjB,MAAM0E,EAAI1E,EAAO0E,EACXowG,EAAe9gH,KAAK4E,QAAQm8G,mBAAqB,GACjDC,EAAwCtwG,EAAfowG,EAAiB,kBAAuB,gBACjET,EAAgB,IAAI,EAAAx+D,kBAAkB71C,EAAQ,CAChDu0C,OAAQvgD,KAAK4E,QAAQi8G,iBACrBngE,QAAS1gD,KAAK4E,QAAQ87C,QACtBe,kBAAmBu/D,EACnBt/D,iBAAkBhxC,EAAE,gBACpBkxC,uBAA0D,IAAnC5hD,KAAK4E,QAAQq8G,mBAAsC,IACnEjhH,KAAK4E,QAAQq8G,kBAChBC,WAAW,KAGnBb,EAAcn+D,WACdm+D,EAAcntG,GAAG,WAAW,CAAC0N,EAAKtd,KACV,0BAAhBA,EAAKI,QAIT1D,KAAK+B,MAAQuB,EAAKvB,OAAS++G,EAE3B9gH,KAAKkiB,KAAK,SACU,gBAAhB5e,EAAKI,SACL1D,KAAK8R,aAAakhB,QAAS,IAP3BhzB,KAAK8R,aAAakhB,QAAS,CAQ/B,IAMJ,IAAImuF,EAAcnhH,KAAK+B,MAgBvB,OAfAs+G,EAAcntG,GAAG,sBAAsB,KAInClT,KAAK+B,MAAQo/G,EACbnhH,KAAKkiB,KAAK,SACVliB,KAAK8R,aAAakhB,QAAS,CAAK,IAEpCqtF,EAAc99D,uBAAuB6+D,sBAAsBluG,GAAG,WAAW,KAIrEiuG,EAAcnhH,KAAK+B,KAAK,IAE5Bs+G,EAAc34G,KAAK,iBAAiBgK,GAAG1R,KAAM,SACtCqgH,CACX,CAYA,cAAAD,CAAeD,GACX,IAAKngH,KAAKkgH,aAAc,CACpB,MAAMmB,EAAuBC,GAAenB,GAEtCS,EAAc5gH,KAAK4E,QAAQi8G,iBAAiB1uF,MAAKuR,GAAO29E,IAAyBC,GAAe59E,EAAI8c,SAEtGxgD,KAAKggH,UAAUj+G,MADf6+G,EACuBA,EAAYtvG,MAGZ6uG,GAAc,EAE7C,CACJ,EAUJ,SAASmB,GAAeC,GACpB,OAAOA,EAEFnjF,QAAQ,aAAc,MAEtBA,QAAQ,wBAAyB,IAEjCA,QAAQ,QAAS,IAC1B,CCnQA,MAAM,GAAWomC,GAAgB,KAARA,EAQlB,SAASg9C,GAAqB9wG,GACjC,MAAO,CACH+wG,KAAM/wG,EAAE,QACRgxG,MAAOhxG,EAAE,SACTixG,OAAQjxG,EAAE,UACVkxG,OAAQlxG,EAAE,UACVmxG,OAAQnxG,EAAE,UACVoxG,OAAQpxG,EAAE,UACVqxG,MAAOrxG,EAAE,SACTsxG,MAAOtxG,EAAE,SACTuxG,OAAQvxG,EAAE,UAElB,CAOO,SAASwxG,GAA2BxxG,GACvC,OAAOA,EAAE,kEACb,CAOO,SAASyxG,GAA4BzxG,GACxC,OAAOA,EAAE,2DACb,CAOO,SAAS0xG,GAAoBrgH,GAEhC,OADAA,EAAQA,EAAMuZ,OAAO7R,cACd,GAAQ1H,KAAU,IAAAsgH,SAAQtgH,EACrC,CAQO,SAASugH,GAAqBvgH,GAEjC,OADAA,EAAQA,EAAMuZ,OACP,GAAQvZ,IAAUwgH,GAAexgH,KAAU,IAAAu9C,UAASv9C,KAAU,IAAAw9C,cAAax9C,EACtF,CAOO,SAASygH,GAAwBzgH,GAEpC,OADAA,EAAQA,EAAMuZ,OACP,GAAQvZ,IAAUwgH,GAAexgH,KAAU,IAAAu9C,UAASv9C,EAC/D,CAMO,SAAS0gH,GAA0BnzG,EAAMozG,GAC5C,MAAMn3E,EAAkB,IAAI,EAAAK,WACtB+2E,EAAcnB,GAAqBlyG,EAAKoB,GAC9C,IAAK,MAAMhL,KAASi9G,EAAa,CAC7B,MAAM13G,EAAa,CACfb,KAAM,SACNgD,MAAO,IAAI,EAAA0+B,UAAU,CACjB82E,kBAAmBl9G,EACnB4L,MAAOqxG,EAAYj9G,GACnBmN,KAAM,gBACNk5B,UAAU,KAGJ,SAAVrmC,EACAuF,EAAWmC,MAAM1F,KAAK,QAAQgK,GAAGpC,EAAM,eAAevN,GAC7B,SAAjB2gH,GACQ3gH,EAELA,IAAU2D,IAIrBuF,EAAWmC,MAAM1F,KAAK,QAAQgK,GAAGpC,EAAM,eAAevN,GAC3CA,IAAU2D,IAGzB6lC,EAAgB/iC,IAAIyC,EACxB,CACA,OAAOsgC,CACX,CAUO,SAASs3E,GAAYj+G,GACxB,MAAM,KAAE0K,EAAI,MAAEa,EAAK,QAAE8uB,EAAO,OAAE6jF,EAAM,aAAEC,EAAY,YAAEC,EAAW,aAAE76C,GAAiBvjE,EAClF,IAAK,MAAMnC,KAAQqgH,EAAQ,CACvB,MAAMjlG,EAAS,IAAI,EAAAzM,WAAW9B,EAAKtD,QACnC6R,EAAOxM,IAAI,CACPC,MAAOwxG,EAAOrgH,GACd8O,KAAMpB,EAAM1N,GACZ+O,QAASsxG,EAAOrgH,KAGpB,MAAMwgH,EAAcD,EAAcA,EAAYvgH,GAAQA,EACtDob,EAAOnW,KAAK,QAAQgK,GAAGpC,EAAMyzG,GAAchhH,IAEvC,IAAImhH,EAAiBnhH,EAKrB,MAHc,KAAVA,GAAgBomE,IAChB+6C,EAAiB/6C,GAEd86C,IAAgBC,CAAc,IAEzCrlG,EAAO3K,GAAG,WAAW,KACjB5D,EAAKyzG,GAAgBE,CAAW,IAEpChkF,EAAQ7rB,MAAM5K,IAAIqV,EACtB,CACJ,CA2EO,MAAMslG,GAAgB,CACzB,CACI3iE,MAAO,iBACPlvC,MAAO,SAEX,CACIkvC,MAAO,kBACPlvC,MAAO,YAEX,CACIkvC,MAAO,kBACPlvC,MAAO,QAEX,CACIkvC,MAAO,kBACPlvC,MAAO,cAEX,CACIkvC,MAAO,mBACPlvC,MAAO,QACPmvC,WAAW,GAEf,CACID,MAAO,mBACPlvC,MAAO,OAEX,CACIkvC,MAAO,oBACPlvC,MAAO,UAEX,CACIkvC,MAAO,oBACPlvC,MAAO,UAEX,CACIkvC,MAAO,oBACPlvC,MAAO,eAEX,CACIkvC,MAAO,qBACPlvC,MAAO,SAEX,CACIkvC,MAAO,qBACPlvC,MAAO,cAEX,CACIkvC,MAAO,qBACPlvC,MAAO,aAEX,CACIkvC,MAAO,qBACPlvC,MAAO,cAEX,CACIkvC,MAAO,qBACPlvC,MAAO,QAEX,CACIkvC,MAAO,qBACPlvC,MAAO,WAqCR,SAAS8xG,GAA4Bx+G,GACxC,MAAO,CAACy+G,EAAkBC,EAASC,KAC/B,MAAMC,EAAiB,IAAI1D,GAAeuD,EAAiBr3G,OAAQ,CAC/D60G,kBA4B+B4C,EA5BqB7+G,EAAQ6+G,YA6B7DA,EAAYxjH,KAAIC,IAAQ,CAC3BsgD,MAAOtgD,EAAKkN,MACZkE,MAAOpR,EAAKoR,MACZ1M,QAAS,CACL67C,UAAWvgD,EAAKugD,gBAhChBC,QAAS97C,EAAQ87C,QACjBqgE,kBAAmBn8G,EAAQm8G,kBAC3BE,kBAAmBr8G,EAAQq8G,oBAyBvC,IAA2CwC,EAXnC,OAZAD,EAAexD,UAAU3uG,IAAI,CACzB1R,GAAI2jH,EACJI,kBAAmBH,IAEvBC,EAAe97G,KAAK,cAAcgK,GAAG2xG,EAAkB,aAAathH,IAAUA,IAC9EyhH,EAAe97G,KAAK,YAAYgK,GAAG2xG,EAAkB,aAAathH,KAAWA,IAC7EyhH,EAAetwG,GAAG,SAAS,KAGvBmwG,EAAiBn1E,UAAY,IAAI,IAErCm1E,EAAiB37G,KAAK,UAAW,aAAagK,GAAG8xG,GAC1CA,CAAc,CAE7B,CAKA,SAASjB,GAAexgH,GACpB,MAAM4hH,EAAchlE,WAAW58C,GAC/B,OAAQq5B,OAAOwjB,MAAM+kE,IAAgB5hH,IAAUwX,OAAOoqG,EAC1D,gBCxVa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQp7G,OCMR,MAAMq7G,WAAoB,EAAA1nG,KAQrC,WAAA1Z,CAAYwJ,EAAQpH,EAAU,CAAC,GAC3B8J,MAAM1C,GACN,MAAMtE,EAAO1H,KAAKgvC,aAClBhvC,KAAKqR,IAAI,QAASzM,EAAQ2N,OAAS,MACnCvS,KAAKmT,SAAWnT,KAAKunB,mBACjB3iB,EAAQuO,UACRvO,EAAQuO,SAASpN,SAAQ+zB,GAAS95B,KAAKmT,SAAS3K,IAAIsxB,KAExD95B,KAAKqR,IAAI,QAAS,MAClBrR,KAAKqR,IAAI,kBAAmB,MACxBzM,EAAQ21F,WACRv6F,KAAKqR,IAAI,CACLwyG,MAAO,QACPC,gBAAiBl/G,EAAQ21F,UAAU56F,KAG3CK,KAAKsd,YAAY,CACbC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,eACA7K,EAAKgK,GAAG,UAEZmB,KAAMnL,EAAKgK,GAAG,SACd,kBAAmBhK,EAAKgK,GAAG,oBAE/ByB,SAAUnT,KAAKmT,UAEvB,qBC/CS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ5K,oBCJV,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQA,gBCJV,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQA,OCOR,MAAMw7G,WAAgC,EAAA7nG,KAUjD,WAAA1Z,CAAYwJ,EAAQpH,GAChB8J,MAAM1C,GACNhM,KAAKqR,IAAI,CACL2yG,YAAa,GACbC,YAAa,GACbC,YAAa,GACbC,QAAS,GACT3D,gBAAiB,GACjB/8F,MAAO,GACPC,OAAQ,GACR0gG,oBAAqB,GACrBC,kBAAmB,KAEvBrkH,KAAK4E,QAAUA,EACf,MAAM,oBAAE0/G,EAAmB,iBAAEC,EAAgB,iBAAEC,EAAgB,eAAEC,GAAmBzkH,KAAK0kH,uBACnF,mBAAEC,EAAkB,gBAAEC,GAAoB5kH,KAAK6kH,2BAC/C,WAAEC,EAAU,cAAEC,EAAa,YAAEC,EAAW,gBAAEC,GAAoBjlH,KAAKklH,0BACnE,2BAAEC,EAA0B,yBAAEC,EAAwB,eAAEC,GAAmBrlH,KAAKslH,yBACtFtlH,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKmT,SAAWnT,KAAKunB,mBACrBvnB,KAAKskH,oBAAsBA,EAC3BtkH,KAAKukH,iBAAmBA,EACxBvkH,KAAKwkH,iBAAmBA,EACxBxkH,KAAK4kH,gBAAkBA,EACvB5kH,KAAKulH,aAAevlH,KAAKwlH,sBACzBxlH,KAAK8kH,WAAaA,EAClB9kH,KAAKglH,YAAcA,EACnBhlH,KAAKmlH,2BAA6BA,EAClCnlH,KAAKolH,yBAA2BA,EAIhC,MAAM,eAAE3oG,EAAc,iBAAEE,GAAqB3c,KAAKylH,uBAClDzlH,KAAKyc,eAAiBA,EACtBzc,KAAK2c,iBAAmBA,EACxB3c,KAAK6c,YAAc,IAAI,EAAAC,eACvB9c,KAAK+c,aAAe,IAAI,EAAAC,YAAY,CAChCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,cAEfC,UAAW,SAInBrd,KAAKmT,SAAS3K,IAAI,IAAI,EAAAooC,eAAe5kC,EAAQ,CACzCsF,MAAOtR,KAAK0Q,EAAE,sBAGlB1Q,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCuuF,UAAWkqB,EACXtxG,SAAU,CACNsxG,EACAH,EACAE,EACAD,GAEJhyG,MAAO,+BAGXvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCuuF,UAAWoqB,EACXxxG,SAAU,CACNwxG,EACAC,GAEJryG,MAAO,mCAGXvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCmH,SAAU,CAEN,IAAIywG,GAAY53G,EAAQ,CACpBuuF,UAAW0qB,EACX9xG,SAAU,CACN8xG,EACAH,EACAC,EACAC,GAEJzyG,MAAO,kCAGX,IAAIqxG,GAAY53G,EAAQ,CACpBmH,SAAU,CACNnT,KAAKulH,cAEThzG,MAAO,mDAKnBvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCuuF,UAAW8qB,EACXlyG,SAAU,CACNkyG,EACAF,EACAC,GAEJ7yG,MAAO,kDAGXvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCmH,SAAU,CACNnT,KAAKyc,eACLzc,KAAK2c,kBAETpK,MAAO,+BAEXvS,KAAKsd,YAAY,CACbC,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,KACA,UACA,gBACA,iCAGJiL,SAAU,MAEdrK,SAAUnT,KAAKmT,UAEvB,CAIA,MAAAsK,GACI/O,MAAM+O,UAGN,IAAAC,eAAc,CACVpO,KAAMtP,OAGV,CAACA,KAAKwkH,iBAAkBxkH,KAAK4kH,iBAAiB7+G,SAAQuJ,IAClDtP,KAAK+c,aAAa2oG,MAAMp2G,EAAK+P,UAAUwuB,YAAY,IAEvD,CACI7tC,KAAKskH,oBACLtkH,KAAKwkH,iBACLxkH,KAAKukH,iBACLvkH,KAAK4kH,gBACL5kH,KAAK8kH,WACL9kH,KAAKglH,YACLhlH,KAAKulH,aACLvlH,KAAKmlH,2BACLnlH,KAAKolH,yBACLplH,KAAKyc,eACLzc,KAAK2c,kBACP5W,SAAQuJ,IAENtP,KAAK6c,YAAYrU,IAAI8G,GAErBtP,KAAKmc,aAAa3T,IAAI8G,EAAK4E,QAAQ,IAGvClU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,OAAAiF,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAIA,KAAAtH,GACI7R,KAAK+c,aAAa4K,YACtB,CAQA,mBAAA+8F,GACI,MAAMiB,EAA6B3lH,KAAK4E,QAAQ+gH,2BAC1C9lB,EAAgB,CAClBn6F,MAAOigH,EAA2B3B,YAClCvgG,MAAOkiG,EAA2B1B,YAClCzjE,MAAOmlE,EAA2BzB,aAEhC0B,EAAoBxC,GAA4B,CAClDK,YAAazjH,KAAK4E,QAAQihH,aAC1BnlE,QAAS,EACTqgE,kBAAmBlhB,EAAcr/C,MACjCygE,kBAAmBjhH,KAAK4E,QAAQq8G,oBAE9Bj1G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACT+6B,EAAkB/6B,EAAE,SAEpB+zG,EAAiB,IAAI,EAAAjqB,UAAUxuF,GACrCy4G,EAAervF,KAAO1kB,EAAE,UAExB,MAAMiyG,EAAcnB,GAAqB9wG,GACnC4zG,EAAsB,IAAI,EAAAxmG,iBAAiB9R,EAAQ,EAAA85G,uBACzDxB,EAAoBjzG,IAAI,CACpBC,MAAOm6B,EACPl5B,MAAO,gCAEX+xG,EAAoBjlG,UAAUlO,WAAWE,IAAI,CACzCgB,UAAWo5B,EACX8xB,oBAAgB3yD,EAChBmoB,MAAM,EACNgZ,UAAU,EACVv6B,QAASi6B,IAEb64E,EAAoBjlG,UAAUlO,WAAWzJ,KAAK,SAASgK,GAAG1R,KAAM,eAAe+B,GACpE4gH,EAAY5gH,GAAgB,UAEvCuiH,EAAoBjlG,UAAUnM,GAAG,WAAW0N,IACxC5gB,KAAKgkH,YAAcpjG,EAAIld,OAAOk/G,iBAAiB,IAEnD0B,EAAoB58G,KAAK,WAAWgK,GAAG1R,KAAM,eAAe+B,IAAUA,KACtE,IAAA4pC,mBAAkB24E,EAAoBjlG,UAAWojG,GAA0BziH,KAAM6/F,EAAcn6F,OAAQ,CACnGmN,KAAM,OACNR,UAAWo5B,IAGf,MAAM84E,EAAmB,IAAI,EAAAzmG,iBAAiB9R,EAAQ,EAAA+R,wBACtDwmG,EAAiBlzG,IAAI,CACjBC,MAAOZ,EAAE,SACT6B,MAAO,gCAEXgyG,EAAiBllG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,eAClDukH,EAAiB78G,KAAK,aAAagK,GAAG1R,KAAM,cAAe+lH,IAC3DxB,EAAiBllG,UAAUnM,GAAG,SAAS,KACnClT,KAAKikH,YAAcM,EAAiBllG,UAAUnL,QAAQnS,KAAK,IAG/D,MAAMyiH,EAAmB,IAAI,EAAA1mG,iBAAiB9R,EAAQ45G,GAwBtD,OAvBApB,EAAiBnzG,IAAI,CACjBC,MAAOZ,EAAE,SACT6B,MAAO,gCAEXiyG,EAAiBnlG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,eAClDwkH,EAAiB98G,KAAK,aAAagK,GAAG1R,KAAM,cAAe+lH,IAC3DvB,EAAiBnlG,UAAUnM,GAAG,SAAS,KACnClT,KAAKkkH,YAAcM,EAAiBnlG,UAAUtd,KAAK,IAGvD/B,KAAKkT,GAAG,sBAAsB,CAAC0N,EAAKne,EAAMsZ,EAAUs/B,KAG3C0qE,GAAiBhqG,KAClB/b,KAAKkkH,YAAc,GACnBlkH,KAAKikH,YAAc,IAGlB8B,GAAiB1qE,KAClBr7C,KAAKkkH,YAAcrkB,EAAcr/C,MACjCxgD,KAAKikH,YAAcpkB,EAAcp8E,MACrC,IAEG,CACHghG,iBACAH,sBACAE,mBACAD,mBAER,CAMA,uBAAAM,GACI,MAAM74G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EAETi0G,EAAqB,IAAI,EAAAnqB,UAAUxuF,GACzC24G,EAAmBvvF,KAAO1kB,EAAE,cAE5B,MAAMk1G,EAAoBxC,GAA4B,CAClDK,YAAazjH,KAAK4E,QAAQohH,iBAC1BtlE,QAAS,EACTqgE,kBAAmB/gH,KAAK4E,QAAQ+gH,2BAA2BnF,gBAC3DS,kBAAmBjhH,KAAK4E,QAAQq8G,oBAE9B2D,EAAkB,IAAI,EAAA9mG,iBAAiB9R,EAAQ45G,GASrD,OARAhB,EAAgBvzG,IAAI,CAChBC,MAAOZ,EAAE,SACT6B,MAAO,8CAEXqyG,EAAgBvlG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,mBACjD4kH,EAAgBvlG,UAAUnM,GAAG,SAAS,KAClClT,KAAKwgH,gBAAkBoE,EAAgBvlG,UAAUtd,KAAK,IAEnD,CACH4iH,qBACAC,kBAER,CAOA,sBAAAM,GACI,MAAMl5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EAETu0G,EAAkB,IAAI,EAAAzqB,UAAUxuF,GACtCi5G,EAAgB7vF,KAAO1kB,EAAE,cAEzB,MAAMo0G,EAAa,IAAI,EAAAhnG,iBAAiB9R,EAAQ,EAAA+R,wBAChD+mG,EAAWzzG,IAAI,CACXC,MAAOZ,EAAE,SACT6B,MAAO,yCAEXuyG,EAAWzlG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,SAC5C8kH,EAAWzlG,UAAUnM,GAAG,SAAS,KAC7BlT,KAAKyjB,MAAQqhG,EAAWzlG,UAAUnL,QAAQnS,KAAK,IAGnD,MAAMgjH,EAAgB,IAAI,EAAA7oG,KAAKlQ,GAC/B+4G,EAAcznG,YAAY,CACtBC,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,sCAGRY,SAAU,CACN,CAAEiiB,KAAM,QAIhB,MAAM4vF,EAAc,IAAI,EAAAlnG,iBAAiB9R,EAAQ,EAAA+R,wBASjD,OARAinG,EAAY3zG,IAAI,CACZC,MAAOZ,EAAE,UACT6B,MAAO,0CAEXyyG,EAAY3lG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,UAC7CglH,EAAY3lG,UAAUnM,GAAG,SAAS,KAC9BlT,KAAK0jB,OAASshG,EAAY3lG,UAAUnL,QAAQnS,KAAK,IAE9C,CACHkjH,kBACAH,aACAC,gBACAC,cAER,CAMA,mBAAAQ,GACI,MAAMx5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACT60G,EAAe,IAAI,EAAAznG,iBAAiB9R,EAAQ,EAAA+R,wBASlD,OARAwnG,EAAal0G,IAAI,CACbC,MAAOZ,EAAE,WACT6B,MAAO,2CAEXgzG,EAAalmG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,WAC9CulH,EAAalmG,UAAUnM,GAAG,SAAS,KAC/BlT,KAAKmkH,QAAUoB,EAAalmG,UAAUnL,QAAQnS,KAAK,IAEhDwjH,CACX,CAOA,sBAAAD,GACI,MAAMt5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACT20G,EAAiB,IAAI,EAAA7qB,UAAUxuF,GAC/Bi6G,EAAkB,CACpBv3F,KAAM,EAAAve,MAAMC,UACZwe,OAAQ,EAAAze,MAAMG,YACdqe,MAAO,EAAAxe,MAAME,WACb61G,QAAS,EAAA/1G,MAAMI,aACfyuB,IAAK,EAAA7uB,MAAMg2G,SACXC,OAAQ,EAAAj2G,MAAMk2G,YACd7lF,OAAQ,EAAArwB,MAAMm2G,aAElBjB,EAAejwF,KAAO1kB,EAAE,6BAExB,MAAMy0G,EAA6B,IAAI,EAAArkF,YAAY90B,GAC7Cu6G,EAAmD,QAApCv6G,EAAOC,yBAC5Bk5G,EAA2B9zG,IAAI,CAC3Bm1G,WAAW,EACXn0G,UAAW3B,EAAE,uCAEjBmyG,GAAY,CACRvzG,KAAMtP,KACNmQ,MAAO81G,EACPhnF,QAASkmF,EACTrC,OAAQ9iH,KAAKymH,2BACb1D,aAAc,sBACdC,YAAavgH,IAET,GAAI8jH,EAAc,CACd,GAAa,SAAT9jH,EACA,MAAO,QAEN,GAAa,UAATA,EACL,MAAO,MAEf,CACA,OAAOA,CAAI,EAEf0lE,aAAcnoE,KAAK4E,QAAQ+gH,2BAA2BvB,sBAG1D,MAAMgB,EAA2B,IAAI,EAAAtkF,YAAY90B,GAajD,OAZAo5G,EAAyB/zG,IAAI,CACzBm1G,WAAW,EACXn0G,UAAW3B,EAAE,qCAEjBmyG,GAAY,CACRvzG,KAAMtP,KACNmQ,MAAO81G,EACPhnF,QAASmmF,EACTtC,OAAQ9iH,KAAK0mH,yBACb3D,aAAc,oBACd56C,aAAcnoE,KAAK4E,QAAQ+gH,2BAA2BtB,oBAEnD,CACHc,6BACAC,2BACAC,iBAER,CAOA,oBAAAI,GACI,MAAMz5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACT+L,EAAiB,IAAI,EAAArL,WAAWpF,GAChC2Q,EAAmB,IAAI,EAAAvL,WAAWpF,GAClC26G,EAAiC,CACnC3mH,KAAKukH,iBACLvkH,KAAKwkH,iBACLxkH,KAAK4kH,gBACL5kH,KAAKulH,cAmBT,OAjBA9oG,EAAepL,IAAI,CACfC,MAAOZ,EAAE,QACTa,KAAM,EAAApB,MAAMuM,MACZnK,MAAO,iBACPnI,KAAM,SACN2hC,UAAU,IAEdtvB,EAAe/U,KAAK,aAAamhB,OAAO89F,EAAgC,aAAa,IAAIC,IAC9EA,EAAWtuG,OAAM41B,IAAcA,MAE1CvxB,EAAiBtL,IAAI,CACjBC,MAAOZ,EAAE,UACTa,KAAM,EAAApB,MAAMyM,OACZrK,MAAO,mBACPw5B,UAAU,IAEdpvB,EAAiB1J,SAAS,WAAWvB,GAAG1R,KAAM,UACvC,CACHyc,iBAAgBE,mBAExB,CAIA,8BAAI8pG,GACA,MAAMz6G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACTge,EAAOhe,EAAE,+BACTke,EAASle,EAAE,iCACXie,EAAQje,EAAE,gCACVw1G,EAAUx1G,EAAE,qBAElB,MAAmC,QAA/B1E,EAAOiG,oBACA,CAAE0c,QAAOC,SAAQF,OAAMw3F,WAGvB,CAAEx3F,OAAME,SAAQD,QAAOu3F,UAEtC,CAIA,4BAAIQ,GACA,MAAMh2G,EAAI1Q,KAAK0Q,EACf,MAAO,CACHsuB,IAAKtuB,EAAE,8BACP01G,OAAQ11G,EAAE,iCACV8vB,OAAQ9vB,EAAE,iCAElB,EAEJ,SAASq1G,GAAiBhkH,GACtB,MAAiB,SAAVA,CACX,CCjhBA,MAAM8kH,GAAoC,KAAO,CAC7C,EAAA5oG,iBAAiBD,iBAAiBK,gBAClC,EAAAJ,iBAAiBD,iBAAiBM,oBAClC,EAAAL,iBAAiBD,iBAAiBO,oBAClC,EAAAN,iBAAiBD,iBAAiBQ,gBAClC,EAAAP,iBAAiBD,iBAAiBS,oBAClC,EAAAR,iBAAiBD,iBAAiBU,oBAClC,EAAAT,iBAAiBD,iBAAiBW,qBAPI,GAiBnC,SAAS,GAA4B1R,EAAQnJ,GAChD,MAAM0b,EAAUvS,EAAO8G,QAAQ3I,IAAI,qBAC7BiC,EAAYJ,EAAO2E,QAAQtC,KAAKtL,SAASqJ,UAC/C,IAAIoS,EACW,SAAX3b,EACI27G,GAAuBpyG,KACvBoS,EAAWqnG,GAA2B75G,IAGrCsyG,GAAgClyG,KACrCoS,EAAWsnG,GAA4B95G,IAEvCwS,GACAD,EAAQE,eAAeD,EAE/B,CAQO,SAASsnG,GAA4B95G,GACxC,MACM2oG,EAAahV,GADD3zF,EAAOG,MAAMpJ,SAASqJ,WAElCooG,EAAYxoG,EAAO2E,QAAQoP,OAAOC,cAAc20F,GACtD,MAAO,CACH9xG,OAAQmJ,EAAO2E,QAAQtC,KAAK4O,aAAaC,aAAas3F,GACtDr3F,UAAWyoG,GAEnB,CAQO,SAASC,GAA2B75G,GACvC,MAAM+T,EAAS/T,EAAO2E,QAAQoP,OACxB9C,EAAejR,EAAO2E,QAAQtC,KAAK4O,aACnC7Q,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UACxC,GAAIA,EAAU0iE,WAAa,EACvB,MAAO,CACHjsE,OAAQ,IA0BpB,SAA4B01B,EAAQvsB,GAChC,MAAM+T,EAAS/T,EAAO2E,QAAQoP,OACxB9C,EAAejR,EAAO2E,QAAQtC,KAAK4O,aACnC8oG,EAAQ/lH,MAAMyB,KAAK82B,GAAQv5B,KAAIykB,IACjC,MAAMuiG,EAAiBC,GAAuBxiG,EAAMzM,OAC9CkvG,EAAgBnmG,EAAOC,cAAcgmG,GAC3C,OAAO,IAAI,EAAAvnF,KAAKxhB,EAAaC,aAAagpG,GAAe,IAE7D,OAAO,EAAAznF,KAAK0nF,gBAAgBJ,EAChC,CAnC0BK,CAAmBh6G,EAAU0mB,YAAa9mB,GACxDmR,UAAWyoG,IAGnB,MAAMI,EAAiBC,GAAuB75G,EAAUkK,oBAClD4vG,EAAgBnmG,EAAOC,cAAcgmG,GAC3C,MAAO,CACHnjH,OAAQoa,EAAaC,aAAagpG,GAClC/oG,UAAWyoG,GAEnB,CAMA,SAASK,GAAuBznG,GAE5B,OAD4BA,EAASoN,WAAapN,EAASoN,UAAUlX,GAAG,UAAW,aACtD8J,EAASoN,UAAYpN,EAASpL,aAAa,YAC5E,CCxEO,SAASizG,GAAeC,GAC3B,IAAKA,IAAmB,GAASA,GAC7B,OAAOA,EAEX,MAAM,IAAEvoF,EAAG,MAAErQ,EAAK,OAAE6R,EAAM,KAAE9R,GAAS64F,EACrC,OAAIvoF,GAAOrQ,GAASA,GAAS6R,GAAUA,GAAU9R,EACtCsQ,OADX,CAGJ,CAeO,SAASwoF,GAA6BzlH,EAAO0lH,GAChD,MAAMx5B,EAAetvC,WAAW58C,GAChC,OAAIq5B,OAAOwjB,MAAMqvC,IAGb10E,OAAO00E,KAAkB10E,OAAOxX,GAFzBA,EAKJ,GAAGksF,IAAew5B,GAC7B,CAOO,SAASC,GAA+B/4G,EAAQ/J,EAAU,CAAC,GAC9D,MAAMq7E,EAAmB,CACrB+jC,YAAa,OACbC,YAAa,GACbC,YAAa,GACb1D,gBAAiB,GACjB/8F,MAAO,GACPC,OAAQ,MACL/U,GAcP,OAZI/J,EAAQ+iH,2BAA6B1nC,EAAiBl0E,YACtDk0E,EAAiBl0E,UAAY,UAE7BnH,EAAQgjH,yBAA2B3nC,EAAiBkkC,UACpDlkC,EAAiBkkC,QAAU,IAE3Bv/G,EAAQijH,mCAAqC5nC,EAAiBokC,oBAC9DpkC,EAAiBokC,kBAAoB,UAErCz/G,EAAQkjH,qCAAuC7nC,EAAiBmkC,sBAChEnkC,EAAiBmkC,oBAAsBx/G,EAAQmjH,qBAAuB,QAAU,QAE7E9nC,CACX,CAOO,SAAS+nC,GAAoCr5G,EAAQ/J,GACxD,OAAO8iH,GAA+B,CAGlC1D,YAAa,SACbE,YAAa,kBACbD,YAAa,SACVt1G,GACJ/J,EACP,CAOO,SAASqjH,GAAmCt5G,EAAQ/J,GACvD,OAAO8iH,GAA+B,CAGlC1D,YAAa,QACbE,YAAa,kBACbD,YAAa,SACVt1G,GACJ/J,EACP,CClGA,MAEMsjH,GAAuB,CACzBlE,YAAa,uBACbE,YAAa,uBACbD,YAAa,uBACbvgG,OAAQ,kBACRD,MAAO,iBACP0gG,QAAS,mBACT3D,gBAAiB,2BACjB4D,oBAAqB,+BACrBC,kBAAmB,8BAQR,MAAM8D,WAA8B,EAAA55G,OAI/C,mBAAWgF,GACP,MAAO,CAAC,EAAAsL,kBACZ,CAIA,qBAAWrQ,GACP,MAAO,uBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNA,EAAO0B,OAAOC,OAAO,4BAA6B,CAC9Ci3G,aAAc1C,GACd6C,iBAAkB7C,IAE1B,CAIA,IAAAt0G,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACjB1Q,KAAKooH,4BAA8BH,GAAmCh7G,EAAO0B,OAAOvD,IAAI,+CAAgD,CACpIy8G,kCAAkC,EAClCC,oCAAoC,EACpCF,wBAAwB,EACxBG,qBAAiE,QAA3C96G,EAAOjB,OAAOC,2BAExCjM,KAAKmf,SAAWlS,EAAO8G,QAAQ3I,IAAI,EAAAyT,mBACnC7e,KAAKsP,KAAO,KACZtP,KAAKqoH,UAAW,EAChBp7G,EAAO6D,GAAGC,iBAAiBvI,IAAI,uBAAuBwD,IAClD,MAAMsD,EAAO,IAAI,EAAA8B,WAAWpF,GAC5BsD,EAAK+B,IAAI,CACLC,MAAOZ,EAAE,mBACTa,KCnFhB,mpBDoFgBC,SAAS,IAEbxR,KAAK2R,SAASrC,EAAM,WAAW,IAAMtP,KAAKsoH,cAC1C,MAAMt4G,EAAW3N,OAAOkN,OAAO24G,IAC1BjoH,KAAIq7B,GAAeruB,EAAO+C,SAAS5E,IAAIkwB,KAE5C,OADAhsB,EAAK5H,KAAK,aAAamhB,OAAO7Y,EAAU,aAAa,IAAIijB,IAAgBA,EAAWrmB,MAAK27G,GAAoBA,MACtGj5G,CAAI,GAEnB,CAIA,OAAA6J,GACIzK,MAAMyK,UAGFnZ,KAAKsP,MACLtP,KAAKsP,KAAK6J,SAElB,CAMA,qBAAAqvG,GACI,MAAMv7G,EAASjN,KAAKiN,OACd0B,EAAS1B,EAAO0B,OAAOvD,IAAI,6BAC3Bq9G,GAAqB,IAAAznE,uBAAsBryC,EAAOk3G,cAClD6C,GAAwB,IAAAxnE,0BAAyBj0C,EAAOjB,OAAQy8G,GAChEE,GAAyB,IAAA3nE,uBAAsBryC,EAAOq3G,kBACtD4C,GAA4B,IAAA1nE,0BAAyBj0C,EAAOjB,OAAQ28G,GACpEtnE,GAAwC,IAAvB1yC,EAAO2yC,YACxBhyC,EAAO,IAAIy0G,GAAwB92G,EAAOjB,OAAQ,CACpD65G,aAAc6C,EACd1C,iBAAkB4C,EAClBjD,2BAA4B3lH,KAAKooH,4BACjCnH,oBAAmB5/D,IAAkB1yC,EAAO2yC,aAAe,CAAC,KAE1D5wC,EAAIzD,EAAOyD,EAEjBpB,EAAKmO,SACLzd,KAAK2R,SAASrC,EAAM,UAAU,KAC1BtP,KAAK6oH,WAAW,IAEpB7oH,KAAK2R,SAASrC,EAAM,UAAU,KAEtBtP,KAAK+hD,eAAeE,WAAWthD,QAC/BsM,EAAOU,QAAQ,OAAQ3N,KAAK+hD,gBAEhC/hD,KAAK6oH,WAAW,IAGpBv5G,EAAK+M,WAAWhL,IAAI,OAAO,CAAC/N,EAAMsZ,KAC9B5c,KAAK6oH,YACLjsG,GAAQ,KAGZ,IAAAgD,qBAAoB,CAChBC,QAASvQ,EACTwQ,UAAW,IAAM9f,KAAK8oH,iBACtB/oG,gBAAiB,CAAC/f,KAAKmf,SAAS7P,KAAK4E,SACrC8L,SAAU,IAAMhgB,KAAK6oH,cAEzB,MAAME,EAAiB7G,GAA2BxxG,GAC5Cs4G,EAAkB7G,GAA4BzxG,GA6CpD,OAvCApB,EAAK4D,GAAG,qBAAsBlT,KAAKipH,2BAA2B,yBAC9D35G,EAAK4D,GAAG,qBAAsBlT,KAAKkpH,oCAAoC,CACnEC,UAAW75G,EAAKk1G,iBAChBlpF,YAAa,uBACb4S,UAAW66E,EACXr9C,UAAW02C,MAEf9yG,EAAK4D,GAAG,qBAAsBlT,KAAKkpH,oCAAoC,CACnEC,UAAW75G,EAAKi1G,iBAChBjpF,YAAa,uBACb4S,UAAW86E,EACXt9C,UAAW82C,MAEflzG,EAAK4D,GAAG,iBAAkBlT,KAAKkpH,oCAAoC,CAC/DC,UAAW75G,EAAKi2G,aAChBjqF,YAAa,mBACb4S,UAAW86E,EACXt9C,UAAW42C,MAEfhzG,EAAK4D,GAAG,eAAgBlT,KAAKkpH,oCAAoC,CAC7DC,UAAW75G,EAAKw1G,WAChBxpF,YAAa,iBACb4S,UAAW86E,EACXt9C,UAAW42C,MAEfhzG,EAAK4D,GAAG,gBAAiBlT,KAAKkpH,oCAAoC,CAC9DC,UAAW75G,EAAK01G,YAChB1pF,YAAa,kBACb4S,UAAW86E,EACXt9C,UAAW42C,MAEfhzG,EAAK4D,GAAG,yBAA0BlT,KAAKkpH,oCAAoC,CACvEC,UAAW75G,EAAKs1G,gBAChBtpF,YAAa,2BACb4S,UAAW66E,EACXr9C,UAAW02C,MAEf9yG,EAAK4D,GAAG,6BAA8BlT,KAAKipH,2BAA2B,iCACtE35G,EAAK4D,GAAG,2BAA4BlT,KAAKipH,2BAA2B,+BAC7D35G,CACX,CASA,8BAAA85G,GACI,MAAMp5G,EAAWhQ,KAAKiN,OAAO+C,SACvBq5G,EAAqBr5G,EAAS5E,IAAI,wBACxC/I,OAAO+gD,QAAQ8kE,IACVjoH,KAAI,EAAEivD,EAAU5zB,MACjB,MAAM6sC,EAAenoE,KAAKooH,4BAA4Bl5D,IAAa,GACnE,MAAO,CACHA,EACAl/C,EAAS5E,IAAIkwB,GAAav5B,OAASomE,EACtC,IAEApiE,SAAQ,EAAEmpD,EAAUntD,OAEH,gBAAbmtD,GAA2C,gBAAbA,GAA4D,SAA7Bm6D,EAAmBtnH,QAGrF/B,KAAKsP,KAAK+B,IAAI69C,EAAUntD,EAAM,IAElC/B,KAAKqoH,UAAW,CACpB,CAQA,SAAAC,GACI,MAAMr7G,EAASjN,KAAKiN,OACfjN,KAAKsP,OACNtP,KAAKsP,KAAOtP,KAAKwoH,yBAErBxoH,KAAK2R,SAAS1E,EAAO6D,GAAI,UAAU,KAC/B9Q,KAAKspH,aAAa,IAGtBtpH,KAAKopH,iCACLppH,KAAKmf,SAAS3W,IAAI,CACd8G,KAAMtP,KAAKsP,KACXmQ,SAAUqnG,GAA2B75G,KAGzCjN,KAAK+hD,eAAiB90C,EAAOG,MAAM40C,cAEnChiD,KAAKsP,KAAKuC,OACd,CAIA,SAAAg3G,GACI,MAAM57G,EAASjN,KAAKiN,OACpBjN,KAAKoX,cAAcnK,EAAO6D,GAAI,UAC9B9Q,KAAKqoH,UAAW,EAGhBroH,KAAKsP,KAAKmN,eAAe5K,QACzB7R,KAAKmf,SAASxY,OAAO3G,KAAKsP,MAG1BtP,KAAKiN,OAAO2E,QAAQtC,KAAKuC,OAC7B,CAIA,WAAAy3G,GACI,MAAMr8G,EAASjN,KAAKiN,OAEfwyG,GADgBxyG,EAAO2E,QAAQtC,KAAKtL,SACAqJ,WAGhCrN,KAAKupH,gBACV,GAA4Bt8G,EAAQ,QAHpCjN,KAAK6oH,WAKb,CAIA,kBAAIU,GACA,QAASvpH,KAAKsP,MAAQtP,KAAKmf,SAASoB,cAAgBvgB,KAAKsP,IAC7D,CAIA,oBAAIw5G,GACA,QAAS9oH,KAAKsP,MAAQtP,KAAKmf,SAASqB,QAAQxgB,KAAKsP,KACrD,CAOA,0BAAA25G,CAA2B3tF,GACvB,MAAO,CAAC1a,EAAKmiG,EAAchnG,KAClB/b,KAAKqoH,UAGVroH,KAAKiN,OAAOU,QAAQ2tB,EAAa,CAC7Bv5B,MAAOga,EACP9E,MAAOjX,KAAK+hD,gBACd,CAEV,CAMA,mCAAAmnE,CAAoCtkH,GAChC,MAAM,YAAE02B,EAAW,UAAE6tF,EAAS,UAAEz9C,EAAS,UAAEx9B,GAActpC,EACnD4kH,EAAwB,IAAS,KACnCL,EAAUj7E,UAAYA,CAAS,GA3ShB,KA6SnB,MAAO,CAACttB,EAAKmiG,EAAchnG,KACvBytG,EAAsB5sG,SAEjB5c,KAAKqoH,WAGN38C,EAAU3vD,IACV/b,KAAKiN,OAAOU,QAAQ2tB,EAAa,CAC7Bv5B,MAAOga,EACP9E,MAAOjX,KAAK+hD,iBAEhBonE,EAAUj7E,UAAY,MAGtBs7E,IACJ,CAER,EEjUW,MAAMC,WAAiC,EAAA18G,QAQlD,WAAAvK,CAAYyK,EAAQmJ,EAAe+xD,GAC/Bz5D,MAAMzB,GACNjN,KAAKoW,cAAgBA,EACrBpW,KAAK0pH,cAAgBvhD,CACzB,CAIA,OAAAn7D,GACI,MAAMC,EAASjN,KAAKiN,OAEd2kG,EADa5xG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACLy6F,+BAA+B54F,EAAOG,MAAMpJ,SAASqJ,WAC3FrN,KAAKuN,YAAcqkG,EAAmBjxG,OACtCX,KAAK+B,MAAQ/B,KAAK2pH,gBAAgB/X,EACtC,CAUA,OAAAjkG,CAAQ/I,EAAU,CAAC,GACf,MAAM,MAAE7C,EAAK,MAAEkV,GAAUrS,EACnBwI,EAAQpN,KAAKiN,OAAOG,MAEpBokG,EADaxxG,KAAKiN,OAAO8G,QAAQ3I,IAAI,cACby6F,+BAA+Bz4F,EAAMpJ,SAASqJ,WACtEu8G,EAAa5pH,KAAK6pH,eAAe9nH,GACvCqL,EAAM4J,cAAcC,GAAOnJ,IACnB87G,EACApY,EAAWzrG,SAAQy6F,GAAa1yF,EAAO7H,aAAajG,KAAKoW,cAAewzG,EAAYppB,KAGpFgR,EAAWzrG,SAAQy6F,GAAa1yF,EAAO1G,gBAAgBpH,KAAKoW,cAAeoqF,IAC/E,GAER,CAIA,aAAAspB,CAActpB,GACV,IAAKA,EACD,OAEJ,MAAMz+F,EAAQy+F,EAAU9yF,aAAa1N,KAAKoW,eAC1C,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,CAIA,cAAA8nH,CAAe9nH,GACX,GAAIA,IAAU/B,KAAK0pH,cAGnB,OAAO3nH,CACX,CAKA,eAAA4nH,CAAgBnY,GACZ,MAAMuY,EAAiB/pH,KAAK8pH,cAActY,EAAW,IAErD,OAD8BA,EAAWl5F,OAAMk5F,GAAcxxG,KAAK8pH,cAActY,KAAgBuY,IACjEA,OAAiBn/G,CACpD,EC5DW,MAAMo/G,WAA8BP,GAO/C,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,iBAAkBk7D,EACpC,CAIA,cAAA0hD,CAAe9nH,GAEX,IADAA,EAAQylH,GAA6BzlH,EAAO,SAC9B/B,KAAK0pH,cAGnB,OAAO3nH,CACX,EC/BW,MAAM,WAA8B,EAAAwM,OAI/C,qBAAWC,GACP,MAAO,uBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,GACZ,CAIA,IAAA1E,GACI,MAAM5B,EAASjN,KAAKiN,OACd04G,EAA6BsC,GAAmCh7G,EAAO0B,OAAOvD,IAAI,gDACxFu1F,GAAe1zF,EAAOG,MAAMgB,OAAQnB,EAAOmC,WAAY,CACnDkwF,eAAgB,iBAChBlN,UAAW,QACXjqB,aAAcw9C,EAA2BliG,QAE7CxW,EAAO+C,SAASxH,IAAI,iBAAkB,IAAIwhH,GAAsB/8G,EAAQ04G,EAA2BliG,OACvG,ECnBW,MAAMwmG,WAAgCR,GAOjD,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,mBAAoBk7D,EACtC,CAIA,aAAA2hD,CAActpB,GACV,IAAKA,EACD,OAEJ,MAAMz+F,EAAQulH,GAAe9mB,EAAU9yF,aAAa1N,KAAKoW,gBACzD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,CAIA,cAAA8nH,CAAe9nH,GACX,MAAMga,EAAWyrG,GAA6BzlH,EAAO,MACrD,GAAIga,IAAa/b,KAAK0pH,cAGtB,OAAO3tG,CACX,EChCW,MAAMmuG,WAA+BT,GAOhD,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,kBAAmBk7D,EACrC,CAIA,cAAA0hD,CAAe9nH,GACX,MAAMga,EAAWyrG,GAA6BzlH,EAAO,MACrD,GAAIga,IAAa/b,KAAK0pH,cAGtB,OAAO3tG,CACX,EC9BW,MAAMouG,WAAwCV,GAOzD,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,2BAA4Bk7D,EAC9C,ECDW,MAAMiiD,WAA0CX,GAO3D,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,6BAA8Bk7D,EAChD,ECjBW,MAAMkiD,WAA4CZ,GAO7D,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,+BAAgCk7D,EAClD,ECRW,MAAMmiD,WAAoCb,GAOrD,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,uBAAwBk7D,EAC1C,CAIA,aAAA2hD,CAActpB,GACV,IAAKA,EACD,OAEJ,MAAMz+F,EAAQulH,GAAe9mB,EAAU9yF,aAAa1N,KAAKoW,gBACzD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,ECtBW,MAAMwoH,WAAoCd,GAOrD,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,uBAAwBk7D,EAC1C,CAIA,aAAA2hD,CAActpB,GACV,IAAKA,EACD,OAEJ,MAAMz+F,EAAQulH,GAAe9mB,EAAU9yF,aAAa1N,KAAKoW,gBACzD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,ECZW,MAAMyoH,WAAoCf,GAOrD,WAAAjnH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,uBAAwBk7D,EAC1C,CAIA,aAAA2hD,CAActpB,GACV,IAAKA,EACD,OAEJ,MAAMz+F,EAAQulH,GAAe9mB,EAAU9yF,aAAa1N,KAAKoW,gBACzD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,CAIA,cAAA8nH,CAAe9nH,GACX,MAAMga,EAAWyrG,GAA6BzlH,EAAO,MACrD,GAAIga,IAAa/b,KAAK0pH,cAGtB,OAAO3tG,CACX,ECxCJ,MAAM0uG,GAAwB,wBACxBC,GAAuB,gCAoBd,MAAMC,WAAmC,EAAAp8G,OAIpD,qBAAWC,GACP,MAAO,4BACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,GAAc,GAC1B,CAIA,IAAA1E,GACI,MAAM5B,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WAC1BnC,EAAO0B,OAAOC,OAAO,8CAA+C,CAAC,GACrE,MAAM+2G,EAA6BsC,GAAmCh7G,EAAO0B,OAAOvD,IAAI,+CAAgD,CACpIy8G,kCAAkC,EAClCC,oCAAoC,EACpCF,wBAAwB,EACxBG,qBAAiE,QAA3C96G,EAAOjB,OAAOC,2BAExCgB,EAAO3J,KAAKw/C,uBAAuB,EAAA8nE,gBA4C3C,SAAgCx8G,EAAQgB,EAAYywF,GAChD,MAAMjjB,EAAkB,CACpBn5D,MAAO,uBACP+8B,MAAO,uBACP96C,MAAO,wBAEX0I,EAAOY,OAAO,YAAa,CACvBC,gBAAiB5M,OAAOkN,OAAOqtE,KAEnCgjB,GAAmBxwF,EAAY,KAAMwtE,EAAiBijB,GACtDD,GAAmBxwF,EAAY,KAAMwtE,EAAiBijB,GACtDI,GAAyB7wF,EAAY,CAAEoG,aAAc,YAAa8pF,eAAgB1iB,EAAgBl3E,MAAO0sF,UAAW,iBACpH6N,GAAyB7wF,EAAY,CAAEoG,aAAc,YAAa8pF,eAAgB1iB,EAAgBp8B,MAAO4xC,UAAW,iBACpH6N,GAAyB7wF,EAAY,CAAEoG,aAAc,YAAa8pF,eAAgB1iB,EAAgBn5D,MAAO2uE,UAAW,gBACxH,CAzDQy4B,CAAuBz8G,EAAQgB,EAAY,CACvCoxC,MAAOmlE,EAA2BzB,YAClCx+G,MAAOigH,EAA2B3B,YAClCvgG,MAAOkiG,EAA2B1B,cAEtCh3G,EAAO+C,SAASxH,IAAI,uBAAwB,IAAI8hH,GAA4Br9G,EAAQ04G,EAA2B3B,cAC/G/2G,EAAO+C,SAASxH,IAAI,uBAAwB,IAAI+hH,GAA4Bt9G,EAAQ04G,EAA2BzB,cAC/Gj3G,EAAO+C,SAASxH,IAAI,uBAAwB,IAAIgiH,GAA4Bv9G,EAAQ04G,EAA2B1B,cAC/GtjB,GAAevyF,EAAQgB,EAAY,CAC/BkwF,eAAgB,kBAChBlN,UAAW,SACXjqB,aAAcw9C,EAA2BjiG,SAE7CzW,EAAO+C,SAASxH,IAAI,kBAAmB,IAAI0hH,GAAuBj9G,EAAQ04G,EAA2BjiG,SACrGzW,EAAO3J,KAAKw/C,uBAAuB,EAAAgoE,iBACnCnqB,GAAevyF,EAAQgB,EAAY,CAC/BkwF,eAAgB,mBAChBlN,UAAW,UACXmN,gBAAgB,EAChBp3B,aAAcw9C,EAA2BxB,UAE7Cl3G,EAAO+C,SAASxH,IAAI,mBAAoB,IAAIyhH,GAAwBh9G,EAAQ04G,EAA2BxB,UACvGl3G,EAAO3J,KAAKw/C,uBAAuB,EAAAC,oBACnC49C,GAAevyF,EAAQgB,EAAY,CAC/BkwF,eAAgB,2BAChBlN,UAAW,mBACXjqB,aAAcw9C,EAA2BnF,kBAE7CvzG,EAAO+C,SAASxH,IAAI,2BAA4B,IAAI2hH,GAAgCl9G,EAAQ04G,EAA2BnF,kBAmC/H,SAA2CpyG,EAAQgB,EAAY+4D,GAC3D/5D,EAAOY,OAAO,YAAa,CACvBC,gBAAiB,CAAC,kCAEtBG,EAAWK,IAAI,YACVJ,qBAAqB,CACtBjC,MAAO,CACH3K,KAAM,YACNuD,IAAK,gCAETsJ,KAAMvD,IAAa,CACf/F,IAAK,QACLjE,MAAO,CACH,aAAcgK,OAI1BqD,EAAWK,IAAI,UAEVJ,qBAAqB,CACtBC,KAAM,CACF7M,KAAM,YACNkG,OAAQ,CACJ,aAAc+hH,KAGtBt9G,MAAO,CACHpH,IAAK,+BACLjE,MAAQiT,IACJ,MAAM+1G,EAAQ/1G,EAAYZ,SAAS,cACnC,OAAO22G,IAAU5iD,EAAe,KAAO4iD,CAAK,KAKnD17G,qBAAqB,CACtBC,KAAM,CACF7M,KAAM,YACNmD,WAAY,CACRmlH,MAAOL,KAGft9G,MAAO,CACHpH,IAAK,+BACLjE,MAAQiT,IACJ,MAAM+1G,EAAQ/1G,EAAYtH,aAAa,SACvC,OAAOq9G,IAAU5iD,EAAe,KAAO4iD,CAAK,IAI5D,CApFQC,CAAkC58G,EAAQgB,EAAYu2G,EAA2BvB,qBACjFn3G,EAAO+C,SAASxH,IAAI,+BAAgC,IAAI6hH,GAAoCp9G,EAAQ04G,EAA2BvB,sBAyFvI,SAAyCh2G,EAAQgB,EAAY+4D,GACzD/5D,EAAOY,OAAO,YAAa,CACvBC,gBAAiB,CAAC,gCAEtBG,EAAWK,IAAI,YACVJ,qBAAqB,CACtBjC,MAAO,CACH3K,KAAM,YACNuD,IAAK,8BAETsJ,KAAMvD,IAAa,CACf/F,IAAK,QACLjE,MAAO,CACH,iBAAkBgK,OAI9BqD,EAAWK,IAAI,UAEVJ,qBAAqB,CACtBC,KAAM,CACF7M,KAAM,YACNkG,OAAQ,CACJ,iBAAkB8hH,KAG1Br9G,MAAO,CACHpH,IAAK,6BACLjE,MAAQiT,IACJ,MAAM+1G,EAAQ/1G,EAAYZ,SAAS,kBACnC,OAAO22G,IAAU5iD,EAAe,KAAO4iD,CAAK,KAKnD17G,qBAAqB,CACtBC,KAAM,CACF7M,KAAM,YACNmD,WAAY,CACRqlH,OAAQR,KAGhBr9G,MAAO,CACHpH,IAAK,6BACLjE,MAAQiT,IACJ,MAAMi2G,EAASj2G,EAAYtH,aAAa,UACxC,OAAOu9G,IAAW9iD,EAAe,KAAO8iD,CAAM,IAI9D,CA1IQC,CAAgC98G,EAAQgB,EAAYu2G,EAA2BtB,mBAC/Ep3G,EAAO+C,SAASxH,IAAI,6BAA8B,IAAI4hH,GAAkCn9G,EAAQ04G,EAA2BtB,mBAC/H,EC1FW,MAAM8G,WAA4B,EAAA58G,OAI7C,qBAAWC,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACo3G,GAA4BxC,GACxC,EC3BW,MAAMiD,WAA6B,EAAAr+G,QAQ9C,WAAAvK,CAAYyK,EAAQmJ,EAAe+xD,GAC/Bz5D,MAAMzB,GACNjN,KAAKoW,cAAgBA,EACrBpW,KAAK0pH,cAAgBvhD,CACzB,CAIA,OAAAn7D,GACI,MAEM0oD,EAAQkrC,GAFC5gG,KAAKiN,OACKG,MAAMpJ,SAASqJ,WAExCrN,KAAKuN,YAAcmoD,EACnB11D,KAAK+B,MAAQ/B,KAAK63B,UAAU69B,EAChC,CAUA,OAAA/nD,CAAQ/I,EAAU,CAAC,GACf,MAAMwI,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,WAC3B,MAAEtL,EAAK,MAAEkV,GAAUrS,EACnB8wD,EAAQkrC,GAA0BvzF,GAClCu8G,EAAa5pH,KAAK6pH,eAAe9nH,GACvCqL,EAAM4J,cAAcC,GAAOnJ,IACnB87G,EACA97G,EAAO7H,aAAajG,KAAKoW,cAAewzG,EAAYl0D,GAGpD5nD,EAAO1G,gBAAgBpH,KAAKoW,cAAes/C,EAC/C,GAER,CAIA,SAAA79B,CAAU69B,GACN,IAAKA,EACD,OAEJ,MAAM3zD,EAAQ2zD,EAAMhoD,aAAa1N,KAAKoW,eACtC,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,CAIA,cAAA8nH,CAAe9nH,GACX,GAAIA,IAAU/B,KAAK0pH,cAGnB,OAAO3nH,CACX,EC5DW,MAAMspH,WAAoCD,GAOrD,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,uBAAwBk7D,EAC1C,ECRW,MAAMmjD,WAAgCF,GAOjD,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,mBAAoBk7D,EACtC,CAIA,SAAAtwC,CAAU69B,GACN,IAAKA,EACD,OAEJ,MAAM3zD,EAAQulH,GAAe5xD,EAAMhoD,aAAa1N,KAAKoW,gBACrD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,ECtBW,MAAMwpH,WAAgCH,GAOjD,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,mBAAoBk7D,EACtC,CAIA,SAAAtwC,CAAU69B,GACN,IAAKA,EACD,OAEJ,MAAM3zD,EAAQulH,GAAe5xD,EAAMhoD,aAAa1N,KAAKoW,gBACrD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,ECZW,MAAMypH,WAAgCJ,GAOjD,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,mBAAoBk7D,EACtC,CAIA,SAAAtwC,CAAU69B,GACN,IAAKA,EACD,OAEJ,MAAM3zD,EAAQulH,GAAe5xD,EAAMhoD,aAAa1N,KAAKoW,gBACrD,OAAIrU,IAAU/B,KAAK0pH,cAGZ3nH,OAHP,CAIJ,CAIA,cAAA8nH,CAAe9nH,GACX,MAAMga,EAAWyrG,GAA6BzlH,EAAO,MACrD,GAAIga,IAAa/b,KAAK0pH,cAGtB,OAAO3tG,CACX,EC7BW,MAAM0vG,WAA0BL,GAO3C,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,aAAck7D,EAChC,CAIA,cAAA0hD,CAAe9nH,GAEX,IADAA,EAAQylH,GAA6BzlH,EAAO,SAC9B/B,KAAK0pH,cAGnB,OAAO3nH,CACX,ECnBW,MAAM2pH,WAA2BN,GAO5C,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,cAAek7D,EACjC,CAIA,cAAA0hD,CAAe9nH,GAEX,IADAA,EAAQylH,GAA6BzlH,EAAO,SAC9B/B,KAAK0pH,cAGnB,OAAO3nH,CACX,ECjCW,MAAM4pH,WAA8BP,GAO/C,WAAA5oH,CAAYyK,EAAQk7D,GAChBz5D,MAAMzB,EAAQ,iBAAkBk7D,EACpC,ECTJ,MAAM,GAAuB,wBACvByjD,GAAuB,sBAkBd,MAAMC,WAA+B,EAAAt9G,OAIhD,qBAAWC,GACP,MAAO,wBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC,GACZ,CAIA,IAAA1E,GACI,MAAM5B,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBgB,EAAanC,EAAOmC,WAC1BnC,EAAO0B,OAAOC,OAAO,0CAA2C,CAAC,GACjE,MAAMk9G,EAAyB9D,GAAoC/6G,EAAO0B,OAAOvD,IAAI,2CAA4C,CAC7Hu8G,0BAA0B,IAE9B16G,EAAO3J,KAAKw/C,uBAAuB,EAAA8nE,gBAwC3C,SAAgCx8G,EAAQgB,EAAYywF,GAChD,MAAMjjB,EAAkB,CACpBn5D,MAAO,mBACP+8B,MAAO,mBACP96C,MAAO,oBAEX0I,EAAOY,OAAO,QAAS,CACnBC,gBAAiB5M,OAAOkN,OAAOqtE,KAEnCgjB,GAAmBxwF,EAAY,QAASwtE,EAAiBijB,GACzDK,GAAuB9wF,EAAY,CAAEkwF,eAAgB1iB,EAAgBp8B,MAAO4xC,UAAW,iBACvF8N,GAAuB9wF,EAAY,CAAEkwF,eAAgB1iB,EAAgBl3E,MAAO0sF,UAAW,iBACvF8N,GAAuB9wF,EAAY,CAAEkwF,eAAgB1iB,EAAgBn5D,MAAO2uE,UAAW,gBAC3F,CApDQ,CAAuBhkF,EAAQgB,EAAY,CACvCoxC,MAAOsrE,EAAuB5H,YAC9Bx+G,MAAOomH,EAAuB9H,YAC9BvgG,MAAOqoG,EAAuB7H,cAElCh3G,EAAO+C,SAASxH,IAAI,mBAAoB,IAAI8iH,GAAwBr+G,EAAQ6+G,EAAuB5H,cACnGj3G,EAAO+C,SAASxH,IAAI,mBAAoB,IAAI+iH,GAAwBt+G,EAAQ6+G,EAAuB9H,cACnG/2G,EAAO+C,SAASxH,IAAI,mBAAoB,IAAIgjH,GAAwBv+G,EAAQ6+G,EAAuB7H,cAmD3G,SAAiC71G,EAAQgB,EAAY+4D,GACjD/5D,EAAOY,OAAO,QAAS,CACnBC,gBAAiB,CAAC,oBAEtBG,EAAWK,IAAI,YACVJ,qBAAqB,CACtBjC,MAAO,CACH3K,KAAM,QACNuD,IAAK,kBAETsJ,KAAMvD,IAAa,CACf/F,IAAK,QACLjE,MAAO,CAEHgqH,MAAqB,WAAdhgH,EAAyB,OAASA,KAGjDmmD,kBAAmB,SAEvB9iD,EAAWK,IAAI,UAEVJ,qBAAqB,CACtBC,KAAM,CACF7M,KAAM,mBACNkG,OAAQ,CACJojH,MAAOH,KAGfx+G,MAAO,CACHpH,IAAK,iBACLjE,MAAQiT,IACJ,IAAI+1G,EAAQ/1G,EAAYZ,SAAS,SAKjC,MAHc,SAAV22G,IACAA,EAAQ,UAELA,IAAU5iD,EAAe,KAAO4iD,CAAK,KAKnD17G,qBAAqB,CACtBC,KAAM,CACF1J,WAAY,CACRmlH,MAAO,KAGf39G,MAAO,CACH3K,KAAM,QACNuD,IAAK,iBACLjE,MAAQiT,IACJ,MAAM+1G,EAAQ/1G,EAAYtH,aAAa,SACvC,OAAOq9G,IAAU5iD,EAAe,KAAO4iD,CAAK,IAI5D,CA1GQiB,CAAwB59G,EAAQgB,EAAY08G,EAAuB//G,WACnEkB,EAAO+C,SAASxH,IAAI,iBAAkB,IAAImjH,GAAsB1+G,EAAQ6+G,EAAuB//G,YAC/FkgH,GAA4B79G,EAAQgB,EAAY,CAC5CkwF,eAAgB,aAChBlN,UAAW,QACXjqB,aAAc2jD,EAAuBroG,QAEzCxW,EAAO+C,SAASxH,IAAI,aAAc,IAAIijH,GAAkBx+G,EAAQ6+G,EAAuBroG,QACvFwoG,GAA4B79G,EAAQgB,EAAY,CAC5CkwF,eAAgB,cAChBlN,UAAW,SACXjqB,aAAc2jD,EAAuBpoG,SAEzCzW,EAAO+C,SAASxH,IAAI,cAAe,IAAIkjH,GAAmBz+G,EAAQ6+G,EAAuBpoG,SACzFzW,EAAO3J,KAAKw/C,uBAAuB,EAAAC,oBAkG3C,SAAwB30C,EAAQgB,EAAYxK,GACxC,MAAM,eAAE06F,GAAmB16F,EAC3BwJ,EAAOY,OAAO,QAAS,CACnBC,gBAAiB,CAACqwF,KAEtBD,GAAuBjwF,EAAY,CAAE4F,YAAa,WAAYpQ,IAC9Ds7F,GAAuB9wF,EAAYxK,EACvC,CAxGQ,CAAewJ,EAAQgB,EAAY,CAC/BkwF,eAAgB,uBAChBlN,UAAW,mBACXjqB,aAAc2jD,EAAuBtL,kBAEzCvzG,EAAO+C,SAASxH,IAAI,uBAAwB,IAAI6iH,GAA4Bp+G,EAAQ6+G,EAAuBtL,iBAC/G,EAsGJ,SAASyL,GAA4B79G,EAAQgB,EAAYxK,GACrD,MAAM,eAAE06F,GAAmB16F,EAC3BwJ,EAAOY,OAAO,QAAS,CACnBC,gBAAiB,CAACqwF,KAEtBD,GAAuBjwF,EAAY,CAC/B4F,YAAa,mBACbwqF,aAAetrF,KAA8B,SAAhBA,EAAQzR,MAA0C,UAAvByR,EAAQwC,OAAOjU,SACpEmC,IAEPq7F,GAAyB7wF,EAAY,CAAEoG,aAAc,WAAY5Q,GACrE,gBC3Ma,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ2D,OCOR,MAAM2jH,WAA4B,EAAAhwG,KAK7C,WAAA1Z,CAAYwJ,EAAQpH,GAChB8J,MAAM1C,GACNhM,KAAKqR,IAAI,CACL2yG,YAAa,GACbC,YAAa,GACbC,YAAa,GACb1D,gBAAiB,GACjB/8F,MAAO,GACPC,OAAQ,GACR3X,UAAW,KAEf/L,KAAK4E,QAAUA,EACf,MAAM,oBAAE0/G,EAAmB,iBAAEC,EAAgB,iBAAEC,EAAgB,eAAEC,GAAmBzkH,KAAK0kH,uBACnF,mBAAEC,EAAkB,gBAAEC,GAAoB5kH,KAAK6kH,2BAC/C,WAAEC,EAAU,cAAEC,EAAa,YAAEC,EAAW,gBAAEC,GAAoBjlH,KAAKklH,0BACnE,iBAAEiH,EAAgB,eAAE9G,GAAmBrlH,KAAKslH,yBAClDtlH,KAAKmc,aAAe,IAAI,EAAAC,aACxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBACtBtc,KAAKmT,SAAWnT,KAAKunB,mBACrBvnB,KAAKskH,oBAAsBA,EAC3BtkH,KAAKukH,iBAAmBA,EACxBvkH,KAAKwkH,iBAAmBA,EACxBxkH,KAAK4kH,gBAAkBA,EACvB5kH,KAAK8kH,WAAaA,EAClB9kH,KAAKglH,YAAcA,EACnBhlH,KAAKmsH,iBAAmBA,EAIxB,MAAM,eAAE1vG,EAAc,iBAAEE,GAAqB3c,KAAKylH,uBAClDzlH,KAAKyc,eAAiBA,EACtBzc,KAAK2c,iBAAmBA,EACxB3c,KAAK6c,YAAc,IAAI,EAAAC,eACvB9c,KAAK+c,aAAe,IAAI,EAAAC,YAAY,CAChCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAELC,cAAe,cAEfC,UAAW,SAInBrd,KAAKmT,SAAS3K,IAAI,IAAI,EAAAooC,eAAe5kC,EAAQ,CACzCsF,MAAOtR,KAAK0Q,EAAE,uBAGlB1Q,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCuuF,UAAWkqB,EACXtxG,SAAU,CACNsxG,EACAH,EACAE,EACAD,GAEJhyG,MAAO,+BAGXvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCuuF,UAAWoqB,EACXxxG,SAAU,CACNwxG,EACAC,GAEJryG,MAAO,mCAEXvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCmH,SAAU,CAEN,IAAIywG,GAAY53G,EAAQ,CACpBuuF,UAAW0qB,EACX9xG,SAAU,CACN8xG,EACAH,EACAC,EACAC,GAEJzyG,MAAO,kCAGX,IAAIqxG,GAAY53G,EAAQ,CACpBuuF,UAAW8qB,EACXlyG,SAAU,CACNkyG,EACA8G,GAEJ55G,MAAO,gDAKnBvS,KAAKmT,SAAS3K,IAAI,IAAIo7G,GAAY53G,EAAQ,CACtCmH,SAAU,CACNnT,KAAKyc,eACLzc,KAAK2c,kBAETpK,MAAO,+BAEXvS,KAAKsd,YAAY,CACbC,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,KACA,UACA,gBACA,4BAGJiL,SAAU,MAEdrK,SAAUnT,KAAKmT,UAEvB,CAIA,MAAAsK,GACI/O,MAAM+O,UAGN,IAAAC,eAAc,CACVpO,KAAMtP,OAGV,CAACA,KAAKwkH,iBAAkBxkH,KAAK4kH,iBAAiB7+G,SAAQuJ,IAClDtP,KAAK+c,aAAa2oG,MAAMp2G,EAAK+P,UAAUwuB,YAAY,IAEvD,CACI7tC,KAAKskH,oBACLtkH,KAAKwkH,iBACLxkH,KAAKukH,iBACLvkH,KAAK4kH,gBACL5kH,KAAK8kH,WACL9kH,KAAKglH,YACLhlH,KAAKmsH,iBACLnsH,KAAKyc,eACLzc,KAAK2c,kBACP5W,SAAQuJ,IAENtP,KAAK6c,YAAYrU,IAAI8G,GAErBtP,KAAKmc,aAAa3T,IAAI8G,EAAK4E,QAAQ,IAGvClU,KAAKqc,WAAW1K,SAAS3R,KAAKkU,QAClC,CAIA,OAAAiF,GACIzK,MAAMyK,UACNnZ,KAAKmc,aAAahD,UAClBnZ,KAAKqc,WAAWlD,SACpB,CAIA,KAAAtH,GACI7R,KAAK+c,aAAa4K,YACtB,CAQA,mBAAA+8F,GACI,MAAMoH,EAAyB9rH,KAAK4E,QAAQknH,uBACtCjsB,EAAgB,CAClBn6F,MAAOomH,EAAuB9H,YAC9BvgG,MAAOqoG,EAAuB7H,YAC9BzjE,MAAOsrE,EAAuB5H,aAE5B0B,EAAoBxC,GAA4B,CAClDK,YAAazjH,KAAK4E,QAAQihH,aAC1BnlE,QAAS,EACTqgE,kBAAmBlhB,EAAcr/C,MACjCygE,kBAAmBjhH,KAAK4E,QAAQq8G,oBAE9Bj1G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACT+6B,EAAkB/6B,EAAE,SAEpB+zG,EAAiB,IAAI,EAAAjqB,UAAUxuF,GACrCy4G,EAAervF,KAAO1kB,EAAE,UAExB,MAAMiyG,EAAcnB,GAAqB9wG,GACnC4zG,EAAsB,IAAI,EAAAxmG,iBAAiB9R,EAAQ,EAAA85G,uBACzDxB,EAAoBjzG,IAAI,CACpBC,MAAOm6B,EACPl5B,MAAO,gCAEX+xG,EAAoBjlG,UAAUlO,WAAWE,IAAI,CACzCgB,UAAWo5B,EACX8xB,oBAAgB3yD,EAChBmoB,MAAM,EACNgZ,UAAU,EACVv6B,QAASi6B,IAEb64E,EAAoBjlG,UAAUlO,WAAWzJ,KAAK,SAASgK,GAAG1R,KAAM,eAAe+B,GACpE4gH,EAAY5gH,GAAgB,UAEvCuiH,EAAoBjlG,UAAUnM,GAAG,WAAW0N,IACxC5gB,KAAKgkH,YAAcpjG,EAAIld,OAAOk/G,iBAAiB,IAEnD0B,EAAoB58G,KAAK,WAAWgK,GAAG1R,KAAM,eAAe+B,IAAUA,KACtE,IAAA4pC,mBAAkB24E,EAAoBjlG,UAAWojG,GAA0BziH,KAAM6/F,EAAcn6F,OAAQ,CACnGmN,KAAM,OACNR,UAAWo5B,IAGf,MAAM84E,EAAmB,IAAI,EAAAzmG,iBAAiB9R,EAAQ,EAAA+R,wBACtDwmG,EAAiBlzG,IAAI,CACjBC,MAAOZ,EAAE,SACT6B,MAAO,gCAEXgyG,EAAiBllG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,eAClDukH,EAAiB78G,KAAK,aAAagK,GAAG1R,KAAM,cAAe,IAC3DukH,EAAiBllG,UAAUnM,GAAG,SAAS,KACnClT,KAAKikH,YAAcM,EAAiBllG,UAAUnL,QAAQnS,KAAK,IAG/D,MAAMyiH,EAAmB,IAAI,EAAA1mG,iBAAiB9R,EAAQ45G,GAwBtD,OAvBApB,EAAiBnzG,IAAI,CACjBC,MAAOZ,EAAE,SACT6B,MAAO,gCAEXiyG,EAAiBnlG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,eAClDwkH,EAAiB98G,KAAK,aAAagK,GAAG1R,KAAM,cAAe,IAC3DwkH,EAAiBnlG,UAAUnM,GAAG,SAAS,KACnClT,KAAKkkH,YAAcM,EAAiBnlG,UAAUtd,KAAK,IAGvD/B,KAAKkT,GAAG,sBAAsB,CAAC0N,EAAKne,EAAMsZ,EAAUs/B,KAG3C,GAAiBt/B,KAClB/b,KAAKkkH,YAAc,GACnBlkH,KAAKikH,YAAc,IAGlB,GAAiB5oE,KAClBr7C,KAAKkkH,YAAcrkB,EAAcr/C,MACjCxgD,KAAKikH,YAAcpkB,EAAcp8E,MACrC,IAEG,CACHghG,iBACAH,sBACAE,mBACAD,mBAER,CAMA,uBAAAM,GACI,MAAM74G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EAETi0G,EAAqB,IAAI,EAAAnqB,UAAUxuF,GACzC24G,EAAmBvvF,KAAO1kB,EAAE,cAE5B,MAAM07G,EAAyBhJ,GAA4B,CACvDK,YAAazjH,KAAK4E,QAAQohH,iBAC1BtlE,QAAS,EACTqgE,kBAAmB/gH,KAAK4E,QAAQknH,uBAAuBtL,gBACvDS,kBAAmBjhH,KAAK4E,QAAQq8G,oBAE9B2D,EAAkB,IAAI,EAAA9mG,iBAAiB9R,EAAQogH,GASrD,OARAxH,EAAgBvzG,IAAI,CAChBC,MAAOZ,EAAE,SACT6B,MAAO,yCAEXqyG,EAAgBvlG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,mBACjD4kH,EAAgBvlG,UAAUnM,GAAG,SAAS,KAClClT,KAAKwgH,gBAAkBoE,EAAgBvlG,UAAUtd,KAAK,IAEnD,CACH4iH,qBACAC,kBAER,CAOA,sBAAAM,GACI,MAAMl5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EAETu0G,EAAkB,IAAI,EAAAzqB,UAAUxuF,GACtCi5G,EAAgB7vF,KAAO1kB,EAAE,cAEzB,MAAMo0G,EAAa,IAAI,EAAAhnG,iBAAiB9R,EAAQ,EAAA+R,wBAChD+mG,EAAWzzG,IAAI,CACXC,MAAOZ,EAAE,SACT6B,MAAO,yCAEXuyG,EAAWzlG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,SAC5C8kH,EAAWzlG,UAAUnM,GAAG,SAAS,KAC7BlT,KAAKyjB,MAAQqhG,EAAWzlG,UAAUnL,QAAQnS,KAAK,IAGnD,MAAMgjH,EAAgB,IAAI,EAAA7oG,KAAKlQ,GAC/B+4G,EAAcznG,YAAY,CACtBC,IAAK,OACL3X,WAAY,CACR2M,MAAO,CACH,sCAGRY,SAAU,CACN,CAAEiiB,KAAM,QAIhB,MAAM4vF,EAAc,IAAI,EAAAlnG,iBAAiB9R,EAAQ,EAAA+R,wBASjD,OARAinG,EAAY3zG,IAAI,CACZC,MAAOZ,EAAE,UACT6B,MAAO,0CAEXyyG,EAAY3lG,UAAU3X,KAAK,SAASgK,GAAG1R,KAAM,UAC7CglH,EAAY3lG,UAAUnM,GAAG,SAAS,KAC9BlT,KAAK0jB,OAASshG,EAAY3lG,UAAUnL,QAAQnS,KAAK,IAE9C,CACHkjH,kBACAH,aACAC,gBACAC,cAER,CAMA,sBAAAM,GACI,MAAMt5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EAET20G,EAAiB,IAAI,EAAA7qB,UAAUxuF,GACrCq5G,EAAejwF,KAAO1kB,EAAE,aAExB,MAAMy7G,EAAmB,IAAI,EAAArrF,YAAY90B,GAiBzC,OAhBAmgH,EAAiB96G,IAAI,CACjBm1G,WAAW,EACXn0G,UAAW3B,EAAE,6BAEjBmyG,GAAY,CACRvzG,KAAMtP,KACNmQ,MAAO,CACHue,KAAM,EAAAve,MAAM4d,WACZa,OAAQ,EAAAze,MAAM+d,aACdS,MAAO,EAAAxe,MAAMge,aAEjB8Q,QAASktF,EACTrJ,OAAQ9iH,KAAKqsH,iBACbtJ,aAAc,YACd56C,aAAcnoE,KAAK4E,QAAQknH,uBAAuB//G,YAE/C,CACHs5G,iBACA8G,mBAER,CAOA,oBAAA1G,GACI,MAAMz5G,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACT+L,EAAiB,IAAI,EAAArL,WAAWpF,GAChC2Q,EAAmB,IAAI,EAAAvL,WAAWpF,GAClC26G,EAAiC,CACnC3mH,KAAKukH,iBACLvkH,KAAKwkH,iBACLxkH,KAAK4kH,gBACL5kH,KAAK8kH,WACL9kH,KAAKglH,aAmBT,OAjBAvoG,EAAepL,IAAI,CACfC,MAAOZ,EAAE,QACTa,KAAM,EAAApB,MAAMuM,MACZnK,MAAO,iBACPnI,KAAM,SACN2hC,UAAU,IAEdtvB,EAAe/U,KAAK,aAAamhB,OAAO89F,EAAgC,aAAa,IAAIC,IAC9EA,EAAWtuG,OAAM41B,IAAcA,MAE1CvxB,EAAiBtL,IAAI,CACjBC,MAAOZ,EAAE,UACTa,KAAM,EAAApB,MAAMyM,OACZrK,MAAO,mBACPw5B,UAAU,IAEdpvB,EAAiB1J,SAAS,WAAWvB,GAAG1R,KAAM,UACvC,CACHyc,iBAAgBE,mBAExB,CAIA,oBAAI0vG,GACA,MAAMrgH,EAAShM,KAAKgM,OACd0E,EAAI1Q,KAAK0Q,EACTge,EAAOhe,EAAE,2BACTke,EAASle,EAAE,gBACXie,EAAQje,EAAE,4BAEhB,MAAmC,QAA/B1E,EAAOiG,oBACA,CAAE0c,QAAOC,SAAQF,QAGjB,CAAEA,OAAME,SAAQD,QAE/B,EAEJ,SAAS,GAAiB5sB,GACtB,MAAiB,SAAVA,CACX,CCzbA,MAEM,GAAuB,CACzBiiH,YAAa,mBACbE,YAAa,mBACbD,YAAa,mBACbzD,gBAAiB,uBACjB/8F,MAAO,aACPC,OAAQ,cACR3X,UAAW,kBAQA,MAAMugH,WAA0B,EAAA/9G,OAI3C,mBAAWgF,GACP,MAAO,CAAC,EAAAsL,kBACZ,CAIA,qBAAWrQ,GACP,MAAO,mBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GAINjN,KAAKsP,KAAO,KACZrC,EAAO0B,OAAOC,OAAO,wBAAyB,CAC1Ci3G,aAAc1C,GACd6C,iBAAkB7C,IAE1B,CAIA,IAAAt0G,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACjB1Q,KAAKusH,wBAA0BvE,GAAoC/6G,EAAO0B,OAAOvD,IAAI,2CAA4C,CAC7Hu8G,0BAA0B,IAE9B3nH,KAAKmf,SAAWlS,EAAO8G,QAAQ3I,IAAI,EAAAyT,mBACnC5R,EAAO6D,GAAGC,iBAAiBvI,IAAI,mBAAmBwD,IAC9C,MAAMsD,EAAO,IAAI,EAAA8B,WAAWpF,GAC5BsD,EAAK+B,IAAI,CACLC,MAAOZ,EAAE,oBACTa,KChFhB,8eDiFgBC,SAAS,IAEbxR,KAAK2R,SAASrC,EAAM,WAAW,IAAMtP,KAAKsoH,cAC1C,MAAMt4G,EAAW3N,OAAOkN,OAAO,IAC1BtP,KAAIq7B,GAAeruB,EAAO+C,SAAS5E,IAAIkwB,KAE5C,OADAhsB,EAAK5H,KAAK,aAAamhB,OAAO7Y,EAAU,aAAa,IAAIijB,IAAgBA,EAAWrmB,MAAK27G,GAAoBA,MACtGj5G,CAAI,GAEnB,CAIA,OAAA6J,GACIzK,MAAMyK,UAGFnZ,KAAKsP,MACLtP,KAAKsP,KAAK6J,SAElB,CAMA,qBAAAqvG,GACI,MAAMv7G,EAASjN,KAAKiN,OACd0B,EAAS1B,EAAO0B,OAAOvD,IAAI,yBAC3Bq9G,GAAqB,IAAAznE,uBAAsBryC,EAAOk3G,cAClD6C,GAAwB,IAAAxnE,0BAAyBj0C,EAAOjB,OAAQy8G,GAChEE,GAAyB,IAAA3nE,uBAAsBryC,EAAOq3G,kBACtD4C,GAA4B,IAAA1nE,0BAAyBj0C,EAAOjB,OAAQ28G,GACpEtnE,GAAwC,IAAvB1yC,EAAO2yC,YACxBhyC,EAAO,IAAI48G,GAAoBj/G,EAAOjB,OAAQ,CAChD65G,aAAc6C,EACd1C,iBAAkB4C,EAClBkD,uBAAwB9rH,KAAKusH,wBAC7BtL,oBAAmB5/D,IAAkB1yC,EAAO2yC,aAAe,CAAC,KAE1D5wC,EAAIzD,EAAOyD,EAEjBpB,EAAKmO,SACLzd,KAAK2R,SAASrC,EAAM,UAAU,KAC1BtP,KAAK6oH,WAAW,IAEpB7oH,KAAK2R,SAASrC,EAAM,UAAU,KAEtBtP,KAAK+hD,eAAeE,WAAWthD,QAC/BsM,EAAOU,QAAQ,OAAQ3N,KAAK+hD,gBAEhC/hD,KAAK6oH,WAAW,IAGpBv5G,EAAK+M,WAAWhL,IAAI,OAAO,CAAC/N,EAAMsZ,KAC9B5c,KAAK6oH,YACLjsG,GAAQ,KAGZ,IAAAgD,qBAAoB,CAChBC,QAASvQ,EACTwQ,UAAW,IAAM9f,KAAK8oH,iBACtB/oG,gBAAiB,CAAC/f,KAAKmf,SAAS7P,KAAK4E,SACrC8L,SAAU,IAAMhgB,KAAK6oH,cAEzB,MAAME,EAAiB7G,GAA2BxxG,GAC5Cs4G,EAAkB7G,GAA4BzxG,GAsCpD,OAhCApB,EAAK4D,GAAG,qBAAsBlT,KAAKipH,2BAA2B,qBAC9D35G,EAAK4D,GAAG,qBAAsBlT,KAAKkpH,oCAAoC,CACnEC,UAAW75G,EAAKk1G,iBAChBlpF,YAAa,mBACb4S,UAAW66E,EACXr9C,UAAW02C,MAEf9yG,EAAK4D,GAAG,qBAAsBlT,KAAKkpH,oCAAoC,CACnEC,UAAW75G,EAAKi1G,iBAChBjpF,YAAa,mBACb4S,UAAW86E,EACXt9C,UAAW82C,MAEflzG,EAAK4D,GAAG,yBAA0BlT,KAAKkpH,oCAAoC,CACvEC,UAAW75G,EAAKs1G,gBAChBtpF,YAAa,uBACb4S,UAAW66E,EACXr9C,UAAW02C,MAEf9yG,EAAK4D,GAAG,eAAgBlT,KAAKkpH,oCAAoC,CAC7DC,UAAW75G,EAAKw1G,WAChBxpF,YAAa,aACb4S,UAAW86E,EACXt9C,UAAW42C,MAEfhzG,EAAK4D,GAAG,gBAAiBlT,KAAKkpH,oCAAoC,CAC9DC,UAAW75G,EAAK01G,YAChB1pF,YAAa,cACb4S,UAAW86E,EACXt9C,UAAW42C,MAEfhzG,EAAK4D,GAAG,mBAAoBlT,KAAKipH,2BAA2B,mBACrD35G,CACX,CASA,8BAAA85G,GACI,MAAMp5G,EAAWhQ,KAAKiN,OAAO+C,SACvBq5G,EAAqBr5G,EAAS5E,IAAI,oBACxC/I,OAAO+gD,QAAQ,IACVnjD,KAAI,EAAEivD,EAAU5zB,MACjB,MAAMkxF,EAAct9D,EACdiZ,EAAenoE,KAAKusH,wBAAwBC,IAAgB,GAClE,MAAO,CAACA,EAAcx8G,EAAS5E,IAAIkwB,GAAav5B,OAASomE,EAAc,IAEtEpiE,SAAQ,EAAEmpD,EAAUntD,OAEH,gBAAbmtD,GAA2C,gBAAbA,GAA4D,SAA7Bm6D,EAAmBtnH,QAGrF/B,KAAKsP,KAAK+B,IAAI69C,EAAUntD,EAAM,IAElC/B,KAAKqoH,UAAW,CACpB,CAQA,SAAAC,GACI,MAAMr7G,EAASjN,KAAKiN,OACfjN,KAAKsP,OACNtP,KAAKsP,KAAOtP,KAAKwoH,yBAErBxoH,KAAK2R,SAAS1E,EAAO6D,GAAI,UAAU,KAC/B9Q,KAAKspH,aAAa,IAGtBtpH,KAAKopH,iCACLppH,KAAKmf,SAAS3W,IAAI,CACd8G,KAAMtP,KAAKsP,KACXmQ,SAAUsnG,GAA4B95G,KAG1CjN,KAAK+hD,eAAiB90C,EAAOG,MAAM40C,cAEnChiD,KAAKsP,KAAKuC,OACd,CAIA,SAAAg3G,GACI,MAAM57G,EAASjN,KAAKiN,OACpBjN,KAAKoX,cAAcnK,EAAO6D,GAAI,UAC9B9Q,KAAKqoH,UAAW,EAGhBroH,KAAKsP,KAAKmN,eAAe5K,QACzB7R,KAAKmf,SAASxY,OAAO3G,KAAKsP,MAG1BtP,KAAKiN,OAAO2E,QAAQtC,KAAKuC,OAC7B,CAIA,WAAAy3G,GACI,MAAMr8G,EAASjN,KAAKiN,OAEfsyG,GADgBtyG,EAAO2E,QAAQtC,KAAKtL,SACSqJ,WAGzCrN,KAAKupH,gBACV,GAA4Bt8G,EAAQ,SAHpCjN,KAAK6oH,WAKb,CAIA,kBAAIU,GACA,QAASvpH,KAAKsP,MAAQtP,KAAKmf,SAASoB,cAAgBvgB,KAAKsP,IAC7D,CAIA,oBAAIw5G,GACA,QAAS9oH,KAAKsP,MAAQtP,KAAKmf,SAASqB,QAAQxgB,KAAKsP,KACrD,CASA,0BAAA25G,CAA2B3tF,GACvB,MAAO,CAAC1a,EAAKmiG,EAAchnG,KAElB/b,KAAKqoH,UAGVroH,KAAKiN,OAAOU,QAAQ2tB,EAAa,CAC7Bv5B,MAAOga,EACP9E,MAAOjX,KAAK+hD,gBACd,CAEV,CAMA,mCAAAmnE,CAAoCtkH,GAChC,MAAM,YAAE02B,EAAW,UAAE6tF,EAAS,UAAEz9C,EAAS,UAAEx9B,GAActpC,EACnD4kH,EAAwB,IAAS,KACnCL,EAAUj7E,UAAYA,CAAS,GAlShB,KAoSnB,MAAO,CAACttB,EAAKmiG,EAAchnG,KACvBytG,EAAsB5sG,SAEjB5c,KAAKqoH,WAGN38C,EAAU3vD,IACV/b,KAAKiN,OAAOU,QAAQ2tB,EAAa,CAC7Bv5B,MAAOga,EACP9E,MAAOjX,KAAK+hD,iBAEhBonE,EAAUj7E,UAAY,MAGtBs7E,IACJ,CAER,EEjTW,MAAMiD,WAAwB,EAAAl+G,OAIzC,qBAAWC,GACP,MAAO,iBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAACs4G,GAAwBS,GACpC,EC5BG,SAASI,GAAQl3G,GACpB,QAASA,GAAgBA,EAAaG,GAAG,UAAW,QACxD,CAMO,SAASg3G,GAAgCC,GAC5C,IAAK,MAAMvxG,KAAQuxG,EAAkB/lG,cACjC,GAAIxL,EAAK1F,GAAG,UAAW,WACnB,OAAO0F,EAGf,OAAO,IACX,CAsBO,SAASwxG,GAA6B34G,GACzC,MAAMwC,EAASxC,EAAQwC,OACvB,MAAoB,cAAhBxC,EAAQzR,MAAwBiU,GAAUA,EAAOf,GAAG,UAAW,WAAae,EAAOd,SAAS,UAG5E,WAAhB1B,EAAQzR,MAAqBiU,GAAUA,EAAOf,GAAG,UAAW,SAFrD,CAAElT,MAAM,GAKZ,IACX,CCvBe,MAAMqqH,WAAkC,EAAA//G,QAInD,OAAAC,GACI,MACM03F,EAAe9D,GADN5gG,KAAKiN,OACkCG,MAAMpJ,SAASqJ,WACrErN,KAAKuN,YAAcm3F,EACd1kG,KAAKuN,UAINvN,KAAK+B,QAAU4qH,GAAgCjoB,GAH/C1kG,KAAK+B,OAAQ,CAKrB,CAYA,OAAA4L,EAAQ,mBAAE2c,GAAqB,GAAU,CAAC,GACtCtqB,KAAKiN,OAAOG,MAAMS,QAAOC,IACjB9N,KAAK+B,MACL/B,KAAK+sH,kBAAkBj/G,GAGvB9N,KAAKgtH,kBAAkBl/G,EAAQwc,EACnC,GAER,CASA,iBAAA0iG,CAAkBl/G,EAAQwc,GACtB,MAAMld,EAAQpN,KAAKiN,OAAOG,MACpBs3F,EAAe9D,GAA0BxzF,EAAMpJ,SAASqJ,WAIxDwd,EAHsB7qB,KAAKiN,OAAO8G,QAAQ3I,IAAI,uBACJwf,iBAAiB85E,IAEhB52F,EAAOnI,cAAc,WACtEyH,EAAM44B,cAAcnb,EAAmB65E,EAAc,OACjDp6E,GACAxc,EAAO0I,aAAaqU,EAAmB,KAE/C,CAOA,iBAAAkiG,CAAkBj/G,GACd,MAAMV,EAAQpN,KAAKiN,OAAOG,MACpBs3F,EAAe9D,GAA0BxzF,EAAMpJ,SAASqJ,WACxD4/G,EAAsBjtH,KAAKiN,OAAO8G,QAAQ3I,IAAI,uBAC9C6e,EAAiB0iG,GAAgCjoB,GAEvDuoB,EAAoBliG,aAAa25E,EAAcz6E,GAC/C7c,EAAM+4B,cAAcr4B,EAAOwW,gBAAgB2F,EAAgB,MAC/D,ECvFW,MAAMijG,WAA4B,EAAA3+G,OAI7C,qBAAWC,GACP,MAAO,qBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAKirB,kBAAoB,IAAIC,OACjC,CAIA,IAAArc,GACI,MAAM5B,EAASjN,KAAKiN,OACdmB,EAASnB,EAAOG,MAAMgB,OACtBkB,EAAOrC,EAAO2E,QAAQtC,KACtBoB,EAAIzD,EAAOyD,EC5BV,IAAqCtD,ED6BvCgB,EAAO6W,aAAa,WAQrB7W,EAAOY,OAAO,UAAW,CACrBmc,QAAS,UARb/c,EAAOuX,SAAS,UAAW,CACvBwF,QAAS,QACTC,eAAgB,SAChBC,SAAS,IAQjBpe,EAAO+C,SAASxH,IAAI,qBAAsB,IAAIskH,GAA0B9sH,KAAKiN,SAE7EA,EAAOmC,WAAWK,IAAI,UAAUsW,iBAAiB,CAC7CzW,KAAMu9G,GACNz/G,MAAO,YAGXH,EAAOmC,WAAWK,IAAI,gBAAgBsW,iBAAiB,CACnD3Y,MAAO,UACPkC,KAAM,CAACkG,GAAgB1H,YACd4+G,GAAQl3G,EAAakB,QAGnB5I,EAAO2F,uBAAuB,cAF1B,OAMnBxG,EAAOmC,WAAWK,IAAI,mBAAmBsW,iBAAiB,CACtD3Y,MAAO,UACPkC,KAAM,CAACkG,GAAgB1H,aACnB,IAAK4+G,GAAQl3G,EAAakB,QACtB,OAAO,KAEX,MAAM8U,EAAoB1d,EAAO2d,sBAAsB,cAQvD,OAPA3d,EAAO4K,kBAAkB,gBAAgB,EAAM8S,GAC/CA,EAAkBE,YAAchb,EAAE,wBAClC,IAAAib,mBAAkB,CACdrc,OACA4E,QAASsX,EACTI,aAAa,KAEV,IAAAE,kBAAiBN,EAAmB1d,EAAO,KCxEdV,ED2EhBH,EAAOG,OC1EjCpJ,SAASktB,mBAAkBpjB,GAKrC,SAA+BA,EAAQV,GACnC,MAAMsf,EAAUtf,EAAMpJ,SAAS2oB,OAAOC,aACtC,IAAI6oC,GAAW,EACf,IAAK,MAAMthC,KAASzH,EAAS,CACzB,GAAkB,UAAdyH,EAAM/pB,KACN,SAEJ,MAAMiwB,EAAiBlG,EAAM1U,SAAS/I,OACtC,GAAI2jB,EAAe1kB,GAAG,UAAW,UAA0B,SAAdwe,EAAM1xB,KAAiB,CAChE,MAAMizD,EAAuB,SAAdvhC,EAAM1xB,KAAkB0xB,EAAM1U,SAASoN,UAAYwN,EAC5D8yF,EAAkBlsH,MAAMyB,KAAKgzD,EAAM7uC,eACpCrgB,QAAQszB,GAAUA,EAAMnkB,GAAG,UAAW,aACrCy3G,EAAeD,EAAgBrpF,QACrC,IAAKspF,EACD,SAGJ,IAAK,MAAM5gG,KAAW2gG,EAClBr/G,EAAO8qB,KAAK9qB,EAAOoL,cAAcsT,GAAU4gG,EAAc,OACzDt/G,EAAOnH,OAAO6lB,GAGd4gG,EAAah0F,cACbtrB,EAAO8qB,KAAK9qB,EAAO0W,cAAc4oG,GAAe13D,EAAO,OACvDD,GAAW,GAGfA,IAAa03D,EAAgBxsH,QAAU80D,CAC3C,CACJ,CACA,OAAOA,CACX,CApC+C43D,CAAsBv/G,EAAQV,ID2EzE,CAWA,gBAAAwd,CAAiBgiG,GACb,MAAMvgG,EAAarsB,KAAKirB,kBAAkB7f,IAAIwhH,GAC9C,OAAOvgG,EAAa,EAAAC,QAAQC,SAASF,GAAc,IACvD,CAmBA,YAAAtB,CAAa6hG,EAAmBpgG,GAC5BxsB,KAAKirB,kBAAkB5Z,IAAIu7G,EAAmBpgG,EAAQC,SAC1D,EEjHW,MAAM6gG,WAAuB,EAAA/+G,OAIxC,qBAAWC,GACP,MAAO,gBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdgM,EAAchM,EAAO2E,QAAQtC,KAC7BoB,EAAIzD,EAAOyD,EACjBzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,sBAAsBwD,IACjD,MAAMkF,EAAUjE,EAAO+C,SAAS5E,IAAI,sBAC9BkE,EAAO,IAAI,EAAA8B,WAAWpF,GAwB5B,OAvBAsD,EAAK+B,IAAI,CACLE,KAAM,EAAApB,MAAMqc,QACZhb,SAAS,EACTC,cAAc,IAElBnC,EAAK5H,KAAK,OAAQ,aAAagK,GAAGR,EAAS,QAAS,aACpD5B,EAAK5H,KAAK,SAASgK,GAAGR,EAAS,SAASnP,GAAiB2O,EAAR3O,EAAU,qBAA0B,uBACrF/B,KAAK2R,SAASrC,EAAM,WAAW,KAG3B,GAFArC,EAAOU,QAAQ,qBAAsB,CAAE2c,oBAAoB,IAEvDpZ,EAAQnP,MAAO,CACf,MAAMirB,EJhBnB,SAAsC3f,GACzC,MAAMq3F,EAAe9D,GAA0BvzF,GAC/C,OAAKq3F,EAGEioB,GAAgCjoB,GAF5B,IAGf,CIUgD16E,CAA6B/c,EAAOG,MAAMpJ,SAASqJ,WACzEme,EAAoBve,EAAO2E,QAAQoP,OAAOC,cAAc+L,GAC9D,IAAKxB,EACD,OAEJvS,EAAYgU,uBACZhU,EAAYpL,QAAOC,IACfA,EAAOoX,SAAS,6BAA8BsG,EAAkB,GAExE,CACAve,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBvC,CAAI,GAEnB,iBCrDS,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ/G,OCER,MAAMglH,WAAqB,EAAAh/G,OAItC,qBAAWC,GACP,MAAO,cACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,mBAAW8E,GACP,MAAO,CAAC25G,GAAqBI,GACjC,gBCvBG,SAASE,GAAwBttH,GACpC,GAAIA,EAAKyV,GAAG,UAAYzV,EAAKyV,GAAG,cAC5B,OAAOzV,EAAKoD,KAEhB,MAAM4Q,EAAUhU,EAChB,IAAIk1B,EAAO,GACP0/E,EAAO,KACX,IAAK,MAAMh7E,KAAS5lB,EAAQ2S,cAAe,CACvC,MAAM4mG,EAAYD,GAAwB1zF,GAEtCg7E,GAAQA,EAAKn/F,GAAG,aAChByf,GAAQ,MAEZA,GAAQq4F,EACR3Y,EAAOh7E,CACX,CACA,OAAO1E,CACX,CClBa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ7sB,OC2BR,MAAMmlH,WAAkB,EAAAn/G,OAInC,WAAA/L,CAAYyK,GACRyB,MAAMzB,GACNjN,KAAKqR,IAAI,aAAc,GACvBrR,KAAKqR,IAAI,QAAS,GAIlBhP,OAAOsrH,iBAAiB3tH,KAAM,CAC1B4tH,WAAY,CACR,GAAAxiH,GACI,OAAQpL,KAAK4tH,WAAa5tH,KAAK6tH,eAAe7tH,KAAK8tH,WACvD,GAEJC,MAAO,CACH,GAAA3iH,GACI,OAAQpL,KAAK+tH,MAAQ/tH,KAAKguH,UAAUhuH,KAAK8tH,WAC7C,KAGR9tH,KAAKqR,IAAI,mBAAezG,GACxB5K,KAAKqR,IAAI,wBAAoBzG,GAC7B5K,KAAKiuH,QAAUhhH,EAAO0B,OAAOvD,IAAI,cAAgB,CAAC,EAClDpL,KAAKkuH,iBAActjH,EACnB5K,KAAKmuH,kBAAoB,EAAArkD,IAAIskD,SAASC,iCAKlC,IAAI/0G,OAAO,yBAA0B,MACrC,yBACR,CAIA,qBAAW9K,GACP,MAAO,WACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACmB7O,KAAKiN,OACbG,MAAMpJ,SAASkP,GAAG,cCzCjC,SAAkB2uB,EAAM6W,EAAM9zC,GAC5B,IAAIq0C,GAAU,EACVE,GAAW,EAEf,GAAmB,mBAARtX,EACT,MAAM,IAAIh/B,UAnDQ,uBAyDpB,OAJI,GAAS+B,KACXq0C,EAAU,YAAar0C,IAAYA,EAAQq0C,QAAUA,EACrDE,EAAW,aAAcv0C,IAAYA,EAAQu0C,SAAWA,GAEnD,GAAStX,EAAM6W,EAAM,CAC1B,QAAWO,EACX,QAAWP,EACX,SAAYS,GAEhB,CDyBgD,CAASn5C,KAAKsuH,cAAc5mH,KAAK1H,MAAO,MAC5C,mBAAzBA,KAAKiuH,QAAQM,UACpBvuH,KAAKkT,GAAG,UAAU,CAAC0N,EAAKtd,KACpBtD,KAAKiuH,QAAQM,SAASjrH,EAAK,IAG/B,GAAUtD,KAAKiuH,QAAQO,YACvBxuH,KAAKiuH,QAAQO,UAAUpoH,YAAYpG,KAAKyuH,mBAEhD,CAIA,OAAAt1G,GACQnZ,KAAKkuH,cACLluH,KAAKkuH,YAAYh6G,QAAQvN,SACzB3G,KAAKkuH,YAAY/0G,WAErBzK,MAAMyK,SACV,CAYA,sBAAIs1G,GACA,MAAMxhH,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXg+G,EAAezhH,EAAO0B,OAAOvD,IAAI,0BACjCujH,EAAoB1hH,EAAO0B,OAAOvD,IAAI,+BACtC1D,EAAO,EAAA6hF,SAAS7hF,KAAK1H,KAAMA,MAC3BmT,EAAW,GA+CjB,OA9CKnT,KAAKkuH,cACNluH,KAAKkuH,YAAc,IAAI,EAAAhyG,MACnBwyG,QAAiC9jH,IAAjB8jH,KAChB1uH,KAAK0H,KAAK,eAAegK,GAAG1R,KAAM,SAAS+tH,GAChCr9G,EAAE,YAAaq9G,KAE1B56G,EAAS1T,KAAK,CACV8d,IAAK,MACLpK,SAAU,CACN,CACIiiB,KAAM,CAAC1tB,EAAKgK,GAAG,kBAGvB9L,WAAY,CACR2M,MAAO,4BAIfo8G,QAA2C/jH,IAAtB+jH,KACrB3uH,KAAK0H,KAAK,oBAAoBgK,GAAG1R,KAAM,cAAc+tH,GAC1Cr9G,EAAE,iBAAkBq9G,KAE/B56G,EAAS1T,KAAK,CACV8d,IAAK,MACLpK,SAAU,CACN,CACIiiB,KAAM,CAAC1tB,EAAKgK,GAAG,uBAGvB9L,WAAY,CACR2M,MAAO,gCAInBvS,KAAKkuH,YAAY5wG,YAAY,CACzBC,IAAK,MACL3X,WAAY,CACR2M,MAAO,CACH,KACA,kBAGRY,aAEJnT,KAAKkuH,YAAYzwG,UAEdzd,KAAKkuH,YAAYh6G,OAC5B,CACA,QAAA45G,GACI,IAAIc,EAAM,GACV,IAAK,MAAMlzG,KAAQ1b,KAAKiN,OAAOG,MAAMpJ,SAASs4D,WAC9B,KAARsyD,IAEAA,GAAO,MAEXA,GAAOpB,GAAwB9xG,GAEnC,OAAOkzG,CACX,CAIA,cAAAf,CAAee,GACX,OAAOA,EAAIxwF,QAAQ,MAAO,IAAIz9B,MAClC,CAIA,SAAAqtH,CAAUY,GAEN,OADsBA,EAAIrzG,MAAMvb,KAAKmuH,oBAAsB,IACtCxtH,MACzB,CAOA,aAAA2tH,GACI,MAAMM,EAAM5uH,KAAK8tH,WACXC,EAAQ/tH,KAAK+tH,MAAQ/tH,KAAKguH,UAAUY,GACpChB,EAAa5tH,KAAK4tH,WAAa5tH,KAAK6tH,eAAee,GACzD5uH,KAAKkiB,KAAK,SAAU,CAChB6rG,QACAH,cAER,+hCE/MoD,IAEnCiB,GAAkB,SAAAC,0RAAAC,CAAAF,EAAAC,GAAA,cAAAE,KAAAH,0rBAAA,SAAAA,IAAA,mGAAAI,CAAA,KAAAJ,GAAAG,EAAAz1E,MAAA,KAAAnkC,UAAA,CAGpC,SAHoCy5G,IA0JpC,EAAA7oH,IAAA,aAAAoF,IAzJD,WACE,MAAO,oBACT,OAHqC,EAAApF,IAAA,OAAAjE,MAKrC,WAAO,IAAAmtH,EAAA,KAEL,GAAKlvH,KAAKmvH,cAAV,CAQA,IAAMp+G,EAAmB/Q,KAAKiN,OAAO6D,GAAGC,iBAClC+W,EAAmB,SAAC9b,GACxB,OAAOkjH,EAAKE,0BAA0BpjH,EACxC,EACA+E,EAAiBvI,IAAI,cAAesf,GACpC/W,EAAiBvI,IAAI,cAAesf,EARpC,MAJEqwE,QAAQC,KACN,4FAYN,GAAC,CAAApyF,IAAA,gBAAAoF,IAED,WACE,OAAOpL,KAAKiN,OAAO0B,OAAOvD,IAAI,eAChC,GAAC,CAAApF,IAAA,4BAAAjE,MAED,SAA0BiK,GAAQ,IAAAqjH,EAAA,KAC1BpiH,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXmN,EAAS,IAAIzM,EAAAA,WAAWpF,GAC9B6R,EAAOtQ,WAAY,EACnBsQ,EAAOvM,MAAQZ,EAAE,gBACjBmN,EAAOtM,KAAOpB,EAAAA,MAAMuS,MACpB7E,EAAOrM,SAAU,EACjB,IAAMqR,EAAqB5V,EAAO+C,SAAS5E,IAAI,eAG/C,OAFAyS,EAAOnW,KAAK,aAAagK,GAAGmR,GAC5B7iB,KAAK2R,SAASkM,EAAQ,WAAW,kBAAMwxG,EAAKC,uBAAuB,IAC5DzxG,CACT,GAAC,CAAA7X,IAAA,wBAAAjE,MAED,WAAwB,IAAAwtH,EAAA,KAChB9rH,EAAUzD,KAAKmvH,cACfliH,EAASjN,KAAKiN,OACd0B,EAAS1B,EAAO0B,OAChB6gH,EAAWntH,OAAO69C,OAAO,CAAC,EAAGvxC,EAAOvD,IAAI,0BAA2B,CACvEogD,KAAM,UAGRikE,MAAMC,2BAA2B,yBAA0B,CACzDC,WAAY,YAAFvvH,OAAcJ,KAAKwO,WAAU,6BACvC/K,QAAAA,EACA+rH,SAAAA,EACAI,cAAejhH,EAAOvD,IAAI,iBAC1BykH,WAAYlhH,EAAOvD,IAAI,cACvB0kH,aAAa,EACbC,oBAAoB,EACpBC,SAAU,SAACC,EAAQnuF,GACjBytF,EAAKW,kBAAkBD,EAAQnuF,GAAWyB,MAAK,WAC7Ct2B,EAAO2E,QAAQtC,KAAKuC,OACtB,GACF,EACAw/B,OAAQ,WACNpkC,EAAO2E,QAAQtC,KAAKuC,OACtB,EACAs+G,kBAAkB,GAEtB,GAAC,CAAAnqH,IAAA,oBAAAjE,MAED,SAAkBkuH,EAAQnuF,GAAW,IAAAsuF,EAAA,KACnC,OAAO,IAAIhtF,SAAQ,SAACC,GAClB,GAAK4sF,EAAOtvH,OAAZ,CAKA,IAAMsM,EAASmjH,EAAKnjH,OACdojH,EAAmBpjH,EAAO0B,OAAOvD,IAAI,oBACrCklH,EAAQ,IAAIb,MAAMc,MAClBC,EAAO,GAEbF,EAAMp9G,GAAG,YAAY,WACnBjG,EAAOU,QAAQ,cAAe,CAACjK,OAAQ8sH,IACvCntF,GACF,IAAG,IAEuBotF,EAFvBC,+5BAAAC,CAEiBV,GAAM,QAAAW,EAAA,WAAE,IAAjBC,EAAKJ,EAAA1uH,MACduuH,EAAM7wH,MACJ,kBACE,IAAI2jC,SAAQ,SAACC,GACX,IAAMytF,EAAeV,EAAKW,gBAAgBF,EAAM3rD,KAEhD,IAAK4rD,GAAgBT,EACnBD,EAAKY,iBAAiBH,EAAMlxH,GAAI0wH,GAAkB,SAACnrD,GACjDsrD,EAAK/wH,KAAKylE,GAEV7hC,GACF,QACK,CACL,IAAM6hC,EAAMkrD,EAAKa,eACfJ,EAAMlxH,GACNkxH,EAAM3rD,IACN4rD,EAAehvF,EAAYuuF,GAE7BG,EAAK/wH,KAAKylE,GAEV7hC,GACF,CACF,GAAE,GAER,EAxBA,IAAAqtF,EAAAQ,MAAAT,EAAAC,EAAAtuH,KAAAN,MAAA8uH,GAwBC,OAAA5uH,GAAA0uH,EAAApsH,EAAAtC,EAAA,SAAA0uH,EAAAS,GAAA,CApCD,MAFE9tF,GAuCJ,GACF,GAAC,CAAAr9B,IAAA,iBAAAjE,MAED,SAAeqvH,EAASC,EAAUvvF,GAChC,MAAO,GAAP1hC,OAAUixH,EAAQ,WAAAjxH,OAAUgxH,EAAO,KAAAhxH,OACjC0hC,EAAY,aAAeA,EAAY,MAE3C,GAAC,CAAA97B,IAAA,0BAAAjE,MAED,SAAwBmjE,GACtB,OAAOA,EAAI9mC,QAAQ,6BAA8B,OACnD,GAAC,CAAAp4B,IAAA,kBAAAjE,MAED,SAAgBmjE,GACd,MAAO,yBAAyBviE,KAAKuiE,EACvC,GAAC,CAAAl/D,IAAA,mBAAAjE,MAED,SAAiBqvH,EAASE,EAAQtxG,GAAU,IAAAuxG,EAAA,KAC1C9B,MAAM+B,kBAAkB,OAAQ,8BAA+B,CAC7DluH,KAAM,CACJ8tH,QAASA,EACTtvF,UAAWwvF,KAGZ/tF,MAAK,SAAAkuF,GAAY,IAAVnuH,EAAImuH,EAAJnuH,KACN0c,EAASuxG,EAAKN,eAAeG,EAAS9tH,EAAK4hE,IAAKosD,GAClD,IAAE,OACK,WACLI,MAAM,mDACR,GACJ,GAAC,CAAA1rH,IAAA,yBAAAjE,MAED,SAAuBmjE,GACrB,IAAMzS,EAAUyS,EAAI3pD,MAClB,8DAEF,OAAOk3C,EACH,CACEyS,IAAKzS,EAAQ,GACb2+D,QAAS3+D,EAAQ,GACjB3wB,UAA0B,QAAf2wB,EAAQ,GAAeA,EAAQ,GAAK,MAEjD,IACN,sFAvJCo8D,CAAA,CAHoC,CAAS8C,k0CCQL,IACtBC,GAAW,SAAAC,0RAAA9C,CAAA6C,EAAAC,GAAA,cAAA7C,KAAA4C,0rBAS9B,SAAAA,IAAc,IAAA1C,EAKiC,mGALjCD,CAAA,KAAA2C,IACZ1C,EAAAF,EAAAz1E,MAAA,KAASnkC,YACJ08G,iBAAmB,KACxB5C,EAAK6C,uBAAyB,KAC9B7C,EAAK8C,qBAAuB,KAC5B9C,EAAKjiH,OAAO0B,OAAOC,OAAO,cAAe,IAAIsgH,CAC/C,CARC,SAQA0C,IA8RA,EAAA5rH,IAAA,WAAAoF,IA5SD,WACE,MAAO,CAAC6mH,GACV,GAAC,CAAAjsH,IAAA,aAAAoF,IAED,WACE,MAAO,aACT,OAQC,EAAApF,IAAA,OAAAjE,MAED,WACE,IAAMkL,EAASjN,KAAKiN,OAKpB,GAJAjN,KAAKkyH,QAAUjlH,EAAO8G,QAAQ3I,IAAI6mH,IAClCjyH,KAAKmf,SAAWlS,EAAO8G,QAAQ3I,IAAIyT,EAAAA,mBACnC7e,KAAKysE,2BAEDgjD,MAAM0C,YAAa,CACrBnyH,KAAKoyH,0BACL,IAAMC,EACJ9nH,UAAU+nH,SAASC,oBAAoBlyH,KAAK,KAC9CL,KAAKgyH,qBAAuB,IAAI14G,OAAO,QAADlZ,OAC5BiyH,EAAiB,uBAE7B,CACF,GAAC,CAAArsH,IAAA,2BAAAjE,MAED,WAA2B,IAAAstH,EAAA,KACnBpiH,EAASjN,KAAKiN,OACdulH,EAAcvlH,EAAO0B,OAAOvD,IAAI,eACtC,GAAKonH,GAAgBA,EAAY7xH,OAAjC,CAIA,IAAMqnE,EAAc/6D,EAAO+C,SAAS5E,IAAI,QAClCsF,EAAIzD,EAAOyD,EACjBzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,QAAQ,SAACwD,GACtC,IAAM8F,GAAeC,EAAAA,EAAAA,gBAAe/F,EAAQ2c,EAAAA,iBACtC6J,EAAkB1gB,EAAaX,WAwBrC,OAvBAqhB,EAAgBjlB,WAAY,EAC5BilB,EAAgBlhB,MAAQZ,EAAE,QAC1B8hB,EAAgBjhB,KAAOkhH,GACvBjgG,EAAgBwE,UAAY6tC,GAC5BryC,EAAgBhhB,SAAU,EAC1BghB,EAAgB/gB,cAAe,EAC/B49G,EAAK19G,SAAS6gB,EAAiB,WAAW,kBACxC68F,EAAK6C,QAAQ7kD,SAAQ,EAAK,IAE5Bv7D,EAAaoB,GAAG,WAAW,SAAC0N,GAC1B,GAAIA,EAAIld,OAAOgvH,WAAY,CACzB,IAAMA,EAAa9xG,EAAIld,OAAOgvH,WAC9BrD,EAAKsD,0BAA0BD,EACjC,MACErD,EAAK6C,QAAQ7kD,SAAQ,EAEzB,IACAv7D,EAAY,MAAS,yBACrBA,EAAapK,KAAK,aAAagK,GAAGs2D,EAAa,aAC/Cx1C,EAAgB9qB,KAAK,QAAQgK,GAAGs2D,EAAa,SAAS,SAACjmE,GAAK,QAAOA,CAAK,KACxE4pC,EAAAA,EAAAA,mBAAkB75B,GAAc,kBAC9Bu9G,EAAKuD,4BAA4BJ,EAAY,IAExC1gH,CACT,GA9BA,MAFE9R,KAAKkyH,QAAQzlD,0BAiCjB,GAAC,CAAAzmE,IAAA,8BAAAjE,MAED,SAA4BywH,GAC1B,IAEgC/B,EAF1BllF,EAAkB,IAAIK,EAAAA,WAAa8kF,kmBAAAC,CAEpB6B,GAAW,IAAhC,IAAA9B,EAAAQ,MAAAT,EAAAC,EAAAtuH,KAAAN,MAAkC,KAAvB8J,EAAM6kH,EAAA1uH,MACfwpC,EAAgB/iC,IAAI,CAClB4B,KAAM,SACNgD,MAAO,IAAI0+B,EAAAA,UAAU,CACnBx6B,MAAO1F,EAAO0F,MACdohH,WAAY9mH,EACZmgC,UAAU,KAGhB,CAAC,OAAA/pC,GAAA0uH,EAAApsH,EAAAtC,EAAA,SAAA0uH,EAAAS,GAAA,CAUD,OARA5lF,EAAgB/iC,IAAI,CAClB4B,KAAM,SACNgD,MAAO,IAAI0+B,EAAAA,UAAU,CACnBx6B,MAAOm+G,MAAM/+G,EAAE,WAAY,eAC3Bq7B,UAAU,MAIPR,CACT,GAAC,CAAAvlC,IAAA,4BAAAjE,MAED,SAA0B2wH,GAAY,IAAAnD,EAAA,KAC9BtiH,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfC,EAAYD,EAAMpJ,SAASqJ,UAC3B2mB,EAAc3mB,EAAU2mB,YACxBtP,EAAQrX,EAAU4M,gBAElB44G,EAAW,WACf5lH,EAAO2E,QAAQtC,KAAKuC,SACfmiB,GAAetP,GAElBtX,EAAMS,QAAO,SAACC,GACZA,EAAO0I,aAAakO,EACtB,IAEF6qG,EAAK2C,QAAQlkD,0BACf,EAGKhuE,KAAKkyH,QAAQ5kD,2BAGhBttE,KAAKkyH,QAAQ/jD,2BAGfshD,MAAMC,2BAA2BgD,EAAWI,YAAa,CACvDnD,WAAY,YAAFvvH,OAAcJ,KAAKwO,WAAU,KAAApO,OAAIsyH,EAAWI,aACtDrvH,QAASivH,EAAWjvH,QACpB+rH,SAAUkD,EAAWlD,SACrBI,cAAe3iH,EAAO0B,OAAOvD,IAAI,iBACjC2kH,oBAAoB,EACpBC,SAAU,SAAChsC,GACT,GAAIA,EAASrjF,OAAQ,CACnB,IAAMuT,EAAU8vE,EAAS,GACnB9e,EAAM,GAAH9kE,OAAM8T,EAAQgxD,IAAG,KAAA9kE,OAAIsyH,EAAWK,UAAS,KAAA3yH,OAAI8T,EAAQvU,GAAE,KAAAS,OAAI8T,EAAQ8+G,QAC5E/lH,EAAO2E,QAAQtC,KAAKuC,SACfmiB,GAAetP,GAElBtX,EAAMS,QAAO,SAACC,GACZA,EAAO0I,aAAakO,EACtB,IACoBzX,EAAO+C,SAAS5E,IAAI,QAC5BuC,QAAQu3D,IAEpB93D,EAAMS,QAAO,SAACC,GAQZ,GAPAA,EAAOg9B,WACL52B,EAAQ5C,MACR,CACEu2D,SAAU3C,GAEZ73D,EAAUkK,oBAERmN,aAAiBuuG,EAAAA,MACnB,IACE,IAAMr4E,EAAWl2B,EAAMwuG,QACvBt4E,EAASrgC,IAAI44G,KAAK,IAAMj/G,EAAQ5C,MAAM3Q,OACtCmN,EAAO0I,aAAaokC,EACtB,CAAE,MAAOt2C,GAAI,CAEjB,IAGFirH,EAAK2C,QAAQlkD,2BACbxyD,YAAW,WACTvO,EAAO2E,QAAQtC,KAAKuC,QACpB09G,EAAK2C,QAAQ7kD,SAAQ,EACvB,GAAG,IACL,MACEwlD,GAEJ,EACAA,SAAU,WACRA,GACF,EACA1C,kBAAkB,GAEtB,GAAC,CAAAnqH,IAAA,0BAAAjE,MAED,WAA0B,IAAAquH,EAAA,KAEnBpwH,KAAKkyH,QAAQ/hF,UAChBnwC,KAAKkyH,QAAQtlD,eAGf,MAAOz8B,EAAYnwC,KAAKkyH,QAAjB/hF,SACA66B,EAAgB76B,EAAhB66B,aACA3rD,EAAa2rD,EAAb3rD,UAGP8wB,EAASX,SAAS5pC,WAAU,MAAOnG,KACjC,+BACA,oBAGFO,KAAK8xH,kBAAmB//G,EAAAA,EAAAA,gBAAeo+B,EAASnkC,QAChDhM,KAAK8xH,iBAAiB3gH,WAAWE,IAAI,CACnCC,MAAO,GACPy6B,UAAU,EACV9I,WAAW,IAGbjjC,KAAK+xH,uBAAyB1vH,OAAO6T,YACnCu5G,MAAM2D,MAAMnzH,KAAI,SAACozH,GAAI,MAAK,CACxBA,EAAK1zH,GACL,IAAImsC,EAAAA,UAAU,CACZx6B,MAAO+hH,EAAK5wH,KACZuwH,OAAQK,EAAK1zH,GACbosC,UAAU,IAEb,KAGH/rC,KAAK+xH,uBAAuBhd,QAAU,IAAIjpE,EAAAA,UAAU,CAClDx6B,MAAOm+G,MAAM/+G,EAAE,WAAY,4BAC3BsiH,OAAQ,KACRjnF,UAAU,KAGZJ,EAAAA,EAAAA,mBACE3rC,KAAK8xH,iBACL,IAAIlmF,EAAAA,WAAW,GAADxrC,uDACTqvH,MAAM2D,MAAMnzH,KAAI,SAACozH,GAAI,MAAM,CAC5BjpH,KAAM,SACNgD,MAAOgjH,EAAK2B,uBAAuBsB,EAAK1zH,IACzC,4SAAE,CACH,CACEyK,KAAM,SACNgD,MAAOpN,KAAK+xH,uBAAuBhd,aAKzC/0G,KAAK8xH,iBAAiB5+G,GAAG,WAAW,SAAC0N,GACnC,IAAMrF,EAAQ60G,EAAKkD,oBACnB,GAAK/3G,EAAL,CAMA,IAAOy3G,EAAUpyG,EAAIld,OAAdsvH,OACHO,EAAMh4G,EAAM,GACZy3G,IACFO,GAAO,IAAJnzH,OAAQ4yH,IAEb,IAAMQ,EAASpD,EAAKqD,iBAAiBr1F,QAAQ7iB,EAAM,GAAIg4G,GACvDl0G,EAAUhO,IAAI,QAASmiH,EAPvB,MAJEr7B,QAAQC,KAAK,yCAADh4F,OAC+BgwH,EAAKqD,kBAWpD,IAEA,IAAOtgH,EAAYg9B,EAAZh9B,SACDugH,EAAcvgH,EAASoiC,SAASy1B,GACtC73D,EAAS3K,IAAIxI,KAAK8xH,iBAAkB4B,EAAc,GAIlDvjF,EAAStzB,YAAYrU,IAAIxI,KAAK8xH,kBAC9B3hF,EAASh0B,aAAa3T,IAAIxI,KAAK8xH,iBAAiB59G,SAEhDlU,KAAK2R,SAAS0N,EAAW,gBAAgB,WACvC+wG,EAAKuD,yBACP,IACA3zH,KAAK2R,SAAS0N,EAAW,SAAS,WAChC+wG,EAAKuD,yBACP,GACF,GAAC,CAAA3tH,IAAA,iBAAAjE,MAED,WACE,OAAO/B,KAAKkyH,QAAQ/hF,SAAS66B,aAAa3rD,UAAUnL,QAAQnS,KAC9D,GAAC,CAAAiE,IAAA,oBAAAjE,MAED,WACE,OAAO/B,KAAKyzH,iBAAiBl4G,MAAMvb,KAAKgyH,qBAC1C,GAAC,CAAAhsH,IAAA,0BAAAjE,MAED,WACE,IAAMwZ,EAAQvb,KAAKszH,oBACnB,GAAI/3G,EAAO,CACTvb,KAAK8xH,iBAAiB3gH,WAAWE,IAAI,aAAa,GAClD,IAAI2hH,EAASz3G,EAAM,GAAKxG,SAASwG,EAAM,GAAI,IAAM,KAE/Cy3G,QAC+C,IAAxChzH,KAAK+xH,uBAAuBiB,KAEnCA,EAAS,MAEXhzH,KAAK4zH,wBAAwBZ,EAC/B,MACEhzH,KAAK8xH,iBAAiB3gH,WAAWE,IAAI,aAAa,EAEtD,GAAC,CAAArL,IAAA,0BAAAjE,MAED,SAAwBixH,GACtB,IAAMa,EAAY7zH,KAAK+xH,uBAAuBiB,QAAAA,EAAU,WAGlD1hH,EAAQ0hH,EACVvD,MAAM/+G,EAAE,WAAY,eAAgB,CAACjO,KAAMoxH,EAAUviH,QACrDuiH,EAAUviH,MACdtR,KAAK8xH,iBAAiB3gH,WAAWE,IAAI,QAASC,GAG9CjP,OAAOkN,OAAOvP,KAAK+xH,wBAAwBhsH,SAAQ,SAACqH,GAClDA,EAAMiE,IAAI,OAAQjE,IAAUymH,EAC9B,GACF,sFAtSCjC,CAAA,CAP6B,CAASrjH,EAAAA,07BCXzC,IAGqBulH,GAAqB,SAAAC,0RAAAhF,CAAA+E,EAAAC,GAAA,YAAA/E,KAAA8E,0rBAAA,SAAAA,IAAA,mGAAA7E,CAAA,KAAA6E,GAAA9E,EAAAz1E,MAAA,KAAAnkC,UAAA,CAqGvC,SArGuC0+G,IAAA,EAAA9tH,IAAA,UAAAjE,MACxC,WACE,IAAMmS,EAAUlU,KAAKg0H,WACfC,EAAUj0H,KAAKk0H,SAAShgH,GAC9BlU,KAAKuN,YAAc0mH,EAIjBj0H,KAAK+B,MAHFkyH,EAGU,CACXnyF,UAAWmyF,EAAQnyF,WAHR,IAMjB,GAAC,CAAA97B,IAAA,WAAAjE,MAED,WACE,IAAMkL,EAASjN,KAAKiN,OAEpB,OADmBA,EAAO8G,QAAQ3I,IAAI,cACpBsM,+BAChBzK,EAAOG,MAAMpJ,SAASqJ,UAE1B,GAAC,CAAArH,IAAA,WAAAjE,MAED,SAASmS,GACP,IAAKA,IAAYA,EAAQzG,aAAa,OACpC,OAAO,KAGT,IAAMmJ,EAAM1C,EAAQxG,aAAa,OAC3B6N,EAAQ3E,EAAI2E,MAChB,uDAEF,OAAKA,EAIE,CACL3E,IAAAA,EACAw6G,QAAS71G,EAAM,GACfumB,UAAWvmB,EAAM,IANV,IAQX,GAEA,CAAAvV,IAAA,UAAAjE,MAeA,SAAQ6C,GACN,IACMwI,EADSpN,KAAKiN,OACCG,MACf8G,EAAUlU,KAAKg0H,WACfC,EAAUj0H,KAAKk0H,SAAShgH,GAM9B,GAJAlU,KAAK+B,MAAQ,CACX+/B,UAAWl9B,EAAQk9B,WAGjBmyF,EAAS,CACX,IAAME,EACJ,UAAA/zH,OAAU6zH,EAAQ7C,UACjBxsH,EAAQk9B,UAAY,cAAH1hC,OAAiBwE,EAAQk9B,WAAc,IAG3D10B,EAAMS,QAAO,SAACC,GACZ,IAAM8I,EAAMq9G,EAAQr9G,IAAIwnB,QAAQ,MAAO,IAAM+1F,EAC7CrmH,EAAO7H,aAAa,MAAO2Q,EAAK1C,EAClC,IAGAu7G,MAAM+B,kBAAkB,OAAQ,8BAA+B,CAC7DluH,KAAM,CACJ8tH,QAAS6C,EAAQ7C,QACjBtvF,UAAWl9B,EAAQk9B,aAEpByB,MAAK,SAAAkuF,GAAY,IAAVnuH,EAAImuH,EAAJnuH,KACR8J,EAAMS,QAAO,SAACC,GACZ,IAAM8I,EAAMtT,EAAK4hE,IAAMivD,EACvBrmH,EAAO7H,aAAa,MAAO2Q,EAAK1C,GAK5B5Q,EAAKmgB,OACP3V,EAAO7H,aAAa,QAAS3C,EAAKmgB,MAAOvP,GAEvC5Q,EAAKogB,QACP5V,EAAO7H,aAAa,SAAU3C,EAAKogB,OAAQxP,EAE/C,GACF,GACF,CACF,4EAAC4/G,CAAA,CArGuC,CAAS/mH,EAAAA,27BCHS,IAEvCqnH,GAAqB,SAAAvC,0RAAA9C,CAAAqF,EAAAvC,GAAA,cAAA7C,KAAAoF,0rBASxC,SAAAA,EAAYnnH,GAAQ,IAAAiiH,EAEqB,mGAFrBD,CAAA,KAAAmF,GAClBlF,EAAAF,EAAAptH,KAAA,KAAMqL,GACNA,EAAO0B,OAAOC,OAAO,aAAc,IAAIsgH,CACzC,CALC,SAKAkF,IAMA,EAAApuH,IAAA,WAAAoF,IAjBD,WACE,MAAO,CAACipH,EACV,GAAC,CAAAruH,IAAA,aAAAoF,IAED,WACE,MAAO,uBACT,OAKC,EAAApF,IAAA,OAAAjE,MAED,WACE,IAAMkL,EAASjN,KAAKiN,OACdqnH,EAAwB,IAAIR,GAAsB7mH,GACxDA,EAAO+C,SAASxH,IAAI,iBAAkB8rH,EACxC,sFAXCF,CAAA,CAPuC,CAAS7lH,EAAAA,qiCCMnD,IAAMgmH,GAAcpkH,EAAAA,MAAMqkH,iBAELC,GAAgB,SAAA5C,0RAAA9C,CAAA0F,EAAA5C,GAAA,cAAA7C,KAAAyF,0rBAAA,SAAAA,IAAA,mGAAAxF,CAAA,KAAAwF,GAAAzF,EAAAz1E,MAAA,KAAAnkC,UAAA,CAOlC,SAPkCq/G,IAAA,EAAAzuH,IAAA,OAAAjE,MASnC,WACE,IAAMkL,EAASjN,KAAKiN,OACd4iH,EAAa5iH,EAAO0B,OAAOvD,IAAI,cAC/B8F,EAAUjE,EAAO+C,SAAS5E,IAAI,kBACpCpL,KAAK0H,KAAK,aAAagK,GAAGR,GAC1BlR,KAAK00H,gCAAgC7E,EACvC,GAEA,CAAA7pH,IAAA,kCAAAjE,MAMA,SAAgC8tH,GAAY,MAAAX,EAAA,KACpCjiH,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXikH,EAAqB,CACzBlyH,KAAM,0BACNV,MAAO,MAEH6C,EAAU,CACd+vH,GAAkBv0H,uDACfyvH,EAAW5vH,KAAI,SAAC6hC,GAAS,MAAM,CAChCxwB,MAAOwwB,EAAUr/B,KACjBA,KAAM,kBAAFrC,OAAoB0hC,EAAUwvF,QAClCvvH,MAAO+/B,EAAUwvF,OAClB,ykBA4CHrkH,EAAO6D,GAAGC,iBAAiBvI,IAAI,kBA1CN,SAACwD,GACxB,IAAMkF,EAAUjE,EAAO+C,SAAS5E,IAAI,kBAC9B0G,GAAeC,EAAAA,EAAAA,gBAAe/F,EAAQ4oH,EAAAA,oBACtCpsG,EAAiB1W,EAAaX,WAqCpC,OApCAqX,EAAenX,IAAI,CACjBG,QAASd,EAAE,gBACX4sD,aAAc,KACd/rD,KAAMgjH,GACN9iH,cAAc,EACdH,MAAO49G,EAAK2F,qBAAqBF,GACjC5oF,UAAU,EACVx5B,MAAO,2BAETiW,EAAe9gB,KAAK,SAASgK,GAAGR,EAAS,SAAS,SAACosD,GACjD,IAAKA,IAAiBA,EAAax7B,UACjC,OAAOotF,EAAK2F,qBAAqBF,GAEnC,IAAM7yF,EAAY+tF,EAAW19F,MAC3B,SAACzhB,GAAC,OAAKA,EAAE4gH,SAAWh0D,EAAax7B,SAAS,IAE5C,OAAIA,EACKA,EAAUr/B,KAEZ66D,EAAax7B,SACtB,IACAhwB,EAAapK,KAAK,aAAagK,GAAGw9G,IAClCvjF,EAAAA,EAAAA,mBACE75B,GACA,kBAAMo9G,EAAK4F,yCAAyClwH,EAASsM,EAAQ,GACrE,CACEmB,UAAW3B,EAAE,uBAIjBw+G,EAAKv9G,SAASG,EAAc,WAAW,SAAC8O,GACtC3T,EAAOU,QAAQiT,EAAIld,OAAO43B,YAAa,CACrCwG,UAAWlhB,EAAIld,OAAO45D,eAExBrwD,EAAO2E,QAAQtC,KAAKuC,OACtB,IACOC,CACT,GAEF,GAEA,CAAA9L,IAAA,uBAAAjE,MAMA,SAAqB6J,GACnB,OAAOA,EAAO0F,OAAS1F,EAAO7J,OAAS/B,KAAKiN,OAAOyD,EAAE,WACvD,GAEA,CAAA1K,IAAA,2CAAAjE,MAOA,SAAyC6C,EAASsM,GAAS,IAAAm+G,EAAA,KACnD9jF,EAAkB,IAAIK,EAAAA,WAiB5B,OAhBAhnC,EAAQ3E,KAAI,SAAC2L,GACX,IAsByB7J,EAtBnBkJ,EAAa,CACjBb,KAAM,SACNgD,MAAO,IAAI0+B,EAAAA,UAAU,CACnBxQ,YAAa,iBACbgiC,aAAc1xD,EAAO7J,MACrBuP,MAAO+9G,EAAKwF,qBAAqBjpH,GACjCmgC,UAAU,EACVx6B,KAAM,QAGVtG,EAAWmC,MACR1F,KAAK,QACLgK,GAAGR,EAAS,SAUUnP,EAVqB6J,EAAO7J,MAWlD,SAACu7D,GAEN,OAAc,OAAVv7D,GADuBu7D,IACkBv7D,GAIpB,OALEu7D,KAKyBx7B,YAAc//B,CAEpE,IAlBIwpC,EAAgB/iC,IAAIyC,EACtB,IACOsgC,CACT,MAAC,EAAAvlC,IAAA,WAAAoF,IAtHD,WACE,MAAO,CAACgpH,GACV,GAAC,CAAApuH,IAAA,aAAAoF,IAED,WACE,MAAO,kBACT,uFAACqpH,CAAA,CAPkC,CAASlmH,EAAAA,07BCVmB,IAE5CwmH,GAAc,SAAAlD,0RAAA9C,CAAAgG,EAAAlD,GAAA,YAAA7C,KAAA+F,0rBAAA,SAAAA,IAAA,mGAAA9F,CAAA,KAAA8F,GAAA/F,EAAAz1E,MAAA,KAAAnkC,UAAA,CAOhC,SAPgC2/G,IAAA,EAAA/uH,IAAA,WAAAoF,IACjC,WACE,MAAO,CAACgpH,GAAuBK,GACjC,GAAC,CAAAzuH,IAAA,aAAAoF,IAED,WACE,MAAO,gBACT,IAPiC,yFAOhC2pH,CAAA,CAPgC,CAASxmH,EAAAA,qiCCF5C,IAGqBymH,GAAkB,SAAAjB,0RAAAhF,CAAAiG,EAAAjB,GAAA,YAAA/E,KAAAgG,0rBAAA,SAAAA,IAAA,mGAAA/F,CAAA,KAAA+F,GAAAhG,EAAAz1E,MAAA,KAAAnkC,UAAA,CA2KpC,SA3KoC4/G,KAAA,EAAAhvH,IAAA,UAAAjE,MACrC,WAAU,IAAAmtH,EAAA,KACFh7G,EAAUlU,KAAKg0H,WACfC,EAAUj0H,KAAKk0H,SAAShgH,GAI9B,GAHAlU,KAAKuN,YAAc0mH,EAGfj0H,KAAKuN,UAAW,CAClB,IAAIjK,EAAO,CACT8tH,QAAS6C,EAAQ7C,SAGnB3B,MAAM+B,kBAAkB,OAAQ,sCAAuC,CACrEluH,KAAAA,IACCigC,MAAK,SAAC0xF,IACwB,IAA3BA,EAAS3xH,KAAKw6B,WAChBoxF,EAAK3hH,WAAY,EAErB,GACF,CACF,GAEA,CAAAvH,IAAA,WAAAjE,MAGA,WACE,IAAMkL,EAASjN,KAAKiN,OAEpB,OADmBA,EAAO8G,QAAQ3I,IAAI,cACpBsM,+BAChBzK,EAAOG,MAAMpJ,SAASqJ,UAE1B,GAEA,CAAArH,IAAA,WAAAjE,MAQA,SAASmS,GACP,IAAKA,IAAYA,EAAQzG,aAAa,OACpC,OAAO,KAGT,IAAMmJ,EAAM1C,EAAQxG,aAAa,OAC3B6N,EAAQ3E,EAAI2E,MAChB,2DAEF,OAAKA,EAIE,CACL3E,IAAAA,EACAs+G,QAAS35G,EAAM,GACf61G,QAAS71G,EAAM,GACfumB,UAAWvmB,EAAM,IAPV,IASX,GAEA,CAAAvV,IAAA,UAAAjE,MAKA,WAAU,IAAAstH,EAAA,KAGFn7G,GAFSlU,KAAKiN,OACCG,MACLpN,KAAKg0H,YACfC,EAAUj0H,KAAKk0H,SAAShgH,GAE9B,GAAI+/G,EAAS,CACX,IAAIkB,EAAW,CACbC,kBAAkB,EAClBC,OAAQ,SAAC/xH,GACP+rH,EAAKiG,aAAarB,EAAQ7C,QAAS9tH,EACrC,EACAiyH,qBAAsB9F,MAAM+F,WAG9B,IAAI/F,MAAMgG,iBAAiBxB,EAAQ7C,QAAS+D,EAC9C,CACF,GAEA,CAAAnvH,IAAA,eAAAjE,MAKA,SAAaqvH,EAAS9tH,GACpB,IACI8J,EADSpN,KAAKiN,OACCG,MAGNpN,KAAK01H,qBAGX3vH,SAAQ,SAAC2c,GAEd,GAAIA,EAAMuxG,QAAQ7C,SAAWA,EAE3B,GAAK1uG,EAAMuxG,QAAQnyF,UAaZ,CACL,IAAIx+B,EAAO,CACT8tH,QAAS1uG,EAAMuxG,QAAQ7C,QACvBE,OAAQ5uG,EAAMuxG,QAAQnyF,WAIxB2tF,MAAM+B,kBAAkB,OAAQ,4BAA6B,CAC3DluH,KAAAA,IACCigC,MAAK,SAAC0xF,GAEP,IAAIxjC,EACFwjC,EAAS3xH,KAAK4hE,IACd,KACA,IAAIvtB,MAAOg+E,UACX,UACAjzG,EAAMuxG,QAAQ7C,QACd,cACA1uG,EAAMuxG,QAAQnyF,UAGhB10B,EAAMS,QAAO,SAACC,GACZA,EAAO7H,aAAa,MAAOwrF,EAAQ/uE,EAAMxO,QAC3C,GACF,GACF,KAtC8B,CAE5B,IAAIu9E,EACF/uE,EAAMuxG,QAAQiB,QACd,KACA,IAAIv9E,MAAOg+E,UACX,UACAjzG,EAAMuxG,QAAQ7C,QAGhBhkH,EAAMS,QAAO,SAACC,GACZA,EAAO7H,aAAa,MAAOwrF,EAAQ/uE,EAAMxO,QAC3C,GACF,CA2BJ,GACF,GAEA,CAAAlO,IAAA,qBAAAjE,MAMA,WACE,IAK6D0uH,EAJvDrjH,EADSpN,KAAKiN,OACCG,MAGjBikF,EAAS,GAAGq/B,+5BAAAC,CAFFvjH,EAAM8L,cAAc9L,EAAMpJ,SAASg6B,WAGvB9iB,UAAU,CAACC,kBAAkB,KAAM,IAA7D,IAAAu1G,EAAAQ,MAAAT,EAAAC,EAAAtuH,KAAAN,MAA+D,KAApDC,EAAK0uH,EAAA1uH,MACd,GAAIA,EAAM7B,KAAKyV,GAAG,YAAkC,eAApB5T,EAAM7B,KAAKuC,KAAuB,CAChE,IAAIwxH,EAAUj0H,KAAKk0H,SAASnyH,EAAM7B,MAC9B+zH,GACF5iC,EAAO5xF,KAAK,CACVyU,QAASnS,EAAM7B,KACf+zH,QAASA,GAGf,CACF,CAAC,OAAAjyH,GAAA0uH,EAAApsH,EAAAtC,EAAA,SAAA0uH,EAAAS,GAAA,CAED,OAAO9/B,CACT,2EAAC2jC,CAAA,CA3KoC,CAASjoH,EAAAA,27BCHM,IAEjC6oH,GAAkB,SAAA/D,0RAAA9C,CAAA6G,EAAA/D,GAAA,cAAA7C,KAAA4G,0rBAAA,SAAAA,IAAA,mGAAA3G,CAAA,KAAA2G,GAAA5G,EAAAz1E,MAAA,KAAAnkC,UAAA,CAOpC,SAPoCwgH,IAapC,EAAA5vH,IAAA,WAAAoF,IAZD,WACE,MAAO,CAACipH,EACV,GAAC,CAAAruH,IAAA,aAAAoF,IAED,WACE,MAAO,oBACT,OAPqC,EAAApF,IAAA,OAAAjE,MASrC,WACE,IAAMkL,EAASjN,KAAKiN,OACd4oH,EAAqB,IAAIb,GAAmB/nH,GAClDA,EAAO+C,SAASxH,IAAI,cAAeqtH,EACrC,sFANCD,CAAA,CAPoC,CAASrnH,EAAAA,07BCFM,IAEjCunH,GAAa,SAAAjE,0RAAA9C,CAAA+G,EAAAjE,GAAA,cAAA7C,KAAA8G,0rBAAA,SAAAA,IAAA,mGAAA7G,CAAA,KAAA6G,GAAA9G,EAAAz1E,MAAA,KAAAnkC,UAAA,CAO/B,SAP+B0gH,IA4C/B,EAAA9vH,IAAA,WAAAoF,IA3CD,WACE,MAAO,CAACwqH,GACV,GAAC,CAAA5vH,IAAA,aAAAoF,IAED,WACE,MAAO,eACT,OAPgC,EAAApF,IAAA,OAAAjE,MAShC,WACE,IACMmP,EADSlR,KAAKiN,OACG+C,SAAS5E,IAAI,eACpCpL,KAAK0H,KAAK,aAAagK,GAAGR,GAC1BlR,KAAK+1H,4BACP,GAEA,CAAA/vH,IAAA,6BAAAjE,MAGA,WAA6B,IAAAmtH,EAAA,KACrBjiH,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXQ,EAAUjE,EAAO+C,SAAS5E,IAAI,eAqBpC6B,EAAO6D,GAAGC,iBAAiBvI,IAAI,eAnBN,WACvB,IAAM2I,EAAa,IAAIC,EAAAA,WAevB,OAbAD,EAAWE,IAAI,CACbC,MAAOZ,EAAE,cACTq7B,UAAU,IAGZ56B,EAAWzJ,KAAK,aAAagK,GAAGR,GAGhCg+G,EAAKv9G,SAASR,EAAY,WAAW,SAACyP,GACpC3T,EAAOU,QAAQ,eACfV,EAAO2E,QAAQtC,KAAKuC,OACtB,IAEOV,CACT,GAGF,sFArCC2kH,CAAA,CAP+B,CAASvnH,EAAAA,07BCFa,IAEnCynH,GAAW,SAAAnE,0RAAA9C,CAAAiH,EAAAnE,GAAA,YAAA7C,KAAAgH,0rBAAA,SAAAA,IAAA,mGAAA/G,CAAA,KAAA+G,GAAAhH,EAAAz1E,MAAA,KAAAnkC,UAAA,CAO7B,SAP6B4gH,IAAA,EAAAhwH,IAAA,WAAAoF,IAC9B,WACE,MAAO,CAACwqH,GAAoBE,GAC9B,GAAC,CAAA9vH,IAAA,aAAAoF,IAED,WACE,MAAO,aACT,IAP8B,yFAO7B4qH,CAAA,CAP6B,CAASznH,EAAAA,QCgBlC,SAAS0nH,GAA2BC,EAAcC,GAErD,MAAO,GAAGD,KADVC,EAAgBA,IAAiB,IAAAC,sBAAqBF,IAE1D,CCpBe,MAAMG,WAAgC,EAAAtpH,QAIjD,OAAAC,GACI,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBQ,EAAMR,EAAMpJ,SAClBhE,KAAK+B,MAAQ/B,KAAK26B,gCAClB36B,KAAKuN,UAAYH,EAAMgB,OAAOwsB,0BAA0BhtB,EAAIP,UAAW,WAC3E,CAqBA,OAAAM,EAAQ,aAAEuoH,EAAY,cAAEC,GAAkB,CAAC,GACvC,MAAM/oH,EAAQpN,KAAKiN,OAAOG,MAEpBC,EADMD,EAAMpJ,SACIqJ,UAChBtL,IAAQm0H,GAAeD,GAA2BC,EAAcC,GACtE/oH,EAAMS,QAAOC,IACT,GAAIT,EAAU2mB,YACNjyB,EACA+L,EAAO+sB,sBAAsB,WAAY94B,GAGzC+L,EAAO6pB,yBAAyB,gBAGnC,CACD,MAAM6B,EAASpsB,EAAMgB,OAAOspB,eAAerqB,EAAU0mB,YAAa,YAClE,IAAK,MAAMrP,KAAS8U,EACZz3B,EACA+L,EAAO7H,aAAa,WAAYlE,EAAO2iB,GAGvC5W,EAAO1G,gBAAgB,WAAYsd,EAG/C,IAER,CAOA,6BAAAiW,GACI,MAAMvtB,EAAQpN,KAAKiN,OAAOG,MACpBgB,EAAShB,EAAMgB,OACff,EAAYD,EAAMpJ,SAASqJ,UACjC,GAAIA,EAAU2mB,YACV,OAAO3mB,EAAUK,aAAa,cAAe,EAEjD,IAAK,MAAMgX,KAASrX,EAAU0mB,YAC1B,IAAK,MAAM7zB,KAAQwkB,EAAM6B,WACrB,GAAInY,EAAOC,eAAenO,EAAM,YAC5B,OAAOA,EAAKwN,aAAa,cAAe,EAIpD,OAAO,CACX,EC3EW,MAAM4oH,WAAgC,EAAA/nH,OAIjD,qBAAWC,GACP,MAAO,yBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,WAAAjM,CAAYyK,GACRyB,MAAMzB,GAINA,EAAO0B,OAAOC,OAAO,WAAY,CAC7B2nH,iBAAkB,CACd,CAAE1oG,MAAO,SAAUqoG,aAAc,MACjC,CAAEroG,MAAO,SAAUqoG,aAAc,MACjC,CAAEroG,MAAO,UAAWqoG,aAAc,QAG9C,CAIA,IAAArnH,GACI,MAAM5B,EAASjN,KAAKiN,OACpBA,EAAOG,MAAMgB,OAAOY,OAAO,QAAS,CAAEC,gBAAiB,aACvDhC,EAAOG,MAAMgB,OAAOc,uBAAuB,WAAY,CACnD8rB,aAAa,IAEjBh7B,KAAKm7C,oBACLluC,EAAO+C,SAASxH,IAAI,mBAAoB,IAAI6tH,GAAwBppH,GACxE,CAIA,iBAAAkuC,GACI,MAAM/rC,EAAapP,KAAKiN,OAAOmC,WAC/BA,EAAWK,IAAI,UAAUquC,mBAAmB,CACxC1wC,MAAO,CACHpH,IAAK,WACLjE,MAAQiT,GAGGihH,GAFcjhH,EAAYtH,aAAa,QACxBsH,EAAYtH,aAAa,SAIvD4B,KAAM,CACF7M,KAAM,OACNmD,WAAY,CAAE4wH,KAAM,cAG5BpnH,EAAWK,IAAI,YAAYwrB,mBAAmB,CAC1C7tB,MAAO,WACPkC,KAAM,CAACuuC,GAAkB/vC,UAAUxK,KAC/B,IAAKu6C,EACD,OAEJ,IAAKv6C,EAAKpD,KAAKyV,GAAG,gBAAkBrS,EAAKpD,KAAKyV,GAAG,qBAC7C,OAEJ,MAAM,aAAEugH,EAAY,cAAEC,GF1C/B,SAAgCM,GACnC,MAAOP,EAAcC,GAAiBM,EAAI59F,MAAM,KAChD,MAAO,CAAEq9F,eAAcC,gBAC3B,CEuCwDO,CAAuB74E,GAC/D,OAAO/vC,EAAOgvC,uBAAuB,OAAQ,CACzC05E,KAAMN,EACN/1D,IAAKg2D,GACP,GAGd,ECxEW,MAAMQ,WAA2B,EAAApoH,OAI5C,qBAAWC,GACP,MAAO,oBACX,CAIA,2BAAWC,GACP,OAAO,CACX,CAIA,IAAAI,GACI,MAAM5B,EAASjN,KAAKiN,OACdyD,EAAIzD,EAAOyD,EACXysD,EAAezsD,EAAE,mBACjB+6B,EAAkB/6B,EAAE,YAE1BzD,EAAO6D,GAAGC,iBAAiBvI,IAAI,oBAAoBwD,IAC/C,MAAM,YAAE4D,EAAW,OAAEwjB,GAAWpzB,KAAK42H,mBAC/BC,EAAkB5pH,EAAO+C,SAAS5E,IAAI,oBACtC0G,GAAe,IAAAC,gBAAe/F,GAsCpC,OArCA,IAAA2/B,mBAAkB75B,EAAclC,EAAa,CACzCyC,UAAWo5B,EACX54B,KAAM,SAEVf,EAAaX,WAAWE,IAAI,CACxBgB,UAAWo5B,EACX8xB,oBAAgB3yD,EAChBmoB,MAAM,EACNgZ,UAAU,EACVv6B,QAASi6B,IAEb35B,EAAaQ,eAAe,CACxB1M,WAAY,CACR2M,MAAO,CACH,yCAIZT,EAAapK,KAAK,aAAagK,GAAGmlH,EAAiB,aACnD/kH,EAAaX,WAAWzJ,KAAK,SAASgK,GAAGmlH,EAAiB,SAAS90H,GACvDA,GAASqxB,EAAOrxB,IAAWo7D,IAEvCrrD,EAAaX,WAAWzJ,KAAK,aAAagK,GAAGmlH,EAAiB,SAAS90H,IACnE,MAAM+0H,EAAwB/0H,GAASqxB,EAAOrxB,GAC9C,OAAK+0H,EAGE,GAAGA,MAA0BrrF,IAFzBA,CAE0C,IAGzDzrC,KAAK2R,SAASG,EAAc,WAAW8O,IACnCi2G,EAAgBlpH,QAAQ,CACpBuoH,aAAct1G,EAAIld,OAAOwyH,aACzBC,cAAev1G,EAAIld,OAAOyyH,gBAE9BlpH,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBC,CAAY,IAGvB7E,EAAO6D,GAAGC,iBAAiBvI,IAAI,4BAA4BwD,IACvD,MAAM,YAAE4D,GAAgB5P,KAAK42H,mBACvBC,EAAkB5pH,EAAO+C,SAAS5E,IAAI,oBACtCqH,EAAW,IAAI,EAAAC,gBAAgB1G,GACrCyG,EAAStB,WAAWE,IAAI,CACpBC,MAAOm6B,IAEX,MAAM94B,EAAW,IAAI,EAAAC,oBAAoB5G,GACzC2G,EAAStB,IAAI,CACTgB,UAAW3B,EAAE,YACbmC,KAAM,SAEV,IAAK,MAAM5H,KAAc2E,EAAa,CAClC,GAAuB,UAAnB3E,EAAWb,KAAkB,CAC7BuI,EAASS,MAAM5K,IAAI,IAAI,EAAAuuH,kBAAkB/qH,IACzC,QACJ,CACA,MAAM8G,EAAe,IAAI,EAAAC,wBAAwB/G,EAAQyG,GACnDtB,EAAa,IAAI,EAAA6B,8BAA8BhH,GACrDmF,EAAWE,IAAI,CACXwB,KAAM,gBACNpB,cAAc,IAElBN,EAAWzJ,QAAQrF,OAAOyD,KAAKmF,EAAWmC,QAAQsE,GAAGzG,EAAWmC,OAChE+D,EAAW8B,SAAS,WAAWvB,GAAGe,GAClCK,EAAaK,SAAS3K,IAAI2I,GAC1BwB,EAASS,MAAM5K,IAAIsK,EACvB,CAUA,OATAL,EAAS/K,KAAK,aAAagK,GAAGmlH,EAAiB,aAC/CpkH,EAASY,UAAUF,SAAS3K,IAAImK,GAChCF,EAASS,GAAG,WAAW0N,IACnBi2G,EAAgBlpH,QAAQ,CACpBuoH,aAAct1G,EAAIld,OAAOwyH,aACzBC,cAAev1G,EAAIld,OAAOyyH,gBAE9BlpH,EAAO2E,QAAQtC,KAAKuC,OAAO,IAExBY,CAAQ,GAEvB,CAIA,gBAAAmkH,GACI,MAAM3pH,EAASjN,KAAKiN,OACds+B,EAAkB,IAAI,EAAAK,WACtBxY,EAAS,CAAC,EACVyjG,EAAkB5pH,EAAO+C,SAAS5E,IAAI,oBACtCxG,EAAUqI,EAAO0B,OAAOvD,IAAI,6BAE5B4rH,GAActmH,EADVzD,EAAOjB,OAAO0E,GACF,mBAEtB66B,EAAgB/iC,IAAI,CAChB4B,KAAM,SACNgD,MAAO,IAAI,EAAA0+B,UAAU,CACjBx6B,MAAO0lH,EACPd,cAAc,EACdnqF,UAAU,MAGlBR,EAAgB/iC,IAAI,CAChB4B,KAAM,cAEV,IAAK,MAAMwB,KAAUhH,EAAS,CAC1B,MAAM8+B,EAAM,CACRt5B,KAAM,SACNgD,MAAO,IAAI,EAAA0+B,UAAU,CACjBx6B,MAAO1F,EAAOiiB,MACdqoG,aAActqH,EAAOsqH,aACrBrjH,KAAM,gBACNsjH,cAAevqH,EAAOuqH,cACtBpqF,UAAU,KAGZpI,EAAWsyF,GAA2BrqH,EAAOsqH,aAActqH,EAAOuqH,eACxEzyF,EAAIt2B,MAAM1F,KAAK,QAAQgK,GAAGmlH,EAAiB,SAAS90H,GAASA,IAAU4hC,IACvE4H,EAAgB/iC,IAAIk7B,GACpBtQ,EAAOuQ,GAAY/3B,EAAOiiB,KAC9B,CACA,MAAO,CACHje,YAAa27B,EACbnY,SAER,EC5IW,MAAM6jG,WAAyB,EAAA1oH,OAI1C,mBAAWgF,GACP,MAAO,CAAC+iH,GAAyBK,GACrC,CAIA,qBAAWnoH,GACP,MAAO,kBACX,CAIA,2BAAWC,GACP,OAAO,CACX,EC5BW,MAAM,GACpB,WAAAjM,GAQCxC,KAAKouD,aAAe,IAAI/T,GACzB,CASA,UAAI15C,GACH,OAAOX,KAAKouD,aAAav5C,IAC1B,CAQA,GAAArM,CAAKtI,GACCe,MAAME,QAASjB,GACnBA,EAAK6F,SAAS7F,GAAQF,KAAKouD,aAAa5lD,IAAKtI,KAE7CF,KAAKouD,aAAa5lD,IAAKtI,EAEzB,CAQA,aAAAgkE,GACC,OAAO/iD,IACNA,EAAWjO,GAAI,sBAAsB,CAAE0N,EAAKtd,EAAMud,KAKjD,IAAMA,EAAcC,WAAWne,KAAMW,EAAKpD,KAAM,sBAC/C,OAED,MAAMohB,EAAaT,EAAc/S,OAC3Bq2D,EAAgB7iD,EAAWtd,SAASqJ,UAE1C,IAAM,MAAMnN,KAAQF,KAAKouD,aAAe,CACvC,MAAMp5C,EAAcsM,EAAWw7B,uBAAwB,IAAK58C,EAAK0F,WAAY,CAC5E+U,SAAU,IAEX2G,EAAW5I,kBAAmB,UAAU,EAAM1D,GACzC9U,EAAK8f,SAAU1c,EAAK4d,mBACnB5d,EAAKpD,KAAKyV,GAAI,aAClB2L,EAAW2X,KAAMkrC,EAAclqD,gBAAiBjF,GAEhDsM,EAAW2X,KAAMpY,EAAcG,OAAOy6B,YAAan4C,EAAKohB,OAAS1P,GAGlEsM,EAAWmX,OAAQ5X,EAAcG,OAAOy6B,YAAan4C,EAAKohB,OAAS1P,EAErE,IACE,CAAE2F,SAAU,QAAU,CAE3B,CASA,6BAAAu8G,GACC,OAAO/1G,IACNA,EAAWjO,GAAI,4BAA4B,CAAE0N,EAAKtd,EAAMud,KACvD,MAAMwjD,EAAaxjD,EAAcG,OAAOC,cAAe3d,EAAKpD,MACtDi3H,EAAgBl2H,MAAMyB,KAAM2hE,EAAWx9C,eAAgBsL,MAAM2H,GAAwB,MAAfA,EAAMr3B,OAElF,IAAM,MAAMvC,KAAQF,KAAKouD,aAAe,CACvC,MAAMxoD,GAAa,IAAA2+D,OAAOrkE,EAAK0F,YAE/B,GAAK1F,EAAK8f,SAAU1c,EAAK4d,mBACxB,IAAM,MAAQlb,EAAKw+D,KAAS5+D,EACd,UAARI,EACJ6a,EAAc/S,OAAOoX,SAAUs/C,EAAK2yD,GAEpCt2G,EAAc/S,OAAO7H,aAAcD,EAAKw+D,EAAK2yD,QAI/C,IAAM,MAAQnxH,EAAKw+D,KAAS5+D,EACd,UAARI,EACJ6a,EAAc/S,OAAOqX,YAAaq/C,EAAK2yD,GAEvCt2G,EAAc/S,OAAO1G,gBAAiBpB,EAAKmxH,EAI/C,IACE,CAEL,EClHD,MAAM,GAAwB,8DACxBC,GAAW,kEAGX,GAAgB,oFAIhB,GAAmB,2BAKZ,GAAiB,SAqBvB,SAASC,GAAqB13H,GAAI,OAAEmO,IAE1C,MAAMwpH,EAAgBxpH,EAAOgvC,uBAAwB,IAAK,CAAEn9C,MAAM,CAAEgb,SAAU,IAI9E,OAHA7M,EAAOoX,SAAS,YAAaoyG,GAC7BxpH,EAAO4K,kBAAmB,UAAU,EAAM4+G,GAEnCA,CACR,CAoHO,SAASv/G,GAAgB7D,EAAS9F,GACxC,QAAM8F,GAICA,EAAQyB,GAAI,UAAW,UAAavH,EAAOC,eAAgB,QAAS,WAC5E,CAwBO,SAASkpH,GAA+BrzF,EAAQyhC,GACtD,MAAMC,GAjBkB7jE,EAiBEmiC,EAhBnB,GAAcvhC,KAAMZ,GAgBU,UAAY4jE,GAjB3C,IAAkB5jE,EAkBxB,MAAM8jE,IAAqBD,IAAa,GAAiBjjE,KAAMuhC,GAE/D,OAAOA,GAAU2hC,EAAmBD,EAAW1hC,EAASA,CACzD,CCtLe,MAAMszF,WAAsB,EAAAzqH,QAS1C,WAAAvK,CAAayK,GACZyB,MAAOzB,GAWPjN,KAAK2mE,iBAAmB,IAAI,EAAA/6B,WAS5B5rC,KAAK4mE,oBAAsB,IAAI,EAChC,CAKA,4BAAAC,GACC,IAAM,MAAMC,KAAmB9mE,KAAK2mE,iBACnCG,EAAgB/kE,MAAQ/B,KAAK+mE,4BAA6BD,EAAgBnnE,GAE5E,CAKA,OAAAqN,GACC,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBQ,EAAMR,EAAMpJ,SAEZ2T,GAAkB,IAAAxK,OAAOS,EAAIP,UAAUC,qBAIxCyK,GAAgBJ,EAAiBvK,EAAMgB,SAC3CpO,KAAK+B,MAAQ4V,EAAgBjK,aAAc,YAC3C1N,KAAKuN,UAAYH,EAAMgB,OAAOC,eAAgBsJ,EAAiB,cAE/D3X,KAAK+B,MAAQ6L,EAAIP,UAAUK,aAAc,YACzC1N,KAAKuN,UAAYH,EAAMgB,OAAOwsB,0BAA2BhtB,EAAIP,UAAW,aAGzE,IAAM,MAAMy5D,KAAmB9mE,KAAK2mE,iBACnCG,EAAgB/kE,MAAQ/B,KAAK+mE,4BAA6BD,EAAgBnnE,GAE5E,CA8DA,OAAAgO,CAAShO,EAAIqnE,EAAqB,CAAC,GAClC,MAAM55D,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAE3B45D,EAAyB,GACzBC,EAAwB,GAE9B,IAAM,MAAMzkE,KAAQukE,EACdA,EAAoBvkE,GACxBwkE,EAAuBxnE,KAAMgD,GAE7BykE,EAAsBznE,KAAMgD,GAI9B2K,EAAMS,QAAQC,IAEb,GAAKT,EAAU2mB,YAAc,CAC5B,MAAMvU,EAAWpS,EAAUkK,mBAG3B,GAAKlK,EAAUI,aAAc,YAAe,CAE3C,MAAMgqH,GAAc,IAAAnwD,oBAAoB7nD,EAAU,WAAYpS,EAAUK,aAAc,YAAcN,GAEpGU,EAAO7H,aAAc,WAAYtG,EAAI83H,GAErCxwD,EAAuBlhE,SAAS7F,IAC/B4N,EAAO7H,aAAc/F,GAAM,EAAMu3H,EAAa,IAG/CvwD,EAAsBnhE,SAAS7F,IAC9B4N,EAAO1G,gBAAiBlH,EAAMu3H,EAAa,IAI5C3pH,EAAO0I,aAAc1I,EAAOyU,oBAAqBk1G,EAAYl9G,IAAIoqB,YAClE,MAIK,GAAY,KAAPhlC,EAAY,CACrB,MAAMiG,GAAa,IAAA2+D,OAAOl3D,EAAU8I,iBACpCvQ,EAAWyL,IAAI,WAAY1R,GAE3BsnE,EAAuBlhE,SAAS7F,IAC/B0F,EAAWyL,IAAKnR,GAAM,EAAM,IAG7B,MAAQqa,IAAKue,GAAkB1rB,EAAM44B,cAAel4B,EAAOnI,cAAe,SAAUC,GAAc6Z,GAIlG3R,EAAO0I,aAAcsiB,EACtB,CAIA,CAAE,cAAemuC,KAA2BC,GAAwBnhE,SAAS7F,IAC5E4N,EAAO6pB,yBAA0Bz3B,EAAM,GAEzC,MAAO,GAA6C,WAAzCmN,EAAUmK,sBAAsB/U,KAAmB,CAE7D,MAAMyhC,EAASp2B,EAAOnI,cAAc,SAAU,CAC7C+xH,SAAU/3H,IAEXyN,EAAMmJ,aAAa2tB,EAAQ,KAAM,KAAM,CAAE1tB,aAAc,MACxD,KAAO,CAGN,MAAMgjB,EAASpsB,EAAMgB,OAAOspB,eAAgBrqB,EAAU0mB,YAAa,YAG7DyzC,EAAgB,GAEtB,IAAM,MAAMtzD,KAAW7G,EAAUC,oBAC3BF,EAAMgB,OAAOC,eAAgB6F,EAAS,aAC1CszD,EAAc/nE,KAAMqO,EAAO0W,cAAetQ,IAK5C,MAAMuzD,EAAiBD,EAAcjlE,QAIrC,IAAM,MAAMmiB,KAAS8U,EACfx5B,KAAK0nE,iBAAkBhjD,EAAO8iD,IAClCC,EAAehoE,KAAMilB,GAIvB,IAAM,MAAMA,KAAS+iD,EACpB35D,EAAO7H,aAAc,WAAYtG,EAAI+kB,GAErCuiD,EAAuBlhE,SAAS7F,IAC/B4N,EAAO7H,aAAc/F,GAAM,EAAMwkB,EAAO,IAGzCwiD,EAAsBnhE,SAAS7F,IAC9B4N,EAAO1G,gBAAiBlH,EAAMwkB,EAAO,GAGxC,IAEF,CASA,2BAAAqiD,CAA6BY,GAC5B,MAAMv6D,EAAQpN,KAAKiN,OAAOG,MACpBQ,EAAMR,EAAMpJ,SAEZ2T,GAAkB,IAAAxK,OAAOS,EAAIP,UAAUC,qBAI7C,OAAKyK,GAAgBJ,EAAiBvK,EAAMgB,QACpCuJ,EAAgBjK,aAAci6D,GAG/B/5D,EAAIP,UAAUK,aAAci6D,EACpC,CAUA,gBAAAD,CAAkBhjD,EAAO8iD,GACxB,IAAM,MAAMI,KAAgBJ,EAE3B,GAAKI,EAAarzC,cAAe7P,GAChC,OAAO,EAIT,OAAO,CACR,ECnRc,MAAMizG,WAAwB,EAAA5qH,QAI5C,OAAAC,GACC,MAAMI,EAAQpN,KAAKiN,OAAOG,MACpBQ,EAAMR,EAAMpJ,SAEZ2T,GAAkB,IAAAxK,OAAOS,EAAIP,UAAUC,qBAIxCyK,GAAgBJ,EAAiBvK,EAAMgB,QAC3CpO,KAAKuN,UAAYH,EAAMgB,OAAOC,eAAgBsJ,EAAiB,YAE/D3X,KAAKuN,UAAYH,EAAMgB,OAAOwsB,0BAA2BhtB,EAAIP,UAAW,WAE1E,CAeA,OAAAM,GACC,MAAMV,EAASjN,KAAKiN,OACdG,EAAQpN,KAAKiN,OAAOG,MACpBC,EAAYD,EAAMpJ,SAASqJ,UAC3BuqH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UAE3CgC,EAAMS,QAAQC,IAEb,MAAM+pH,EAAmBxqH,EAAU2mB,YAClC,EAAE,IAAAszC,oBACDj6D,EAAUkK,mBACV,WACAlK,EAAUK,aAAc,YACxBN,IAEDA,EAAMgB,OAAOspB,eAAgBrqB,EAAU0mB,YAAa,YAGrD,IAAM,MAAMrP,KAASmzG,EAGpB,GAFA/pH,EAAO1G,gBAAiB,WAAYsd,GAE/BkzG,EACJ,IAAM,MAAM9wD,KAAmB8wD,EAAcjxD,iBAC5C74D,EAAO1G,gBAAiB0/D,EAAgBnnE,GAAI+kB,GAMF,WAAzCrX,EAAUmK,sBAAsB/U,MACnC2K,EAAM+4B,cAAc94B,EACrB,GAEF,ECjEc,MAAM,GAYpB,WAAA7K,EAAa,GAAE7C,EAAE,MAAE2R,EAAK,WAAE1L,EAAU,aAAEuiE,IAMrCnoE,KAAKL,GAAKA,EAQVK,KAAKqR,IAAK,SAOVrR,KAAKmoE,aAAeA,EAOpBnoE,KAAKsR,MAAQA,EAQbtR,KAAK4F,WAAaA,CACnB,ECnDc,SAAS0hE,GAAmB7nD,EAAUrJ,EAAerU,EAAOqL,GACvE,OAAOA,EAAMyoB,YAAYqpE,GAAwBz/E,EAAUrJ,EAAerU,GAAO,EAAMqL,GAAQ8xF,GAAwBz/E,EAAUrJ,EAAerU,GAAO,EAAOqL,GAClK,CAWO,SAAS8xF,GAAwBz/E,EAAUrJ,EAAerU,EAAOi9F,EAAU5xF,GAG9E,IAAIiO,EAAOoE,EAASukB,WAAag7D,EAAWv/E,EAASklB,WAAallB,EAASoN,WACvEirG,EAAW,KACf,KAAOz8G,GAAQA,EAAK3N,aAAa0I,IAAkBrU,GAC/C+1H,EAAWz8G,EACXA,EAAO2jF,EAAW3jF,EAAKif,gBAAkBjf,EAAK+d,YAElD,OAAO0+F,EAAW1qH,EAAMwnB,iBAAiBkjG,EAAU94B,EAAW,SAAW,SAAWv/E,CACxF,CCpBA,IAAIs4G,IFmDJ,IAAAC,KAAK,GAAiB,EAAAjlF,iBEjDtB,IACIglF,GAAY,CAAE7zH,cAAQF,kBAC1B,CACA,MAAOM,GAOHyzH,GAAY,CAAE7zH,OAAQ,CAAC,EAAGF,SAAU,CAAC,EACzC,CC3BA,MAiCasmE,GAA2B2tD,KAgKxC,SAASA,KACL,MAAM3tD,EAAW,CACb4tD,OAAQ,GACRC,SAAU,GACVC,UAAW,GACXC,QAAS,GACTC,WAAY,GACZC,UAAW,GACXC,UAAW,EACXr+D,OAAQ,GACRoQ,MAAO,GACPkuD,MAAO,GACPC,IAAK,GACLC,IAAK,EAGLC,KAAM,QACN90F,MAAO,QACPotD,IAAK,QACL2nC,IAAK,SAGT,IAAK,IAAI5xF,EAAO,GAAIA,GAAQ,GAAIA,IAE5BqjC,EADe/wD,OAAOs4E,aAAa5qD,GACnBx9B,eAAiBw9B,EAGrC,IAAK,IAAIA,EAAO,GAAIA,GAAQ,GAAIA,IAC5BqjC,EAASrjC,EAAO,IAAMA,EAG1B,IAAK,IAAIA,EAAO,IAAKA,GAAQ,IAAKA,IAC9BqjC,EAAS,KAAOrjC,EAAO,MAAQA,EAgBnC,OAbA5kC,OAAO69C,OAAOoqB,EAAU,CACpB,IAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,IAAK,IACL,IAAK,MAEFA,CACX,gBChPa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ/hE,OCoBvB,MACM,GAAsB,YAEtB,GAAwB,kBAUf,MAAMuwH,WAAsB,EAAAvqH,OAI1C,qBAAWC,GACV,MAAO,eACR,CAKA,mBAAW+E,GAEV,MAAO,CAAE,EAAAsoB,qBAAsB,EAAA0sC,MAAO,EAAA9uD,UACvC,CAKA,WAAAjX,CAAayK,GACZyB,MAAOzB,GAEPA,EAAO0B,OAAOC,OAAQ,SAAU,CAC/BmqH,4BAA4B,GAE9B,CAKA,IAAAlqH,GACC,MAAM5B,EAASjN,KAAKiN,OAGpBA,EAAOG,MAAMgB,OAAOY,OAAQ,QAAS,CAAEC,gBAAiB,aACxDhC,EAAOG,MAAMgB,OAAOuX,SAAS,SAAU,CACtCyF,eAAgB,gBAChBuc,WAAY,gBACZqxF,iBAAkB,gBAClB/pH,gBAAiB,CAAE,QAAS,KAAM,WAAY,UAG/ChC,EAAOmC,WAAWK,IAAK,gBACrBwrB,mBAAoB,CACpB7tB,MAAO,CACN3K,KAAM,QACNuD,IAAK,YAENsJ,KAAM+nH,KAERpqH,EAAOmC,WAAWK,IAAI,gBAAgBsW,iBAAiB,CACtD3Y,MAAO,SACPkC,KAAM,CAACm1E,EAAWnjE,IRnCd,SAAmC3hB,GAAI,OAAEmO,IAC/C,IAAIwpH,EAAgB,KAMpB,OALAA,EAAgBxpH,EAAO4F,mBAAoB,IAAK,CAAE/T,OAElDmO,EAAOoX,SAAS,YAAaoyG,GAC7BxpH,EAAO4K,kBAAmB,UAAU,EAAM4+G,GAEnCA,CACR,CQ4BW2B,CAA0Bx0C,EAAU/2E,aAAa,YAAa4T,KAIvErU,EAAOmC,WAAWK,IAAK,mBACrBwrB,mBAAoB,CAAE7tB,MAAO,WAAYkC,KAAM,CAAE3P,EAAIkhB,KACrD,OAAIlhB,EACI03H,IRRmBnyD,EQQiBvlE,ERChD,SAAoBulE,GAGnB,OAFsBA,EAAI9mC,QAAS,GAAuB,IAErC7iB,MAAO67G,GAC7B,CAVQ,CAFPlyD,EAAM3rD,OAAQ2rD,IAEYA,EAAM,KQKqBrkD,GAG1C,KRXL,IAAwBqkD,CQY3B,IAEFj4D,EAAOmC,WAAWK,IAAI,mBAAmBsW,iBAAiB,CACzD3Y,MAAO,SACPkC,KAAM,CAACm1E,EAAWnjE,IRlCd,SAA8Co2G,GAAU,OAAE5pH,IAChE,MAAMwpH,EAAgBxpH,EAAO2F,uBAAuB,OAAQ,CAC3DlB,MAAO,yBACL,CAACzE,EAAOi4B,WAAW,sBAAsB2xF,QAC5C,OAAO,IAAA/+G,UAAS2+G,EAAexpH,EAChC,CQ8BWorH,CAAqCz0C,EAAU/2E,aAAa,YAAa4T,KAIlFrU,EAAOmC,WAAWK,IAAK,UACrBquC,mBAAoB,CACpBxuC,KAAM,CACL7M,KAAM,IACNmD,WAAY,CACXjG,IAAI,IAGNyN,MAAO,CACNpH,IAAK,WACLjE,MAAOiT,IACN,KAAIA,EAAYyU,WAAa,GAIzBzU,EAAYvH,aAAa,SAI7B,OAAOuH,EAAYtH,aAAc,KAAM,KAK3CT,EAAOmC,WAAWK,IAAK,UACrBquC,mBAAoB,CACpBxuC,KAAM,CACL7M,KAAM,IACNmD,WAAY,CACXnD,MAAM,IAGR2K,MAAO,CACNpH,IAAK,WACLjE,MAAOiT,IACN,KAAIA,EAAYyU,WAAa,GAI7B,OAAOzU,EAAYtH,aAAc,OAAQ,KAK7CT,EAAOmC,WAAWK,IAAK,UACrBsW,iBAAkB,CAClBzW,KAAM,CACL7M,KAAM,IACNmD,WAAY,CACXjG,IAAI,IAGNyN,MAAO,CAAE4H,GAAelH,aACvB,KAAIkH,EAAYyU,WAAa,GAI7B,OAAO3b,EAAOnI,cAAe,SAAU,CAAE+xH,SAAU1iH,EAAYtH,aAAa,OAAS,IAIxFT,EAAOmC,WAAWK,IAAK,UACrBsW,iBAAkB,CAClBzW,KAAM,CACL7M,KAAM,IACNmD,WAAY,CACXnD,MAAM,IAGR2K,MAAO,CAAE4H,GAAelH,aACvB,KAAIkH,EAAYyU,WAAa,GAI7B,OAAO3b,EAAOnI,cAAe,SAAU,CAAE+xH,SAAU1iH,EAAYtH,aAAa,SAAW,IAK1FT,EAAO+C,SAASxH,IAAK,SAAU,IAAIgvH,GAAevqH,IAClDA,EAAO+C,SAASxH,IAAK,WAAY,IAAImvH,GAAiB1qH,IAEtD,MAAMksH,ER3ED,SAAiCzoH,EAAGi4D,GAC1C,MAAMC,EAA4B,CAAC,EASnC,OAPAD,EAAW5iE,SAAS8iE,IACdA,EAAUv3D,OAASs3D,EAA2BC,EAAUv3D,SAC5Du3D,EAAUv3D,MAAQs3D,EAA2BC,EAAUv3D,QAEjDu3D,KAGDF,CACR,CQgE2B,CAAwB17D,EAAOyD,ERvDnD,SAA8Bi4D,GACpC,MAAMI,EAAW,GAEjB,GAAKJ,EACJ,IAAM,MAAQ3iE,EAAKjE,KAAWM,OAAO+gD,QAASulB,GAAe,CAC5D,MAAME,EAAYxmE,OAAO69C,OACxB,CAAC,EACDn+C,EACA,CAAEpC,GAAI,SAAU,GAAYqG,OAE7B+iE,EAAStpE,KAAMopE,EAChB,CAGD,OAAOE,CACR,CQwC6D,CAAqB97D,EAAO0B,OAAOvD,IAAK,uBAEnGpL,KAAKipE,2BAA4BkwD,EAAiB3yH,QAAQtG,GAAQA,EAAKgpE,OAAS,MAChFlpE,KAAKmpE,wBAAyBgwD,EAAiB3yH,QAAQtG,GAzKhC,WAyKwCA,EAAKgpE,QAGjCj8D,EAAO8G,QAAQ3I,IAAK,EAAAywB,sBAC5BC,kBAAmB,aAG9C,IAAAC,iBAAiB9uB,EAAQ,WAAY,IAlLf,sBAqLtBjN,KAAKo5H,+CAGLp5H,KAAKq5H,6BAGLr5H,KAAKs5H,0BAGLt5H,KAAKu5H,kCAELtsH,EAAO2E,QAAQoP,OAAO9N,GACrB,uBACA,IAAAsmH,wCAAwCvsH,EAAOG,OAAO4H,GAAeA,EAAYY,SAAU,2BAE7F,CAcA,0BAAAqzD,CAA4BM,GAC3B,MAAMt8D,EAASjN,KAAKiN,OAId25D,EADU35D,EAAO+C,SAAS5E,IAAK,UACDw7D,oBAG/B35D,EAAO0B,OAAOvD,IAAK,sCACvBw7D,EAAoBp+D,IAAK,CACxB7I,GAAI,mBACJupE,KAAM,GACNlpD,SAAUklD,GAAO,GAAsBviE,KAAMuiE,GAC7Ct/D,WAAY,CACX9B,OAAQ,SACR0lE,IAAK,yBAKR5C,EAAoBp+D,IAAK+gE,GAEpB3C,EAAoBjmE,QACxBsM,EAAOmC,WAAWK,IAAK,YAAajH,IAAKo+D,EAAoB1C,gBAE/D,CAcA,uBAAAiF,CAAyBM,GACxB,IAAMA,EAA2B9oE,OAChC,OAGD,MAAMsM,EAASjN,KAAKiN,OAEd05D,EADU15D,EAAO+C,SAAS5E,IAAK,UACJu7D,iBAEjC8C,EAA2B1jE,SAAS8iE,IACnC57D,EAAOG,MAAMgB,OAAOY,OAAQ,QAAS,CAAEC,gBAAiB45D,EAAUlpE,KAGlEgnE,EAAiBn+D,IAAK,IAAI,GAAiBqgE,IAE3C57D,EAAOmC,WAAWK,IAAK,YAAawrB,mBAAoB,CACvD7tB,MAAOy7D,EAAUlpE,GACjB2P,KAAM,CAAEmqH,GAAuB3rH,aAC9B,GAAK2rH,EAAsB,CAC1B,MAAM7zH,EAAa+gE,EAAiBv7D,IAAKy9D,EAAUlpE,IAAKiG,WAClDsO,EAAUpG,EAAOgvC,uBAAwB,IAAKl3C,EAAY,CAAE+U,SAAU,IAG5E,OAFA7M,EAAO4K,kBAAmB,UAAU,EAAMxE,GAEnCA,CACR,KAGFjH,EAAOmC,WAAWK,IAAK,UAAWquC,mBAAoB,CACrDxuC,KAAM,CACL7M,KAAM,IACNmD,WAAY+gE,EAAiBv7D,IAAKy9D,EAAUlpE,IAAKiG,YAElDwH,MAAO,CACNpH,IAAK6iE,EAAUlpE,KAEd,GAEL,CAaA,4CAAAy5H,GACC,MAAMnsH,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfC,EAAYD,EAAMpJ,SAASqJ,UAC3BuqH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UAE3CpL,KAAK2R,SAAUvE,EAAO,iBAAiB,KACtC,MAAMu3B,EAAat3B,EAAU62B,OAAOS,WAC9B9X,EAAYxf,EAAU62B,OAAOrX,UAW7Bxf,EAAUI,aAAc,aAexBk3B,GAiBAA,EAAWl3B,aAAc,cAkB1Bof,GAAaA,EAAUpf,aAAc,aAI1CL,EAAMS,QAAQC,IACb4rH,GAAqC5rH,EAAQ8pH,EAAcjxD,iBAAkB,IAC3E,GACD,CAAEhsD,SAAU,OAChB,CAaA,0BAAA0+G,GACC,MAAMpsH,EAASjN,KAAKiN,OACd2qH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UAE3C6B,EAAO2E,QAAQtC,KAAKsT,YAAa,EAAA+2G,eAEjC,IAAIC,GAAU,EAGd55H,KAAK2R,SAAU1E,EAAO2E,QAAQtC,KAAKtL,SAAU,aAAa,KACzD41H,GAAU,CAAI,IAIf55H,KAAK2R,SAAU1E,EAAO2E,QAAQtC,KAAKtL,SAAU,mBAAmB,KAC/D,IAAM41H,EACL,OAIDA,GAAU,EAEV,MAAMvsH,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UAGxC,IAAMA,EAAU2mB,YACf,OAID,IAAM3mB,EAAUI,aAAc,YAC7B,OAGD,MAAMgS,EAAWpS,EAAUkK,mBACrBkgH,EAAcnwD,GAAoB7nD,EAAU,WAAYpS,EAAUK,aAAc,YAAcT,EAAOG,QAItGqS,EAASs8C,WAAY07D,EAAYx/G,QAAWwH,EAASs8C,WAAY07D,EAAYl9G,OACjFtN,EAAOG,MAAMS,QAAQC,IACpB4rH,GAAqC5rH,EAAQ8pH,EAAcjxD,iBAAkB,GAE/E,GAEF,CAYA,uBAAA2yD,GACC,MAAMrsH,EAASjN,KAAKiN,OACdqC,EAAOrC,EAAO2E,QAAQtC,KAG5B,IAAI8L,EAGAy+G,EAGJ75H,KAAK2R,SAAUrC,EAAKtL,SAAU,UAAU,KACvC61H,GAAiB,CAAI,GACnB,CAAEl/G,SAAU,SAIf3a,KAAK2R,SAAU1E,EAAOG,MAAO,iBAAiB,KAC7C,MAAMC,EAAYJ,EAAOG,MAAMpJ,SAASqJ,UAGnCA,EAAU2mB,cAKV6lG,EACJA,GAAiB,EAMZzpD,GAAUnjE,IA6HnB,SAA+BG,GAC9B,MAAMC,EAAYD,EAAMpJ,SAASqJ,UAC3BuuD,EAAgBvuD,EAAUkK,mBAC1BskD,EAAexuD,EAAU2sB,kBACzB8/F,EAAsBl+D,EAAc/uC,UAG1C,IAAMitG,EACL,OAAO,EAIR,IAAMA,EAAoBnkH,GAAI,SAC7B,OAAO,EAIR,IAAMmkH,EAAoBrsH,aAAc,YACvC,OAAO,EAQR,OAAKqsH,KAHsBj+D,EAAa73B,UAAY63B,EAAal3B,aAS7C2iC,GAAoB1L,EAAe,WAAYk+D,EAAoBpsH,aAAc,YAAcN,GAGhGmnB,cAAennB,EAAMyoB,YAAa+lC,EAAeC,IAAgB,EACrF,CA7JQk+D,CAAsB9sH,EAAOG,SACjCgO,EAAsB/N,EAAU8I,iBACjC,GACE,CAAEwE,SAAU,SAIf3a,KAAK2R,SAAU1E,EAAOG,MAAO,iBAAiB,CAAEwT,GAAO1M,MACtD2lH,GAAiB,EAGXzpD,GAAUnjE,IAIVmO,IAINnO,EAAOG,MAAMS,QAAQC,IACpB,IAAM,MAAQ4b,EAAW3nB,KAAWqZ,EACnCtN,EAAO7H,aAAcyjB,EAAW3nB,EAAOmS,EACxC,IAGDkH,EAAsB,KAAI,GACxB,CAAET,SAAU,QAChB,CAgBA,+BAAA4+G,GACC,MAAMtsH,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACfC,EAAYD,EAAMpJ,SAASqJ,UAC3BiC,EAAOrC,EAAO2E,QAAQtC,KACtBsoH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UAG3C,IAAI4uH,GAA2B,EAG3BC,GAAsB,EAG1Bj6H,KAAK2R,SAAUrC,EAAKtL,SAAU,UAAU,CAAE4c,EAAKtd,KAC9C22H,EAAsB32H,EAAKqe,SAAS0oD,UAAYC,GAASkuD,SAAS,GAChE,CAAE79G,SAAU,SAIf3a,KAAK2R,SAAUvE,EAAO,iBAAiB,KAEtC4sH,GAA2B,EAE3B,MAAMv6G,EAAWpS,EAAUkK,mBACrBmgH,EAAWrqH,EAAUK,aAAc,YAEzC,IAAMgqH,EACL,OAGD,MAAMD,EAAcnwD,GAAoB7nD,EAAU,WAAYi4G,EAAUtqH,GAIxE4sH,EAA2BvC,EAAYyC,iBAAkBz6G,IAAcg4G,EAAYl9G,IAAIia,QAAS/U,EAAU,GACxG,CAAE9E,SAAU,SAGf3a,KAAK2R,SAAUvE,EAAO,iBAAiB,KAEhC6sH,IAINA,GAAsB,EAGjBD,GAKL/sH,EAAOG,MAAM4J,eAAelJ,IAC3B4rH,GAAqC5rH,EAAQ8pH,EAAcjxD,iBAAkB,IAC3E,GACD,CAAEhsD,SAAU,OAChB,EASD,SAAS++G,GAAqC5rH,EAAQ64D,GACrD74D,EAAO6pB,yBAA0B,YAEjC,IAAM,MAAMkxC,KAAalC,EACxB74D,EAAO6pB,yBAA0BkxC,EAAUlpE,GAE7C,CAgDA,SAASywE,GAAUnjE,GAElB,OADqBA,EAAOG,MAAMS,QAAQC,GAAUA,EAAOmJ,QACvCm5D,QACrB,CCzqBA,eCQa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ7nE,OCwBR,MAAM4xH,WAAuB,EAAAj+G,KAU3C,WAAA1Z,CAAawJ,EAAQ4rH,GACpBlpH,MAAO1C,GAEP,MAAM0E,EAAI1E,EAAO0E,EAQjB1Q,KAAKmc,aAAe,IAAI,EAAAC,aAQxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBAOtBtc,KAAKgrE,aAAehrE,KAAKirE,kBAOzBjrE,KAAKyc,eAAiBzc,KAAKgR,cAAeN,EAAG,QF/E/C,8OE+EoE,kBAClE1Q,KAAKyc,eAAerS,KAAO,SAO3BpK,KAAK2c,iBAAmB3c,KAAKgR,cAAeN,EAAG,UCvFjD,wRDuFyE,mBAAoB,UAW3F1Q,KAAKkrE,yBAA2BlrE,KAAKmrE,+BAAgCysD,GAQrE53H,KAAKmT,SAAWnT,KAAKorE,oBAAqBwsD,EAAcjxD,kBASxD3mE,KAAK6c,YAAc,IAAI,EAAAC,eASvB9c,KAAK+c,aAAe,IAAI,EAAAC,YAAa,CACpCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAERC,cAAe,cAGfC,UAAW,SAIb,MAAMguD,EAAY,CAAE,KAAM,iBAAkB,sBAEvCusD,EAAcjxD,iBAAiBhmE,QACnC0qE,EAAU5rE,KAAM,iCAAkC,oBAGnDO,KAAKsd,YAAa,CACjBC,IAAK,OAEL3X,WAAY,CACX2M,MAAO84D,EAGP7tD,SAAU,MAGXrK,SAAUnT,KAAKmT,YAGhB,IAAAinH,6BAA6Bp6H,KAC9B,CAUA,yBAAAsrE,GACC,OAAOrqE,MAAMyB,KAAM1C,KAAKkrE,0BAA2Bv1C,QAAQ,CAAEk1B,EAAa0gB,KACzE1gB,EAAa0gB,EAAa9oE,MAAS8oE,EAAax4C,KACzC83B,IACL,CAAC,EACL,CAKA,MAAAptC,GACC/O,MAAM+O,UAEN,IAAAC,eAAe,CACdpO,KAAMtP,OAGY,CAClBA,KAAKgrE,gBACFhrE,KAAKkrE,yBACRlrE,KAAKyc,eACLzc,KAAK2c,kBAGK5W,SAAS4X,IAEnB3d,KAAK6c,YAAYrU,IAAKmV,GAGtB3d,KAAKmc,aAAa3T,IAAKmV,EAAEzJ,QAAS,IAInClU,KAAKqc,WAAW1K,SAAU3R,KAAKkU,QAChC,CAKA,KAAArC,GACC7R,KAAK+c,aAAa4K,YACnB,CAQA,eAAAsjD,GACC,MAAMv6D,EAAI1Q,KAAKgM,OAAO0E,EAChB6L,EAAe,IAAI,EAAAuB,iBAAkB9d,KAAKgM,OAAQ,EAAA+R,wBAIxD,OAFAxB,EAAajL,MAAQZ,EAAG,eAEjB6L,CACR,CAYA,aAAAvL,CAAeM,EAAOC,EAAM/E,EAAWoR,GACtC,MAAMC,EAAS,IAAI,EAAAzM,WAAYpR,KAAKgM,QAkBpC,OAhBA6R,EAAOxM,IAAK,CACXC,QACAC,OACAC,SAAS,IAGVqM,EAAOvL,eAAgB,CACtB1M,WAAY,CACX2M,MAAO/F,KAIJoR,GACJC,EAAO5K,SAAU,WAAYvB,GAAI1R,KAAM4d,GAGjCC,CACR,CAUA,8BAAAstD,CAAgCysD,GAC/B,MAAMhsD,EAAW5rE,KAAKunB,mBAEtB,IAAM,MAAMu/C,KAAmB8wD,EAAcjxD,iBAAmB,CAC/D,MAAM4E,EAAe,IAAI,EAAA17B,iBAAkB7vC,KAAKgM,QAEhDu/D,EAAal6D,IAAK,CACjB5O,KAAMqkE,EAAgBnnE,GACtB2R,MAAOw1D,EAAgBx1D,MACvBy6B,UAAU,IAGXw/B,EAAa7jE,KAAM,QAASmhB,OAAQ,CAAEi+C,EAAiB8wD,GAAiB,SAAS,CAAE/rD,EAAgBvO,SAC1E1yD,IAAjB0yD,QAAiD1yD,IAAnBihE,EAA+B/E,EAAgBqB,aAAe0D,IAGpGN,EAAar4D,GAAI,WAAW,KAC3B4zD,EAAgBz1D,IAAK,SAAUk6D,EAAax4C,KAAM,IAGnD64C,EAASpjE,IAAK+iE,EACf,CAEA,OAAOK,CACR,CAcA,mBAAAR,CAAqBzE,GACpB,MAAMxzD,EAAWnT,KAAKunB,mBAItB,GAFApU,EAAS3K,IAAKxI,KAAKgrE,cAEdrE,EAAiBhmE,OAAS,CAC9B,MAAMmrE,EAAwB,IAAI,EAAA5vD,KAElC4vD,EAAsBxuD,YAAa,CAClCC,IAAK,KACLpK,SAAUnT,KAAKkrE,yBAAyBjrE,KAAKsrE,IAAgB,CAC5DhuD,IAAK,KACLpK,SAAU,CAAEo4D,GACZ3lE,WAAY,CACX2M,MAAO,CACN,KACA,sBAIH3M,WAAY,CACX2M,MAAO,CACN,KACA,WACA,cAIHY,EAAS3K,IAAKsjE,EACf,CAKA,OAHA34D,EAAS3K,IAAKxI,KAAKyc,gBACnBtJ,EAAS3K,IAAKxI,KAAK2c,kBAEZxJ,CACR,EElVD,cCQa,IAAI,KALH,CAAC,WAAa,oBAAoB,WAAa,CAAC,YAAW,GAEzE,OAAiB,OACjB,WAAoB,IAML,KAAQ5K,OCiBR,MAAM8xH,WAA0B,EAAAn+G,KAI9C,WAAA1Z,CAAawJ,GACZ0C,MAAO1C,GAEP,MAAM0E,EAAI1E,EAAO0E,EAQjB1Q,KAAKmc,aAAe,IAAI,EAAAC,aAQxBpc,KAAKqc,WAAa,IAAI,EAAAC,iBAOtBtc,KAAKs6H,mBAAqBt6H,KAAKgR,cAAeN,EAAG,YF3DnD,0xDE2D+E,YAO7E1Q,KAAK8gE,eAAiB9gE,KAAKgR,cAAeN,EAAG,eAAiB,EAAAP,MAAMwxD,OAAQ,QAS5E3hE,KAAK6c,YAAc,IAAI,EAAAC,eASvB9c,KAAK+c,aAAe,IAAI,EAAAC,YAAa,CACpCC,WAAYjd,KAAK6c,YACjBV,aAAcnc,KAAKmc,aACnBe,iBAAkBld,KAAKqc,WACvBc,QAAS,CAERC,cAAe,cAGfC,UAAW,SAIbrd,KAAKsd,YAAa,CACjBC,IAAK,MAEL3X,WAAY,CACX2M,MAAO,CACN,KACA,oBACA,sBAIDiL,SAAU,MAGXrK,SAAU,CACTnT,KAAK8gE,eACL9gE,KAAKs6H,qBAGR,CAKA,MAAA78G,GACC/O,MAAM+O,SAEa,CAClBzd,KAAK8gE,eACL9gE,KAAKs6H,oBAGKv0H,SAAS4X,IAEnB3d,KAAK6c,YAAYrU,IAAKmV,GAGtB3d,KAAKmc,aAAa3T,IAAKmV,EAAEzJ,QAAS,IAInClU,KAAKqc,WAAW1K,SAAU3R,KAAKkU,QAChC,CAKA,KAAArC,GACC7R,KAAK+c,aAAa4K,YACnB,CAWA,aAAA3W,CAAeM,EAAOC,EAAMqM,GAC3B,MAAMC,EAAS,IAAI,EAAAzM,WAAYpR,KAAKgM,QAUpC,OARA6R,EAAOxM,IAAK,CACXC,QACAC,OACAC,SAAS,IAGVqM,EAAO5K,SAAU,WAAYvB,GAAI1R,KAAM4d,GAEhCC,CACR,EClJD,MAAM,GAA+B,YAUtB,MAAM08G,WAAiB,EAAAhsH,OAIrC,mBAAWgF,GACV,MAAO,CAAE,EAAAsL,kBACV,CAKA,qBAAWrQ,GACV,MAAO,UACR,CAKA,IAAAK,GACC,MAAM5B,EAASjN,KAAKiN,OAEpBA,EAAO2E,QAAQtC,KAAKsT,YAAa,EAAA4pD,eAOjCxsE,KAAKusE,YAAcvsE,KAAK6sE,qBAOxB7sE,KAAKmwC,SAAWnwC,KAAK2wC,kBAQrB3wC,KAAKmf,SAAWlS,EAAO8G,QAAQ3I,IAAK,EAAAyT,mBAGpC7e,KAAKw6H,6BAGLx6H,KAAK8sE,iCAGL7/D,EAAOmC,WAAWK,IAAK,mBAAoBssC,kBAAmB,CAC7D3uC,MAAO,GACPkC,KAAM,CACLwI,QAAS,CAAE,+BAKb7K,EAAOmC,WAAWK,IAAK,mBAAoBwrD,gBAAiB,CAC3D7tD,MAAO,GACPkC,KAAM,CACL7M,KAAM,OACNqV,QAAS,CAAE,2BAA4B,wCAG1C,CAKA,OAAAqB,GACCzK,MAAMyK,UAGNnZ,KAAKmwC,SAASh3B,SACf,CAQA,kBAAA0zD,GACC,MAAM5/D,EAASjN,KAAKiN,OACds/D,EAAc,IAAI8tD,GAAmBptH,EAAOjB,QAC5C4rH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UACrCqvH,EAAkBxtH,EAAO+C,SAAS5E,IAAK,YA6B7C,OA3BAmhE,EAAY7kE,KAAM,MAAOgK,GAAIkmH,EAAe,SAC5CrrD,EAAYzL,eAAep5D,KAAM,aAAcgK,GAAIkmH,GACnDrrD,EAAY+tD,mBAAmB5yH,KAAM,aAAcgK,GAAI+oH,GAGvDz6H,KAAK2R,SAAU46D,EAAa,QAAQ,KACnCvsE,KAAKgtE,cAAc,IAIpBhtE,KAAK2R,SAAU46D,EAAa,YAAY,KACvCt/D,EAAOU,QAAS,YAChB3N,KAAKitE,SAAS,IAIfV,EAAYlwD,WAAWhL,IAAK,OAAO,CAAE/N,EAAMsZ,KAC1C5c,KAAKitE,UACLrwD,GAAQ,IAIT2vD,EAAYlwD,WAAWhL,IAAK,IAAgB,CAAE/N,EAAMsZ,KACnD5c,KAAKgtE,eACLpwD,GAAQ,IAGF2vD,CACR,CAQA,eAAA57B,GACC,MAAM1jC,EAASjN,KAAKiN,OACd2qH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UACrCu6D,EAAkB14D,EAAO0B,OAAOvD,IAAK,0BAErC+kC,EAAW,IAAIgqF,GAAgBltH,EAAOjB,OAAQ4rH,GA2BpD,OAzBAznF,EAAS66B,aAAa3rD,UAAU3X,KAAM,SAAUgK,GAAIkmH,EAAe,SAGnEznF,EAAS66B,aAAatjE,KAAM,cAAegK,GAAIkmH,EAAe,aAAa71H,IAAUA,IACrFouC,EAAS1zB,eAAe/U,KAAM,aAAcgK,GAAIkmH,GAGhD53H,KAAK2R,SAAUw+B,EAAU,UAAU,KAClC,MAAM,MAAEpuC,GAAUouC,EAAS66B,aAAa3rD,UAAUnL,QAC5Ci5D,EAAYoqD,GAA+Bx1H,EAAO4jE,GACxD14D,EAAOU,QAAS,SAAUw/D,EAAWh9B,EAASm7B,6BAC9CtrE,KAAKotE,gBAAgB,IAItBptE,KAAK2R,SAAUw+B,EAAU,UAAU,KAClCnwC,KAAKotE,gBAAgB,IAItBj9B,EAAS9zB,WAAWhL,IAAK,OAAO,CAAE/N,EAAMsZ,KACvC5c,KAAKotE,iBACLxwD,GAAQ,IAGFuzB,CACR,CAQA,0BAAAqqF,GACC,MAAMvtH,EAASjN,KAAKiN,OACd2qH,EAAgB3qH,EAAO+C,SAAS5E,IAAK,UACrCsF,EAAIzD,EAAOyD,EAGjBzD,EAAOoP,WAAWhL,IAAK,IAAgB,CAAEk8D,EAAY3wD,KAEpDA,IAEKg7G,EAAcrqH,WAClBvN,KAAKqtE,SAAS,EACf,IAGDpgE,EAAO6D,GAAGC,iBAAiBvI,IAAK,UAAUwD,IACzC,MAAM6R,EAAS,IAAI,EAAAzM,WAAYpF,GAgB/B,OAdA6R,EAAOtQ,WAAY,EACnBsQ,EAAOvM,MAAQZ,EAAG,UAClBmN,EAAOtM,KC7NV,sgCD8NGsM,EAAOmZ,UAAY,GACnBnZ,EAAOrM,SAAU,EACjBqM,EAAOpM,cAAe,EAGtBoM,EAAOnW,KAAM,aAAcgK,GAAIkmH,EAAe,aAC9C/5G,EAAOnW,KAAM,QAASgK,GAAIkmH,EAAe,SAAS71H,KAAWA,IAG7D/B,KAAK2R,SAAUkM,EAAQ,WAAW,IAAM7d,KAAKqtE,SAAS,KAE/CxvD,CAAM,GAEf,CAQA,8BAAAivD,GACC,MAAM5tD,EAAelf,KAAKiN,OAAO2E,QAAQtC,KAAKtL,SAI9ChE,KAAK2R,SAAUuN,EAAc,SAAS,KAChBlf,KAAK06H,6BAIzB16H,KAAKqtE,SACN,IAIDrtE,KAAKiN,OAAOoP,WAAWhL,IAAK,OAAO,CAAE/N,EAAMsZ,KACrC5c,KAAKwtE,qBAAuBxtE,KAAKusE,YAAYpwD,aAAamE,YAC9DtgB,KAAKusE,YAAY16D,QACjB+K,IACD,GACE,CAIFjC,SAAU,SAIX3a,KAAKiN,OAAOoP,WAAWhL,IAAK,OAAO,CAAE/N,EAAMsZ,KACrC5c,KAAKytE,eACTztE,KAAKitE,UACLrwD,IACD,KAID,IAAAgD,qBAAqB,CACpBC,QAAS7f,KAAKmwC,SACdrwB,UAAW,IAAM9f,KAAK0tE,aACtB3tD,gBAAiB,CAAE/f,KAAKmf,SAAS7P,KAAK4E,SACtC8L,SAAU,IAAMhgB,KAAKitE,WAEvB,CAOA,eAAAU,GACM3tE,KAAK4tE,oBAIV5tE,KAAKmf,SAAS3W,IAAK,CAClB8G,KAAMtP,KAAKusE,YACX9sD,SAAUzf,KAAK6tE,2BAEjB,CAOA,YAAAb,GACC,GAAKhtE,KAAK8tE,eACT,OAGD,MACM8pD,EADS53H,KAAKiN,OACS+C,SAAS5E,IAAK,UAE3CpL,KAAKmwC,SAASlwB,wBAEdjgB,KAAKmf,SAAS3W,IAAK,CAClB8G,KAAMtP,KAAKmwC,SACX1wB,SAAUzf,KAAK6tE,4BAIX7tE,KAAKmf,SAASoB,cAAgBvgB,KAAKmwC,UACvCnwC,KAAKmwC,SAAS66B,aAAa3rD,UAAUc,SAGtCngB,KAAKmwC,SAAS/vB,uBAQdpgB,KAAKmwC,SAAS66B,aAAa3rD,UAAUnL,QAAQnS,MAAQ61H,EAAc71H,OAAS,EAC7E,CAWA,cAAAqrE,GACC,MAAMwqD,EAAgB53H,KAAKiN,OAAO+C,SAAS5E,IAAK,UAIhDwsH,EAAc/wD,oCAEej8D,IAAxBgtH,EAAc71H,MAClB/B,KAAK+tE,kBAEL/tE,KAAKitE,SAEP,CAOA,eAAAc,GACM/tE,KAAK8tE,iBAGT9tE,KAAKmwC,SAAS1zB,eAAe5K,QAE7B7R,KAAKmf,SAASxY,OAAQ3G,KAAKmwC,UAI3BnwC,KAAKiN,OAAO2E,QAAQtC,KAAKuC,QAEzB7R,KAAKguE,2BAEP,CAQA,OAAAX,CAASY,GAAe,GAEjBjuE,KAAK06H,6BAiBL16H,KAAKwtE,mBACTxtE,KAAKgtE,eAILhtE,KAAK2tE,kBAIDM,GACJjuE,KAAKmf,SAAS+uD,UAAW,UAxB1BluE,KAAKmuE,2BAELnuE,KAAK2tE,kBAGAM,GACJjuE,KAAKmf,SAAS+uD,UAAW,QAG1BluE,KAAKgtE,gBAoBNhtE,KAAKouE,kBACN,CASA,OAAAnB,GACC,IAAMjtE,KAAK0tE,aACV,OAGD,MAAMzgE,EAASjN,KAAKiN,OAEpBjN,KAAKoX,cAAenK,EAAO6D,GAAI,UAC/B9Q,KAAKoX,cAAepX,KAAKmf,SAAU,sBAInClS,EAAO2E,QAAQtC,KAAKuC,QAGpB7R,KAAK+tE,kBAGL/tE,KAAKmf,SAASxY,OAAQ3G,KAAKusE,aAE3BvsE,KAAKguE,0BACN,CAUA,gBAAAI,GACC,MAAMnhE,EAASjN,KAAKiN,OACdiS,EAAejS,EAAO2E,QAAQtC,KAAKtL,SAEzC,IAAI22H,EAAqB36H,KAAK06H,4BAC1BpsD,EAAsBC,IAE1B,MAAM/mE,EAAS,KACd,MAAMozH,EAAiB56H,KAAK06H,4BACtBjsD,EAAkBF,IAYjBosD,IAAuBC,IAC1BD,GAAsBlsD,IAAoBH,EAC7CtuE,KAAKitE,UAMIjtE,KAAKytE,cAIdztE,KAAKmf,SAASO,eAAgB1f,KAAK6tE,2BAGpC8sD,EAAqBC,EACrBtsD,EAAsBG,CAAe,EAGtC,SAASF,IACR,OAAOrvD,EAAa7R,UAAUwE,MAAMwG,eAClC8d,UACAhE,MAAM9W,GAAQA,EAAK1F,GAAI,YAC1B,CAEA3V,KAAK2R,SAAU1E,EAAO6D,GAAI,SAAUtJ,GACpCxH,KAAK2R,SAAU3R,KAAKmf,SAAU,qBAAsB3X,EACrD,CASA,kBAAIsmE,GACH,OAAO9tE,KAAKmf,SAASqB,QAASxgB,KAAKmwC,SACpC,CASA,sBAAIy9B,GACH,OAAO5tE,KAAKmf,SAASqB,QAASxgB,KAAKusE,YACpC,CAUA,sBAAIiB,GACH,OAAOxtE,KAAKmf,SAASoB,cAAgBvgB,KAAKusE,WAC3C,CASA,gBAAImB,GACH,OAAO1tE,KAAK8tE,gBAAkB9tE,KAAK4tE,kBACpC,CAUA,gBAAIH,GAGH,OAFoBztE,KAAKmf,SAASoB,aAEZvgB,KAAKmwC,UAAYnwC,KAAKwtE,kBAC7C,CAYA,uBAAAK,GACC,MAAMv+D,EAAOtP,KAAKiN,OAAO2E,QAAQtC,KAC3BlC,EAAQpN,KAAKiN,OAAOG,MACpB8R,EAAe5P,EAAKtL,SAC1B,IAAIF,EAAS,KAEb,GAAKsJ,EAAM6W,QAAQhQ,IAAK,IAAiC,CAExD,MAAMy6D,EAAqBztE,MAAMyB,KAAM1C,KAAKiN,OAAO2E,QAAQoP,OAAO2tD,qBAAsB,KAClF/zB,EAAWtrC,EAAKumB,YACrBvmB,EAAKqpB,qBAAsB+1C,EAAoB,IAC/Cp/D,EAAKiT,oBAAqBmsD,EAAoBA,EAAmB/tE,OAAS,KAG3EmD,EAASwL,EAAK4O,aAAay9B,eAAgBf,EAC5C,KAAO,CACN,MAAMigF,EAAe76H,KAAK06H,4BACpBh2G,EAAQxF,EAAa7R,UAAU4M,gBAErCnW,EAAS+2H,EAERvrH,EAAK4O,aAAaC,aAAc08G,GAEhCvrH,EAAK4O,aAAay9B,eAAgBj3B,EACpC,CAEA,MAAO,CAAE5gB,SACV,CAaA,yBAAA42H,GACC,MAAMprH,EAAOtP,KAAKiN,OAAO2E,QAAQtC,KAC3BjC,EAAYiC,EAAKtL,SAASqJ,UAEhC,GAAKA,EAAU2mB,YACd,OAAO8mG,GAA2BztH,EAAUkK,oBACtC,CAGN,MAAMmN,EAAQrX,EAAU4M,gBAAgB60D,aAClCisD,EAAcD,GAA2Bp2G,EAAMzM,OAC/C+iH,EAAYF,GAA2Bp2G,EAAMnK,KAEnD,OAAMwgH,GAAeA,GAAeC,GAK/B1rH,EAAK4J,cAAe6hH,GAAcjsD,aAAat6C,QAAS9P,GACrDq2G,EALA,IAST,CACD,CASA,wBAAA5sD,GACC,MAAM/gE,EAAQpN,KAAKiN,OAAOG,MAE1BA,EAAMS,QAAQC,IACb,MAAM4W,EAAQtX,EAAMpJ,SAASqJ,UAAU4M,gBAEvC,GAAK7M,EAAM6W,QAAQhQ,IAAK,IACvBnG,EAAO8W,aAAc,GAA8B,CAAEF,eAErD,GAAKA,EAAMzM,MAAMugB,QAAU,CAC1B,MACMyiG,EAAiBC,GAAmBx2G,EAD5BtX,EAAMpJ,SAASqJ,UAAUwE,MACiB/D,GAExDA,EAAO0oC,UAAW,GAA8B,CAC/CC,gBAAgB,EAChB3E,aAAa,EACbptB,MAAOu2G,GAET,MACCntH,EAAO0oC,UAAW,GAA8B,CAC/CC,gBAAgB,EAChB3E,aAAa,EACbptB,SAGH,GAEF,CAOA,wBAAAspD,GACC,MAAM5gE,EAAQpN,KAAKiN,OAAOG,MAErBA,EAAM6W,QAAQhQ,IAAK,KACvB7G,EAAMS,QAAQC,IACbA,EAAOslC,aAAc,GAA8B,GAGtD,EAQD,SAAS0nF,GAA2Br7G,GACnC,OAAOA,EAASpH,eAAe8Z,MAAM5Z,IAAY4iH,OhBlqBjB9/G,EgBkqBkC9C,GhBhqBtD5C,GAAG,uBAAyB0F,EAAKvC,kBAAmB,UAF1D,IAA0BuC,CgBkqB6C,GAC9E,CASA,SAAS6/G,GAAmBx2G,EAAO7S,EAAO/D,GACzC,MAAMstH,EAAgB,CAAE12G,EAAMzM,MAAMk7G,KAAM,GAAM,EAAG,GAC7CkI,EAAoBvtH,EAAOwtH,uBAAwB52G,EAAMzM,MAAMyD,KAAM0/G,EAAe,UACpFG,EAAYztH,EAAO+nB,YAAawlG,EAAmB32G,EAAMnK,KAG/D,OAAKghH,EAAUtjH,MAAMk7G,KAAM,GAAMzuG,EAAMnK,IAAI44G,KAAM,GACzCrlH,EAAO+nB,YAAahkB,GAGvBwpH,EAAkB9iG,WAAa8iG,EAAkB7iG,QAC9C0iG,GAAmBK,EAAW1pH,EAAO/D,GAGtCytH,CACR,CE9sBA,MAEM,GAAc,IAAIjiH,OAEvB,kBAac,MAAMkiH,WAAmB,EAAAjtH,OAIvC,qBAAWC,GACV,MAAO,YACR,CAKA,IAAAK,GACC,MACMxB,EADSrN,KAAKiN,OACKG,MAAMpJ,SAASqJ,UAExCA,EAAU6F,GAAI,gBAAgB,KAE7BlT,KAAKuN,WAAaF,EAAU62B,OAAOxtB,OAAOf,GAAI,UAAW,YAAa,IAGvE3V,KAAKqvE,uBACN,CAKA,SAAArsD,GACChjB,KAAKsvE,uBACLtvE,KAAKuvE,2BACN,CAOA,qBAAAF,GACC,MAAMpiE,EAASjN,KAAKiN,OAEd+iE,EAAU,IAAI,EAAAC,YAAahjE,EAAOG,OAAOgoB,IAE9C,IAmIH,SAAgCA,GAC/B,OAAOA,EAAKz0B,OA9L6B,GA8L6C,MAA5By0B,EAAMA,EAAKz0B,OAAS,IAA2C,MAA5By0B,EAAMA,EAAKz0B,OAAS,EAClH,CArIS,CAAuBy0B,GAC5B,OAID,MAAM8vC,EAAM,GAAiB9vC,EAAKV,OAAQ,EAAGU,EAAKz0B,OAAS,IAE3D,OAAKukE,EACG,CAAEA,YADV,CAEA,IAGD8K,EAAQ98D,GAAI,gBAAgB,CAAE0N,EAAKtd,KAClC,MAAM,MAAE2T,EAAK,MAAEyN,EAAK,IAAEwgD,GAAQ5hE,EAE9B,IAAM2T,EAAMm5D,SACX,OAGD,MAAMqrD,EAAY/2G,EAAMnK,IAAI+b,cAAe,GACrColG,EAAcD,EAAUnlG,cAAe4uC,EAAIvkE,QAE3C82H,EAAcxqH,EAAOG,MAAMyoB,YAAa6lG,EAAaD,GAE3Dz7H,KAAK27H,iBAAkBz2D,EAAKuyD,EAAa,IAG1CznD,EAAQtoE,KAAM,aAAcgK,GAAI1R,KACjC,CAOA,oBAAAsvE,GACC,MAAMriE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MACf6vD,EAAehwD,EAAO+C,SAAS5E,IAAK,SAEpC6xD,GAINA,EAAa/pD,GAAI,WAAW,KAC3B,MAAMuM,EAAWrS,EAAMpJ,SAASqJ,UAAUkK,mBAE1C,IAAMkI,EAAS/I,OAAO4jB,gBACrB,OAGD,MAAMk2C,EAAepjE,EAAM8L,cAAeuG,EAAS/I,OAAO4jB,iBAE1Dt6B,KAAK47H,gCAAiCprD,EAAc,GAEtD,CAOA,yBAAAjB,GACC,MAAMtiE,EAASjN,KAAKiN,OACdG,EAAQH,EAAOG,MAEfsjE,EAAoBzjE,EAAO+C,SAAS5E,IAAK,cAEzCslE,GAINA,EAAkBx9D,GAAI,WAAW,KAChC,MAAMuM,EAAWrS,EAAMpJ,SAASqJ,UAAUkK,mBAEpCi5D,EAAepjE,EAAMyoB,YAC1BzoB,EAAMwnB,iBAAkBnV,EAAS/I,OAAQ,GACzC+I,EAAS6W,cAAe,IAGzBt2B,KAAK47H,gCAAiCprD,EAAc,GAEtD,CAQA,+BAAAorD,CAAiCprD,GAChC,MAAMpjE,EAAQpN,KAAKiN,OAAOG,OACpB,KAAEgoB,EAAI,MAAE1Q,IAAU,IAAAisD,iBAAiBH,EAAcpjE,GAEjD83D,EAAM,GAAiB9vC,GAE7B,GAAK8vC,EAAM,CACV,MAAMuyD,EAAcrqH,EAAMyoB,YACzBnR,EAAMnK,IAAI+b,cAAe4uC,EAAIvkE,QAC7B+jB,EAAMnK,KAGPva,KAAK27H,iBAAkBz2D,EAAKuyD,EAC7B,CACD,CASA,gBAAAkE,CAAkBz3F,EAAQxf,GACzB,MAAMtX,EAAQpN,KAAKiN,OAAOG,MAEpBpN,KAAKuN,WAyBb,SAAiCmX,EAAOtX,GACvC,OAAOA,EAAMgB,OAAOwsB,0BAA2BxtB,EAAMkX,gBAAiBI,GAAS,WAChF,CA3B2Bm3G,CAAwBn3G,EAAOtX,IAKxDA,EAAM4J,eAAelJ,IACpB,MAAM63D,EAAkB3lE,KAAKiN,OAAO0B,OAAOvD,IAAK,0BAC1C+hE,EAAYoqD,GAA+BrzF,EAAQyhC,GAEzD73D,EAAO7H,aAAc,WAAYknE,EAAWzoD,EAAO,GAErD,EAQD,SAAS,GAAiB0Q,GACzB,MAAM7Z,EAAQ,GAAYkZ,KAAMW,GAEhC,OAAO7Z,EAAQA,EA1LW,GA0LmB,IAC9C,CC7Le,MAAMugH,WAAe,EAAAvtH,OAInC,mBAAWgF,GACV,MAAO,CAAEulH,GAAeyB,GAAUiB,GACnC,CAKA,qBAAWhtH,GACV,MAAO,QACR,gBClCDutH,GAAA,kBAAAz3H,CAAA,MAAAoM,EAAApM,EAAA,GAAAiH,EAAAlJ,OAAAC,UAAAF,EAAAmJ,EAAAD,eAAApJ,EAAAG,OAAA6I,gBAAA,SAAAwF,EAAApM,EAAAiH,GAAAmF,EAAApM,GAAAiH,EAAAxJ,KAAA,EAAAzB,EAAA,mBAAAe,OAAAA,OAAA,GAAA2J,EAAA1K,EAAAgB,UAAA,aAAA06H,EAAA17H,EAAA27H,eAAA,kBAAAC,EAAA57H,EAAAkL,aAAA,yBAAAoD,EAAA8B,EAAApM,EAAAiH,GAAA,OAAAlJ,OAAA6I,eAAAwF,EAAApM,EAAA,CAAAvC,MAAAwJ,EAAAJ,YAAA,EAAAgxH,cAAA,EAAAC,UAAA,IAAA1rH,EAAApM,EAAA,KAAAsK,EAAA,aAAA8B,GAAA9B,EAAA,SAAA8B,EAAApM,EAAAiH,GAAA,OAAAmF,EAAApM,GAAAiH,CAAA,WAAA0tB,EAAAvoB,EAAApM,EAAAiH,EAAAnJ,GAAA,IAAA9B,EAAAgE,GAAAA,EAAAhC,qBAAA+5H,EAAA/3H,EAAA+3H,EAAArxH,EAAA3I,OAAAiwB,OAAAhyB,EAAAgC,WAAA05H,EAAA,IAAAM,EAAAl6H,GAAA,WAAAF,EAAA8I,EAAA,WAAAjJ,MAAAw6H,EAAA7rH,EAAAnF,EAAAywH,KAAAhxH,CAAA,UAAAwxH,EAAA9rH,EAAApM,EAAAiH,GAAA,WAAAnB,KAAA,SAAA23B,IAAArxB,EAAA9O,KAAA0C,EAAAiH,GAAA,OAAAmF,GAAA,OAAAtG,KAAA,QAAA23B,IAAArxB,EAAA,EAAApM,EAAA20B,KAAAA,EAAA,IAAAwjG,EAAA,iBAAAC,EAAA,iBAAAvL,EAAA,YAAAD,EAAA,YAAAyL,EAAA,YAAAN,IAAA,UAAAO,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAAluH,EAAAkuH,EAAA9xH,GAAA,8BAAAD,EAAA1I,OAAA2/B,eAAArkB,EAAA5S,GAAAA,EAAAA,EAAAwE,EAAA,MAAAoO,GAAAA,IAAApS,GAAAnJ,EAAAR,KAAA+b,EAAA3S,KAAA8xH,EAAAn/G,GAAA,IAAAo/G,EAAAF,EAAAv6H,UAAA+5H,EAAA/5H,UAAAD,OAAAiwB,OAAAwqG,GAAA,SAAAE,EAAAtsH,GAAA,0BAAA3K,SAAA,SAAAzB,GAAAsK,EAAA8B,EAAApM,GAAA,SAAAoM,GAAA,YAAAusH,QAAA34H,EAAAoM,EAAA,gBAAAwsH,EAAAxsH,EAAApM,GAAA,SAAA64H,EAAA5xH,EAAArJ,EAAA5B,EAAA0K,GAAA,IAAAgxH,EAAAQ,EAAA9rH,EAAAnF,GAAAmF,EAAAxO,GAAA,aAAA85H,EAAA5xH,KAAA,KAAA8xH,EAAAF,EAAAj6F,IAAA06F,EAAAP,EAAAn6H,MAAA,OAAA06H,GAAA,UAAAW,GAAAX,IAAAr6H,EAAAR,KAAA66H,EAAA,WAAAn4H,EAAA++B,QAAAo5F,EAAAY,SAAA95F,MAAA,SAAA7yB,GAAAysH,EAAA,OAAAzsH,EAAApQ,EAAA0K,EAAA,aAAA0F,GAAAysH,EAAA,QAAAzsH,EAAApQ,EAAA0K,EAAA,IAAA1G,EAAA++B,QAAAo5F,GAAAl5F,MAAA,SAAA7yB,GAAAwrH,EAAAn6H,MAAA2O,EAAApQ,EAAA47H,EAAA,aAAAxrH,GAAA,OAAAysH,EAAA,QAAAzsH,EAAApQ,EAAA0K,EAAA,IAAAA,EAAAgxH,EAAAj6F,IAAA,KAAAx2B,EAAArJ,EAAA,gBAAAH,MAAA,SAAA2O,EAAAtO,GAAA,SAAAk7H,IAAA,WAAAh5H,GAAA,SAAAA,EAAAiH,GAAA4xH,EAAAzsH,EAAAtO,EAAAkC,EAAAiH,EAAA,WAAAA,EAAAA,EAAAA,EAAAg4B,KAAA+5F,EAAAA,GAAAA,GAAA,aAAAf,EAAAj4H,EAAAiH,EAAAnJ,GAAA,IAAAF,EAAAu6H,EAAA,gBAAAn8H,EAAA0K,GAAA,GAAA9I,IAAAivH,EAAA,UAAAhrH,MAAA,mCAAAjE,IAAAgvH,EAAA,cAAA5wH,EAAA,MAAA0K,EAAA,OAAAjJ,MAAA2O,EAAA5O,MAAA,OAAAM,EAAAglB,OAAA9mB,EAAA8B,EAAA2/B,IAAA/2B,IAAA,KAAAgxH,EAAA55H,EAAA6Q,SAAA,GAAA+oH,EAAA,KAAAE,EAAAqB,EAAAvB,EAAA55H,GAAA,GAAA85H,EAAA,IAAAA,IAAAS,EAAA,gBAAAT,CAAA,cAAA95H,EAAAglB,OAAAhlB,EAAAo7H,KAAAp7H,EAAAq7H,MAAAr7H,EAAA2/B,SAAA,aAAA3/B,EAAAglB,OAAA,IAAAllB,IAAAu6H,EAAA,MAAAv6H,EAAAgvH,EAAA9uH,EAAA2/B,IAAA3/B,EAAAs7H,kBAAAt7H,EAAA2/B,IAAA,gBAAA3/B,EAAAglB,QAAAhlB,EAAAu7H,OAAA,SAAAv7H,EAAA2/B,KAAA7/B,EAAAivH,EAAA,IAAA2L,EAAAN,EAAAl4H,EAAAiH,EAAAnJ,GAAA,cAAA06H,EAAA1yH,KAAA,IAAAlI,EAAAE,EAAAN,KAAAovH,EAAAwL,EAAAI,EAAA/6F,MAAA46F,EAAA,gBAAA56H,MAAA+6H,EAAA/6F,IAAAjgC,KAAAM,EAAAN,KAAA,WAAAg7H,EAAA1yH,OAAAlI,EAAAgvH,EAAA9uH,EAAAglB,OAAA,QAAAhlB,EAAA2/B,IAAA+6F,EAAA/6F,IAAA,YAAAw7F,EAAAj5H,EAAAiH,GAAA,IAAAnJ,EAAAmJ,EAAA6b,OAAAllB,EAAAoC,EAAAhD,SAAAc,GAAA,GAAAF,IAAAwO,EAAA,OAAAnF,EAAA0H,SAAA,eAAA7Q,GAAAkC,EAAAhD,SAAA,SAAAiK,EAAA6b,OAAA,SAAA7b,EAAAw2B,IAAArxB,EAAA6sH,EAAAj5H,EAAAiH,GAAA,UAAAA,EAAA6b,SAAA,WAAAhlB,IAAAmJ,EAAA6b,OAAA,QAAA7b,EAAAw2B,IAAA,IAAAl/B,UAAA,oCAAAT,EAAA,aAAAu6H,EAAA,IAAAr8H,EAAAk8H,EAAAt6H,EAAAoC,EAAAhD,SAAAiK,EAAAw2B,KAAA,aAAAzhC,EAAA8J,KAAA,OAAAmB,EAAA6b,OAAA,QAAA7b,EAAAw2B,IAAAzhC,EAAAyhC,IAAAx2B,EAAA0H,SAAA,KAAA0pH,EAAA,IAAA3xH,EAAA1K,EAAAyhC,IAAA,OAAA/2B,EAAAA,EAAAlJ,MAAAyJ,EAAAjH,EAAAs5H,YAAA5yH,EAAAjJ,MAAAwJ,EAAA1J,KAAAyC,EAAAu5H,QAAA,WAAAtyH,EAAA6b,SAAA7b,EAAA6b,OAAA,OAAA7b,EAAAw2B,IAAArxB,GAAAnF,EAAA0H,SAAA,KAAA0pH,GAAA3xH,GAAAO,EAAA6b,OAAA,QAAA7b,EAAAw2B,IAAA,IAAAl/B,UAAA,oCAAA0I,EAAA0H,SAAA,KAAA0pH,EAAA,UAAAmB,EAAAptH,GAAA,IAAApM,EAAA,CAAAy5H,OAAArtH,EAAA,SAAAA,IAAApM,EAAA05H,SAAAttH,EAAA,SAAAA,IAAApM,EAAA25H,WAAAvtH,EAAA,GAAApM,EAAA45H,SAAAxtH,EAAA,SAAAytH,WAAA1+H,KAAA6E,EAAA,UAAA85H,EAAA1tH,GAAA,IAAApM,EAAAoM,EAAA2tH,YAAA,GAAA/5H,EAAA8F,KAAA,gBAAA9F,EAAAy9B,IAAArxB,EAAA2tH,WAAA/5H,CAAA,UAAAg4H,EAAA5rH,GAAA,KAAAytH,WAAA,EAAAJ,OAAA,SAAArtH,EAAA3K,QAAA+3H,EAAA,WAAA7vF,OAAA,YAAA1+B,EAAAjL,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAAiH,EAAAjH,EAAA0G,GAAA,GAAAO,EAAA,OAAAA,EAAA3J,KAAA0C,GAAA,sBAAAA,EAAAzC,KAAA,OAAAyC,EAAA,IAAAs6C,MAAAt6C,EAAA3D,QAAA,KAAAuB,GAAA,EAAA5B,EAAA,SAAAuB,IAAA,OAAAK,EAAAoC,EAAA3D,QAAA,GAAAyB,EAAAR,KAAA0C,EAAApC,GAAA,OAAAL,EAAAE,MAAAuC,EAAApC,GAAAL,EAAAC,MAAA,EAAAD,EAAA,OAAAA,EAAAE,MAAA2O,EAAA7O,EAAAC,MAAA,EAAAD,CAAA,SAAAvB,EAAAuB,KAAAvB,CAAA,YAAAuC,UAAAu6H,GAAA94H,GAAA,2BAAAs4H,EAAAt6H,UAAAu6H,EAAA36H,EAAA66H,EAAA,eAAAh7H,MAAA86H,EAAAV,cAAA,IAAAj6H,EAAA26H,EAAA,eAAA96H,MAAA66H,EAAAT,cAAA,IAAAS,EAAA0B,YAAA1vH,EAAAiuH,EAAAX,EAAA,qBAAA53H,EAAAi6H,oBAAA,SAAA7tH,GAAA,IAAApM,EAAA,mBAAAoM,GAAAA,EAAAlO,YAAA,QAAA8B,IAAAA,IAAAs4H,GAAA,uBAAAt4H,EAAAg6H,aAAAh6H,EAAA7B,MAAA,EAAA6B,EAAAk6H,KAAA,SAAA9tH,GAAA,OAAArO,OAAAo8H,eAAAp8H,OAAAo8H,eAAA/tH,EAAAmsH,IAAAnsH,EAAAguH,UAAA7B,EAAAjuH,EAAA8B,EAAAwrH,EAAA,sBAAAxrH,EAAApO,UAAAD,OAAAiwB,OAAAyqG,GAAArsH,CAAA,EAAApM,EAAAq6H,MAAA,SAAAjuH,GAAA,OAAA2sH,QAAA3sH,EAAA,EAAAssH,EAAAE,EAAA56H,WAAAsM,EAAAsuH,EAAA56H,UAAA05H,GAAA,0BAAA13H,EAAA44H,cAAAA,EAAA54H,EAAAs6H,MAAA,SAAAluH,EAAAnF,EAAAnJ,EAAAF,EAAA5B,QAAA,IAAAA,IAAAA,EAAA8iC,SAAA,IAAAp4B,EAAA,IAAAkyH,EAAAjkG,EAAAvoB,EAAAnF,EAAAnJ,EAAAF,GAAA5B,GAAA,OAAAgE,EAAAi6H,oBAAAhzH,GAAAP,EAAAA,EAAAnJ,OAAA0hC,MAAA,SAAA7yB,GAAA,OAAAA,EAAA5O,KAAA4O,EAAA3O,MAAAiJ,EAAAnJ,MAAA,KAAAm7H,EAAAD,GAAAnuH,EAAAmuH,EAAAb,EAAA,aAAAttH,EAAAmuH,EAAA/xH,GAAA,0BAAA4D,EAAAmuH,EAAA,qDAAAz4H,EAAAwB,KAAA,SAAA4K,GAAA,IAAApM,EAAAjC,OAAAqO,GAAAnF,EAAA,WAAAnJ,KAAAkC,EAAAiH,EAAA9L,KAAA2C,GAAA,OAAAmJ,EAAA4qB,UAAA,SAAAt0B,IAAA,KAAA0J,EAAA5K,QAAA,KAAA+P,EAAAnF,EAAA+3C,MAAA,GAAA5yC,KAAApM,EAAA,OAAAzC,EAAAE,MAAA2O,EAAA7O,EAAAC,MAAA,EAAAD,CAAA,QAAAA,EAAAC,MAAA,EAAAD,CAAA,GAAAyC,EAAAiL,OAAAA,EAAA+sH,EAAAh6H,UAAA,CAAAE,YAAA85H,EAAAruF,MAAA,SAAA3pC,GAAA,QAAAwwG,KAAA,OAAAjzG,KAAA,OAAA27H,KAAA,KAAAC,MAAA/sH,EAAA,KAAA5O,MAAA,OAAAmR,SAAA,UAAAmU,OAAA,YAAA2a,IAAArxB,EAAA,KAAAytH,WAAAp4H,QAAAq4H,IAAA95H,EAAA,QAAAiH,KAAA,WAAAA,EAAAwsC,OAAA,IAAA31C,EAAAR,KAAA,KAAA2J,KAAAqzC,OAAArzC,EAAAhJ,MAAA,WAAAgJ,GAAAmF,EAAA,EAAAwpB,KAAA,gBAAAp4B,MAAA,MAAA4O,EAAA,KAAAytH,WAAA,GAAAE,WAAA,aAAA3tH,EAAAtG,KAAA,MAAAsG,EAAAqxB,IAAA,YAAA88F,IAAA,EAAAnB,kBAAA,SAAAp5H,GAAA,QAAAxC,KAAA,MAAAwC,EAAA,IAAAiH,EAAA,cAAA+lH,EAAAlvH,EAAAF,GAAA,OAAA8I,EAAAZ,KAAA,QAAAY,EAAA+2B,IAAAz9B,EAAAiH,EAAA1J,KAAAO,EAAAF,IAAAqJ,EAAA6b,OAAA,OAAA7b,EAAAw2B,IAAArxB,KAAAxO,CAAA,SAAAA,EAAA,KAAAi8H,WAAAx9H,OAAA,EAAAuB,GAAA,IAAAA,EAAA,KAAA5B,EAAA,KAAA69H,WAAAj8H,GAAA8I,EAAA1K,EAAA+9H,WAAA,YAAA/9H,EAAAy9H,OAAA,OAAAzM,EAAA,UAAAhxH,EAAAy9H,QAAA,KAAAjpB,KAAA,KAAAknB,EAAA55H,EAAAR,KAAAtB,EAAA,YAAA47H,EAAA95H,EAAAR,KAAAtB,EAAA,iBAAA07H,GAAAE,EAAA,SAAApnB,KAAAx0G,EAAA09H,SAAA,OAAA1M,EAAAhxH,EAAA09H,UAAA,WAAAlpB,KAAAx0G,EAAA29H,WAAA,OAAA3M,EAAAhxH,EAAA29H,WAAA,SAAAjC,GAAA,QAAAlnB,KAAAx0G,EAAA09H,SAAA,OAAA1M,EAAAhxH,EAAA09H,UAAA,YAAA9B,EAAA,UAAA/1H,MAAA,kDAAA2uG,KAAAx0G,EAAA29H,WAAA,OAAA3M,EAAAhxH,EAAA29H,WAAA,KAAAN,OAAA,SAAAjtH,EAAApM,GAAA,QAAAiH,EAAA,KAAA4yH,WAAAx9H,OAAA,EAAA4K,GAAA,IAAAA,EAAA,KAAArJ,EAAA,KAAAi8H,WAAA5yH,GAAA,GAAArJ,EAAA67H,QAAA,KAAAjpB,MAAA1yG,EAAAR,KAAAM,EAAA,oBAAA4yG,KAAA5yG,EAAA+7H,WAAA,KAAA39H,EAAA4B,EAAA,OAAA5B,IAAA,UAAAoQ,GAAA,aAAAA,IAAApQ,EAAAy9H,QAAAz5H,GAAAA,GAAAhE,EAAA29H,aAAA39H,EAAA,UAAA0K,EAAA1K,EAAAA,EAAA+9H,WAAA,UAAArzH,EAAAZ,KAAAsG,EAAA1F,EAAA+2B,IAAAz9B,EAAAhE,GAAA,KAAA8mB,OAAA,YAAAvlB,KAAAvB,EAAA29H,WAAAtB,GAAA,KAAAmC,SAAA9zH,EAAA,EAAA8zH,SAAA,SAAApuH,EAAApM,GAAA,aAAAoM,EAAAtG,KAAA,MAAAsG,EAAAqxB,IAAA,gBAAArxB,EAAAtG,MAAA,aAAAsG,EAAAtG,KAAA,KAAAvI,KAAA6O,EAAAqxB,IAAA,WAAArxB,EAAAtG,MAAA,KAAAy0H,KAAA,KAAA98F,IAAArxB,EAAAqxB,IAAA,KAAA3a,OAAA,cAAAvlB,KAAA,kBAAA6O,EAAAtG,MAAA9F,IAAA,KAAAzC,KAAAyC,GAAAq4H,CAAA,EAAAoC,OAAA,SAAAruH,GAAA,QAAApM,EAAA,KAAA65H,WAAAx9H,OAAA,EAAA2D,GAAA,IAAAA,EAAA,KAAAiH,EAAA,KAAA4yH,WAAA75H,GAAA,GAAAiH,EAAA0yH,aAAAvtH,EAAA,YAAAouH,SAAAvzH,EAAA8yH,WAAA9yH,EAAA2yH,UAAAE,EAAA7yH,GAAAoxH,CAAA,kBAAAjsH,GAAA,QAAApM,EAAA,KAAA65H,WAAAx9H,OAAA,EAAA2D,GAAA,IAAAA,EAAA,KAAAiH,EAAA,KAAA4yH,WAAA75H,GAAA,GAAAiH,EAAAwyH,SAAArtH,EAAA,KAAAtO,EAAAmJ,EAAA8yH,WAAA,aAAAj8H,EAAAgI,KAAA,KAAAlI,EAAAE,EAAA2/B,IAAAq8F,EAAA7yH,EAAA,QAAArJ,CAAA,YAAAiE,MAAA,0BAAA64H,cAAA,SAAA16H,EAAAiH,EAAAnJ,GAAA,YAAA6Q,SAAA,CAAA3R,SAAAiO,EAAAjL,GAAAs5H,WAAAryH,EAAAsyH,QAAAz7H,GAAA,cAAAglB,SAAA,KAAA2a,IAAArxB,GAAAisH,CAAA,GAAAr4H,CAAA,UAAA26H,GAAAC,EAAA77F,EAAA87F,EAAAC,EAAAC,EAAAr5H,EAAA+7B,GAAA,QAAA7S,EAAAgwG,EAAAl5H,GAAA+7B,GAAAhgC,EAAAmtB,EAAAntB,KAAA,OAAAq3D,GAAA,YAAA+lE,EAAA/lE,EAAA,CAAAlqC,EAAAptB,KAAAuhC,EAAAthC,GAAAqhC,QAAAC,QAAAthC,GAAAwhC,KAAA67F,EAAAC,EAAA,UAAAC,GAAAx+H,GAAA,gBAAAA,GAAA,GAAAG,MAAAE,QAAAL,GAAA,OAAAD,GAAAC,EAAA,CAAAy+H,CAAAz+H,IAAA,SAAA0+H,GAAA,uBAAAn+H,QAAA,MAAAm+H,EAAAn+H,OAAAC,WAAA,MAAAk+H,EAAA,qBAAAv+H,MAAAyB,KAAA88H,EAAA,CAAAC,CAAA3+H,IAAA8B,GAAA9B,IAAA,qBAAA+B,UAAA,wIAAA68H,EAAA,UAAAtC,GAAAl7H,GAAA,OAAAk7H,GAAA,mBAAA/7H,QAAA,iBAAAA,OAAAC,SAAA,SAAAY,GAAA,cAAAA,CAAA,WAAAA,GAAA,OAAAA,GAAA,mBAAAb,QAAAa,EAAAM,cAAAnB,QAAAa,IAAAb,OAAAiB,UAAA,gBAAAJ,CAAA,EAAAk7H,GAAAl7H,EAAA,UAAAy9H,GAAA7+H,EAAAR,GAAA,gBAAAQ,GAAA,GAAAG,MAAAE,QAAAL,GAAA,OAAAA,CAAA,CAAAM,CAAAN,IAAA,SAAAyK,EAAAmxH,GAAA,IAAAhsH,EAAA,MAAAnF,EAAA,yBAAAlK,QAAAkK,EAAAlK,OAAAC,WAAAiK,EAAA,uBAAAmF,EAAA,KAAApM,EAAAlC,EAAA9B,EAAA47H,EAAAlxH,EAAA,GAAAmmH,GAAA,EAAAjvH,GAAA,SAAA5B,GAAAoQ,EAAAA,EAAA9O,KAAA2J,IAAA1J,KAAA,IAAA66H,EAAA,IAAAr6H,OAAAqO,KAAAA,EAAA,OAAAygH,GAAA,cAAAA,GAAA7sH,EAAAhE,EAAAsB,KAAA8O,IAAA5O,QAAAkJ,EAAAvL,KAAA6E,EAAAvC,OAAAiJ,EAAArK,SAAA+7H,GAAAvL,GAAA,UAAA5lH,GAAArJ,GAAA,EAAAE,EAAAmJ,CAAA,iBAAA4lH,GAAA,MAAAzgH,EAAA,SAAAwrH,EAAAxrH,EAAA,SAAArO,OAAA65H,KAAAA,GAAA,kBAAAh6H,EAAA,MAAAE,CAAA,SAAA4I,CAAA,EAAA/I,CAAAnB,EAAAR,IAAAsC,GAAA9B,EAAAR,IAAA,qBAAAuC,UAAA,6IAAAC,EAAA,UAAAF,GAAAV,EAAAC,GAAA,GAAAD,EAAA,qBAAAA,EAAA,OAAArB,GAAAqB,EAAAC,GAAA,IAAAC,EAAAC,OAAAC,UAAAvC,SAAA6B,KAAAM,GAAAK,MAAA,uBAAAH,GAAAF,EAAAM,cAAAJ,EAAAF,EAAAM,YAAAC,MAAA,QAAAL,GAAA,QAAAA,EAAAnB,MAAAyB,KAAAR,GAAA,cAAAE,GAAA,2CAAAO,KAAAP,GAAAvB,GAAAqB,EAAAC,QAAA,YAAAtB,GAAAC,EAAAC,IAAA,MAAAA,GAAAA,EAAAD,EAAAH,UAAAI,EAAAD,EAAAH,QAAA,QAAAL,EAAA,EAAAU,EAAA,IAAAC,MAAAF,GAAAT,EAAAS,EAAAT,IAAAU,EAAAV,GAAAQ,EAAAR,GAAA,OAAAU,CAAA,CA8DA,IAAM4+H,GAAa,CACjBr1H,UAAUizD,UAAUT,UACpBxyD,UAAUs1H,UAAU1zF,UACpB74B,EACAwoH,GACAtiH,EACAsmH,GACAvpG,GACAkE,GACAiB,GACAO,GACA+P,GACA+zF,GACAC,GACA/zF,GACA+P,GACAkH,GACA2W,GACA6D,GACAU,GACAzD,GACAkH,GACA9qD,GACAmW,GACAqG,GACAC,GACA4uC,GACAqB,GACApnC,GACA4jG,GACAnuD,GACA8Y,GACAC,GACAa,GACAsI,GACAuC,GACAM,GACAp6D,GACA2iE,GACAviE,GACAI,GACAijG,GACA3S,GACApC,GACAsB,GACA9M,GACAhI,GACAsf,GACAkJ,GACA9iG,GACAqwF,GACAmB,GACAkG,GACAiB,GACApE,IAeIwO,GAAwB,SAAChtH,GAAK,OAClCA,EAAMnT,KAAI,SAACogI,GAAK,OAbW,SAACA,GAI5B,OAHKC,EAAEn/H,QAAQk/H,KACbA,EAAQ,CAACA,IAEJA,EAAMpgI,KAAI,SAACC,GAIhB,MAHoB,iBAATA,IACTA,EAAO,CAAC2d,OAAQ3d,IAEXA,CACT,GACF,CAGuBqgI,CAAqBF,EAAM,GAAC,EAEtCG,GAAeJ,GAAsB,CAChD,CAACviH,OAAQ,UAAW4iH,aAAc,WAClC,CAAC5iH,OAAQ,QAAS4iH,aAAc,SAChC,CAAC5iH,OAAQ,YAAa4iH,aAAc,aACpC,OACA,SACA,YACA,gBACA,YACA,cACA,OACA,OACA,SACA,mBACA,CAAC5iH,OAAQ,WAAY4iH,aAAc,YACnC,aACA,YACA,sBACA,cACA,aACA,YACA,aACA,cACA,YACA,eACA,eACA,WACA,CAAC,UAAW,UACZ,iBACA,YACA,eACA,YACA,iBACA,CAAC,OAAQ,QACT,kBAGIC,GAAkB,CACtB,CAAC3sH,QAAS,CAAC,aAAcmrG,QAAS,CAAC,cACnC,CAACnrG,QAAS,CAAC,UAAWmrG,QAAS,CAAC,WAChC,CACEnrG,QAAS,CACP,YACA,qBACA,QACA,eACA,aACA,eACA,iBACA,cACA,aAEFmrG,QAAS,CAAC,gBAEZ,CACEnrG,QAAS,CAAC,WAAY,cAAe,cAAe,aACpDmrG,QAAS,CAAC,SAEZ,CAACnrG,QAAS,CAAC,cAAemrG,QAAS,CAAC,eACpC,CAACnrG,QAAS,CAAC,QAASmrG,QAAS,CAAC,SAC9B,CAACnrG,QAAS,CAAC,QAASmrG,QAAS,CAAC,SAC9B,CAACnrG,QAAS,CAAC,aAAcmrG,QAAS,CAAC,cACnC,CACEnrG,QAAS,CAAC,OAAQ,kBAClBmrG,QAAS,CAAC,eAAgB,iBAE5B,CACEnrG,QAAS,CAAC,QACVmrG,QAAS,CAAC,WAAY,aAAc,YAAa,wBAEnD,CAACnrG,QAAS,CAAC,kBAAmBmrG,QAAS,CAAC,mBACxC,CAACnrG,QAAS,CAAC,WAAYmrG,QAAS,CAAC,YACjC,CAACnrG,QAAS,CAAC,kBAAmBmrG,QAAS,CAAC,mBACxC,CAACnrG,QAAS,CAAC,aAAcmrG,QAAS,CAAC,cACnC,CACEnrG,QAAS,CAAC,SAAU,eACpBmrG,QAAS,CAAC,UAAW,WAEvB,CAACnrG,QAAS,CAAC,UAAWmrG,QAAS,CAAC,WAChC,CACEnrG,QAAS,CAAC,aAAc,qBACxBmrG,QAAS,CAAC,eAEZ,CAACnrG,QAAS,CAAC,aAAcmrG,QAAS,CAAC,cACnC,CAACnrG,QAAS,CAAC,gBAAiBmrG,QAAS,CAAC,iBACtC,CAACnrG,QAAS,CAAC,iBAAkBmrG,QAAS,CAAC,kBACvC,CAACnrG,QAAS,CAAC,iBAAkBmrG,QAAS,CAAC,kBACvC,CAACnrG,QAAS,CAAC,SAAUmrG,QAAS,CAAC,UAC/B,CAACnrG,QAAS,CAAC,aAAcmrG,QAAS,CAAC,cACnC,CAACnrG,QAAS,CAAC,eAAgBmrG,QAAS,CAAC,gBACrC,CACEnrG,QAAS,CACP,QACA,eACA,sBACA,kBACA,eACA,WAEFmrG,QAAS,CAAC,gBAEZ,CAACnrG,QAAS,CAAC,oBAAqBmrG,QAAS,CAAC,qBAC1C,CAACnrG,QAAS,CAAC,YAAamrG,QAAS,CAAC,aAClC,CAACnrG,QAAS,CAAC,aAAcmrG,QAAS,CAAC,eAexByhB,GAAkB,SAACC,GAC1BA,EAAIC,aACND,EAAIC,YAAY96H,SAAQ,SAACyI,GACvB,IAAMqlB,EAfO,SAACrlB,GAClB,IAAK,IAAL5N,EAAA,EAAAkgI,EAAqBz+H,OAAO+gD,QAAQ74C,WAAU3J,EAAAkgI,EAAAngI,OAAAC,IAAE,CAA3C,IAAAmgI,EAAApB,GAAAmB,EAAAlgI,GAAA,GAAU+c,GAAFojH,EAAA,GAAGA,EAAA,IACd,GAAiB,WAAb3D,GAAOz/G,GACT,IAAK,IAALqjH,EAAA,EAAAC,EAAuB5+H,OAAO+gD,QAAQzlC,GAAEqjH,EAAAC,EAAAtgI,OAAAqgI,IAAE,CAArC,IAAAE,EAAAvB,GAAAsB,EAAAD,GAAA,GAAWG,GAAFD,EAAA,GAAIA,EAAA,IAChB,GAAkB,mBAAPC,GAAqBA,EAAG3yH,aAAeA,EAChD,OAAO2yH,CAEX,CAEJ,CACF,CAKqBC,CAAW5yH,GACrBqlB,EAML+rG,GAAWngI,KAAKo0B,GALdskE,QAAQC,KAAK,mBAADh4F,OACSoO,EAAU,+BAKnC,IAGEoyH,EAAIJ,eACNI,EAAIJ,aAAeJ,GAAsBQ,EAAIJ,cAC7CA,GAAa/gI,KAAI85C,MAAjBinF,GAAYlB,GAASsB,EAAIJ,gBAIzBI,EAAIC,aACJD,EAAIC,YAAYlgI,QAChBigI,EAAIJ,cACJI,EAAIJ,aAAa7/H,QAEjB+/H,GAAgBjhI,KAAK,CACnBsU,QAAS6sH,EAAIC,YACb3hB,QAAS0hB,EAAIJ,aACVvmB,OACAh6G,KAAI,SAACC,GAAI,OAAKA,EAAK2d,MAAM,IACzBo8F,QAGT,EAEMonB,GAA2B,SAAUp0H,GACzC,IAAMq0H,EAAgBr0H,EAAO8G,QAAQ3I,IAAIyrF,IACnC0qC,EAAiBjB,EAAErzH,EAAO6D,GAAGxB,KAAK4E,SAClCstH,EAAiBlB,EAAErzH,EAAOmyB,eAC1BqiG,EAAK,WAAHrhI,OAAc00C,KAAK29D,MAAsB,IAAhB39D,KAAK4sF,WAChC3oD,EAAS,CACb,WACA,QACA,SACA,QACA,OACA,QACA,YACA,WAEC94E,KAAI,SAACmK,GAAI,SAAAhK,OAAQgK,EAAI,KAAAhK,OAAIqhI,EAAE,IAC3BphI,KAAK,KAERihI,EAAcpuH,GAAG,8BAA8B,WAC7C,IAAMyuH,EAA0BJ,EAAepvG,KAC7C,2BAGF,GAAImvG,EAAcnqC,oBAAqB,CACrC,IAAIh3F,EAAUwhI,EAAwB7vE,KAAK,cAC3C6vE,EAAwBzuH,GAAG6lE,GAAQ,WAE/B54E,KAAaA,EAAUwhI,EAAwB7vE,KAAK,gBAEpD0vE,EAAeh9D,IAAIrkE,EAEvB,GACF,MACEwhI,EAAwBC,IAAI,IAADxhI,OAAKqhI,GAEpC,GACF,EAEMI,GAAmB,SAAU50H,EAAQ0B,GACzC,QAAuB/D,IAAnB+D,EAAOguD,QAAuB,CAChC,IAAImlE,EAAiBnzH,EAAOguD,QAAQ/3D,aAEgBgG,IAAhDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAgB,OAAXA,EAAEvvE,IAAa,KAC5CrC,EAAOoP,WAAWhL,IAAI,cAAc,kBAClCpE,EAAOU,QAAQ,UAAW,CAAC5L,MAAO,YAAY,SAIE6I,IAAhDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAgB,OAAXA,EAAEvvE,IAAa,KAC5CrC,EAAOoP,WAAWhL,IAAI,cAAc,kBAClCpE,EAAOU,QAAQ,UAAW,CAAC5L,MAAO,YAAY,SAIE6I,IAAhDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAgB,OAAXA,EAAEvvE,IAAa,KAC5CrC,EAAOoP,WAAWhL,IAAI,cAAc,kBAClCpE,EAAOU,QAAQ,UAAW,CAAC5L,MAAO,YAAY,SAIE6I,IAAhDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAgB,OAAXA,EAAEvvE,IAAa,KAC5CrC,EAAOoP,WAAWhL,IAAI,cAAc,kBAClCpE,EAAOU,QAAQ,UAAW,CAAC5L,MAAO,YAAY,SAIE6I,IAAhDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAgB,OAAXA,EAAEvvE,IAAa,KAC5CrC,EAAOoP,WAAWhL,IAAI,cAAc,kBAClCpE,EAAOU,QAAQ,UAAW,CAAC5L,MAAO,YAAY,SAIE6I,IAAhDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAgB,OAAXA,EAAEvvE,IAAa,KAC5CrC,EAAOoP,WAAWhL,IAAI,cAAc,kBAClCpE,EAAOU,QAAQ,UAAW,CAAC5L,MAAO,YAAY,SAIU6I,IAAxDk3H,EAAe3vG,MAAK,SAAC0sD,GAAC,MAAiB,cAAZA,EAAEzxE,KAAqB,KACpDH,EAAOoP,WAAWhL,IAAI,aAAc,YAExC,CACF,EAEawvH,GAAc,WAAH,OAASjB,GAAW3/H,KAAI,SAAC68H,GAAC,OAAKA,EAAEtuH,UAAU,GAAC,EAEvD8jB,GAAM,eArXnByvG,EAqXmBtQ,GArXnBsQ,EAqXmBhG,KAAAyC,MAAG,SAAAwD,EAAgB9tH,EAASvF,GAAM,IAAAoF,EAAAkuH,EAAAh1H,EAAA,OAAA8uH,KAAA9iG,MAAA,SAAAipG,GAAA,cAAAA,EAAAptB,KAAAotB,EAAArgI,MAAA,OAoCzB,OAnCtBkS,EAAU6rH,GACRqC,EAAgB,GAElBtzH,EAAOswB,SAETgjG,EAAcxiI,KAAI85C,MAAlB0oF,EAAa3C,GACRoB,GACAl6H,QACC,SAAA27H,GAAA,IAAEjjB,EAAOijB,EAAPjjB,QAAO,OACNvwG,EAAOswB,QAAQ7rB,MAAMxG,MAAK,SAACiR,GAAM,OAAKqhG,EAAQrzG,SAASgS,EAAO,GAAC,IAEnE5d,KAAI,SAAAmiI,GAAS,OAAAA,EAAPruH,OAAoB,IAC1BkmG,SAKFtrG,EAAOkhH,YAAelhH,EAAOkhH,WAAWlvH,QAC3CshI,EAAcxiI,KAAK,kBAOrBwiI,EAAcxiI,KAAK,qBAEfwiI,EAActhI,SAChBoT,EAAUA,EAAQvN,QAAO,SAACs2H,GAAC,OAAMmF,EAAcp2H,SAASixH,EAAEtuH,WAAW,KAGhD,iBAAZ0F,IACTA,EAAUlQ,SAASC,cAAc,IAAD7D,OAAK8T,KAGvCvF,EAAO0zH,WAAa,MAAMH,EAAArgI,KAAA,GAEL0gC,GAAcjQ,OACjCpe,EACA7R,OAAO69C,OAAO,CAACnsC,QAAAA,GAAUpF,IAC1B,QA8CA,OAjDK1B,EAAMi1H,EAAA1E,MAML5rH,QAAQtC,KAAKzB,QAAO,SAACC,GAC1B,IAAMw0H,EAAmBr1H,EAAO2E,QAAQtC,KAAKtL,SAASg6B,UAGtD,QACuC,IAA9BrvB,EAAO4zH,qBACd5zH,EAAO4zH,oBAAoB5hI,OAC3B,CACA,IAAI0R,EAAYiwH,EAAiB50H,aAAa,cAC9CI,EAAO7H,aACL,aACA0I,EAAO4zH,oBAAsB,KAAOlwH,EACpCiwH,EAEJ,MAGiC,IAAtB3zH,EAAO6zH,aAA8B7zH,EAAO6zH,YAAY7hI,QACjEmN,EAAO7H,aACL,mBACA0I,EAAO6zH,YACPF,EAGN,IAIAr1H,EAAOk2B,sBAGPl2B,EAAOG,MAAMpJ,SAASkP,GAAG,eAAe,WACtCjG,EAAOk2B,qBACT,IAGIpvB,EAAQlI,SAASgrF,KACnBwqC,GAAyBp0H,GAIvB8G,EAAQlI,SAAS6xD,KACnBmkE,GAAiB50H,EAAQ0B,GAC1BuzH,EAAAvE,OAAA,SAEM1wH,GAAM,yBAAAi1H,EAAAhoG,OAAA,GAAA8nG,EAAA,IA9cf,eAAA1gG,EAAA,KAAA8Q,EAAAh9B,UAAA,WAAAguB,SAAA,SAAAC,EAAA87F,GAAA,IAAAD,EAAA6C,EAAAxoF,MAAAjY,EAAA8Q,GAAA,SAAAgtF,EAAAr9H,GAAAk9H,GAAAC,EAAA77F,EAAA87F,EAAAC,EAAAC,EAAA,OAAAt9H,EAAA,UAAAs9H,EAAAr9H,GAAAi9H,GAAAC,EAAA77F,EAAA87F,EAAAC,EAAAC,EAAA,QAAAr9H,EAAA,CAAAo9H,OAAAx0H,EAAA,MA+cC,gBA1FkB63H,EAAAC,GAAA,OAAAjR,EAAAl4E,MAAA,KAAAnkC,UAAA","sources":["webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/image.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecustomresizeform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/link.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/list.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/listproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/todolist.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/style.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegroup.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylepanel.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/form.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/table.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableediting.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableselection.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchor.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchoractions.css","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchorform.css","webpack://CKEditor5.craftcms/../../../../../node_modules/css-loader/dist/runtime/api.js","webpack://CKEditor5.craftcms/../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://CKEditor5.craftcms/./ckeditor5-craftcms.css?48d2","webpack://CKEditor5.craftcms/../../../../../node_modules/vue-style-loader/lib/listToStyles.js","webpack://CKEditor5.craftcms/../../../../../node_modules/vue-style-loader/lib/addStylesClient.js","webpack://CKEditor5.craftcms/delegated \"./src/clipboard.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/core.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/engine.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/enter.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/paragraph.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/select-all.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/typing.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/ui.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/undo.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/upload.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/utils.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/delegated \"./src/widget.js\" from dll-reference CKEditor5.dll","webpack://CKEditor5.craftcms/external var \"CKEditor5.dll\"","webpack://CKEditor5.craftcms/webpack/bootstrap","webpack://CKEditor5.craftcms/webpack/runtime/compat get default export","webpack://CKEditor5.craftcms/webpack/runtime/define property getters","webpack://CKEditor5.craftcms/webpack/runtime/hasOwnProperty shorthand","webpack://CKEditor5.craftcms/webpack/runtime/make namespace object","webpack://CKEditor5.craftcms/webpack/runtime/nonce","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignmentediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignmentui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-alignment/src/alignment.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/autoimage.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/imagetextalternativecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/imagetextalternativeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css?f1b7","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css?8e9a","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/ui/textalternativeformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/ui/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative/imagetextalternativeui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetextalternative.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageloadobserver.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/insertimagecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/replaceimagesourcecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagesizeattributes.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imagetypecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css?1773","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageplaceholder.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageblockediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css?bf22","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinsert/ui/imageinsertformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinsert/imageinsertui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/image.css?2a08","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image/imageinlineediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imageinline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/image.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/imagecaptionutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/toggleimagecaptioncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/imagecaptionediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption/imagecaptionui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css?6974","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagecaption.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css?c3d4","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css?f008","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css?a46c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecustomresizeform.css?2166","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css?00ad","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestyleediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isObject.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/identity.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css?cf93","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestyleui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagestyle.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-image/src/imagetoolbar.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-autoformat/src/blockautoformatediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-autoformat/src/inlineautoformatediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-autoformat/src/autoformat.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquotecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquoteediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css?45d6","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquoteui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-block-quote/src/blockquote.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/attributecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/bold/boldediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/bold/boldui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/bold.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/code/codeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/icons/code.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css?6027","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/code/codeui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/code.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/italic/italicediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/italic/italicui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/icons/italic.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/italic.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/strikethrough/strikethroughediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/strikethrough/strikethroughui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/icons/strikethrough.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/strikethrough.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/subscript/subscriptediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/subscript/subscriptui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/icons/subscript.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/subscript.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/superscript/superscriptediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/superscript/superscriptui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/icons/superscript.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/superscript.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/underline/underlineediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/underline/underlineui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/icons/underline.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/src/underline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/src/classiceditorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css?b7a5","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/src/classiceditoruiview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isObjectLike.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_freeGlobal.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_root.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Symbol.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getRawTag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_objectToString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseGetTag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_overArg.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getPrototype.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isPlainObject.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isElement.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/src/classiceditor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/indentcodeblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/outdentcodeblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblockediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css?063e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblockui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-code-block/src/codeblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-essentials/src/essentials.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css?7855","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/ui/findandreplaceformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/icons/find-replace.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplaceui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplacestate.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/replacecommandbase.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/replacecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/replaceallcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findnextcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findpreviouscommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arrayMap.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isSymbol.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseToString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/toString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/escapeRegExp.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplaceutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/now.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_trimmedEndIndex.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseTrim.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/toNumber.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/debounce.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css?77b0","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplaceediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/src/findandreplace.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/fontfamilycommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/fontfamilyediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/icons/font-family.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily/fontfamilyui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontfamily.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/fontsizecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/fontsizeediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/icons/font-size.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css?f7bd","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize/fontsizeui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontsize.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor/fontcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor/fontcolorediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/ui/colorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor/fontcolorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/icons/font-color.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontcolor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor/fontbackgroundcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor/fontbackgroundcolorediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor/fontbackgroundcolorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/theme/icons/font-background.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/fontbackgroundcolor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-font/src/font.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_listCacheClear.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/eq.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_assocIndexOf.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_listCacheDelete.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_ListCache.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_listCacheGet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_listCacheHas.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_listCacheSet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_isMasked.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isFunction.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_coreJsData.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_toSource.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsNative.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getNative.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getValue.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Map.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_nativeCreate.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hashGet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hashHas.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Hash.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hashClear.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hashDelete.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hashSet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getMapData.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_isKeyable.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_MapCache.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_mapCacheClear.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_mapCacheDelete.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_mapCacheGet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_mapCacheHas.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_mapCacheSet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Stack.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_stackClear.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_stackDelete.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_stackGet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_stackHas.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_stackSet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_defineProperty.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseAssignValue.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_assignValue.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_copyObject.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsArguments.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isArguments.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isBuffer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/stubFalse.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_isIndex.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isLength.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsTypedArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseUnary.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_nodeUtil.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isTypedArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arrayLikeKeys.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseTimes.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_isPrototype.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_nativeKeys.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseKeys.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isArrayLike.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/keys.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseKeysIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_nativeKeysIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/keysIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cloneBuffer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_copyArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/stubArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getSymbols.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arrayFilter.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arrayPush.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getSymbolsIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseGetAllKeys.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getAllKeys.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getAllKeysIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_DataView.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Promise.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Set.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_WeakMap.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_getTag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_initCloneArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_Uint8Array.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cloneArrayBuffer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cloneRegExp.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cloneSymbol.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cloneTypedArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_initCloneByTag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cloneDataView.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseCreate.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_initCloneObject.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isMap.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsMap.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isSet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsSet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseClone.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_basePropertyOf.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_createCompounder.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_copySymbolsIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseAssignIn.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_copySymbols.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseAssign.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arrayEach.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_deburrLetter.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/deburr.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_asciiWords.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hasUnicodeWord.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_unicodeWords.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/words.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_castSlice.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseSlice.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_hasUnicode.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_unicodeToArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_stringToArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_asciiToArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/upperFirst.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_createCaseFirst.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/startCase.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arrayReduce.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/cloneDeep.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/schemadefinitions.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_shortOut.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_createAssigner.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_assignMergeValue.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseFor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_createBaseFor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_safeGet.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseMergeDeep.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isArrayLikeObject.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/toPlainObject.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseMerge.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_overRest.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseSetToString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/constant.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_setToString.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseRest.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_apply.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/mergeWith.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_isIterateeCall.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/dataschema.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css?8703","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/datafilter.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/codeblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/dualcontent.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/heading.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/integrationutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/image.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/mediaembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/script.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/table.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/style.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_SetCache.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_setCacheAdd.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_setCacheHas.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_arraySome.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_equalArrays.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_cacheHas.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_mapToArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_setToArray.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_equalByTag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_equalObjects.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsEqualDeep.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/_baseIsEqual.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/isEqual.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/integrations/customelement.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/generalhtmlsupport.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-support/src/htmlcomment.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/headingcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/headingediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/theme/heading.css?ec3c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/headingui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/heading.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-heading/src/title.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontallinecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css?a24e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontallineediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontallineui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/src/horizontalline.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css?c2fd","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembedediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembedui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-html-embed/src/htmlembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indent.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentblockcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentcommandbehavior/indentusingoffset.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentcommandbehavior/indentusingclasses.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-indent/src/indentblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/utils/automaticdecorators.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/unlinkcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/utils/manualdecorator.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/link.css?bbf9","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkform.css?4dae","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css?520c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/ui/linkactionsview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/icons/unlink.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/icons/link.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/autolink.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkimageediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkimageui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css?64e1","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-link/src/linkimage.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/listwalker.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/model.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listindentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listmergecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listsplitcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/view.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils/postfixers.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css?94cb","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/list.css?8a64","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list/listui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/liststartcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/utils/style.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/liststylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listreversedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listpropertiesutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/utils/config.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listpropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/listproperties.css?590c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/ui/listpropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststyledisc.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css?d1ec","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties/listpropertiesui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststylecircle.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststylesquare.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststyledecimal.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststyledecimalleadingzero.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststylelowerroman.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststyleupperroman.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststylelowerlatin.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/icons/liststyleupperlatin.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/listproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/checktodolistcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/todocheckboxchangeobserver.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/todolistediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist/todolistui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/theme/todolist.css?f9e8","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-list/src/todolist.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/converters.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaregistry.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/icons/media-placeholder.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css?6332","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/automediaembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css?17fd","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/ui/mediaformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/icons/media.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css?17ad","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembed.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedtoolbar.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreakcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css?0ad9","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreakediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreakui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/icons/pagebreak.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-page-break/src/pagebreak.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/normalizers/mswordnormalizer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/bookmark.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/image.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removemsattributes.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/br.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/normalizers/googledocsnormalizer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removeboldwrapper.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/normalizers/googlesheetsnormalizer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removegooglesheetstag.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removexmlns.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removeinvalidtablewidth.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/removestyleblock.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/space.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/pastefromoffice.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-paste-from-office/src/filters/parse.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformatui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/theme/icons/remove-format.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformatcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformatediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-remove-format/src/removeformat.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/src/utils/formathtml.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css?df84","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/src/sourceediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/icons/source-editing.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylegridbuttonview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css?9e24","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylegridview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegroup.css?e9c7","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylegroupview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylepanel.css?705c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/ui/stylepanelview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/styleutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/theme/style.css?472b","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/styleui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/stylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/integrations/list.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/integrations/table.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/integrations/link.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/styleediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-style/src/style.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/tableproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/common.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/upcasttable.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablewalker.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/downcast.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/inserttablecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/insertrowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/insertcolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/splitcellcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/structure.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/mergecellcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/removerowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/removecolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/setheaderrowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/setheadercolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecolumnresize/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableutils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/mergecellscommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/selectrowcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/commands/selectcolumncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-layout-post-fixer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-cell-paragraph-post-fixer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-cell-refresh-handler.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableediting.css?4d2c","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-headings-refresh-handler.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css?d21b","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/ui/inserttableview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/icons/table-column.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/icons/table-row.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/icons/table-merge-cell.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableselection.css?e446","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableselection.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableclipboard.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablekeyboard.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablemouse/mouseeventsobserver.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablemouse.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/table.css?8c43","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/table.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/ui/widget.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tabletoolbar.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css?fb43","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/ui/colorinputview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/ui/table-properties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/formrow.css?709e","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/ui/formrowview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/form.css?4445","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableform.css?a063","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css?5640","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/ui/tablecellpropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/ui/contextualballoon.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/utils/table-properties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/tablecellpropertiesui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/icons/table-cell-properties.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellpropertycommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellwidth/commands/tablecellwidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellwidth/tablecellwidthediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellpaddingcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellheightcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellbackgroundcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellverticalalignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellhorizontalalignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellborderstylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellbordercolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/commands/tablecellborderwidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties/tablecellpropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecellproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablepropertycommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablebackgroundcolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablebordercolorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tableborderstylecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tableborderwidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablewidthcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tableheightcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/commands/tablealignmentcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/tablepropertiesediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css?fb86","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/ui/tablepropertiesview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties/tablepropertiesui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/icons/table-properties.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tableproperties.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/toggletablecaptioncommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/tablecaptionediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/converters/table-caption-post-fixer.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption/tablecaptionui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css?8b74","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/src/tablecaption.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-word-count/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css?db84","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-word-count/src/wordcount.js","webpack://CKEditor5.craftcms/../../../../../node_modules/lodash-es/throttle.js","webpack://CKEditor5.craftcms/./image/imageinsert/imageinsertui.js","webpack://CKEditor5.craftcms/./link/linkui.js","webpack://CKEditor5.craftcms/./image/imagetransform/transformimagecommand.js","webpack://CKEditor5.craftcms/./image/imagetransform/imagetransformediting.js","webpack://CKEditor5.craftcms/./image/imagetransform/imagetransformui.js","webpack://CKEditor5.craftcms/./image/imagetransform.js","webpack://CKEditor5.craftcms/./image/imageeditor/imageeditorcommand.js","webpack://CKEditor5.craftcms/./image/imageeditor/imageeditorediting.js","webpack://CKEditor5.craftcms/./image/imageeditor/imageeditorui.js","webpack://CKEditor5.craftcms/./image/imageeditor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguagecommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguageediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguageui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-language/src/textpartlanguage.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/utils/automaticdecorators.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/utils.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/anchorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/unanchorcommand.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/utils/manualdecorator.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-typing/src/utils/findattributerange.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-utils/src/dom/global.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-utils/src/keyboard.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchor.css?0ef0","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/anchorediting.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-core/theme/icons/check.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchorform.css?2681","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/ui/anchorformview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@ckeditor/ckeditor5-core/theme/icons/cancel.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/icons/unanchor.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchoractions.css?9b33","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/ui/anchoractionsview.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/anchorui.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/icons/anchor.svg","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/autoanchor.js","webpack://CKEditor5.craftcms/../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/src/anchor.js","webpack://CKEditor5.craftcms/./ckeditor5-craftcms.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css\"],\"names\":[],\"mappings\":\"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content code {\\n\\tbackground-color: hsla(0, 0%, 78%, 0.3);\\n\\tpadding: .15em;\\n\\tborder-radius: 2px;\\n}\\n\\n.ck.ck-editor__editable .ck-code_selected  {\\n\\tbackground-color: hsla(0, 0%, 78%, 0.5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css\"],\"names\":[],\"mappings\":\"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content blockquote {\\n\\t/* See #12 */\\n\\toverflow: hidden;\\n\\n\\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\\n\\tpadding-right: 1.5em;\\n\\tpadding-left: 1.5em;\\n\\n\\tmargin-left: 0;\\n\\tmargin-right: 0;\\n\\tfont-style: italic;\\n\\tborder-left: solid 5px hsl(0, 0%, 80%);\\n}\\n\\n.ck-content[dir=\\\"rtl\\\"] blockquote {\\n\\tborder-left: 0;\\n\\tborder-right: solid 5px hsl(0, 0%, 80%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css\"],\"names\":[],\"mappings\":\"AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content pre {\\n\\tpadding: 1em;\\n\\tcolor: hsl(0, 0%, 20.8%);\\n\\tbackground: hsla(0, 0%, 78%, 0.3);\\n\\tborder: 1px solid hsl(0, 0%, 77%);\\n\\tborder-radius: 2px;\\n\\n\\t/* Code block are language direction–agnostic. */\\n\\ttext-align: left;\\n\\tdirection: ltr;\\n\\n\\ttab-size: 4;\\n\\twhite-space: pre-wrap;\\n\\n\\t/* Don't inherit the style, e.g. when in a block quote. */\\n\\tfont-style: normal;\\n\\n\\t/* Don't let the code be squashed e.g. when in a table cell. */\\n\\tmin-width: 200px;\\n\\n\\t& code {\\n\\t\\tbackground: unset;\\n\\t\\tpadding: 0;\\n\\t\\tborder-radius: 0;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable pre {\\n\\tposition: relative;\\n\\n\\t&[data-language]::after {\\n\\t\\tcontent: attr(data-language);\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-code-block-label-background: hsl(0, 0%, 46%);\\n}\\n\\n.ck.ck-editor__editable pre[data-language]::after {\\n\\ttop: -1px;\\n\\tright: 10px;\\n\\tbackground: var(--ck-color-code-block-label-background);\\n\\n\\tfont-size: 10px;\\n\\tfont-family: var(--ck-font-face);\\n\\tline-height: 16px;\\n\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-medium);\\n\\tcolor: hsl(0, 0%, 100%);\\n\\twhite-space: nowrap;\\n}\\n\\n.ck.ck-code-block-dropdown .ck-dropdown__panel {\\n\\t/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */\\n\\tmax-height: 250px;\\n\\toverflow-y: auto;\\n\\toverflow-x: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-radius:0;border-width:1px 1px 0;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar{border:0;border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\"],\"names\":[],\"mappings\":\"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DAOC,wCAAsB,CCLxB,eAAgB,CDKd,sBAAsB,CCHxB,2CAEC,qCAAsC,CDJpC,2BAA4B,CAC5B,4BCKH,CDaC,CAZC,8FACC,uBACD,CAEA,2EACC,QAAS,CACT,mDACD,CAEA,0EACC,QACD,CAMH,yCAEC,0CAA2C,CC1B3C,eAAgB,CAEhB,2CAEC,qCAAsC,CDyBtC,wBAAyB,CACzB,yBCxBD,CD8BD,CAHC,0DACC,wCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor {\\n\\t/* All the elements within `.ck-editor` are positioned relatively to it.\\n\\t If any element needs to be positioned with respect to the <body>, etc.,\\n\\t it must land outside of the `.ck-editor` in DOM. */\\n\\tposition: relative;\\n\\n\\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\\n\\t\\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\\n\\t\\tz-index: var(--ck-z-panel);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"../mixins/_rounded.css\\\";\\n\\n.ck.ck-editor__top {\\n\\t& .ck-sticky-panel {\\n\\t\\t& .ck-sticky-panel__content {\\n\\t\\t\\t@mixin ck-rounded-corners {\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t\\tborder-bottom-width: 0;\\n\\n\\t\\t\\t&.ck-sticky-panel__content_sticky {\\n\\t\\t\\t\\tborder-bottom-width: 1px;\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-menu-bar {\\n\\t\\t\\t\\tborder: 0;\\n\\t\\t\\t\\tborder-bottom: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-toolbar {\\n\\t\\t\\t\\tborder: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */\\n.ck.ck-editor__main > .ck-editor__editable {\\n\\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\\n\\tbackground: var(--ck-color-base-background);\\n\\n\\t@mixin ck-rounded-corners {\\n\\t\\tborder-top-left-radius: 0;\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n\\n\\t&:not(.ck-focused) {\\n\\t\\tborder-color: var(--ck-color-base-border);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css\"],\"names\":[],\"mappings\":\"AAKA,gBACC,+CAAgD,CAChD,0BACD,CAEA,yBACC,kBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-find-result {\\n\\tbackground: var(--ck-color-highlight-background);\\n\\tcolor: var(--ck-color-text);\\n}\\n\\n.ck-find-result_selected {\\n\\tbackground: hsl(29, 100%, 60%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-find-and-replace-form{max-width:100%;& .ck-find-and-replace-form__inputs,.ck-find-and-replace-form__actions{display:flex}& .ck-find-and-replace-form__inputs.ck-find-and-replace-form__inputs .ck-results-counter,.ck-find-and-replace-form__actions.ck-find-and-replace-form__inputs .ck-results-counter{position:absolute}}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-content:stretch;align-items:center;flex:1 1 auto;flex-direction:row;flex-wrap:wrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button{flex:0 0 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{[dir=ltr] &>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] &>*+*{margin-right:var(--ck-spacing-standard)}}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions .ck-labeled-field-view .ck-input,.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs{align-items:flex-start}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs .ck-results-counter{color:var(--ck-color-base-border);top:50%;transform:translateY(-50%);[dir=ltr] &{right:var(--ck-spacing-standard)}[dir=rtl] &{left:var(--ck-spacing-standard)}}.ck.ck-find-and-replace-form .ck-find-and-replace-form__inputs>.ck-labeled-field-replace{flex:0 0 100%;padding-top:var(--ck-spacing-standard);[dir=ltr] &{margin-left:0}[dir=rtl] &{margin-right:0}}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form .ck-find-and-replace-form__actions>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form .ck-switchbutton{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{max-width:100%;width:300px}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input{flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type{flex:1 1 auto;[dir=ltr] &{margin-left:0}[dir=rtl] &{margin-right:0}}.ck.ck-find-and-replace-form.ck-find-and-replace-form__input>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view){flex:1 1 auto;flex-wrap:wrap}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button{text-align:center}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button:first-of-type{flex:1 1 auto;[dir=ltr] &{margin-left:0}[dir=rtl] &{margin-right:0}}.ck.ck-find-and-replace-form.ck-find-and-replace-form__actions>:not(.ck-labeled-field-view)>.ck-button .ck-button__label{text-align:center;width:100%}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-find-and-replace/findandreplaceform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAKA,6BACC,cAAe,CAEf,uEACC,YAMD,CAHC,iLACC,iBACD,CAEF,CCRA,6BACC,WAoHD,CA9GC,mCACC,YACD,CAGA,+HAMC,qBAAsB,CADtB,kBAAmB,CAHnB,aAAc,CACd,kBAAmB,CACnB,cAAe,CAKf,QAAS,CADT,+BA4BD,CAzBC,qJACC,aACD,CAbD,+HAgBE,gBACC,sCACD,CAIA,gBACC,uCACD,CAYF,CATC,6KACC,aAMD,CAJC,iMAEC,cAAe,CADf,UAED,CAMF,+DAEC,sBAqCD,CAnCC,wFACC,uBACD,CAEA,wFACC,wBACD,CAEA,mFAYC,iCAAkC,CAXlC,OAAQ,CACR,0BAA2B,CCnE7B,YDsEG,gCCpEH,CAFA,YD0EG,+BCxEH,CD4EC,CAEA,yFACC,aAAc,CACd,sCAAuC,CClFzC,YDqFG,aCnFH,CAFA,YDyFG,cCvFH,CDyFC,CAID,gEACC,cAAe,CACf,wBAAyB,CACzB,2CAWD,CATC,gFACC,eAOD,CAJC,kGACC,oCAAqC,CACrC,qCACD,CAIF,8CAMC,kBAAmB,CAJnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAJ9B,UAMD,CEtHA,oCF0HA,6BAIC,cAAe,CAHf,WA+DD,CAzDC,6DACC,cA4BD,CA1BC,oFACC,aAAc,CAEd,wCAAyC,CADzC,UAED,CAEA,wEACC,iBAkBD,CAhBC,sFACC,aAAc,CC9IlB,YDiJK,aC/IL,CAFA,YDqJK,cCnJL,CD0JG,CAJC,wGAEC,iBAAkB,CADlB,UAED,CAMH,4FAEC,aAAc,CADd,cAuBD,CApBC,uGACC,iBAkBD,CAhBC,qHACC,aAAc,CCzKlB,YD4KK,aC1KL,CAFA,YDgLK,cC9KL,CDgLG,CAEA,yHAEC,iBAAkB,CADlB,UAED,CErLH\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-find-and-replace-form {\\n\\tmax-width: 100%;\\n\\n\\t& .ck-find-and-replace-form__inputs, .ck-find-and-replace-form__actions {\\n\\t\\tdisplay: flex;\\n\\n\\t\\t/* The inputs area styles */\\n\\t\\t&.ck-find-and-replace-form__inputs .ck-results-counter {\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n.ck.ck-find-and-replace-form {\\n\\twidth: 400px;\\n\\n\\t/*\\n\\t * The <form> needs tabindex=\\\"-1\\\" for proper Esc handling after being clicked\\n\\t * but the side effect is that this creates a nasty focus outline in some browsers.\\n\\t */\\n\\t&:focus {\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t/* Generic styles for the form inputs and actions. */\\n\\t& .ck-find-and-replace-form__inputs,\\n\\t& .ck-find-and-replace-form__actions {\\n\\t\\tflex: 1 1 auto;\\n\\t\\tflex-direction: row;\\n\\t\\tflex-wrap: wrap;\\n\\t\\talign-items: center;\\n\\t\\talign-content: stretch;\\n\\n\\t\\tpadding: var(--ck-spacing-large);\\n\\t\\tmargin: 0;\\n\\n\\t\\t& > .ck-button {\\n\\t\\t\\tflex: 0 0 auto;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t& > * + * {\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t& > * + * {\\n\\t\\t\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t& .ck-input {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tmin-width: 50px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t}\\n\\n\\t/* Styles specific for inputs area. */\\n\\t& .ck-find-and-replace-form__inputs {\\n\\t\\t/* To display all controls in line when there's an error under the input */\\n\\t\\talign-items: flex-start;\\n\\n\\t\\t& > .ck-button-prev > .ck-icon {\\n\\t\\t\\ttransform: rotate(90deg);\\n\\t\\t}\\n\\n\\t\\t& > .ck-button-next > .ck-icon {\\n\\t\\t\\ttransform: rotate(-90deg);\\n\\t\\t}\\n\\n\\t\\t& .ck-results-counter {\\n\\t\\t\\ttop: 50%;\\n\\t\\t\\ttransform: translateY(-50%);\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tright: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\n\\t\\t\\tcolor: var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t& > .ck-labeled-field-replace {\\n\\t\\t\\tflex: 0 0 100%;\\n\\t\\t\\tpadding-top: var(--ck-spacing-standard);\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Styles specific for actions area. */\\n\\t& .ck-find-and-replace-form__actions {\\n\\t\\tflex-wrap: wrap;\\n\\t\\tjustify-content: flex-end;\\n\\t\\tmargin-top: calc( -1 * var(--ck-spacing-large) );\\n\\n\\t\\t& > .ck-button-find {\\n\\t\\t\\tfont-weight: bold;\\n\\n\\t\\t\\t/* Beef the find button up a little. It's the main action button in the form */\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tpadding-left: var(--ck-spacing-large);\\n\\t\\t\\t\\tpadding-right: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck-switchbutton {\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: row;\\n\\t\\tflex-wrap: nowrap;\\n\\t\\tjustify-content: space-between;\\n\\t\\talign-items: center;\\n\\t}\\n}\\n\\n@mixin ck-media-phone {\\n\\t.ck.ck-find-and-replace-form {\\n\\t\\twidth: 300px;\\n\\n\\t\\t/* Don't let the form overflow from the dialog (https://github.com/cksource/ckeditor5-commercial/issues/5913) */\\n\\t\\tmax-width: 100%;\\n\\n\\t\\t/* Styles specific for inputs area. */\\n\\t\\t&.ck-find-and-replace-form__input {\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\tflex: 1 0 auto;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tmargin-bottom: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck-button {\\n\\t\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t\\t&:first-of-type {\\n\\t\\t\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Styles specific for actions area. */\\n\\t\\t&.ck-find-and-replace-form__actions > :not(.ck-labeled-field-view) {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t& > .ck-button {\\n\\t\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t\\t&:first-of-type {\\n\\t\\t\\t\\t\\tflex: 1 1 auto;\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css\"],\"names\":[],\"mappings\":\"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* The values should be synchronized with the \\\"FONT_SIZE_PRESET_UNITS\\\" object in the \\\"/src/fontsize/utils.js\\\" file. */\\n\\n/* Styles should be prefixed with the `.ck-content` class.\\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\\n.ck-content {\\n\\t& .text-tiny {\\n\\t\\tfont-size: .7em;\\n\\t}\\n\\n\\t& .text-small {\\n\\t\\tfont-size: .85em;\\n\\t}\\n\\n\\t& .text-big {\\n\\t\\tfont-size: 1.4em;\\n\\t}\\n\\n\\t& .text-huge {\\n\\t\\tfont-size: 1.8em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-heading_heading1 .ck-button__label{font-size:20px}.ck.ck-heading_heading2 .ck-button__label{font-size:17px}.ck.ck-heading_heading3 .ck-button__label{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-heading/theme/heading.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css\"],\"names\":[],\"mappings\":\"AAKA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,0CACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-heading_heading1 .ck-button__label {\\n\\tfont-size: 20px;\\n}\\n\\n.ck.ck-heading_heading2 .ck-button__label {\\n\\tfont-size: 17px;\\n}\\n\\n.ck.ck-heading_heading3 .ck-button__label {\\n\\tfont-size: 14px;\\n}\\n\\n.ck[class*=\\\"ck-heading_heading\\\"] {\\n\\tfont-weight: bold;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* Resize dropdown's button label. */\\n.ck.ck-dropdown.ck-heading-dropdown {\\n\\t& .ck-dropdown__button .ck-button__label {\\n\\t\\twidth: 8em;\\n\\t}\\n\\n\\t& .ck-dropdown__panel .ck-list__item {\\n\\t\\tmin-width: 18em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css\"],\"names\":[],\"mappings\":\"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n\\n.ck-editor__editable .ck-horizontal-line {\\n\\t/* Necessary to render properly next to floated objects, e.g. side image case. */\\n\\tdisplay: flow-root;\\n}\\n\\n.ck-content hr {\\n\\tmargin: 15px 0;\\n\\theight: 4px;\\n\\tbackground: hsl(0, 0%, 87%);\\n\\tborder: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-widget.raw-html-embed{display:flow-root;font-style:normal;margin:.9em auto;min-width:15em;position:relative}.ck-widget.raw-html-embed:before{position:absolute;z-index:1}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{display:flex;flex-direction:column;position:absolute}.ck-widget.raw-html-embed .raw-html-embed__preview{display:flex;overflow:hidden;position:relative}.ck-widget.raw-html-embed .raw-html-embed__preview-content{border-collapse:separate;border-spacing:7px;display:table;margin:auto;position:relative;width:100%}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}:root{--ck-html-embed-content-width:calc(100% - var(--ck-icon-size)*1.5);--ck-html-embed-source-height:10em;--ck-html-embed-unfocused-outline-width:1px;--ck-html-embed-content-min-height:calc(var(--ck-icon-size) + var(--ck-spacing-standard));--ck-html-embed-source-disabled-background:var(--ck-color-base-foreground);--ck-html-embed-source-disabled-color:#737373}.ck-widget.raw-html-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base)}.ck-widget.raw-html-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.raw-html-embed[dir=ltr]{text-align:left}.ck-widget.raw-html-embed[dir=rtl]{text-align:right}.ck-widget.raw-html-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);top:calc(var(--ck-html-embed-unfocused-outline-width)*-1);transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.raw-html-embed[dir=rtl]:before{left:auto;right:var(--ck-spacing-standard)}.ck-widget.raw-html-embed[dir=ltr] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.raw-html-embed{.ck.ck-editor__editable.ck-blurred &.ck-widget_selected:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable:not(.ck-blurred) &.ck-widget_selected:before{background:var(--ck-color-focus-border);padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}.ck.ck-editor__editable &:not(.ck-widget_selected):hover:before{padding:var(--ck-spacing-tiny) var(--ck-spacing-small);top:0}}.ck-widget.raw-html-embed .raw-html-embed__content-wrapper{padding:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper{right:var(--ck-spacing-standard);top:var(--ck-spacing-standard)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__save-button{color:var(--ck-color-button-save)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button.raw-html-embed__cancel-button{color:var(--ck-color-button-cancel)}.ck-widget.raw-html-embed .raw-html-embed__buttons-wrapper .ck-button:not(:first-child){margin-top:var(--ck-spacing-small)}.ck-widget.raw-html-embed[dir=rtl] .raw-html-embed__buttons-wrapper{left:var(--ck-spacing-standard);right:auto}.ck-widget.raw-html-embed .raw-html-embed__source{box-sizing:border-box;direction:ltr;font-family:monospace;font-size:var(--ck-font-size-base);height:var(--ck-html-embed-source-height);min-width:0;padding:var(--ck-spacing-standard);resize:none;tab-size:4;text-align:left;white-space:pre-wrap;width:var(--ck-html-embed-content-width)}.ck-widget.raw-html-embed .raw-html-embed__source[disabled]{-webkit-text-fill-color:var(--ck-html-embed-source-disabled-color);background:var(--ck-html-embed-source-disabled-background);color:var(--ck-html-embed-source-disabled-color);opacity:1}.ck-widget.raw-html-embed .raw-html-embed__preview{min-height:var(--ck-html-embed-content-min-height);width:var(--ck-html-embed-content-width);.ck-editor__editable:not(.ck-read-only) &{pointer-events:none}}.ck-widget.raw-html-embed .raw-html-embed__preview-content{background-color:var(--ck-color-base-foreground);box-sizing:border-box}.ck-widget.raw-html-embed .raw-html-embed__preview-content>*{margin-left:auto;margin-right:auto}.ck-widget.raw-html-embed .raw-html-embed__preview-placeholder{color:var(--ck-html-embed-source-disabled-color)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-html-embed/theme/htmlembed.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-html-embed/htmlembed.css\"],\"names\":[],\"mappings\":\"AAMA,0BAMC,iBAAkB,CAOlB,iBAAkB,CATlB,gBAAkB,CAMlB,cAAe,CALf,iBAwDD,CA5CC,iCACC,iBAAkB,CAGlB,SACD,CAKA,2DAEC,YAAa,CACb,qBAAsB,CAFtB,iBAGD,CAEA,mDAGC,YAAa,CADb,eAAgB,CADhB,iBAGD,CAEA,2DAOC,wBAAyB,CACzB,kBAAmB,CAFnB,aAAc,CAHd,WAAY,CADZ,iBAAkB,CADlB,UAQD,CAEA,+DAQC,kBAAmB,CAHnB,QAAS,CAET,YAAa,CAEb,sBAAuB,CAPvB,MAAO,CADP,iBAAkB,CAGlB,OAAQ,CADR,KAOD,CC7DD,MACC,kEAAqE,CACrE,kCAAmC,CACnC,2CAA4C,CAC5C,yFAA0F,CAE1F,0EAA2E,CAC3E,6CACD,CAGA,0BAEC,gDAAiD,CADjD,kCA0ID,CAvIC,+DACC,iGACD,CAGA,mCACC,eACD,CAEA,mCACC,gBACD,CAIA,iCAIC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,mCAAoC,CASpC,+BAAgC,CADhC,kCAAmC,CANnC,+BAAgC,CAGhC,kIAAmI,CAJnI,yDAA4D,CAG5D,0GAMD,CAEA,0CACC,SAAU,CACV,gCACD,CAGA,iIACC,gBACD,CAxCD,0BA0CC,+DAEC,sDAAuD,CADvD,KAED,CAEA,qEAGC,uCAAwC,CADxC,sDAAuD,CADvD,KAGD,CAEA,gEAEC,sDAAuD,CADvD,KAED,CAmFD,CA/EC,2DACC,kCACD,CAGA,2DAEC,gCAAiC,CADjC,8BAcD,CAXC,kGACC,iCACD,CAEA,oGACC,mCACD,CAEA,wFACC,kCACD,CAGD,oEACC,+BAAgC,CAChC,UACD,CAGA,kDACC,qBAAsB,CActB,aAAc,CAPd,qBAAsB,CAGtB,kCAAmC,CATnC,yCAA0C,CAG1C,WAAY,CACZ,kCAAmC,CAFnC,WAAY,CAKZ,UAAW,CAKX,eAAgB,CAJhB,oBAAqB,CAPrB,wCAsBD,CARC,4DAKC,kEAAmE,CAJnE,0DAA2D,CAC3D,gDAAiD,CAIjD,SACD,CAID,mDACC,kDAAmD,CACnD,wCAAyC,CAGzC,0CACC,mBACD,CACD,CAEA,2DAEC,gDAAiD,CADjD,qBAOD,CAJC,6DACC,gBAAiB,CACjB,iBACD,CAGD,+DACC,gDACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* The feature container. */\\n.ck-widget.raw-html-embed {\\n\\t/* Give the embed some air. */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em auto;\\n\\tposition: relative;\\n\\tdisplay: flow-root;\\n\\n\\t/* Give the html embed some minimal width in the content to prevent them\\n\\tfrom being \\\"squashed\\\" in tight spaces, e.g. in table cells (https://github.com/ckeditor/ckeditor5/issues/8331) */\\n\\tmin-width: 15em;\\n\\n\\t/* Don't inherit the style, e.g. when in a block quote. */\\n\\tfont-style: normal;\\n\\n\\t/* ----- Emebed label in the upper left corner ----------------------------------------------- */\\n\\n\\t&::before {\\n\\t\\tposition: absolute;\\n\\n\\t\\t/* Make sure the content does not cover the label. */\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t/* ----- Emebed internals --------------------------------------------------------------------- */\\n\\n\\t/* The switch mode button wrapper. */\\n\\t& .raw-html-embed__buttons-wrapper {\\n\\t\\tposition: absolute;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t}\\n\\n\\t& .raw-html-embed__preview {\\n\\t\\tposition: relative;\\n\\t\\toverflow: hidden;\\n\\t\\tdisplay: flex;\\n\\t}\\n\\n\\t& .raw-html-embed__preview-content {\\n\\t\\twidth: 100%;\\n\\t\\tposition: relative;\\n\\t\\tmargin: auto;\\n\\n\\t\\t/* Gives spacing to the small renderable elements, so they always cover the placeholder. */\\n\\t\\tdisplay: table;\\n\\t\\tborder-collapse: separate;\\n\\t\\tborder-spacing: 7px;\\n\\t}\\n\\n\\t& .raw-html-embed__preview-placeholder {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tright: 0;\\n\\t\\tbottom: 0;\\n\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-html-embed-content-width: calc(100% - 1.5 * var(--ck-icon-size));\\n\\t--ck-html-embed-source-height: 10em;\\n\\t--ck-html-embed-unfocused-outline-width: 1px;\\n\\t--ck-html-embed-content-min-height: calc(var(--ck-icon-size) + var(--ck-spacing-standard));\\n\\n\\t--ck-html-embed-source-disabled-background: var(--ck-color-base-foreground);\\n\\t--ck-html-embed-source-disabled-color: hsl(0deg 0% 45%);\\n}\\n\\n/* The feature container. */\\n.ck-widget.raw-html-embed {\\n\\tfont-size: var(--ck-font-size-base);\\n\\tbackground-color: var(--ck-color-base-foreground);\\n\\n\\t&:not(.ck-widget_selected):not(:hover) {\\n\\t\\toutline: var(--ck-html-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\\n\\t}\\n\\n\\t/* HTML embed widget itself should respect UI language direction */\\n\\t&[dir=\\\"ltr\\\"] {\\n\\t\\ttext-align: left;\\n\\t}\\n\\n\\t&[dir=\\\"rtl\\\"] {\\n\\t\\ttext-align: right;\\n\\t}\\n\\n\\t/* ----- Embed label in the upper left corner ----------------------------------------------- */\\n\\n\\t&::before {\\n\\t\\tcontent: attr(data-html-embed-label);\\n\\t\\ttop: calc(-1 * var(--ck-html-embed-unfocused-outline-width));\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tbackground: hsl(0deg 0% 60%);\\n\\t\\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\t\\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\\n\\t\\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\\n\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\tfont-family: var(--ck-font-face);\\n\\t}\\n\\n\\t&[dir=\\\"rtl\\\"]::before {\\n\\t\\tleft: auto;\\n\\t\\tright: var(--ck-spacing-standard);\\n\\t}\\n\\n\\t/* Make space for label but it only collides in LTR languages */\\n\\t&[dir=\\\"ltr\\\"] .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 50px;\\n\\t}\\n\\n\\t.ck.ck-editor__editable.ck-blurred &.ck-widget_selected::before {\\n\\t\\ttop: 0px;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t}\\n\\n\\t.ck.ck-editor__editable:not(.ck-blurred) &.ck-widget_selected::before {\\n\\t\\ttop: 0;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t\\tbackground: var(--ck-color-focus-border);\\n\\t}\\n\\n\\t.ck.ck-editor__editable &:not(.ck-widget_selected):hover::before {\\n\\t\\ttop: 0px;\\n\\t\\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-small);\\n\\t}\\n\\n\\t/* ----- Emebed internals --------------------------------------------------------------------- */\\n\\n\\t& .raw-html-embed__content-wrapper {\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\t}\\n\\n\\t/* The switch mode button wrapper. */\\n\\t& .raw-html-embed__buttons-wrapper {\\n\\t\\ttop: var(--ck-spacing-standard);\\n\\t\\tright: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck-button.raw-html-embed__save-button {\\n\\t\\t\\tcolor: var(--ck-color-button-save);\\n\\t\\t}\\n\\n\\t\\t& .ck-button.raw-html-embed__cancel-button {\\n\\t\\t\\tcolor: var(--ck-color-button-cancel);\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(:first-child) {\\n\\t\\t\\tmargin-top: var(--ck-spacing-small);\\n\\t\\t}\\n\\t}\\n\\n\\t&[dir=\\\"rtl\\\"] .raw-html-embed__buttons-wrapper {\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tright: auto;\\n\\t}\\n\\n\\t/* The edit source element. */\\n\\t& .raw-html-embed__source {\\n\\t\\tbox-sizing: border-box;\\n\\t\\theight: var(--ck-html-embed-source-height);\\n\\t\\twidth: var(--ck-html-embed-content-width);\\n\\t\\tresize: none;\\n\\t\\tmin-width: 0;\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\n\\t\\tfont-family: monospace;\\n\\t\\ttab-size: 4;\\n\\t\\twhite-space: pre-wrap;\\n\\t\\tfont-size: var(--ck-font-size-base); /* Safari needs this. */\\n\\n\\t\\t/* HTML code is direction–agnostic. */\\n\\t\\ttext-align: left;\\n\\t\\tdirection: ltr;\\n\\n\\t\\t&[disabled] {\\n\\t\\t\\tbackground: var(--ck-html-embed-source-disabled-background);\\n\\t\\t\\tcolor: var(--ck-html-embed-source-disabled-color);\\n\\n\\t\\t\\t/* Safari needs this for the proper text color in disabled input (https://github.com/ckeditor/ckeditor5/issues/8320). */\\n\\t\\t\\t-webkit-text-fill-color: var(--ck-html-embed-source-disabled-color);\\n\\t\\t\\topacity: 1;\\n\\t\\t}\\n\\t}\\n\\n\\t/* The preview data container. */\\n\\t& .raw-html-embed__preview {\\n\\t\\tmin-height: var(--ck-html-embed-content-min-height);\\n\\t\\twidth: var(--ck-html-embed-content-width);\\n\\n\\t\\t/* Disable all mouse interaction as long as the editor is not read–only. */\\n\\t\\t.ck-editor__editable:not(.ck-read-only) & {\\n\\t\\t\\tpointer-events: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .raw-html-embed__preview-content {\\n\\t\\tbox-sizing: border-box;\\n\\t\\tbackground-color: var(--ck-color-base-foreground);\\n\\n\\t\\t& > * {\\n\\t\\t\\tmargin-left: auto;\\n\\t\\t\\tmargin-right: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .raw-html-embed__preview-placeholder {\\n\\t\\tcolor: var(--ck-html-embed-source-disabled-color)\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,kDACD,CAEA,6BAEC,gDAAiD,CADjD,kCAAmC,CAKnC,iDAAkD,CAHlD,+BAAgC,CAEhC,oEAgCD,CA7BC,kEACC,wGACD,CAEA,oCAOC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,0CAA2C,CAS3C,+BAAgC,CADhC,kCAAmC,CAVnC,iBAAkB,CADlB,eAAmB,CAKnB,+BAAgC,CAGhC,yIAA0I,CAN1I,iBAAkB,CAElB,KAAM,CAGN,0GAMD,CAGA,2HACC,gBACD,CAEA,yDAEC,mBACD,CAGD,gCACC,eACD,CAEA,iCACC,oBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-html-object-embed-unfocused-outline-width: 1px;\\n}\\n\\n.ck-widget.html-object-embed {\\n\\tfont-size: var(--ck-font-size-base);\\n\\tbackground-color: var(--ck-color-base-foreground);\\n\\tpadding: var(--ck-spacing-small);\\n\\t/* Leave space for label */\\n\\tpadding-top: calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));\\n\\tmin-width: calc(76px + var(--ck-spacing-standard));\\n\\n\\t&:not(.ck-widget_selected):not(:hover) {\\n\\t\\toutline: var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\\n\\t}\\n\\n\\t&::before {\\n\\t\\tfont-weight: normal;\\n\\t\\tfont-style: normal;\\n\\t\\tposition: absolute;\\n\\t\\tcontent: attr(data-html-object-embed-label);\\n\\t\\ttop: 0;\\n\\t\\tleft: var(--ck-spacing-standard);\\n\\t\\tbackground: hsl(0deg 0% 60%);\\n\\t\\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\\n\\t\\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\\n\\t\\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\\n\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\tfont-family: var(--ck-font-face);\\n\\t}\\n\\n\\t/* Make space for label. */\\n\\t& .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\\n\\t\\tmargin-left: 50px;\\n\\t}\\n\\n\\t& .html-object-embed__content {\\n\\t\\t/* Disable user interaction with embed content */\\n\\t\\tpointer-events: none;\\n\\t}\\n}\\n\\ndiv.ck-widget.html-object-embed {\\n\\tmargin: 1em auto;\\n}\\n\\nspan.ck-widget.html-object-embed {\\n\\tdisplay: inline-block;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/image.css\"],\"names\":[],\"mappings\":\"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content {\\n\\t& .image {\\n\\t\\tdisplay: table;\\n\\t\\tclear: both;\\n\\t\\ttext-align: center;\\n\\n\\t\\t/* Make sure there is some space between the content and the image. Center image by default. */\\n\\t\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\t \\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\t\\tmargin: 0.9em auto;\\n\\n\\t\\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\\n\\t\\tmin-width: 50px;\\n\\n\\t\\t& img {\\n\\t\\t\\t/* Prevent unnecessary margins caused by line-height (see #44). */\\n\\t\\t\\tdisplay: block;\\n\\n\\t\\t\\t/* Center the image if its width is smaller than the content's width. */\\n\\t\\t\\tmargin: 0 auto;\\n\\n\\t\\t\\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\\n\\t\\t\\tmin-width: 100%;\\n\\n\\t\\t\\t/* Keep proportions of the block image if the height is set and the image is wider than the editor width.\\n\\t\\t\\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\\n\\t\\t\\theight: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .image-inline {\\n\\t\\t/*\\n\\t\\t * Normally, the .image-inline would have \\\"display: inline-block\\\" and \\\"img { width: 100% }\\\" (to follow the wrapper while resizing).\\n\\t\\t * Unfortunately, together with \\\"srcset\\\", it gets automatically stretched up to the width of the editing root.\\n\\t\\t * This strange behavior does not happen with inline-flex.\\n\\t\\t */\\n\\t\\tdisplay: inline-flex;\\n\\n\\t\\t/* While being resized, don't allow the image to exceed the width of the editing root. */\\n\\t\\tmax-width: 100%;\\n\\n\\t\\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\\n\\t\\talign-items: flex-start;\\n\\n\\t\\t/* When the picture is present it must act as a flex container to let the img resize properly */\\n\\t\\t& picture {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t}\\n\\n\\t\\t/* When the picture is present, it must act like a resizable img. */\\n\\t\\t& picture,\\n\\t\\t& img {\\n\\t\\t\\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tflex-shrink: 1;\\n\\n\\t\\t\\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/*\\n\\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\\n\\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\\n\\t * caret does, and not at the edge of <figcaption>.\\n\\t */\\n\\t& .image > figcaption.ck-placeholder::before {\\n\\t\\tpadding-left: inherit;\\n\\t\\tpadding-right: inherit;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the image caption placeholder doesn't overflow the placeholder area.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\\n\\t\\t */\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n\\n\\t/*\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\\n\\t */\\n\\t& .image {\\n\\t\\tz-index: 1;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the selected image always stays on top of its siblings.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\\n\\t\\t */\\n\\t\\t&.ck-widget_selected {\\n\\t\\t\\tz-index: 2;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\\n\\t */\\n\\t& .image-inline {\\n\\t\\tz-index: 1;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the selected inline image always stays on top of its siblings.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\\n\\t\\t */\\n\\t\\t&.ck-widget_selected {\\n\\t\\t\\tz-index: 2;\\n\\n\\t\\t\\t/*\\n\\t\\t\\t * Make sure the native browser selection style is not displayed.\\n\\t\\t\\t * Inline image widgets have their own styles for the selected state and\\n\\t\\t\\t * leaving this up to the browser is asking for a visual collision.\\n\\t\\t\\t */\\n\\t\\t\\t& ::selection {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\\n\\t& .image-inline img {\\n\\t\\theight: auto;\\n\\t}\\n\\n\\t/* The inline image nested in the table should have its original size if not resized.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\\n\\t& td,\\n\\t& th {\\n\\t\\t& .image-inline img {\\n\\t\\t\\tmax-width: none;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\\\";\\n\\n:root {\\n\\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\\n\\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\\n\\t--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);\\n}\\n\\n/* Content styles */\\n.ck-content .image > figcaption {\\n\\tdisplay: table-caption;\\n\\tcaption-side: bottom;\\n\\tword-break: break-word;\\n\\tcolor: var(--ck-color-image-caption-text);\\n\\tbackground-color: var(--ck-color-image-caption-background);\\n\\tpadding: .6em;\\n\\tfont-size: .75em;\\n\\toutline-offset: -1px;\\n\\n\\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\\n\\t@media (forced-colors: active) {\\n\\t\\tbackground-color: unset;\\n\\t\\tcolor: unset;\\n\\t}\\n}\\n\\n/* Editing styles */\\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\\n\\t@mixin ck-media-default-colors {\\n\\t\\tanimation: ck-image-caption-highlight .6s ease-out;\\n\\t}\\n\\n\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\tanimation: none;\\n\\t}\\n}\\n\\n@keyframes ck-image-caption-highlight {\\n\\t0% {\\n\\t\\tbackground-color: var(--ck-color-image-caption-highlighted-background);\\n\\t}\\n\\n\\t100% {\\n\\t\\tbackground-color: var(--ck-color-image-caption-background);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-forced-colors {\\n\\t@media (forced-colors: active) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\\n@define-mixin ck-media-default-colors {\\n\\t@media (forced-colors: none) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagecustomresizeform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-image-custom-resize-form {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\talign-items: flex-start;\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tdisplay: inline-block;\\n\\t}\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-image-insert-url{padding:var(--ck-spacing-large) var(--ck-spacing-large) 0;width:400px}.ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;width:100%;[dir=ltr] &{text-align:left}[dir=rtl] &{text-align:right}}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAKA,wBAEC,yDAA0D,CAD1D,WAOD,CAJC,yDACC,YAAa,CACb,mCACD,CCLD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CACd,UAAW,CC3BZ,YD8BE,eC5BF,CAFA,YDkCE,gBChCF,CDkCA,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-image-insert-url {\\n\\twidth: 400px;\\n\\tpadding: var(--ck-spacing-large) var(--ck-spacing-large) 0;\\n\\n\\t& .ck-image-insert-url__action-row {\\n\\t\\tdisplay: grid;\\n\\t\\tgrid-template-columns: repeat(2, 1fr);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n:root {\\n\\t--ck-image-insert-insert-by-url-width: 250px;\\n}\\n\\n.ck.ck-image-insert-url {\\n\\t--ck-input-width: 100%;\\n\\n\\t& .ck-image-insert-url__action-row {\\n\\t\\tgrid-column-gap: var(--ck-spacing-large);\\n\\t\\tmargin-top: var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button-save,\\n\\t\\t& .ck-button-cancel {\\n\\t\\t\\tjustify-content: center;\\n\\t\\t\\tmin-width: auto;\\n\\t\\t}\\n\\n\\t\\t& .ck-button .ck-button__label {\\n\\t\\t\\tcolor: var(--ck-color-text);\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-image-insert-form {\\n\\t& > .ck.ck-button {\\n\\t\\tdisplay: block;\\n\\t\\twidth: 100%;\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\ttext-align: left;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\ttext-align: right;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck.ck-collapsible {\\n\\t\\t&:not(:first-child) {\\n\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t&:not(:last-child) {\\n\\t\\t\\tborder-bottom: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\tmin-width: var(--ck-image-insert-insert-by-url-width);\\n\\t}\\n\\n\\t/* This is the case when there are no other integrations configured than insert by URL */\\n\\t& > .ck.ck-image-insert-url {\\n\\t\\tmin-width: var(--ck-image-insert-insert-by-url-width);\\n\\t\\tpadding: var(--ck-spacing-large);\\n\\t}\\n\\n\\t&:focus {\\n\\t\\toutline: none;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css\"],\"names\":[],\"mappings\":\"AAMC,8CACC,yBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& img.image_placeholder {\\n\\t\\tbackground-size: 100% 100%;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css\"],\"names\":[],\"mappings\":\"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* Preserve aspect ratio of the resized image after introducing image height attribute. */\\n.ck-content img.image_resized {\\n\\theight: auto;\\n}\\n\\n.ck-content .image.image_resized {\\n\\tmax-width: 100%;\\n\\t/*\\n\\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\\n\\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\\n\\tFortunately, since we control the width, there is no risk that the image will look bad.\\n\\t*/\\n\\tdisplay: block;\\n\\tbox-sizing: border-box;\\n\\n\\t& img {\\n\\t\\t/* For resized images it is the `<figure>` element that determines the image width. */\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& > figcaption {\\n\\t\\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\\n\\t\\tdisplay: block;\\n\\t}\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/* The resized inline image nested in the table should respect its parent size.\\n\\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\\n\\t& td,\\n\\t& th {\\n\\t\\t& .image-inline.image_resized img {\\n\\t\\t\\tmax-width: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\\n[dir=\\\"ltr\\\"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\\n\\tmargin-right: var(--ck-spacing-standard);\\n}\\n\\n[dir=\\\"rtl\\\"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\\n\\tmargin-left: var(--ck-spacing-standard);\\n}\\n\\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\\n\\twidth: 4em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image.image-style-block-align-left,.ck-content .image.image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image.image-style-align-left,.ck-content .image.image-style-align-right{clear:none}.ck-content .image.image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image.image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image.image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image.image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image.image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content p+.image.image-style-align-left,.ck-content p+.image.image-style-align-right,.ck-content p+.image.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAQE,iGAEC,oDACD,CAIA,qFAEC,UACD,CAEA,oCACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,0CACC,UAAW,CACX,0CACD,CAEA,2CACC,WAAY,CACZ,yCACD,CAEA,iDAEC,gBAAiB,CADjB,cAED,CAEA,gDACC,aAAc,CACd,iBACD,CAGD,sCACC,gBAAiB,CACjB,iBACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAGA,+HAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-image-style-spacing: 1.5em;\\n\\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\\n}\\n\\n.ck-content {\\n\\t/* See: https://github.com/ckeditor/ckeditor5/issues/16317 */\\n\\t& .image {\\n\\t\\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\\n\\t\\tconfirming successful application of the style if image width exceeds the editor's size.\\n\\t\\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\\n\\t\\t&.image-style-block-align-left,\\n\\t\\t&.image-style-block-align-right {\\n\\t\\t\\tmax-width: calc(100% - var(--ck-image-style-spacing));\\n\\t\\t}\\n\\n\\t\\t/* Allows displaying multiple floating images in the same line.\\n\\t\\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\\n\\t\\t&.image-style-align-left,\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tclear: none;\\n\\t\\t}\\n\\n\\t\\t&.image-style-side {\\n\\t\\t\\tfloat: right;\\n\\t\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t\\t\\tmax-width: 50%;\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-left {\\n\\t\\t\\tfloat: left;\\n\\t\\t\\tmargin-right: var(--ck-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tfloat: right;\\n\\t\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-block-align-right {\\n\\t\\t\\tmargin-right: 0;\\n\\t\\t\\tmargin-left: auto;\\n\\t\\t}\\n\\n\\t\\t&.image-style-block-align-left {\\n\\t\\t\\tmargin-left: 0;\\n\\t\\t\\tmargin-right: auto;\\n\\t\\t}\\n\\t}\\n\\n\\t& .image-style-align-center {\\n\\t\\tmargin-left: auto;\\n\\t\\tmargin-right: auto;\\n\\t}\\n\\n\\t& .image-style-align-left {\\n\\t\\tfloat: left;\\n\\t\\tmargin-right: var(--ck-image-style-spacing);\\n\\t}\\n\\n\\t& .image-style-align-right {\\n\\t\\tfloat: right;\\n\\t\\tmargin-left: var(--ck-image-style-spacing);\\n\\t}\\n\\n\\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\\n\\t& p + .image.image-style-align-left,\\n\\t& p + .image.image-style-align-right,\\n\\t& p + .image.image-style-side {\\n\\t\\tmargin-top: 0;\\n\\t}\\n\\n\\t& .image-inline {\\n\\t\\t&.image-style-align-left,\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tmargin-top: var(--ck-inline-image-style-spacing);\\n\\t\\t\\tmargin-bottom: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-left {\\n\\t\\t\\tmargin-right: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\n\\t\\t&.image-style-align-right {\\n\\t\\t\\tmargin-left: var(--ck-inline-image-style-spacing);\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck.ck-splitbutton {\\n\\t/* The button should display as a regular drop-down if the action button\\n\\tis forced to fire the same action as the arrow button. */\\n\\t&.ck-splitbutton_flatten {\\n\\t\\t&:hover,\\n\\t\\t&.ck-splitbutton_open {\\n\\t\\t\\t& > .ck-splitbutton__action:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\\n\\t\\t\\t\\tbackground-color: var(--ck-color-button-on-background);\\n\\n\\t\\t\\t\\t&::after {\\n\\t\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-splitbutton_open:hover {\\n\\t\\t\\t& > .ck-splitbutton__action:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled),\\n\\t\\t\\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\\n\\t\\t\\t\\tbackground-color: var(--ck-color-button-on-hover-background);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:\\\"\\\";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css\"],\"names\":[],\"mappings\":\"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-image-upload-complete-icon {\\n\\tdisplay: block;\\n\\tposition: absolute;\\n\\n\\t/*\\n\\t * Smaller images should have the icon closer to the border.\\n\\t * Match the icon position with the linked image indicator brought by the link image feature.\\n\\t */\\n\\ttop: min(var(--ck-spacing-medium), 6%);\\n\\tright: min(var(--ck-spacing-medium), 6%);\\n\\tborder-radius: 50%;\\n\\tz-index: 1;\\n\\n\\t&::after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\tposition: absolute;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\\n\\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\\n\\n\\t/* Match the icon size with the linked image indicator brought by the link image feature. */\\n\\t--ck-image-upload-icon-size: 20;\\n\\t--ck-image-upload-icon-width: 2px;\\n\\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\\n}\\n\\n.ck-image-upload-complete-icon {\\n\\topacity: 0;\\n\\tbackground: var(--ck-color-image-upload-icon-background);\\n\\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\\n\\tanimation-fill-mode: forwards, forwards;\\n\\tanimation-duration: 500ms, 500ms;\\n\\n\\t/* To make animation scalable. */\\n\\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\\n\\n\\t/* Hide completed upload icon after 3 seconds. */\\n\\tanimation-delay: 0ms, 3000ms;\\n\\n\\t/*\\n\\t * Use CSS math to simulate container queries.\\n\\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\\n\\t */\\n\\toverflow: hidden;\\n\\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\\n\\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\\n\\n\\t/* This is check icon element made from border-width mixed with animations. */\\n\\t&::after {\\n\\t\\t/* Because of border transformation we need to \\\"hard code\\\" left position. */\\n\\t\\tleft: 25%;\\n\\n\\t\\ttop: 50%;\\n\\t\\topacity: 0;\\n\\t\\theight: 0;\\n\\t\\twidth: 0;\\n\\n\\t\\ttransform: scaleX(-1) rotate(135deg);\\n\\t\\ttransform-origin: left top;\\n\\t\\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\\n\\t\\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\\n\\n\\t\\tanimation-name: ck-upload-complete-icon-check;\\n\\t\\tanimation-duration: 500ms;\\n\\t\\tanimation-delay: 500ms;\\n\\t\\tanimation-fill-mode: forwards;\\n\\n\\t\\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\\n\\t\\tbox-sizing: border-box;\\n\\t}\\n\\n\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\tanimation-duration: 0ms;\\n\\n\\t\\t&::after {\\n\\t\\t\\tanimation: none;\\n\\t\\t\\topacity: 1;\\n\\t\\t\\twidth: 0.3em;\\n\\t\\t\\theight: 0.45em;\\n\\t\\t}\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-show {\\n\\tfrom {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\tto {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-hide {\\n\\tfrom {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\tto {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n@keyframes ck-upload-complete-icon-check {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t\\twidth: 0;\\n\\t\\theight: 0;\\n\\t}\\n\\t33% {\\n\\t\\twidth: 0.3em;\\n\\t\\theight: 0;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\twidth: 0.3em;\\n\\t\\theight: 0.45em;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:\\\"\\\";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css\"],\"names\":[],\"mappings\":\"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-upload-placeholder-loader {\\n\\tposition: absolute;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\n\\t&::before {\\n\\t\\tcontent: '';\\n\\t\\tposition: relative;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\\n\\t--ck-upload-placeholder-loader-size: 32px;\\n\\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\\n}\\n\\n.ck .ck-image-upload-placeholder {\\n\\t/* We need to control the full width of the SVG gray background. */\\n\\twidth: 100%;\\n\\tmargin: 0;\\n\\n\\t&.image-inline {\\n\\t\\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\\n\\t}\\n\\n\\t& img {\\n\\t\\t/*\\n\\t\\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\\n\\t\\t * There's nothing special about this number except that it should make the image placeholder look like\\n\\t\\t * a real image during this short period after the upload started and before the image was read from the\\n\\t\\t * file system (and a rich preview was loaded).\\n\\t\\t */\\n\\t\\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\\n\\t}\\n}\\n\\n.ck .ck-upload-placeholder-loader {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\n\\t&::before {\\n\\t\\twidth: var(--ck-upload-placeholder-loader-size);\\n\\t\\theight: var(--ck-upload-placeholder-loader-size);\\n\\t\\tborder-radius: 50%;\\n\\t\\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\\n\\t\\tborder-right: 2px solid transparent;\\n\\t\\tanimation: ck-upload-placeholder-loader 1s linear infinite;\\n\\t}\\n}\\n\\n@keyframes ck-upload-placeholder-loader {\\n\\tto {\\n\\t\\ttransform: rotate( 360deg );\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css\"],\"names\":[],\"mappings\":\"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& .image,\\n\\t& .image-inline {\\n\\t\\tposition: relative;\\n\\t}\\n\\n\\t/* Upload progress bar. */\\n\\t& .image .ck-progress-bar,\\n\\t& .image-inline .ck-progress-bar {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 0;\\n\\t\\tleft: 0;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t& .image,\\n\\t& .image-inline {\\n\\t\\t/* Showing animation. */\\n\\t\\t&.ck-appear {\\n\\t\\t\\tanimation: fadeIn 700ms;\\n\\n\\t\\t\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t\\tanimation: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Upload progress bar. */\\n\\t& .image .ck-progress-bar,\\n\\t& .image-inline .ck-progress-bar {\\n\\t\\theight: 2px;\\n\\t\\twidth: 0;\\n\\t\\tbackground: var(--ck-color-upload-bar-background);\\n\\t\\ttransition: width 100ms;\\n\\t}\\n}\\n\\n@keyframes fadeIn {\\n\\tfrom { opacity: 0; }\\n\\tto   { opacity: 1; }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-text-alternative-form {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tdisplay: inline-block;\\n\\t}\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css\"],\"names\":[],\"mappings\":\"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/* Class added to span element surrounding currently selected link. */\\n.ck .ck-link_selected {\\n\\tbackground: var(--ck-color-link-selected-background);\\n\\n\\t/* Give linked inline images some outline to let the user know they are also part of the link. */\\n\\t& span.image-inline {\\n\\t\\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\\n\\t}\\n}\\n\\n/*\\n * Classes used by the \\\"fake visual selection\\\" displayed in the content when an input\\n * in the link UI has focus (the browser does not render the native selection in this state).\\n */\\n.ck .ck-fake-link-selection {\\n\\tbackground: var(--ck-color-link-fake-selection);\\n}\\n\\n/* A collapsed fake visual selection. */\\n.ck .ck-fake-link-selection_collapsed {\\n\\theight: 100%;\\n\\tborder-right: 1px solid var(--ck-color-base-text);\\n\\tmargin-right: -1px;\\n\\toutline: solid 1px hsla(0, 0%, 100%, .5);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions{[dir=ltr] & .ck-button:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] & .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){[dir=ltr] &,[dir=rtl] &{margin-left:0}}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CApCH,oBAyCE,yCACC,sCACD,CAIA,wCACC,sCACD,CAuBF,CD7EC,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,8DCnED,wBDyEG,aCvEH,CDyEC,CDzED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-link-actions {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\n\\t& .ck-link-actions__preview {\\n\\t\\tdisplay: inline-block;\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\toverflow: hidden;\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-link-actions__preview {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(.ck-link-actions__preview) {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n@import \\\"../mixins/_focus.css\\\";\\n@import \\\"../mixins/_shadow.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-link-actions {\\n\\t& .ck-button.ck-link-actions__preview {\\n\\t\\tpadding-left: 0;\\n\\t\\tpadding-right: 0;\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\tpadding: 0 var(--ck-spacing-medium);\\n\\t\\t\\tcolor: var(--ck-color-link-default);\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\tcursor: pointer;\\n\\n\\t\\t\\t/* Match the box model of the link editor form's input so the balloon\\n\\t\\t\\tdoes not change width when moving between actions and the form. */\\n\\t\\t\\tmax-width: var(--ck-input-width);\\n\\t\\t\\tmin-width: 3em;\\n\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&,\\n\\t\\t&:hover,\\n\\t\\t&:focus,\\n\\t\\t&:active {\\n\\t\\t\\tbackground: none;\\n\\t\\t}\\n\\n\\t\\t&:active {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t}\\n\\n\\t\\t&:focus {\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir ltr {\\n\\t\\t& .ck-button:not(:first-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir rtl {\\n\\t\\t& .ck-button:not(:last-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\t& .ck-button.ck-link-actions__preview {\\n\\t\\t\\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\tmax-width: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(.ck-link-actions__preview) {\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical>.ck-button{[dir=ltr] &,[dir=rtl] &{margin-left:0}[dir=rtl] &:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:0 var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4CClBA,wBDiCE,aC/BF,CDiCE,yBACC,kDACD,CAEF,CAGA,6CACC,gCAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-link-form {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * Style link form differently when manual decorators are available.\\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\\n */\\n.ck.ck-link-form_layout-vertical {\\n\\tdisplay: block;\\n\\n\\t/*\\n\\t * Whether the form is in the responsive mode or not, if there are decorator buttons\\n\\t * keep the top margin of action buttons medium.\\n\\t */\\n\\t& .ck-button {\\n\\t\\t&.ck-button-save,\\n\\t\\t&.ck-button-cancel {\\n\\t\\t\\tmargin-top: var(--ck-spacing-medium);\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n/*\\n * Style link form differently when manual decorators are available.\\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\\n */\\n.ck.ck-link-form_layout-vertical {\\n\\tpadding: 0;\\n\\tmin-width: var(--ck-input-width);\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\\n\\n\\t\\t& .ck-input-text {\\n\\t\\t\\tmin-width: 0;\\n\\t\\t\\twidth: 100%;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-button {\\n\\t\\tpadding: var(--ck-spacing-standard);\\n\\t\\tmargin: 0;\\n\\t\\twidth: 50%;\\n\\t\\tborder-radius: 0;\\n\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tmargin-left: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tmargin-left: 0;\\n\\n\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\\n\\t& .ck.ck-list {\\n\\t\\tmargin: 0 var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button.ck-switchbutton {\\n\\t\\t\\tpadding: 0;\\n\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tbackground: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+\\\");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:\\\"\\\";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css\"],\"names\":[],\"mappings\":\"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-editor__editable {\\n\\t/* Linked image indicator */\\n\\t& figure.image > a,\\n\\t& a span.image-inline {\\n\\t\\t&::after {\\n\\t\\t\\tdisplay: block;\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t/* Match the icon size with the upload indicator brought by the image upload feature. */\\n\\t--ck-link-image-indicator-icon-size: 20;\\n\\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\\n}\\n\\n.ck.ck-editor__editable {\\n\\t/* Linked image indicator */\\n\\t& figure.image > a,\\n\\t& a span.image-inline {\\n\\t\\t&::after {\\n\\t\\t\\tcontent: \\\"\\\";\\n\\n\\t\\t\\t/*\\n\\t\\t\\t * Smaller images should have the icon closer to the border.\\n\\t\\t\\t * Match the icon position with the upload indicator brought by the image upload feature.\\n\\t\\t\\t */\\n\\t\\t\\ttop: min(var(--ck-spacing-medium), 6%);\\n\\t\\t\\tright: min(var(--ck-spacing-medium), 6%);\\n\\n\\t\\t\\tbackground-color: hsla(0, 0%, 0%, .4);\\n\\t\\t\\tbackground-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+\\\");\\n\\t\\t\\tbackground-size: 14px;\\n\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tborder-radius: 100%;\\n\\n\\t\\t\\t/*\\n\\t\\t\\t* Use CSS math to simulate container queries.\\n\\t\\t\\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\\n\\t\\t\\t*/\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\\n\\t\\t\\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\\n\\t\\t}\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-editor__editable .ck-list-bogus-paragraph{display:block}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/documentlist.css\"],\"names\":[],\"mappings\":\"AAKA,8CACC,aACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-editor__editable .ck-list-bogus-paragraph {\\n\\tdisplay: block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/list.css\"],\"names\":[],\"mappings\":\"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content ol {\\n\\tlist-style-type: decimal;\\n\\n\\t& ol {\\n\\t\\tlist-style-type: lower-latin;\\n\\n\\t\\t& ol {\\n\\t\\t\\tlist-style-type: lower-roman;\\n\\n\\t\\t\\t& ol {\\n\\t\\t\\t\\tlist-style-type: upper-latin;\\n\\n\\t\\t\\t\\t& ol {\\n\\t\\t\\t\\t\\tlist-style-type: upper-roman;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\\n.ck-content ul {\\n\\tlist-style-type: disc;\\n\\n\\t& ul {\\n\\t\\tlist-style-type: circle;\\n\\n\\t\\t& ul {\\n\\t\\t\\tlist-style-type: square;\\n\\n\\t\\t\\t& ul {\\n\\t\\t\\t\\tlist-style-type: square;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css\"],\"names\":[],\"mappings\":\"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-list-properties {\\n\\t/* When there are no list styles and there is no collapsible. */\\n\\t&.ck-list-properties_without-styles {\\n\\t\\tpadding: var(--ck-spacing-large);\\n\\n\\t\\t& > * {\\n\\t\\t\\tmin-width: 14em;\\n\\n\\t\\t\\t& + * {\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * When the numbered list property fields (start at, reversed) should be displayed,\\n\\t * more horizontal space is needed. Reconfigure the style grid to create that space.\\n\\t */\\n\\t&.ck-list-properties_with-numbered-properties {\\n\\t\\t& > .ck-list-styles-list {\\n\\t\\t\\tgrid-template-columns: repeat( 4, auto );\\n\\t\\t}\\n\\n\\t\\t/* When list styles are rendered and property fields are in a collapsible. */\\n\\t\\t& > .ck-collapsible {\\n\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\n\\t\\t\\t& > .ck-collapsible__children {\\n\\t\\t\\t\\t& > * {\\n\\t\\t\\t\\t\\twidth: 100%;\\n\\n\\t\\t\\t\\t\\t& + * {\\n\\t\\t\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-numbered-list-properties__start-index .ck-input {\\n\\t\\tmin-width: auto;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& .ck.ck-numbered-list-properties__reversed-order {\\n\\t\\tbackground: transparent;\\n\\t\\tpadding-left: 0;\\n\\t\\tpadding-right: 0;\\n\\t\\tmargin-bottom: calc(-1 * var(--ck-spacing-tiny));\\n\\n\\t\\t&:active, &:hover {\\n\\t\\t\\tbox-shadow: none;\\n\\t\\t\\tborder-color: transparent;\\n\\t\\t\\tbackground: none;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/liststyles.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css\"],\"names\":[],\"mappings\":\"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-list-styles-list {\\n\\tdisplay: grid;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-list-style-button-size: 44px;\\n}\\n\\n.ck.ck-list-styles-list {\\n\\tgrid-template-columns: repeat( 3, auto );\\n\\trow-gap: var(--ck-spacing-medium);\\n\\tcolumn-gap: var(--ck-spacing-medium);\\n\\tpadding: var(--ck-spacing-large);\\n\\n\\t& .ck-button {\\n\\t\\t/* Make the button look like a thumbnail (the icon \\\"takes it all\\\"). */\\n\\t\\twidth: var(--ck-list-style-button-size);\\n\\t\\theight: var(--ck-list-style-button-size);\\n\\t\\tpadding: 0;\\n\\n\\t\\t/*\\n\\t\\t * Buttons are aligned by the grid so disable default button margins to not collide with the\\n\\t\\t * gaps in the grid.\\n\\t\\t */\\n\\t\\tmargin: 0;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\\n\\t\\t * from the button dimensions and, as a result, decrease the size of the icon\\n\\t\\t * (which becomes blurry as it scales down).\\n\\t\\t */\\n\\t\\tbox-sizing: content-box;\\n\\n\\t\\t& .ck-icon {\\n\\t\\t\\twidth: var(--ck-list-style-button-size);\\n\\t\\t\\theight: var(--ck-list-style-button-size);\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size);[dir=rtl]&{left:0;margin-left:-15px;margin-right:0;right:-25px}}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:\\\"\\\";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:\\\"\\\";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size);[dir=rtl]&{left:0;margin-left:-15px;margin-right:0;right:-25px}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:\\\"\\\";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:\\\"\\\";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-list/theme/todolist.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAAyC,CAczC,WACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAkEC,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAAyC,CAczC,WACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAoGA,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-todo-list-checkmark-size: 16px;\\n}\\n\\n@define-mixin todo-list-checkbox {\\n\\t-webkit-appearance: none;\\n\\tdisplay: inline-block;\\n\\tposition: relative;\\n\\twidth: var(--ck-todo-list-checkmark-size);\\n\\theight: var(--ck-todo-list-checkmark-size);\\n\\tvertical-align: middle;\\n\\n\\t/* Needed on iOS */\\n\\tborder: 0;\\n\\n\\t/* LTR styles */\\n\\tleft: -25px;\\n\\tmargin-right: -15px;\\n\\tright: 0;\\n\\tmargin-left: 0;\\n\\n\\t/* RTL styles */\\n\\t[dir=rtl]& {\\n\\t\\tleft: 0;\\n\\t\\tmargin-right: 0;\\n\\t\\tright: -25px;\\n\\t\\tmargin-left: -15px;\\n\\t}\\n\\n\\t&::before {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\tbox-sizing: border-box;\\n\\t\\tcontent: '';\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\tborder: 1px solid hsl(0, 0%, 20%);\\n\\t\\tborder-radius: 2px;\\n\\t\\ttransition: 250ms ease-in-out box-shadow;\\n\\n\\t\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\t\\ttransition: none;\\n\\t\\t}\\n\\t}\\n\\n\\t&::after {\\n\\t\\tdisplay: block;\\n\\t\\tposition: absolute;\\n\\t\\tbox-sizing: content-box;\\n\\t\\tpointer-events: none;\\n\\t\\tcontent: '';\\n\\n\\t\\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\\n\\t\\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\\n\\t\\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\\n\\t\\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\\n\\t\\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\\n\\t\\tborder-style: solid;\\n\\t\\tborder-color: transparent;\\n\\t\\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\\n\\t\\ttransform: rotate(45deg);\\n\\t}\\n\\n\\t&[checked] {\\n\\t\\t&::before {\\n\\t\\t\\tbackground: hsl(126, 64%, 41%);\\n\\t\\t\\tborder-color: hsl(126, 64%, 41%);\\n\\t\\t}\\n\\n\\t\\t&::after {\\n\\t\\t\\tborder-color: hsl(0, 0%, 100%);\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * To-do list content styles.\\n */\\n.ck-content .todo-list {\\n\\tlist-style: none;\\n\\n\\t& li {\\n\\t\\tposition: relative;\\n\\t\\tmargin-bottom: 5px;\\n\\n\\t\\t& .todo-list {\\n\\t\\t\\tmargin-top: 5px;\\n\\t\\t}\\n\\t}\\n\\n\\t& .todo-list__label {\\n\\t\\t& > input {\\n\\t\\t\\t@mixin todo-list-checkbox;\\n\\t\\t}\\n\\n\\t\\t& .todo-list__label__description {\\n\\t\\t\\tvertical-align: middle;\\n\\t\\t}\\n\\n\\t\\t&.todo-list__label_without-description input[type=checkbox] {\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * To-do list editing view styles.\\n */\\n.ck-editor__editable.ck-content .todo-list .todo-list__label {\\n\\t/*\\n\\t * To-do list should be interactive only during the editing\\n\\t * (https://github.com/ckeditor/ckeditor5/issues/2090).\\n\\t */\\n\\t& > input,\\n\\t& > span[contenteditable=false] > input {\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover::before {\\n\\t\\t\\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * Document Lists - editing view has an additional span around checkbox.\\n\\t */\\n\\t& > span[contenteditable=false] > input {\\n\\t\\t@mixin todo-list-checkbox;\\n\\t}\\n\\n\\t&.todo-list__label_without-description {\\n\\t\\t& input[type=checkbox] {\\n\\t\\t\\tposition: absolute;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembed.css\"],\"names\":[],\"mappings\":\"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content .media {\\n\\t/* Don't allow floated content overlap the media.\\n\\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\\n\\tclear: both;\\n\\n\\t/* Make sure there is some space between the content and the media. */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em 0;\\n\\n\\t/* Make sure media is not overriden with Bootstrap default `flex` value.\\n\\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\\n\\tdisplay: block;\\n\\n\\t/* Give the media some minimal width in the content to prevent them\\n\\tfrom being \\\"squashed\\\" in tight spaces, e.g. in table cells (#44) */\\n\\tmin-width: 15em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"goo.gl/maps\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"google.com/maps\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"maps.app.goo.gl\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"maps.google.com\\\"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder){pointer-events:none}.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*=\\\"open.spotify.com\\\"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*=\\\"goo.gl/maps\\\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\\\"google.com/maps\\\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\\\"maps.app.goo.gl\\\"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*=\\\"maps.google.com\\\"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaembedediting.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css\"],\"names\":[],\"mappings\":\"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAMF,wFACC,mBACD,CAIA,mGACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-media__wrapper {\\n\\t& .ck-media__placeholder {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\talign-items: center;\\n\\n\\t\\t& .ck-media__placeholder__url {\\n\\t\\t\\t/* Otherwise the URL will overflow when the content is very narrow. */\\n\\t\\t\\tmax-width: 100%;\\n\\n\\t\\t\\tposition: relative;\\n\\n\\t\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\t\\toverflow: hidden;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"twitter.com\\\"],\\n\\t&[data-oembed-url*=\\\"google.com/maps\\\"],\\n\\t&[data-oembed-url*=\\\"goo.gl/maps\\\"],\\n\\t&[data-oembed-url*=\\\"maps.google.com\\\"],\\n\\t&[data-oembed-url*=\\\"maps.app.goo.gl\\\"],\\n\\t&[data-oembed-url*=\\\"facebook.com\\\"],\\n\\t&[data-oembed-url*=\\\"instagram.com\\\"] {\\n\\t\\t& .ck-media__placeholder__icon * {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n/* Disable all mouse interaction as long as the editor is not read–only.\\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\\n\\tpointer-events: none;\\n}\\n\\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\\n\\tpointer-events: none;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-media-embed-placeholder-icon-size: 3em;\\n\\n\\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\\n\\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\\n}\\n\\n.ck-media__wrapper {\\n\\tmargin: 0 auto;\\n\\n\\t& .ck-media__placeholder {\\n\\t\\tpadding: calc( 3 * var(--ck-spacing-standard) );\\n\\t\\tbackground: var(--ck-color-base-foreground);\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tmin-width: var(--ck-media-embed-placeholder-icon-size);\\n\\t\\t\\theight: var(--ck-media-embed-placeholder-icon-size);\\n\\t\\t\\tmargin-bottom: var(--ck-spacing-large);\\n\\t\\t\\tbackground-position: center;\\n\\t\\t\\tbackground-size: cover;\\n\\n\\t\\t\\t& .ck-icon {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\theight: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: var(--ck-color-media-embed-placeholder-url-text);\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\ttext-align: center;\\n\\t\\t\\tfont-style: italic;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\\n\\t\\t\\t\\tcursor: pointer;\\n\\t\\t\\t\\ttext-decoration: underline;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"open.spotify.com\\\"] {\\n\\t\\tmax-width: 300px;\\n\\t\\tmax-height: 380px;\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"google.com/maps\\\"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*=\\\"goo.gl/maps\\\"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*=\\\"maps.google.com\\\"] .ck-media__placeholder__icon,\\n\\t&[data-oembed-url*=\\\"maps.app.goo.gl\\\"] .ck-media__placeholder__icon {\\n\\t\\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"facebook.com\\\"] .ck-media__placeholder {\\n\\t\\tbackground: hsl(220, 46%, 48%);\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(220, 100%, 90%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"instagram.com\\\"] .ck-media__placeholder {\\n\\t\\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\\n\\t\\t}\\n\\n\\t\\t/* stylelint-disable-next-line no-descending-specificity */\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(302, 100%, 94%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t&[data-oembed-url*=\\\"twitter.com\\\"] .ck.ck-media__placeholder {\\n\\t\\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\\n\\t\\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\\n\\n\\t\\t& .ck-media__placeholder__icon {\\n\\t\\t\\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\\n\\t\\t}\\n\\n\\t\\t& .ck-media__placeholder__url__text {\\n\\t\\t\\tcolor: hsl(201, 100%, 86%);\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tcolor: hsl(0, 0%, 100%);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap;width:400px}.ck.ck-media-form .ck-labeled-field-view{display:inline-block;width:100%}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-media-embed/theme/mediaform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAAiB,CACjB,WA0BD,CAxBC,yCACC,oBAAqB,CACrB,UACD,CAEA,4BACC,YACD,CAEA,4BACC,UACD,CCnBA,oCDCD,kBAqBE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CC5BD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-media-form {\\n\\tdisplay: flex;\\n\\talign-items: flex-start;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\twidth: 400px;\\n\\n\\t& .ck-labeled-field-view {\\n\\t\\tdisplay: inline-block;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t& .ck-input {\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .page-break{align-items:center;clear:both;display:flex;justify-content:center;padding:5px 0;position:relative}.ck-content .page-break:after{border-bottom:2px dashed #c4c4c4;content:\\\"\\\";position:absolute;width:100%}.ck-content .page-break__label{background:#fff;border:1px solid #c4c4c4;border-radius:2px;box-shadow:2px 2px 1px rgba(0,0,0,.15);color:#333;display:block;font-family:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;font-size:.75em;font-weight:700;padding:.3em .6em;position:relative;text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}@media print{.ck-content .page-break{padding:0}.ck-content .page-break:after{display:none}.ck-content :has(+.page-break){margin-bottom:0}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-page-break/theme/pagebreak.css\"],\"names\":[],\"mappings\":\"AAKA,wBAKC,kBAAmB,CAHnB,UAAW,CAEX,YAAa,CAEb,sBAAuB,CAHvB,aAAc,CAFd,iBAaD,CANC,8BAGC,gCAAyC,CAFzC,UAAW,CACX,iBAAkB,CAElB,UACD,CAGD,+BAYC,eAA4B,CAN5B,wBAAiC,CACjC,iBAAkB,CAMlB,sCAA6C,CAF7C,UAAsB,CAPtB,aAAc,CAId,qDAA0D,CAC1D,eAAiB,CACjB,eAAiB,CAPjB,iBAAkB,CAFlB,iBAAkB,CAIlB,wBAAyB,CAWzB,wBAAyB,CACzB,qBAAsB,CACtB,oBAAqB,CACrB,gBAAiB,CAjBjB,SAkBD,CAGA,aACC,wBACC,SAKD,CAHC,8BACC,YACD,CASD,+BACC,eACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content .page-break {\\n\\tposition: relative;\\n\\tclear: both;\\n\\tpadding: 5px 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\n\\t&::after {\\n\\t\\tcontent: '';\\n\\t\\tposition: absolute;\\n\\t\\tborder-bottom: 2px dashed hsl(0, 0%, 77%);\\n\\t\\twidth: 100%;\\n\\t}\\n}\\n\\n.ck-content .page-break__label {\\n\\tposition: relative;\\n\\tz-index: 1;\\n\\tpadding: .3em .6em;\\n\\tdisplay: block;\\n\\ttext-transform: uppercase;\\n\\tborder: 1px solid hsl(0, 0%, 77%);\\n\\tborder-radius: 2px;\\n\\tfont-family: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\\n\\tfont-size: 0.75em;\\n\\tfont-weight: bold;\\n\\tcolor: hsl(0, 0%, 20%);\\n\\tbackground: hsl(0, 0%, 100%);\\n\\tbox-shadow: 2px 2px 1px hsla(0, 0%, 0%, 0.15);\\n\\n\\t/* Disable the possibility to select the label text by the user. */\\n\\t-webkit-user-select: none;\\n\\t-moz-user-select: none;\\n\\t-ms-user-select: none;\\n\\tuser-select: none;\\n}\\n\\n/* Do not show the page break element inside the print preview window. */\\n@media print {\\n\\t.ck-content .page-break {\\n\\t\\tpadding: 0;\\n\\n\\t\\t&::after {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t/*\\n\\t * From time to time placing page-break directly after a block element with margin causes appending a new blank page in pagination mode.\\n\\t * Removing margin-bottom from the block element fixes that issue and the margin is not being moved to the next blank page.\\n\\t *\\n\\t * Keep this in sync with the pagination plugins.\\n\\t */\\n\\t.ck-content *:has(+ .page-break) {\\n\\t\\tmargin-bottom: 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-source-editing-area{overflow:hidden;position:relative}.ck-source-editing-area textarea,.ck-source-editing-area:after{border:1px solid transparent;font-family:monospace;font-size:var(--ck-font-size-normal);line-height:var(--ck-line-height-base);margin:0;padding:var(--ck-spacing-large);white-space:pre-wrap}.ck-source-editing-area:after{content:attr(data-value) \\\" \\\";display:block;visibility:hidden}.ck-source-editing-area textarea{border-color:var(--ck-color-base-border);border-radius:0;box-sizing:border-box;height:100%;outline:none;overflow:hidden;position:absolute;resize:none;width:100%;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}}.ck-source-editing-area textarea:not([readonly]):focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-source-editing/theme/sourceediting.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css\"],\"names\":[],\"mappings\":\"AASA,wBAEC,eAAgB,CADhB,iBAED,CAEA,+DAIC,4BAA6B,CAG7B,qBAAsB,CADtB,oCAAqC,CADrC,sCAAuC,CAFvC,QAAS,CADT,+BAAgC,CAMhC,oBACD,CAEA,8BACC,4BAA6B,CAE7B,aAAc,CADd,iBAED,CAEA,iCASC,wCAAyC,CC7BzC,eAAgB,CD2BhB,qBAAsB,CAJtB,WAAY,CAEZ,YAAa,CACb,eAAgB,CALhB,iBAAkB,CAGlB,WAAY,CAFZ,UAAW,CCpBX,2CAEC,qCAAsC,CD4BtC,wBAAyB,CACzB,yBC3BD,CDkCD,CAJC,uDEpCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFwCA\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\\\";\\n@import \\\"@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css\\\";\\n@import \\\"@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css\\\";\\n\\n.ck-source-editing-area {\\n\\tposition: relative;\\n\\toverflow: hidden;\\n}\\n\\n.ck-source-editing-area::after,\\n.ck-source-editing-area textarea {\\n\\tpadding: var(--ck-spacing-large);\\n\\tmargin: 0;\\n\\tborder: 1px solid transparent;\\n\\tline-height: var(--ck-line-height-base);\\n\\tfont-size: var(--ck-font-size-normal);\\n\\tfont-family: monospace;\\n\\twhite-space: pre-wrap;\\n}\\n\\n.ck-source-editing-area::after {\\n\\tcontent: attr(data-value) \\\" \\\";\\n\\tvisibility: hidden;\\n\\tdisplay: block;\\n}\\n\\n.ck-source-editing-area textarea {\\n\\tposition: absolute;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tresize: none;\\n\\toutline: none;\\n\\toverflow: hidden;\\n\\tbox-sizing: border-box;\\n\\n\\tborder-color: var(--ck-color-base-border);\\n\\n\\t@mixin ck-rounded-corners {\\n\\t\\tborder-top-left-radius: 0;\\n\\t\\tborder-top-right-radius: 0;\\n\\t}\\n\\n\\t&:not([readonly]):focus {\\n\\t\\t@mixin ck-focus-ring;\\n\\t\\t@mixin ck-box-shadow var(--ck-inner-shadow);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A visual style of focused element's border.\\n */\\n@define-mixin ck-focus-ring {\\n\\t/* Disable native outline. */\\n\\toutline: none;\\n\\tborder: var(--ck-focus-ring)\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * A helper to combine multiple shadows.\\n */\\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\\n\\tbox-shadow: $shadowA, $shadowB;\\n}\\n\\n/**\\n * Gives an element a drop shadow so it looks like a floating panel.\\n */\\n@define-mixin ck-drop-shadow {\\n\\t@mixin ck-box-shadow var(--ck-drop-shadow);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active>.ck-button>.ck-button__label{font-style:italic}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/style.css\"],\"names\":[],\"mappings\":\"AAKA,iGACC,iBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-dropdown.ck-style-dropdown.ck-style-dropdown_multiple-active > .ck-button > .ck-button__label {\\n\\tfont-style: italic;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-style-panel-columns:3}.ck.ck-style-panel .ck-style-grid{display:grid;grid-template-columns:repeat(var(--ck-style-panel-columns),auto);justify-content:start}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{display:flex;flex-direction:column;justify-content:space-between}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{align-content:center;align-items:center;display:flex;flex-basis:100%;flex-grow:1;justify-content:flex-start}:root{--ck-style-panel-button-width:120px;--ck-style-panel-button-height:80px;--ck-style-panel-button-label-background:#f0f0f0;--ck-style-panel-button-hover-label-background:#ebebeb;--ck-style-panel-button-hover-border-color:#b3b3b3}.ck.ck-style-panel .ck-style-grid{column-gap:var(--ck-spacing-large);row-gap:var(--ck-spacing-large)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button{--ck-color-button-default-hover-background:var(--ck-color-base-background);--ck-color-button-default-active-background:var(--ck-color-base-background);height:var(--ck-style-panel-button-height);padding:0;width:var(--ck-style-panel-button-width)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-button__label{flex-shrink:0;height:22px;line-height:22px;overflow:hidden;padding:0 var(--ck-spacing-medium);text-overflow:ellipsis;width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button .ck-style-grid__button__preview{background:var(--ck-color-base-background);border:2px solid var(--ck-color-base-background);opacity:.9;overflow:hidden;padding:var(--ck-spacing-medium);width:100%}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled{--ck-color-button-default-disabled-background:var(--ck-color-base-foreground)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled:not(:focus){border-color:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-disabled .ck-style-grid__button__preview{border-color:var(--ck-color-base-foreground);filter:saturate(.3);opacity:.4}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on{border-color:var(--ck-color-base-active)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on .ck-button__label{box-shadow:0 -1px 0 var(--ck-color-base-active);z-index:1}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button.ck-on:hover{border-color:var(--ck-color-base-active-focus)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on) .ck-button__label{background:var(--ck-style-panel-button-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:not(.ck-on):hover .ck-button__label{background:var(--ck-style-panel-button-hover-label-background)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on){border-color:var(--ck-style-panel-button-hover-border-color)}.ck.ck-style-panel .ck-style-grid .ck-style-grid__button:hover:not(.ck-disabled):not(.ck-on) .ck-style-grid__button__preview{opacity:1}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-style/theme/stylegrid.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylegrid.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,0BACD,CAEA,kCACC,YAAa,CACb,gEAAiE,CACjE,qBAgBD,CAdC,yDACC,YAAa,CAEb,qBAAsB,CADtB,6BAWD,CARC,yFAEC,oBAAqB,CAErB,kBAAmB,CAHnB,YAAa,CAKb,eAAgB,CADhB,WAAY,CAFZ,0BAID,CCrBF,MACC,mCAAoC,CACpC,mCAAoC,CACpC,gDAA2D,CAC3D,sDAAiE,CACjE,kDACD,CAEA,kCAEC,kCAAmC,CADnC,+BAmFD,CAhFC,yDACC,0EAA2E,CAC3E,2EAA4E,CAI5E,0CAA2C,CAF3C,SAAU,CACV,wCA0ED,CAtEC,qEACC,4CACD,CAEA,2EAOC,aAAc,CANd,WAAY,CACZ,gBAAiB,CAGjB,eAAgB,CADhB,kCAAmC,CAEnC,sBAAuB,CAHvB,UAKD,CAEA,yFAMC,0CAA2C,CAC3C,gDAAiD,CAJjD,UAAW,CADX,eAAgB,CAGhB,gCAAiC,CAJjC,UAOD,CAEA,qEACC,6EAaD,CAVC,iFACC,0DACD,CAEA,qGAGC,4CAA6C,CAC7C,mBAAoB,CAHpB,UAID,CAGD,+DACC,wCAUD,CARC,iFACC,+CAAgD,CAChD,SACD,CAEA,qEACC,8CACD,CAIA,uFACC,wDACD,CAEA,6FACC,8DACD,CAGD,6FACC,4DAKD,CAHC,6HACC,SACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-style-panel-columns: 3;\\n}\\n\\n.ck.ck-style-panel .ck-style-grid {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: repeat(var(--ck-style-panel-columns),auto);\\n\\tjustify-content: start;\\n\\n\\t& .ck-style-grid__button {\\n\\t\\tdisplay: flex;\\n\\t\\tjustify-content: space-between;\\n\\t\\tflex-direction: column;\\n\\n\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\talign-content: center;\\n\\t\\t\\tjustify-content: flex-start;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-style-panel-button-width: 120px;\\n\\t--ck-style-panel-button-height: 80px;\\n\\t--ck-style-panel-button-label-background: hsl(0, 0%, 94.1%);\\n\\t--ck-style-panel-button-hover-label-background: hsl(0, 0%, 92.1%);\\n\\t--ck-style-panel-button-hover-border-color: hsl(0, 0%, 70%);\\n}\\n\\n.ck.ck-style-panel .ck-style-grid {\\n\\trow-gap: var(--ck-spacing-large);\\n\\tcolumn-gap: var(--ck-spacing-large);\\n\\n\\t& .ck-style-grid__button {\\n\\t\\t--ck-color-button-default-hover-background: var(--ck-color-base-background);\\n\\t\\t--ck-color-button-default-active-background: var(--ck-color-base-background);\\n\\n\\t\\tpadding: 0;\\n\\t\\twidth: var(--ck-style-panel-button-width);\\n\\t\\theight: var(--ck-style-panel-button-height);\\n\\n\\t\\t/* Let default .ck-button :focus styles apply */\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t}\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\theight: 22px;\\n\\t\\t\\tline-height: 22px;\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tpadding: 0 var(--ck-spacing-medium);\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t}\\n\\n\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\topacity: .9;\\n\\n\\t\\t\\tpadding: var(--ck-spacing-medium);\\n\\t\\t\\tbackground: var(--ck-color-base-background);\\n\\t\\t\\tborder: 2px solid var(--ck-color-base-background);\\n\\t\\t}\\n\\n\\t\\t&.ck-disabled {\\n\\t\\t\\t--ck-color-button-default-disabled-background: var(--ck-color-base-foreground);\\n\\n\\t\\t\\t/* Let default .ck-button :focus styles apply */\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder-color: var(--ck-style-panel-button-label-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\t\\topacity: .4;\\n\\n\\t\\t\\t\\tborder-color: var(--ck-color-base-foreground);\\n\\t\\t\\t\\tfilter: saturate(.3);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-on {\\n\\t\\t\\tborder-color: var(--ck-color-base-active);\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tbox-shadow: 0 -1px 0 var(--ck-color-base-active);\\n\\t\\t\\t\\tz-index: 1; /* Stay on top of the preview with the shadow. */\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:hover {\\n\\t\\t\\t\\tborder-color: var(--ck-color-base-active-focus);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:not(.ck-on) {\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\tbackground: var(--ck-style-panel-button-label-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:hover .ck-button__label {\\n\\t\\t\\t\\tbackground: var(--ck-style-panel-button-hover-label-background);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&:hover:not(.ck-disabled):not(.ck-on) {\\n\\t\\t\\tborder-color: var(--ck-style-panel-button-hover-border-color);\\n\\n\\t\\t\\t& .ck-style-grid__button__preview {\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-style-panel .ck-style-panel__style-group>.ck-label{margin:var(--ck-spacing-large) 0}.ck.ck-style-panel .ck-style-panel__style-group:first-child>.ck-label{margin-top:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylegroup.css\"],\"names\":[],\"mappings\":\"AAMC,0DACC,gCACD,CAGC,sEACC,YACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-style-panel .ck-style-panel__style-group {\\n\\t& > .ck-label {\\n\\t\\tmargin: var(--ck-spacing-large) 0;\\n\\t}\\n\\n\\t&:first-child {\\n\\t\\t& > .ck-label {\\n\\t\\t\\tmargin-top: 0;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-style-panel-max-height:470px}.ck.ck-style-panel{max-height:var(--ck-style-panel-max-height);overflow-y:auto;padding:var(--ck-spacing-large)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-style/stylepanel.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,iCACD,CAEA,mBAGC,2CAA4C,CAD5C,eAAgB,CADhB,+BAGD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-style-panel-max-height: 470px;\\n}\\n\\n.ck.ck-style-panel {\\n\\tpadding: var(--ck-spacing-large);\\n\\toverflow-y: auto;\\n\\tmax-height: var(--ck-style-panel-max-height);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}.ck.ck-input-color>.ck.ck-input-text{[dir=ltr] &{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] &{border-bottom-left-radius:0;border-top-left-radius:0}}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0;[dir=ltr] &{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] &:not(:focus){border-left:1px solid transparent}[dir=rtl] &{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] &:not(:focus){border-right:1px solid transparent}}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);border-radius:0;height:20px;width:20px;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius)}}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}.ck.ck-input-color .ck.ck-input-color__remove-color{[dir=ltr] &{border-top-right-radius:0}[dir=rtl] &{border-top-left-radius:0}}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard);[dir=rtl] &{margin-left:var(--ck-spacing-standard);margin-right:0}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\"],\"names\":[],\"mappings\":\"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,qCCHA,YDME,4BAA6B,CAD7B,yBCHF,CAFA,YDWE,2BAA4B,CAD5B,wBCRF,CDiBA,CAHC,2CACC,SACD,CAIA,wEACC,SAAU,CCvBZ,YD2BG,2BAA4B,CAD5B,wBCxBH,CD2BG,wBACC,iCACD,CC/BH,YDoCG,4BAA6B,CAD7B,yBCjCH,CDoCG,wBACC,kCACD,CAyBF,CAtBC,oFACC,oDACD,CAEA,4GAKC,6CAA8C,CE/CjD,eAAgB,CF8Cb,WAAY,CADZ,UAAW,CE3Cd,2CAEC,qCAED,CFqDE,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,oDCpEA,YDgFE,yBC9EF,CAFA,YDoFE,wBClFF,CD6FA,CARC,gEACC,uCAAwC,CCxF1C,YD4FG,sCAAuC,CADvC,cCzFH,CD4FC\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-input-color {\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: row-reverse;\\n\\n\\t& > input.ck.ck-input-text {\\n\\t\\tmin-width: auto;\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t& > div.ck.ck-dropdown {\\n\\t\\tmin-width: auto;\\n\\n\\t\\t/* This dropdown has no arrow but a color preview instead. */\\n\\t\\t& > .ck-input-color__button .ck-dropdown__arrow {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-input-color__button {\\n\\t\\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\\n\\t\\tdisplay: flex;\\n\\n\\t\\t& .ck.ck-input-color__button__preview {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\toverflow: hidden;\\n\\n\\t\\t\\t& > .ck.ck-input-color__button__preview__no-color-indicator {\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tdisplay: block;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n@import \\\"../mixins/_rounded.css\\\";\\n\\n.ck.ck-input-color {\\n\\t& > .ck.ck-input-text {\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\tborder-bottom-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\tborder-bottom-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t/* Make sure the focused input is always on top of the dropdown button so its\\n\\t\\t   outline and border are never cropped (also when the input is read-only). */\\n\\t\\t&:focus {\\n\\t\\t\\tz-index: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck.ck-dropdown {\\n\\t\\t& > .ck.ck-button.ck-input-color__button {\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t\\t\\tborder-bottom-left-radius: 0;\\n\\n\\t\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\t\\tborder-left: 1px solid transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t\\t\\tborder-bottom-right-radius: 0;\\n\\n\\t\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\t\\tborder-right: 1px solid transparent;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t&.ck-disabled {\\n\\t\\t\\t\\tbackground: var(--ck-color-input-disabled-background);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& > .ck.ck-input-color__button__preview {\\n\\t\\t\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t\\t\\twidth: 20px;\\n\\t\\t\\t\\theight: 20px;\\n\\t\\t\\t\\tborder: 1px solid var(--ck-color-input-border);\\n\\n\\t\\t\\t\\t& > .ck.ck-input-color__button__preview__no-color-indicator {\\n\\t\\t\\t\\t\\ttop: -30%;\\n\\t\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\t\\theight: 150%;\\n\\t\\t\\t\\t\\twidth: 8%;\\n\\t\\t\\t\\t\\tbackground: hsl(0, 100%, 50%);\\n\\t\\t\\t\\t\\tborder-radius: 2px;\\n\\t\\t\\t\\t\\ttransform: rotate(45deg);\\n\\t\\t\\t\\t\\ttransform-origin: 50%;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-input-color__remove-color {\\n\\t\\twidth: 100%;\\n\\t\\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\\n\\n\\t\\tborder-bottom-left-radius: 0;\\n\\t\\tborder-bottom-right-radius: 0;\\n\\n\\t\\t&:not(:focus) {\\n\\t\\t\\tborder-bottom: 1px solid var(--ck-color-input-border);\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\tborder-top-right-radius: 0;\\n\\t\\t}\\n\\n\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\tborder-top-left-radius: 0;\\n\\t\\t}\\n\\n\\t\\t& .ck.ck-icon {\\n\\t\\t\\tmargin-right: var(--ck-spacing-standard);\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: 0;\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css\"],\"names\":[],\"mappings\":\"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-form {\\n\\tpadding: 0 0 var(--ck-spacing-large);\\n\\n\\t&:focus {\\n\\t\\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t& .ck.ck-input-text {\\n\\t\\tmin-width: 100%;\\n\\t\\twidth: 0;\\n\\t}\\n\\n\\t& .ck.ck-dropdown {\\n\\t\\tmin-width: 100%;\\n\\n\\t\\t& .ck-dropdown__button {\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-button__label {\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}.ck.ck-form__row>:not(.ck-label)+*{[dir=ltr] &{margin-left:var(--ck-spacing-large)}[dir=rtl] &{margin-right:var(--ck-spacing-large)}}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/formrow.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,mCCND,YDQG,mCCNH,CAFA,YDYG,oCCVH,CDYC,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-form__row {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\tjustify-content: space-between;\\n\\n\\t/* Ignore labels that work as fieldset legends */\\n\\t& > *:not(.ck-label) {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\n\\t&.ck-table-form__action-row {\\n\\t\\t& .ck-button-save,\\n\\t\\t& .ck-button-cancel {\\n\\t\\t\\tjustify-content: center;\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n.ck.ck-form__row {\\n\\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\\n\\n\\t/* Ignore labels that work as fieldset legends */\\n\\t& > *:not(.ck-label) {\\n\\t\\t& + * {\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-right: var(--ck-spacing-large);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& > .ck-label {\\n\\t\\twidth: 100%;\\n\\t\\tmin-width: 100%;\\n\\t}\\n\\n\\t&.ck-table-form__action-row {\\n\\t\\tmargin-top: var(--ck-spacing-large);\\n\\n\\t\\t& .ck-button .ck-button__label {\\n\\t\\t\\tcolor: var(--ck-color-text);\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css\"],\"names\":[],\"mappings\":\"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck .ck-insert-table-dropdown__grid {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-insert-table-dropdown-padding: 10px;\\n\\t--ck-insert-table-dropdown-box-height: 11px;\\n\\t--ck-insert-table-dropdown-box-width: 12px;\\n\\t--ck-insert-table-dropdown-box-margin: 1px;\\n}\\n\\n.ck .ck-insert-table-dropdown__grid {\\n\\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\\n\\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\\n\\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\\n}\\n\\n.ck .ck-insert-table-dropdown__label,\\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\\n\\ttext-align: center;\\n}\\n\\n.ck .ck-insert-table-dropdown-grid-box {\\n\\tmin-width: var(--ck-insert-table-dropdown-box-width);\\n\\tmin-height: var(--ck-insert-table-dropdown-box-height);\\n\\tmargin: var(--ck-insert-table-dropdown-box-margin);\\n\\tborder: 1px solid var(--ck-color-base-border);\\n\\tborder-radius: 1px;\\n\\toutline: none;\\n\\ttransition: none;\\n\\n\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\ttransition: none;\\n\\t}\\n\\n\\t&:focus {\\n\\t\\tbox-shadow: none;\\n\\t}\\n\\n\\t&.ck-on {\\n\\t\\tborder-color: var(--ck-color-focus-border);\\n\\t\\tbackground: var(--ck-color-focus-outer-shadow);\\n\\t}\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}@media print{.ck-content .table table{height:auto}}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/table.css\"],\"names\":[],\"mappings\":\"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAeF,aACC,yBACC,WACD,CACD,CAIA,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck-content .table {\\n\\t/* Give the table widget some air and center it horizontally */\\n\\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\\n\\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\\n\\tmargin: 0.9em auto;\\n\\tdisplay: table;\\n\\n\\t& table {\\n\\t\\t/* The table cells should have slight borders */\\n\\t\\tborder-collapse: collapse;\\n\\t\\tborder-spacing: 0;\\n\\n\\t\\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\\n\\t\\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\n\\t\\t/* The outer border of the table should be slightly darker than the inner lines.\\n\\t\\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\\n\\t\\tborder: 1px double hsl(0, 0%, 70%);\\n\\n\\t\\t& td,\\n\\t\\t& th {\\n\\t\\t\\tmin-width: 2em;\\n\\t\\t\\tpadding: .4em;\\n\\n\\t\\t\\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.\\n\\t\\t\\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\\n\\t\\t\\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\\n\\t\\t\\tborder: 1px solid hsl(0, 0%, 75%);\\n\\t\\t}\\n\\n\\t\\t& th {\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t\\tbackground: hsla(0, 0%, 0%, 5%);\\n\\t\\t}\\n\\t}\\n}\\n\\n/**\\n * Expanding the table to the full height of the parent container is necessary because tables\\n * are rendered inside <figure> elements, which is kinda buggy in table height calculation.\\n * While setting `height: 100%` fixes the issue in the editing mode described here:\\n * https://github.com/ckeditor/ckeditor5/issues/6186\\n *\\n * it's causing another issue with the table height in the print preview mode here:\\n * https://github.com/ckeditor/ckeditor5/issues/16856\\n *\\n * For now, resetting the height to `initial` in the print mode works as a workaround.\\n */\\n@media print {\\n\\t.ck-content .table table {\\n\\t\\theight: initial;\\n\\t}\\n}\\n\\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\\n.ck-content[dir=\\\"rtl\\\"] .table th {\\n\\ttext-align: right;\\n}\\n\\n.ck-content[dir=\\\"ltr\\\"] .table th {\\n\\ttext-align: left;\\n}\\n\\n.ck-editor__editable .ck-table-bogus-paragraph {\\n\\t/*\\n\\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\\n\\t */\\n\\tdisplay: inline-block;\\n\\n\\t/*\\n\\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\\n\\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\\n\\t */\\n\\twidth: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\"],\"names\":[],\"mappings\":\"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css\\\";\\n\\n:root {\\n\\t--ck-color-selector-caption-background: hsl(0, 0%, 97%);\\n\\t--ck-color-selector-caption-text: hsl(0, 0%, 20%);\\n\\t--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);\\n}\\n\\n/* Content styles */\\n.ck-content .table > figcaption {\\n\\tdisplay: table-caption;\\n\\tcaption-side: top;\\n\\tword-break: break-word;\\n\\ttext-align: center;\\n\\tcolor: var(--ck-color-selector-caption-text);\\n\\tbackground-color: var(--ck-color-selector-caption-background);\\n\\tpadding: .6em;\\n\\tfont-size: .75em;\\n\\toutline-offset: -1px;\\n\\n\\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\\n\\t@mixin ck-media-forced-colors {\\n\\t\\tbackground-color: unset;\\n\\t\\tcolor: unset;\\n\\t}\\n}\\n\\n/* Editing styles */\\n.ck.ck-editor__editable .table > figcaption {\\n\\t@mixin ck-media-default-colors {\\n\\t\\t&.table__caption_highlighted {\\n\\t\\t\\tanimation: ck-table-caption-highlight .6s ease-out;\\n\\t\\t}\\n\\t}\\n\\n\\t&.ck-placeholder::before {\\n\\t\\tpadding-left: inherit;\\n\\t\\tpadding-right: inherit;\\n\\n\\t\\t/*\\n\\t\\t * Make sure the table caption placeholder doesn't overflow the placeholder area.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\\n\\t\\t */\\n\\t\\twhite-space: nowrap;\\n\\t\\toverflow: hidden;\\n\\t\\ttext-overflow: ellipsis;\\n\\t}\\n}\\n\\n@keyframes ck-table-caption-highlight {\\n\\t0% {\\n\\t\\tbackground-color: var(--ck-color-selector-caption-highlighted-background);\\n\\t}\\n\\n\\t100% {\\n\\t\\tbackground-color: var(--ck-color-selector-caption-background);\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-forced-colors {\\n\\t@media (forced-colors: active) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\\n@define-mixin ck-media-default-colors {\\n\\t@media (forced-colors: none) {\\n\\t\\t& {\\n\\t\\t\\t@mixin-content;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css\"],\"names\":[],\"mappings\":\"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-cell-properties-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-cell-properties-form__alignment-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\t&:first-of-type {\\n\\t\\t\\t\\t\\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\\n\\t\\t\\t\\t\\tflex-grow: 0.57;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\t\\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\\n\\t\\t\\t\\t\\tflex-grow: 0.43;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t& .ck-button {\\n\\t\\t\\t\\t\\tflex-grow: 1;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-cell-properties-form {\\n\\twidth: 320px;\\n\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-cell-properties-form__padding-row {\\n\\t\\t\\talign-self: flex-end;\\n\\t\\t\\tpadding: 0;\\n\\t\\t\\twidth: 25%;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-cell-properties-form__alignment-row {\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\tbackground: none;\\n\\n\\t\\t\\t\\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);\\n\\t--ck-table-column-resizer-width: 7px;\\n\\n\\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\\n\\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\\n\\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\\n}\\n\\n.ck-content .table .ck-table-resized {\\n\\ttable-layout: fixed;\\n}\\n\\n.ck-content .table table {\\n\\toverflow: hidden;\\n}\\n\\n.ck-content .table td,\\n.ck-content .table th {\\n\\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\\n\\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\\n\\toverflow-wrap: break-word;\\n\\tposition: relative;\\n}\\n\\n.ck.ck-editor__editable .table .ck-table-column-resizer {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tbottom: 0;\\n\\tright: var(--ck-table-column-resizer-position-offset);\\n\\twidth: var(--ck-table-column-resizer-width);\\n\\tcursor: col-resize;\\n\\tuser-select: none;\\n\\tz-index: var(--ck-z-default);\\n}\\n\\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\\n\\tdisplay: none;\\n}\\n\\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\\n   all resizers must be hidden while the table is dragged. */\\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\\n\\tdisplay: none;\\n}\\n\\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\\n\\tbackground-color: var(--ck-color-selector-column-resizer-hover);\\n\\topacity: 0.25;\\n\\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\\n\\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\\n\\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\\n\\t   unrealistic height for a single table. */\\n\\ttop: -999999px;\\n\\tbottom: -999999px;\\n}\\n\\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\\n\\tleft: var(--ck-table-column-resizer-position-offset);\\n\\tright: unset;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,gEACD,CAWE,8QAGC,2DAA4D,CAC5D,8CAA+C,CAC/C,mBACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);\\n}\\n\\n.ck-widget.table {\\n\\t& td,\\n\\t& th {\\n\\t\\t/**\\n\\t\\t * While setting outline is fine, the border should not be modified here\\n\\t\\t * because it overrides the default table cell border color which is not expected.\\n\\t\\t * So do not use `@mixin ck-focus-ring;` here, or any other border styles.\\n\\t\\t * See more: https://github.com/ckeditor/ckeditor5/issues/16979\\n\\t\\t */\\n\\t\\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\\n\\t\\t&.ck-editor__nested-editable:focus {\\n\\t\\t\\t/* A very slight background to highlight the focused cell */\\n\\t\\t\\tbackground: var(--ck-color-selector-focused-cell-background);\\n\\t\\t\\toutline: 1px solid var(--ck-color-focus-border);\\n\\t\\t\\toutline-offset: -1px; /* progressive enhancement - no IE support */\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:\\\"\\\";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);border-radius:0;color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center;&.ck-rounded-corners,.ck-rounded-corners &{border-radius:var(--ck-border-radius)}}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css\"],\"names\":[],\"mappings\":\"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8EAGC,qCAAsC,CC3CxC,eAAgB,CD4Cd,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAAkB,CC7CpB,2CAEC,qCAED,CDuDC,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-form__border-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__background-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__dimensions-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: column-reverse;\\n\\t\\t\\t\\talign-items: center;\\n\\n\\t\\t\\t\\t& .ck.ck-dropdown {\\n\\t\\t\\t\\t\\tflex-grow: 0;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__dimension-operator {\\n\\t\\t\\t\\tflex-grow: 0;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-labeled-field-view {\\n\\t\\t/* Allow absolute positioning of the status (error) balloons. */\\n\\t\\tposition: relative;\\n\\n\\t\\t& .ck.ck-labeled-field-view__status {\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\tleft: 50%;\\n\\t\\t\\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\\n\\t\\t\\ttransform: translate(-50%,100%);\\n\\n\\t\\t\\t/* Make sure the balloon status stays on top of other form elements. */\\n\\t\\t\\tz-index: 1;\\n\\n\\t\\t\\t/* The arrow pointing towards the field. */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: \\\"\\\";\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\\n\\t\\t\\t\\tleft: 50%;\\n\\t\\t\\t\\ttransform: translateX( -50% );\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"../mixins/_rounded.css\\\";\\n\\n:root {\\n\\t--ck-table-properties-error-arrow-size: 6px;\\n\\t--ck-table-properties-min-error-width: 150px;\\n}\\n\\n.ck.ck-table-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-form__border-row {\\n\\t\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\t\\t& > .ck-label {\\n\\t\\t\\t\\t\\tfont-size: var(--ck-font-size-tiny);\\n\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__border-style,\\n\\t\\t\\t& .ck-table-form__border-width {\\n\\t\\t\\t\\twidth: 80px;\\n\\t\\t\\t\\tmin-width: 80px;\\n\\t\\t\\t\\tmax-width: 80px;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.ck-table-form__dimensions-row {\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t& .ck-table-form__dimensions-row__width,\\n\\t\\t\\t& .ck-table-form__dimensions-row__height {\\n\\t\\t\\t\\tmargin: 0\\n\\t\\t\\t}\\n\\n\\t\\t\\t& .ck-table-form__dimension-operator {\\n\\t\\t\\t\\talign-self: flex-end;\\n\\t\\t\\t\\tdisplay: inline-block;\\n\\t\\t\\t\\theight: var(--ck-ui-component-min-height);\\n\\t\\t\\t\\tline-height: var(--ck-ui-component-min-height);\\n\\t\\t\\t\\tmargin: 0 var(--ck-spacing-small);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t& .ck.ck-labeled-field-view {\\n\\t\\tpadding-top: var(--ck-spacing-standard);\\n\\n\\t\\t& .ck.ck-labeled-field-view__status {\\n\\t\\t\\t@mixin ck-rounded-corners;\\n\\n\\t\\t\\tbackground: var(--ck-color-base-error);\\n\\t\\t\\tcolor: var(--ck-color-base-background);\\n\\t\\t\\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\\n\\t\\t\\tmin-width: var(--ck-table-properties-min-error-width);\\n\\t\\t\\ttext-align: center;\\n\\n\\t\\t\\t/* The arrow pointing towards the field. */\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\\n\\t\\t\\t\\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\\n\\t\\t\\t\\tborder-style: solid;\\n\\t\\t\\t}\\n\\n\\t\\t\\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\\n\\n\\t\\t\\t@media (prefers-reduced-motion: reduce) {\\n\\t\\t\\t\\tanimation: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\\n\\t\\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\\n\\t\\t\\tdisplay: none;\\n\\t\\t}\\n\\t}\\n}\\n\\n@keyframes ck-table-form-labeled-view-status-appear {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t}\\n\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n/**\\n * Implements rounded corner interface for .ck-rounded-corners class.\\n *\\n * @see $ck-border-radius\\n */\\n@define-mixin ck-rounded-corners {\\n\\tborder-radius: 0;\\n\\n\\t.ck-rounded-corners &,\\n\\t&.ck-rounded-corners {\\n\\t\\tborder-radius: var(--ck-border-radius);\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css\"],\"names\":[],\"mappings\":\"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-properties-form {\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-properties-form__alignment-row {\\n\\t\\t\\tflex-wrap: wrap;\\n\\t\\t\\tflex-basis: 0;\\n\\t\\t\\talign-content: baseline;\\n\\n\\t\\t\\t& .ck.ck-toolbar .ck-toolbar__items {\\n\\t\\t\\t\\tflex-wrap: nowrap;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n.ck.ck-table-properties-form {\\n\\twidth: 320px;\\n\\n\\t& .ck-form__row {\\n\\t\\t&.ck-table-properties-form__alignment-row {\\n\\t\\t\\talign-self: flex-end;\\n\\t\\t\\tpadding: 0;\\n\\n\\t\\t\\t& .ck.ck-toolbar {\\n\\t\\t\\t\\tbackground: none;\\n\\n\\t\\t\\t\\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\\n\\t\\t\\t\\tmargin-top: var(--ck-spacing-standard);\\n\\n\\t\\t\\t\\t& .ck-toolbar__items > * {\\n\\t\\t\\t\\t\\twidth: 40px;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:\\\"\\\";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css\"],\"names\":[],\"mappings\":\"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n:root {\\n\\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\\n}\\n\\n.ck.ck-editor__editable .table table {\\n\\t& td.ck-editor__editable_selected,\\n\\t& th.ck-editor__editable_selected {\\n\\t\\tposition: relative;\\n\\t\\tcaret-color: transparent;\\n\\t\\toutline: unset;\\n\\t\\tbox-shadow: unset;\\n\\n\\t\\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\\n\\t\\t&:after {\\n\\t\\t\\tcontent: '';\\n\\t\\t\\tpointer-events: none;\\n\\t\\t\\tbackground-color: var(--ck-table-selected-cell-background);\\n\\t\\t\\tposition: absolute;\\n\\t\\t\\ttop: 0;\\n\\t\\t\\tleft: 0;\\n\\t\\t\\tright: 0;\\n\\t\\t\\tbottom: 0;\\n\\t\\t}\\n\\n\\t\\t& ::selection,\\n\\t\\t&:focus {\\n\\t\\t\\tbackground-color: transparent;\\n\\t\\t}\\n\\n\\t\\t/*\\n\\t\\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\\n\\t\\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\\n\\t\\t */\\n\\t\\t& .ck-widget {\\n\\t\\t\\toutline: unset;\\n\\n\\t\\t\\t& > .ck-widget__selection-handle {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck-vertical-form .ck-button:after{bottom:-1px;content:\\\"\\\";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:\\\"\\\";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}.ck.ck-responsive-form{[dir=ltr] &>:not(:first-child){margin-left:var(--ck-spacing-standard)}[dir=rtl] &>:not(:last-child){margin-left:var(--ck-spacing-standard)}}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){[dir=ltr] &,[dir=rtl] &{margin-left:0}[dir=rtl] &:last-of-type{border-right:1px solid var(--ck-color-base-border)}}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\"],\"names\":[],\"mappings\":\"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CAND,uBASE,+BACC,sCACD,CAIA,8BACC,sCACD,CAoDF,CD3EC,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,iGCpDD,wBDmEG,aCjEH,CDmEG,yBACC,kDACD,CAEF,CDvED\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck-vertical-form .ck-button {\\n\\t&::after {\\n\\t\\tcontent: \\\"\\\";\\n\\t\\twidth: 0;\\n\\t\\tposition: absolute;\\n\\t\\tright: -1px;\\n\\t\\ttop: -1px;\\n\\t\\tbottom: -1px;\\n\\t\\tz-index: 1;\\n\\t}\\n\\n\\t&:focus::after {\\n\\t\\tdisplay: none;\\n\\t}\\n}\\n\\n.ck.ck-responsive-form {\\n\\t@mixin ck-media-phone {\\n\\t\\t& .ck-button {\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tcontent: \\\"\\\";\\n\\t\\t\\t\\twidth: 0;\\n\\t\\t\\t\\tposition: absolute;\\n\\t\\t\\t\\tright: -1px;\\n\\t\\t\\t\\ttop: -1px;\\n\\t\\t\\t\\tbottom: -1px;\\n\\t\\t\\t\\tz-index: 1;\\n\\t\\t\\t}\\n\\n\\t\\t\\t&:focus::after {\\n\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\\\";\\n\\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\\n\\tborder-right: 1px solid var(--ck-color-base-border);\\n}\\n\\n.ck.ck-responsive-form {\\n\\tpadding: var(--ck-spacing-large);\\n\\n\\t&:focus {\\n\\t\\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\\n\\t\\toutline: none;\\n\\t}\\n\\n\\t@mixin ck-dir ltr {\\n\\t\\t& > :not(:first-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-dir rtl {\\n\\t\\t& > :not(:last-child) {\\n\\t\\t\\tmargin-left: var(--ck-spacing-standard);\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tpadding: 0;\\n\\t\\twidth: calc(.8 * var(--ck-input-width));\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\\n\\n\\t\\t\\t& .ck-input-text,\\n\\t\\t\\t& .ck-input-number {\\n\\t\\t\\t\\tmin-width: 0;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t}\\n\\n\\t\\t\\t/* Let the long error messages wrap in the narrow form. */\\n\\t\\t\\t& .ck-labeled-field-view__error {\\n\\t\\t\\t\\twhite-space: normal;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\\n\\t\\t& > .ck-button:nth-last-child(2) {\\n\\t\\t\\t&::after {\\n\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t& > .ck-button:nth-last-child(1),\\n\\t\\t& > .ck-button:nth-last-child(2) {\\n\\t\\t\\tpadding: var(--ck-spacing-standard);\\n\\t\\t\\tmargin-top: var(--ck-spacing-large);\\n\\t\\t\\tborder-radius: 0;\\n\\n\\t\\t\\t&:not(:focus) {\\n\\t\\t\\t\\tborder-top: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir ltr {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\t\\t\\t}\\n\\n\\t\\t\\t@mixin ck-dir rtl {\\n\\t\\t\\t\\tmargin-left: 0;\\n\\n\\t\\t\\t\\t&:last-of-type {\\n\\t\\t\\t\\t\\tborder-right: 1px solid var(--ck-color-base-border);\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-dir $direction {\\n\\t[dir=\\\"$(direction)\\\"] & {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\", \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-anchor-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-anchor-actions .ck-anchor-actions__preview{display:inline-block}.ck.ck-anchor-actions .ck-anchor-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-anchor-actions{flex-wrap:wrap}.ck.ck-anchor-actions .ck-anchor-actions__preview{flex-basis:100%}.ck.ck-anchor-actions .ck-button:not(.ck-anchor-actions__preview){flex-basis:50%}}div[contenteditable=false] .ck-anchor{background-size:16px;color:#00f;cursor:auto;padding-left:18px}div[contenteditable=true] .ck-anchor{background:url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4AsCDSEAgw7OCAAAA1lJREFUWMPdl82LHEUYxn/VPTthe5Q1SMgt7GlZRG8KXrwEsgQlmEvwkIsL2YPgvyAEIoFcAvG0Nw8hgroQiHtIRNBLIAhqAlmQfHkIHiQssjg7n131eOjqmeqPnWF24x58oJjp6n7f99dVXdVPI4mpzTmctbg0LTRZi5ybHl9snykTkiicdM5hrcVai8sTW4vt95H0tqTvJP0pyaqotRFMHdC4/9MgpgJQq3+2tvY8F+impCNuMCiOjHPIWtxwiKSPSjFjAH+3k+WcHqyu6vujR/XD8eP65exZ7dy7V77qhaT3bLeLGw5xwyFpu42kz2vyjQGstSMAQFDkeXzxom6AvgZt+PYN6Ib//+zKlTrk3yX9Fnb8uLg4rp/VxOQAcRwLIEkSBHQ7HQDunzvH1sYGCdAAIjIJcIAFBr7vjdVV3lpfh2aTUP3nz/lpeZlnnQ6fSFm8tcbEcRVgYWEBgJ2dHQC+NIbXgLmgeKgQJPUw88DrS0tEzSbbDx/SAWKgA3ycA6SpMXFMo5zQGIOC44YPrisOYILzDeCIB9p+9Ah8/yu+r18T36hLKueYVca3vGjdSNWpAuCcI4rGKQyza5aYCmwURThphhQHUwVAh1i8FuCwVQFw+3gA/18jEEXRvpbhSwM47Cmo7AOSMME+oOC3vD7CzeelAdTJMd7vre+LyLbgfBueBKPS71SAcBpSoEu2xy+vrXHszBnM3Bx/373LH1evst3p0GT8ssphwuLyedLC8BkwpgoQRRE2AOgCb66s8M6dO4Xrjp0+zdKlS7h2m1/Pn+fJrVtEHiQOIJwv3ANOXrtWBIBsztM0HTmQVqulpNUaGYefT50KPcV9SR/4tl52IE8uX9ZN0HXQV75dB22Cdp8+DS9dKTiiCkCS1DmcD22/P3bFwyG220XSu96KjWR7Pb24fVt/bW7K7u6W85xwacqsACdHQWHzVt0OBkh6VdK3E1zlF2m7TVi8FiBJEs3Pz4eBF/a024Hldt792l4vn9r3/VQt2l5vz++IiiVrtVoYY2i32/mKMKE/mKjsjrLllr9VjcHkD5ypLtR6RxS8kmd6PfuldSBDkn8RHZYqI5Cm6dQgEwzlfmHzHI1ywjKAKc3btON9jcCkOzpogWmKphX5rwH+BWxcUbVSlumsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTExLTAyVDEzOjMzOjAwKzAxOjAw1wGs7QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0xMS0wMlQxMzozMzowMCswMTowMKZcFFEAAAAASUVORK5CYII=\\\") no-repeat 0;background-size:16px;color:#00f;cursor:auto;padding-left:18px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchoractions.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,sBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,kDACC,oBAKD,CAHC,oEACC,eACD,CCXD,oCDCD,sBAcE,cAUF,CARE,kDACC,eACD,CAEA,kEACC,cACD,CCrBD,CDyBD,sCACC,oBAAqB,CAErB,UAAW,CACX,WAAY,CAFZ,iBAGD,CAEA,qCACC,4/CAAugD,CACvgD,oBAAqB,CAErB,UAAW,CACX,WAAY,CAFZ,iBAGD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-anchor-actions {\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: nowrap;\\n\\n\\t& .ck-anchor-actions__preview {\\n\\t\\tdisplay: inline-block;\\n\\n\\t\\t& .ck-button__label {\\n\\t\\t\\toverflow: hidden;\\n\\t\\t}\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-anchor-actions__preview {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button:not(.ck-anchor-actions__preview) {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\ndiv[contenteditable=false] .ck-anchor {\\n\\tbackground-size: 16px;\\n\\tpadding-left: 18px;\\n\\tcolor: #00f;\\n\\tcursor: auto;\\n}\\n\\ndiv[contenteditable=true] .ck-anchor {\\n\\tbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4AsCDSEAgw7OCAAAA1lJREFUWMPdl82LHEUYxn/VPTthe5Q1SMgt7GlZRG8KXrwEsgQlmEvwkIsL2YPgvyAEIoFcAvG0Nw8hgroQiHtIRNBLIAhqAlmQfHkIHiQssjg7n131eOjqmeqPnWF24x58oJjp6n7f99dVXdVPI4mpzTmctbg0LTRZi5ybHl9snykTkiicdM5hrcVai8sTW4vt95H0tqTvJP0pyaqotRFMHdC4/9MgpgJQq3+2tvY8F+impCNuMCiOjHPIWtxwiKSPSjFjAH+3k+WcHqyu6vujR/XD8eP65exZ7dy7V77qhaT3bLeLGw5xwyFpu42kz2vyjQGstSMAQFDkeXzxom6AvgZt+PYN6Ib//+zKlTrk3yX9Fnb8uLg4rp/VxOQAcRwLIEkSBHQ7HQDunzvH1sYGCdAAIjIJcIAFBr7vjdVV3lpfh2aTUP3nz/lpeZlnnQ6fSFm8tcbEcRVgYWEBgJ2dHQC+NIbXgLmgeKgQJPUw88DrS0tEzSbbDx/SAWKgA3ycA6SpMXFMo5zQGIOC44YPrisOYILzDeCIB9p+9Ah8/yu+r18T36hLKueYVca3vGjdSNWpAuCcI4rGKQyza5aYCmwURThphhQHUwVAh1i8FuCwVQFw+3gA/18jEEXRvpbhSwM47Cmo7AOSMME+oOC3vD7CzeelAdTJMd7vre+LyLbgfBueBKPS71SAcBpSoEu2xy+vrXHszBnM3Bx/373LH1evst3p0GT8ssphwuLyedLC8BkwpgoQRRE2AOgCb66s8M6dO4Xrjp0+zdKlS7h2m1/Pn+fJrVtEHiQOIJwv3ANOXrtWBIBsztM0HTmQVqulpNUaGYefT50KPcV9SR/4tl52IE8uX9ZN0HXQV75dB22Cdp8+DS9dKTiiCkCS1DmcD22/P3bFwyG220XSu96KjWR7Pb24fVt/bW7K7u6W85xwacqsACdHQWHzVt0OBkh6VdK3E1zlF2m7TVi8FiBJEs3Pz4eBF/a024Hldt792l4vn9r3/VQt2l5vz++IiiVrtVoYY2i32/mKMKE/mKjsjrLllr9VjcHkD5ypLtR6RxS8kmd6PfuldSBDkn8RHZYqI5Cm6dQgEwzlfmHzHI1ywjKAKc3btON9jcCkOzpogWmKphX5rwH+BWxcUbVSlumsAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTExLTAyVDEzOjMzOjAwKzAxOjAw1wGs7QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0xMS0wMlQxMzozMzowMCswMTowMKZcFFEAAAAASUVORK5CYII=\\\") no-repeat left center;\\n\\tbackground-size: 16px;\\n\\tpadding-left: 18px;\\n\\tcolor: #00f;\\n\\tcursor: auto;\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ck.ck-anchor-form{display:flex}.ck.ck-anchor-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-anchor-form{flex-wrap:wrap}.ck.ck-anchor-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-anchor-form .ck-button{flex-basis:50%}}.ck.ck-anchor-form_layout-vertical{display:block}.ck.ck-anchor-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-anchor-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./../../../../../node_modules/@northernco/ckeditor5-anchor-drupal/theme/anchorform.css\",\"webpack://./../../../../../node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\"],\"names\":[],\"mappings\":\"AAOA,mBACC,YAiBD,CAfC,6BACC,YACD,CCNA,oCDCD,mBAQE,cAUF,CARE,0CACC,eACD,CAEA,8BACC,cACD,CCfD,CDuBD,mCACC,aAYD,CALE,4HAEC,mCACD\",\"sourcesContent\":[\"/*\\n * Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@import \\\"@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css\\\";\\n\\n.ck.ck-anchor-form {\\n\\tdisplay: flex;\\n\\n\\t& .ck-label {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t@mixin ck-media-phone {\\n\\t\\tflex-wrap: wrap;\\n\\n\\t\\t& .ck-labeled-field-view {\\n\\t\\t\\tflex-basis: 100%;\\n\\t\\t}\\n\\n\\t\\t& .ck-button {\\n\\t\\t\\tflex-basis: 50%;\\n\\t\\t}\\n\\t}\\n}\\n\\n/*\\n * Style anchor form differently when manual decorators are available.\\n * See: https://github.com/ckeditor/ckeditor5-anchor/issues/186.\\n */\\n.ck.ck-anchor-form_layout-vertical {\\n\\tdisplay: block;\\n\\n\\t/*\\n\\t * Whether the form is in the responsive mode or not, if there are decorator buttons\\n\\t * keep the top margin of action buttons medium.\\n\\t */\\n\\t& .ck-button {\\n\\t\\t&.ck-button-save,\\n\\t\\t&.ck-button-cancel {\\n\\t\\t\\tmargin-top: var(--ck-spacing-medium);\\n\\t\\t}\\n\\t}\\n}\\n\",\"/*\\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\\n */\\n\\n@define-mixin ck-media-phone {\\n\\t@media screen and (max-width: 600px) {\\n\\t\\t@mixin-content;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[4]!./ckeditor5-craftcms.css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"df0a2240\", content, true, {});","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","module.exports = (__webpack_require__(7079))(\"./src/clipboard.js\");","module.exports = (__webpack_require__(7079))(\"./src/core.js\");","module.exports = (__webpack_require__(7079))(\"./src/engine.js\");","module.exports = (__webpack_require__(7079))(\"./src/enter.js\");","module.exports = (__webpack_require__(7079))(\"./src/paragraph.js\");","module.exports = (__webpack_require__(7079))(\"./src/select-all.js\");","module.exports = (__webpack_require__(7079))(\"./src/typing.js\");","module.exports = (__webpack_require__(7079))(\"./src/ui.js\");","module.exports = (__webpack_require__(7079))(\"./src/undo.js\");","module.exports = (__webpack_require__(7079))(\"./src/upload.js\");","module.exports = (__webpack_require__(7079))(\"./src/utils.js\");","module.exports = (__webpack_require__(7079))(\"./src/widget.js\");","module.exports = CKEditor5.dll;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { CKEditorError, logWarning } from 'ckeditor5/src/utils.js';\n/**\n * @module alignment/utils\n */\n/**\n * The list of supported alignment options:\n *\n * * `'left'`,\n * * `'right'`,\n * * `'center'`,\n * * `'justify'`\n */\nexport const supportedOptions = ['left', 'right', 'center', 'justify'];\n/**\n * Checks whether the passed option is supported by {@link module:alignment/alignmentediting~AlignmentEditing}.\n *\n * @param option The option value to check.\n */\nexport function isSupported(option) {\n    return supportedOptions.includes(option);\n}\n/**\n * Checks whether alignment is the default one considering the direction\n * of the editor content.\n *\n * @param alignment The name of the alignment to check.\n * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n */\nexport function isDefault(alignment, locale) {\n    // Right now only LTR is supported so the 'left' value is always the default one.\n    if (locale.contentLanguageDirection == 'rtl') {\n        return alignment === 'right';\n    }\n    else {\n        return alignment === 'left';\n    }\n}\n/**\n * Brings the configuration to the common form, an array of objects.\n *\n * @param configuredOptions Alignment plugin configuration.\n * @returns Normalized object holding the configuration.\n */\nexport function normalizeAlignmentOptions(configuredOptions) {\n    const normalizedOptions = configuredOptions\n        .map(option => {\n        let result;\n        if (typeof option == 'string') {\n            result = { name: option };\n        }\n        else {\n            result = option;\n        }\n        return result;\n    })\n        // Remove all unknown options.\n        .filter(option => {\n        const isNameValid = supportedOptions.includes(option.name);\n        if (!isNameValid) {\n            /**\n             * The `name` in one of the `alignment.options` is not recognized.\n             * The available options are: `'left'`, `'right'`, `'center'` and `'justify'`.\n             *\n             * @error alignment-config-name-not-recognized\n             * @param option Options with unknown value of the `name` property.\n             */\n            logWarning('alignment-config-name-not-recognized', { option });\n        }\n        return isNameValid;\n    });\n    const classNameCount = normalizedOptions.filter(option => Boolean(option.className)).length;\n    // We either use classes for all styling options or for none.\n    if (classNameCount && classNameCount < normalizedOptions.length) {\n        /**\n         * The `className` property has to be defined for all options once at least one option declares `className`.\n         *\n         * @error alignment-config-classnames-are-missing\n         * @param configuredOptions Contents of `alignment.options`.\n         */\n        throw new CKEditorError('alignment-config-classnames-are-missing', { configuredOptions });\n    }\n    // Validate resulting config.\n    normalizedOptions.forEach((option, index, allOptions) => {\n        const succeedingOptions = allOptions.slice(index + 1);\n        const nameAlreadyExists = succeedingOptions.some(item => item.name == option.name);\n        if (nameAlreadyExists) {\n            /**\n             * The same `name` in one of the `alignment.options` was already declared.\n             * Each `name` representing one alignment option can be set exactly once.\n             *\n             * @error alignment-config-name-already-defined\n             * @param option First option that declares given `name`.\n             * @param configuredOptions Contents of `alignment.options`.\n             */\n            throw new CKEditorError('alignment-config-name-already-defined', { option, configuredOptions });\n        }\n        // The `className` property is present. Check for duplicates then.\n        if (option.className) {\n            const classNameAlreadyExists = succeedingOptions.some(item => item.className == option.className);\n            if (classNameAlreadyExists) {\n                /**\n                 * The same `className` in one of the `alignment.options` was already declared.\n                 *\n                 * @error alignment-config-classname-already-defined\n                 * @param option First option that declares given `className`.\n                 * @param configuredOptions\n                 * Contents of `alignment.options`.\n                 */\n                throw new CKEditorError('alignment-config-classname-already-defined', { option, configuredOptions });\n            }\n        }\n    });\n    return normalizedOptions;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module alignment/alignmentcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { isDefault } from './utils.js';\nconst ALIGNMENT = 'alignment';\n/**\n * The alignment command plugin.\n */\nexport default class AlignmentCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const firstBlock = first(this.editor.model.document.selection.getSelectedBlocks());\n        // As first check whether to enable or disable the command as the value will always be false if the command cannot be enabled.\n        this.isEnabled = Boolean(firstBlock) && this._canBeAligned(firstBlock);\n        if (this.isEnabled && firstBlock.hasAttribute('alignment')) {\n            this.value = firstBlock.getAttribute('alignment');\n        }\n        else {\n            this.value = locale.contentLanguageDirection === 'rtl' ? 'right' : 'left';\n        }\n    }\n    /**\n     * Executes the command. Applies the alignment `value` to the selected blocks.\n     * If no `value` is passed, the `value` is the default one or it is equal to the currently selected block's alignment attribute,\n     * the command will remove the attribute from the selected blocks.\n     *\n     * @param options Options for the executed command.\n     * @param options.value The value to apply.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const model = editor.model;\n        const doc = model.document;\n        const value = options.value;\n        model.change(writer => {\n            // Get only those blocks from selected that can have alignment set\n            const blocks = Array.from(doc.selection.getSelectedBlocks()).filter(block => this._canBeAligned(block));\n            const currentAlignment = blocks[0].getAttribute('alignment');\n            // Remove alignment attribute if current alignment is:\n            // - default (should not be stored in model as it will bloat model data)\n            // - equal to currently set\n            // - or no value is passed - denotes default alignment.\n            const removeAlignment = isDefault(value, locale) || currentAlignment === value || !value;\n            if (removeAlignment) {\n                removeAlignmentFromSelection(blocks, writer);\n            }\n            else {\n                setAlignmentOnSelection(blocks, writer, value);\n            }\n        });\n    }\n    /**\n     * Checks whether a block can have alignment set.\n     *\n     * @param block The block to be checked.\n     */\n    _canBeAligned(block) {\n        return this.editor.model.schema.checkAttribute(block, ALIGNMENT);\n    }\n}\n/**\n * Removes the alignment attribute from blocks.\n */\nfunction removeAlignmentFromSelection(blocks, writer) {\n    for (const block of blocks) {\n        writer.removeAttribute(ALIGNMENT, block);\n    }\n}\n/**\n * Sets the alignment attribute on blocks.\n */\nfunction setAlignmentOnSelection(blocks, writer, alignment) {\n    for (const block of blocks) {\n        writer.setAttribute(ALIGNMENT, alignment, block);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module alignment/alignmentediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AlignmentCommand from './alignmentcommand.js';\nimport { isDefault, isSupported, normalizeAlignmentOptions, supportedOptions } from './utils.js';\n/**\n * The alignment editing feature. It introduces the {@link module:alignment/alignmentcommand~AlignmentCommand command} and adds\n * the `alignment` attribute for block elements in the {@link module:engine/model/model~Model model}.\n */\nexport default class AlignmentEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AlignmentEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('alignment', {\n            options: supportedOptions.map(option => ({ name: option }))\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const schema = editor.model.schema;\n        const options = normalizeAlignmentOptions(editor.config.get('alignment.options'));\n        // Filter out unsupported options and those that are redundant, e.g. `left` in LTR / `right` in RTL mode.\n        const optionsToConvert = options.filter(option => isSupported(option.name) && !isDefault(option.name, locale));\n        // Once there is at least one `className` defined, we switch to alignment with classes.\n        const shouldUseClasses = optionsToConvert.some(option => !!option.className);\n        // Allow alignment attribute on all blocks.\n        schema.extend('$block', { allowAttributes: 'alignment' });\n        editor.model.schema.setAttributeProperties('alignment', { isFormatting: true });\n        if (shouldUseClasses) {\n            editor.conversion.attributeToAttribute(buildClassDefinition(optionsToConvert));\n        }\n        else {\n            // Downcast inline styles.\n            editor.conversion.for('downcast').attributeToAttribute(buildDowncastInlineDefinition(optionsToConvert));\n        }\n        const upcastInlineDefinitions = buildUpcastInlineDefinitions(optionsToConvert);\n        // Always upcast from inline styles.\n        for (const definition of upcastInlineDefinitions) {\n            editor.conversion.for('upcast').attributeToAttribute(definition);\n        }\n        const upcastCompatibilityDefinitions = buildUpcastCompatibilityDefinitions(optionsToConvert);\n        // Always upcast from deprecated `align` attribute.\n        for (const definition of upcastCompatibilityDefinitions) {\n            editor.conversion.for('upcast').attributeToAttribute(definition);\n        }\n        editor.commands.add('alignment', new AlignmentCommand(editor));\n    }\n}\n/**\n * Prepare downcast conversion definition for inline alignment styling.\n */\nfunction buildDowncastInlineDefinition(options) {\n    const view = {};\n    for (const { name } of options) {\n        view[name] = {\n            key: 'style',\n            value: {\n                'text-align': name\n            }\n        };\n    }\n    const definition = {\n        model: {\n            key: 'alignment',\n            values: options.map(option => option.name)\n        },\n        view\n    };\n    return definition;\n}\n/**\n * Prepare upcast definitions for inline alignment styles.\n */\nfunction buildUpcastInlineDefinitions(options) {\n    const definitions = [];\n    for (const { name } of options) {\n        definitions.push({\n            view: {\n                key: 'style',\n                value: {\n                    'text-align': name\n                }\n            },\n            model: {\n                key: 'alignment',\n                value: name\n            }\n        });\n    }\n    return definitions;\n}\n/**\n * Prepare upcast definitions for deprecated `align` attribute.\n */\nfunction buildUpcastCompatibilityDefinitions(options) {\n    const definitions = [];\n    for (const { name } of options) {\n        definitions.push({\n            view: {\n                key: 'align',\n                value: name\n            },\n            model: {\n                key: 'alignment',\n                value: name\n            }\n        });\n    }\n    return definitions;\n}\n/**\n * Prepare conversion definitions for upcast and downcast alignment with classes.\n */\nfunction buildClassDefinition(options) {\n    const view = {};\n    for (const option of options) {\n        view[option.name] = {\n            key: 'class',\n            value: option.className\n        };\n    }\n    const definition = {\n        model: {\n            key: 'alignment',\n            values: options.map(option => option.name)\n        },\n        view\n    };\n    return definition;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module alignment/alignmentui\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView, createDropdown, addToolbarToDropdown, MenuBarMenuListItemView, MenuBarMenuListItemButtonView, MenuBarMenuView, MenuBarMenuListView } from 'ckeditor5/src/ui.js';\nimport { isSupported, normalizeAlignmentOptions } from './utils.js';\nconst iconsMap = /* #__PURE__ */ (() => new Map([\n    ['left', icons.alignLeft],\n    ['right', icons.alignRight],\n    ['center', icons.alignCenter],\n    ['justify', icons.alignJustify]\n]))();\n/**\n * The default alignment UI plugin.\n *\n * It introduces the `'alignment:left'`, `'alignment:right'`, `'alignment:center'` and `'alignment:justify'` buttons\n * and the `'alignment'` dropdown.\n */\nexport default class AlignmentUI extends Plugin {\n    /**\n     * Returns the localized option titles provided by the plugin.\n     *\n     * The following localized titles corresponding with\n     * {@link module:alignment/alignmentconfig~AlignmentConfig#options} are available:\n     *\n     * * `'left'`,\n     * * `'right'`,\n     * * `'center'`,\n     * * `'justify'`.\n     *\n     * @readonly\n     */\n    get localizedOptionTitles() {\n        const t = this.editor.t;\n        return {\n            'left': t('Align left'),\n            'right': t('Align right'),\n            'center': t('Align center'),\n            'justify': t('Justify')\n        };\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AlignmentUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const options = normalizeAlignmentOptions(editor.config.get('alignment.options'));\n        options\n            .map(option => option.name)\n            .filter(isSupported)\n            .forEach(option => this._addButton(option));\n        this._addToolbarDropdown(options);\n        this._addMenuBarMenu(options);\n    }\n    /**\n     * Helper method for initializing the button and linking it with an appropriate command.\n     *\n     * @param option The name of the alignment option for which the button is added.\n     */\n    _addButton(option) {\n        const editor = this.editor;\n        editor.ui.componentFactory.add(`alignment:${option}`, locale => this._createButton(locale, option));\n    }\n    /**\n     * Helper method for creating the button view element.\n     *\n     * @param locale Editor locale.\n     * @param option The name of the alignment option for which the button is added.\n     * @param buttonAttrs Optional parameters passed to button view instance.\n     */\n    _createButton(locale, option, buttonAttrs = {}) {\n        const editor = this.editor;\n        const command = editor.commands.get('alignment');\n        const buttonView = new ButtonView(locale);\n        buttonView.set({\n            label: this.localizedOptionTitles[option],\n            icon: iconsMap.get(option),\n            tooltip: true,\n            isToggleable: true,\n            ...buttonAttrs\n        });\n        // Bind button model to command.\n        buttonView.bind('isEnabled').to(command);\n        buttonView.bind('isOn').to(command, 'value', value => value === option);\n        // Execute command.\n        this.listenTo(buttonView, 'execute', () => {\n            editor.execute('alignment', { value: option });\n            editor.editing.view.focus();\n        });\n        return buttonView;\n    }\n    /**\n     * Helper method for initializing the toolnar dropdown and linking it with an appropriate command.\n     *\n     * @param option The name of the alignment option for which the button is added.\n     */\n    _addToolbarDropdown(options) {\n        const editor = this.editor;\n        const factory = editor.ui.componentFactory;\n        factory.add('alignment', locale => {\n            const dropdownView = createDropdown(locale);\n            const tooltipPosition = locale.uiLanguageDirection === 'rtl' ? 'w' : 'e';\n            const t = locale.t;\n            // Add existing alignment buttons to dropdown's toolbar.\n            addToolbarToDropdown(dropdownView, () => options.map(option => this._createButton(locale, option.name, { tooltipPosition })), {\n                enableActiveItemFocusOnDropdownOpen: true,\n                isVertical: true,\n                ariaLabel: t('Text alignment toolbar')\n            });\n            // Configure dropdown properties an behavior.\n            dropdownView.buttonView.set({\n                label: t('Text alignment'),\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: 'ck-alignment-dropdown'\n                }\n            });\n            // The default icon depends on the direction of the content.\n            const defaultIcon = locale.contentLanguageDirection === 'rtl' ? iconsMap.get('right') : iconsMap.get('left');\n            const command = editor.commands.get('alignment');\n            // Change icon to reflect current selection's alignment.\n            dropdownView.buttonView.bind('icon').to(command, 'value', value => iconsMap.get(value) || defaultIcon);\n            // Enable button if any of the buttons is enabled.\n            dropdownView.bind('isEnabled').to(command, 'isEnabled');\n            // Focus the editable after executing the command.\n            // Overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n            this.listenTo(dropdownView, 'execute', () => {\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n    }\n    /**\n     * Creates a menu for all alignment options to use either in menu bar.\n     *\n     * @param options Normalized alignment options from config.\n     */\n    _addMenuBarMenu(options) {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('menuBar:alignment', locale => {\n            const command = editor.commands.get('alignment');\n            const t = locale.t;\n            const menuView = new MenuBarMenuView(locale);\n            const listView = new MenuBarMenuListView(locale);\n            menuView.bind('isEnabled').to(command);\n            listView.set({\n                ariaLabel: t('Text alignment'),\n                role: 'menu'\n            });\n            menuView.buttonView.set({\n                label: t('Text alignment')\n            });\n            for (const option of options) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.delegate('execute').to(menuView);\n                buttonView.set({\n                    label: this.localizedOptionTitles[option.name],\n                    icon: iconsMap.get(option.name),\n                    role: 'menuitemcheckbox',\n                    isToggleable: true\n                });\n                buttonView.on('execute', () => {\n                    editor.execute('alignment', { value: option.name });\n                    editor.editing.view.focus();\n                });\n                buttonView.bind('isOn').to(command, 'value', value => value === option.name);\n                buttonView.bind('isEnabled').to(command, 'isEnabled');\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module alignment/alignment\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AlignmentEditing from './alignmentediting.js';\nimport AlignmentUI from './alignmentui.js';\n/**\n * The text alignment plugin.\n *\n * For a detailed overview, check the {@glink features/text-alignment Text alignment} feature guide\n * and the {@glink api/alignment package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:alignment/alignmentediting~AlignmentEditing} and\n * {@link module:alignment/alignmentui~AlignmentUI} plugins.\n */\nexport default class Alignment extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [AlignmentEditing, AlignmentUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Alignment';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Creates a view element representing the inline image.\n *\n * ```html\n * <span class=\"image-inline\"><img></img></span>\n * ```\n *\n * Note that `alt` and `src` attributes are converted separately, so they are not included.\n *\n * @internal\n */\nexport function createInlineImageViewElement(writer) {\n    return writer.createContainerElement('span', { class: 'image-inline' }, writer.createEmptyElement('img'));\n}\n/**\n * Creates a view element representing the block image.\n *\n * ```html\n * <figure class=\"image\"><img></img></figure>\n * ```\n *\n * Note that `alt` and `src` attributes are converted separately, so they are not included.\n *\n * @internal\n */\nexport function createBlockImageViewElement(writer) {\n    return writer.createContainerElement('figure', { class: 'image' }, [\n        writer.createEmptyElement('img'),\n        writer.createSlot('children')\n    ]);\n}\n/**\n * A function returning a `MatcherPattern` for a particular type of View images.\n *\n * @internal\n * @param matchImageType The type of created image.\n */\nexport function getImgViewElementMatcher(editor, matchImageType) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    const areBothImagePluginsLoaded = editor.plugins.has('ImageInlineEditing') && editor.plugins.has('ImageBlockEditing');\n    return element => {\n        // Check if the matched view element is an <img>.\n        if (!imageUtils.isInlineImageView(element)) {\n            return null;\n        }\n        // If just one of the plugins is loaded (block or inline), it will match all kinds of images.\n        if (!areBothImagePluginsLoaded) {\n            return getPositiveMatchPattern(element);\n        }\n        // The <img> can be standalone, wrapped in <figure>...</figure> (ImageBlock plugin) or\n        // wrapped in <figure><a>...</a></figure> (LinkImage plugin).\n        const imageType = element.getStyle('display') == 'block' || element.findAncestor(imageUtils.isBlockImageView) ?\n            'imageBlock' :\n            'imageInline';\n        if (imageType !== matchImageType) {\n            return null;\n        }\n        return getPositiveMatchPattern(element);\n    };\n    function getPositiveMatchPattern(element) {\n        const pattern = {\n            name: true\n        };\n        // This will trigger src consumption (See https://github.com/ckeditor/ckeditor5/issues/11530).\n        if (element.hasAttribute('src')) {\n            pattern.attributes = ['src'];\n        }\n        return pattern;\n    }\n}\n/**\n * Considering the current model selection, it returns the name of the model image element\n * (`'imageBlock'` or `'imageInline'`) that will make most sense from the UX perspective if a new\n * image was inserted (also: uploaded, dropped, pasted) at that selection.\n *\n * The assumption is that inserting images into empty blocks or on other block widgets should\n * produce block images. Inline images should be inserted in other cases, e.g. in paragraphs\n * that already contain some text.\n *\n * @internal\n */\nexport function determineImageTypeForInsertionAtSelection(schema, selection) {\n    const firstBlock = first(selection.getSelectedBlocks());\n    // Insert a block image if the selection is not in/on block elements or it's on a block widget.\n    if (!firstBlock || schema.isObject(firstBlock)) {\n        return 'imageBlock';\n    }\n    // A block image should also be inserted into an empty block element\n    // (that is not an empty list item so the list won't get split).\n    if (firstBlock.isEmpty && firstBlock.name != 'listItem') {\n        return 'imageBlock';\n    }\n    // Otherwise insert an inline image.\n    return 'imageInline';\n}\n/**\n * Returns parsed value of the size, but only if it contains unit: px.\n */\nexport function getSizeValueIfInPx(size) {\n    if (size && size.endsWith('px')) {\n        return parseInt(size);\n    }\n    return null;\n}\n/**\n * Returns true if both styles (width and height) are set.\n *\n * If both image styles: width & height are set, they will override the image width & height attributes in the\n * browser. In this case, the image looks the same as if these styles were applied to attributes instead of styles.\n * That's why we can upcast these styles to width & height attributes instead of resizedWidth and resizedHeight.\n */\nexport function widthAndHeightStylesAreBothSet(viewElement) {\n    const widthStyle = getSizeValueIfInPx(viewElement.getStyle('width'));\n    const heightStyle = getSizeValueIfInPx(viewElement.getStyle('height'));\n    return !!(widthStyle && heightStyle);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange, isWidget, toWidget } from 'ckeditor5/src/widget.js';\nimport { determineImageTypeForInsertionAtSelection } from './image/utils.js';\nimport { DomEmitterMixin, global } from 'ckeditor5/src/utils.js';\nconst IMAGE_WIDGETS_CLASSES_MATCH_REGEXP = /^(image|image-inline)$/;\n/**\n * A set of helpers related to images.\n */\nexport default class ImageUtils extends Plugin {\n    constructor() {\n        super(...arguments);\n        /**\n         * DOM Emitter.\n         */\n        this._domEmitter = new (DomEmitterMixin())();\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Checks if the provided model element is an `image` or `imageInline`.\n     */\n    isImage(modelElement) {\n        return this.isInlineImage(modelElement) || this.isBlockImage(modelElement);\n    }\n    /**\n     * Checks if the provided view element represents an inline image.\n     *\n     * Also, see {@link module:image/imageutils~ImageUtils#isImageWidget}.\n     */\n    isInlineImageView(element) {\n        return !!element && element.is('element', 'img');\n    }\n    /**\n     * Checks if the provided view element represents a block image.\n     *\n     * Also, see {@link module:image/imageutils~ImageUtils#isImageWidget}.\n     */\n    isBlockImageView(element) {\n        return !!element && element.is('element', 'figure') && element.hasClass('image');\n    }\n    /**\n     * Handles inserting single file. This method unifies image insertion using {@link module:widget/utils~findOptimalInsertionRange}\n     * method.\n     *\n     * ```ts\n     * const imageUtils = editor.plugins.get( 'ImageUtils' );\n     *\n     * imageUtils.insertImage( { src: 'path/to/image.jpg' } );\n     * ```\n     *\n     * @param attributes Attributes of the inserted image.\n     * This method filters out the attributes which are disallowed by the {@link module:engine/model/schema~Schema}.\n     * @param selectable Place to insert the image. If not specified,\n     * the {@link module:widget/utils~findOptimalInsertionRange} logic will be applied for the block images\n     * and `model.document.selection` for the inline images.\n     *\n     * **Note**: If `selectable` is passed, this helper will not be able to set selection attributes (such as `linkHref`)\n     * and apply them to the new image. In this case, make sure all selection attributes are passed in `attributes`.\n     *\n     * @param imageType Image type of inserted image. If not specified,\n     * it will be determined automatically depending of editor config or place of the insertion.\n     * @param options.setImageSizes Specifies whether the image `width` and `height` attributes should be set automatically.\n     * The default is `true`.\n     * @return The inserted model image element.\n     */\n    insertImage(attributes = {}, selectable = null, imageType = null, options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const determinedImageType = determineImageTypeForInsertion(editor, selectable || selection, imageType);\n        // Mix declarative attributes with selection attributes because the new image should \"inherit\"\n        // the latter for best UX. For instance, inline images inserted into existing links\n        // should not split them. To do that, they need to have \"linkHref\" inherited from the selection.\n        attributes = {\n            ...Object.fromEntries(selection.getAttributes()),\n            ...attributes\n        };\n        for (const attributeName in attributes) {\n            if (!model.schema.checkAttribute(determinedImageType, attributeName)) {\n                delete attributes[attributeName];\n            }\n        }\n        return model.change(writer => {\n            const { setImageSizes = true } = options;\n            const imageElement = writer.createElement(determinedImageType, attributes);\n            model.insertObject(imageElement, selectable, null, {\n                setSelection: 'on',\n                // If we want to insert a block image (for whatever reason) then we don't want to split text blocks.\n                // This applies only when we don't have the selectable specified (i.e., we insert multiple block images at once).\n                findOptimalPosition: !selectable && determinedImageType != 'imageInline' ? 'auto' : undefined\n            });\n            // Inserting an image might've failed due to schema regulations.\n            if (imageElement.parent) {\n                if (setImageSizes) {\n                    this.setImageNaturalSizeAttributes(imageElement);\n                }\n                return imageElement;\n            }\n            return null;\n        });\n    }\n    /**\n     * Reads original image sizes and sets them as `width` and `height`.\n     *\n     * The `src` attribute may not be available if the user is using an upload adapter. In such a case,\n     * this method is called again after the upload process is complete and the `src` attribute is available.\n     */\n    setImageNaturalSizeAttributes(imageElement) {\n        const src = imageElement.getAttribute('src');\n        if (!src) {\n            return;\n        }\n        if (imageElement.getAttribute('width') || imageElement.getAttribute('height')) {\n            return;\n        }\n        this.editor.model.change(writer => {\n            const img = new global.window.Image();\n            this._domEmitter.listenTo(img, 'load', () => {\n                if (!imageElement.getAttribute('width') && !imageElement.getAttribute('height')) {\n                    // We use writer.batch to be able to undo (in a single step) width and height setting\n                    // along with any change that triggered this action (e.g. image resize or image style change).\n                    this.editor.model.enqueueChange(writer.batch, writer => {\n                        writer.setAttribute('width', img.naturalWidth, imageElement);\n                        writer.setAttribute('height', img.naturalHeight, imageElement);\n                    });\n                }\n                this._domEmitter.stopListening(img, 'load');\n            });\n            img.src = src;\n        });\n    }\n    /**\n     * Returns an image widget editing view element if one is selected or is among the selection's ancestors.\n     */\n    getClosestSelectedImageWidget(selection) {\n        const selectionPosition = selection.getFirstPosition();\n        if (!selectionPosition) {\n            return null;\n        }\n        const viewElement = selection.getSelectedElement();\n        if (viewElement && this.isImageWidget(viewElement)) {\n            return viewElement;\n        }\n        let parent = selectionPosition.parent;\n        while (parent) {\n            if (parent.is('element') && this.isImageWidget(parent)) {\n                return parent;\n            }\n            parent = parent.parent;\n        }\n        return null;\n    }\n    /**\n     * Returns a image model element if one is selected or is among the selection's ancestors.\n     */\n    getClosestSelectedImageElement(selection) {\n        const selectedElement = selection.getSelectedElement();\n        return this.isImage(selectedElement) ? selectedElement : selection.getFirstPosition().findAncestor('imageBlock');\n    }\n    /**\n     * Returns an image widget editing view based on the passed image view.\n     */\n    getImageWidgetFromImageView(imageView) {\n        return imageView.findAncestor({ classes: IMAGE_WIDGETS_CLASSES_MATCH_REGEXP });\n    }\n    /**\n     * Checks if image can be inserted at current model selection.\n     *\n     * @internal\n     */\n    isImageAllowed() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        return isImageAllowedInParent(this.editor, selection) && isNotInsideImage(selection);\n    }\n    /**\n     * Converts a given {@link module:engine/view/element~Element} to an image widget:\n     * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the image widget\n     * element.\n     * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n     *\n     * @param writer An instance of the view writer.\n     * @param label The element's label. It will be concatenated with the image `alt` attribute if one is present.\n     */\n    toImageWidget(viewElement, writer, label) {\n        writer.setCustomProperty('image', true, viewElement);\n        const labelCreator = () => {\n            const imgElement = this.findViewImgElement(viewElement);\n            const altText = imgElement.getAttribute('alt');\n            return altText ? `${altText} ${label}` : label;\n        };\n        return toWidget(viewElement, writer, { label: labelCreator });\n    }\n    /**\n     * Checks if a given view element is an image widget.\n     */\n    isImageWidget(viewElement) {\n        return !!viewElement.getCustomProperty('image') && isWidget(viewElement);\n    }\n    /**\n     * Checks if the provided model element is an `image`.\n     */\n    isBlockImage(modelElement) {\n        return !!modelElement && modelElement.is('element', 'imageBlock');\n    }\n    /**\n     * Checks if the provided model element is an `imageInline`.\n     */\n    isInlineImage(modelElement) {\n        return !!modelElement && modelElement.is('element', 'imageInline');\n    }\n    /**\n     * Get the view `<img>` from another view element, e.g. a widget (`<figure class=\"image\">`), a link (`<a>`).\n     *\n     * The `<img>` can be located deep in other elements, so this helper performs a deep tree search.\n     */\n    findViewImgElement(figureView) {\n        if (this.isInlineImageView(figureView)) {\n            return figureView;\n        }\n        const editingView = this.editor.editing.view;\n        for (const { item } of editingView.createRangeIn(figureView)) {\n            if (this.isInlineImageView(item)) {\n                return item;\n            }\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        this._domEmitter.stopListening();\n        return super.destroy();\n    }\n}\n/**\n * Checks if image is allowed by schema in optimal insertion parent.\n */\nfunction isImageAllowedInParent(editor, selection) {\n    const imageType = determineImageTypeForInsertion(editor, selection, null);\n    if (imageType == 'imageBlock') {\n        const parent = getInsertImageParent(selection, editor.model);\n        if (editor.model.schema.checkChild(parent, 'imageBlock')) {\n            return true;\n        }\n    }\n    else if (editor.model.schema.checkChild(selection.focus, 'imageInline')) {\n        return true;\n    }\n    return false;\n}\n/**\n * Checks if selection is not placed inside an image (e.g. its caption).\n */\nfunction isNotInsideImage(selection) {\n    return [...selection.focus.getAncestors()].every(ancestor => !ancestor.is('element', 'imageBlock'));\n}\n/**\n * Returns a node that will be used to insert image with `model.insertContent`.\n */\nfunction getInsertImageParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('element', '$root')) {\n        return parent.parent;\n    }\n    return parent;\n}\n/**\n * Determine image element type name depending on editor config or place of insertion.\n *\n * @param imageType Image element type name. Used to force return of provided element name,\n * but only if there is proper plugin enabled.\n */\nfunction determineImageTypeForInsertion(editor, selectable, imageType) {\n    const schema = editor.model.schema;\n    const configImageInsertType = editor.config.get('image.insert.type');\n    if (!editor.plugins.has('ImageBlockEditing')) {\n        return 'imageInline';\n    }\n    if (!editor.plugins.has('ImageInlineEditing')) {\n        return 'imageBlock';\n    }\n    if (imageType) {\n        return imageType;\n    }\n    if (configImageInsertType === 'inline') {\n        return 'imageInline';\n    }\n    if (configImageInsertType !== 'auto') {\n        return 'imageBlock';\n    }\n    // Try to replace the selected widget (e.g. another image).\n    if (selectable.is('selection')) {\n        return determineImageTypeForInsertionAtSelection(schema, selectable);\n    }\n    return schema.checkChild(selectable, 'imageInline') ? 'imageInline' : 'imageBlock';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/autoimage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Clipboard } from 'ckeditor5/src/clipboard.js';\nimport { LivePosition, LiveRange } from 'ckeditor5/src/engine.js';\nimport { Undo } from 'ckeditor5/src/undo.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { global } from 'ckeditor5/src/utils.js';\nimport ImageUtils from './imageutils.js';\n// Implements the pattern: http(s)://(www.)example.com/path/to/resource.ext?query=params&maybe=too.\nconst IMAGE_URL_REGEXP = new RegExp(String(/^(http(s)?:\\/\\/)?[\\w-]+\\.[\\w.~:/[\\]@!$&'()*+,;=%-]+/.source +\n    /\\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source +\n    /(\\?[\\w.~:/[\\]@!$&'()*+,;=%-]*)?/.source +\n    /(#[\\w.~:/[\\]@!$&'()*+,;=%-]*)?$/.source));\n/**\n * The auto-image plugin. It recognizes image links in the pasted content and embeds\n * them shortly after they are injected into the document.\n */\nexport default class AutoImage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Clipboard, ImageUtils, Undo, Delete];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AutoImage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._timeoutId = null;\n        this._positionToInsert = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const modelDocument = editor.model.document;\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        // We need to listen on `Clipboard#inputTransformation` because we need to save positions of selection.\n        // After pasting, the content between those positions will be checked for a URL that could be transformed\n        // into an image.\n        this.listenTo(clipboardPipeline, 'inputTransformation', () => {\n            const firstRange = modelDocument.selection.getFirstRange();\n            const leftLivePosition = LivePosition.fromPosition(firstRange.start);\n            leftLivePosition.stickiness = 'toPrevious';\n            const rightLivePosition = LivePosition.fromPosition(firstRange.end);\n            rightLivePosition.stickiness = 'toNext';\n            modelDocument.once('change:data', () => {\n                this._embedImageBetweenPositions(leftLivePosition, rightLivePosition);\n                leftLivePosition.detach();\n                rightLivePosition.detach();\n            }, { priority: 'high' });\n        });\n        editor.commands.get('undo').on('execute', () => {\n            if (this._timeoutId) {\n                global.window.clearTimeout(this._timeoutId);\n                this._positionToInsert.detach();\n                this._timeoutId = null;\n                this._positionToInsert = null;\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Analyzes the part of the document between provided positions in search for a URL representing an image.\n     * When the URL is found, it is automatically converted into an image.\n     *\n     * @param leftPosition Left position of the selection.\n     * @param rightPosition Right position of the selection.\n     */\n    _embedImageBetweenPositions(leftPosition, rightPosition) {\n        const editor = this.editor;\n        // TODO: Use a marker instead of LiveRange & LivePositions.\n        const urlRange = new LiveRange(leftPosition, rightPosition);\n        const walker = urlRange.getWalker({ ignoreElementEnd: true });\n        const selectionAttributes = Object.fromEntries(editor.model.document.selection.getAttributes());\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        let src = '';\n        for (const node of walker) {\n            if (node.item.is('$textProxy')) {\n                src += node.item.data;\n            }\n        }\n        src = src.trim();\n        // If the URL does not match the image URL regexp, let's skip that.\n        if (!src.match(IMAGE_URL_REGEXP)) {\n            urlRange.detach();\n            return;\n        }\n        // Position will not be available in the `setTimeout` function so let's clone it.\n        this._positionToInsert = LivePosition.fromPosition(leftPosition);\n        // This action mustn't be executed if undo was called between pasting and auto-embedding.\n        this._timeoutId = setTimeout(() => {\n            // Do nothing if image element cannot be inserted at the current position.\n            // See https://github.com/ckeditor/ckeditor5/issues/2763.\n            // Condition must be checked after timeout - pasting may take place on an element, replacing it. The final position matters.\n            const imageCommand = editor.commands.get('insertImage');\n            if (!imageCommand.isEnabled) {\n                urlRange.detach();\n                return;\n            }\n            editor.model.change(writer => {\n                this._timeoutId = null;\n                writer.remove(urlRange);\n                urlRange.detach();\n                let insertionPosition;\n                // Check if the position where the element should be inserted is still valid.\n                // Otherwise leave it as undefined to use the logic of insertImage().\n                if (this._positionToInsert.root.rootName !== '$graveyard') {\n                    insertionPosition = this._positionToInsert.toPosition();\n                }\n                imageUtils.insertImage({ ...selectionAttributes, src }, insertionPosition);\n                this._positionToInsert.detach();\n                this._positionToInsert = null;\n            });\n            const deletePlugin = editor.plugins.get('Delete');\n            deletePlugin.requestUndoOnBackspace();\n        }, 100);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagetextalternative/imagetextalternativecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The image text alternative command. It is used to change the `alt` attribute of `<imageBlock>` and `<imageInline>` model elements.\n */\nexport default class ImageTextAlternativeCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(this.editor.model.document.selection);\n        this.isEnabled = !!element;\n        if (this.isEnabled && element.hasAttribute('alt')) {\n            this.value = element.getAttribute('alt');\n        }\n        else {\n            this.value = false;\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options\n     * @param options.newValue The new value of the `alt` attribute to set.\n     */\n    execute(options) {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const model = editor.model;\n        const imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n        model.change(writer => {\n            writer.setAttribute('alt', options.newValue, imageElement);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagetextalternative/imagetextalternativeediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageTextAlternativeCommand from './imagetextalternativecommand.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image text alternative editing plugin.\n *\n * Registers the `'imageTextAlternative'` command.\n */\nexport default class ImageTextAlternativeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageTextAlternativeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this.editor.commands.add('imageTextAlternative', new ImageTextAlternativeCommand(this.editor));\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./textalternativeform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!../../../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./responsiveform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagetextalternative/ui/textalternativeformview\n */\nimport { ButtonView, FocusCycler, LabeledFieldView, View, ViewCollection, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { icons } from 'ckeditor5/src/core.js';\nimport '../../../theme/textalternativeform.css';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\n/**\n * The TextAlternativeFormView class.\n */\nexport default class TextAlternativeFormView extends View {\n    /**\n     * @inheritDoc\n     */\n    constructor(locale) {\n        super(locale);\n        const t = this.locale.t;\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.labeledInput = this._createLabeledInputView();\n        this.saveButtonView = this._createButton(t('Save'), icons.check, 'ck-button-save');\n        this.saveButtonView.type = 'submit';\n        this.cancelButtonView = this._createButton(t('Cancel'), icons.cancel, 'ck-button-cancel', 'cancel');\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-text-alternative-form',\n                    'ck-responsive-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-image/issues/40\n                tabindex: '-1'\n            },\n            children: [\n                this.labeledInput,\n                this.saveButtonView,\n                this.cancelButtonView\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        this.keystrokes.listenTo(this.element);\n        submitHandler({ view: this });\n        [this.labeledInput, this.saveButtonView, this.cancelButtonView]\n            .forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates the button view.\n     *\n     * @param label The button label\n     * @param icon The button's icon.\n     * @param className The additional button CSS class name.\n     * @param eventName The event name that the ButtonView#execute event will be delegated to.\n     * @returns The button view instance.\n     */\n    _createButton(label, icon, className, eventName) {\n        const button = new ButtonView(this.locale);\n        button.set({\n            label,\n            icon,\n            tooltip: true\n        });\n        button.extendTemplate({\n            attributes: {\n                class: className\n            }\n        });\n        if (eventName) {\n            button.delegate('execute').to(this, eventName);\n        }\n        return button;\n    }\n    /**\n     * Creates an input with a label.\n     *\n     * @returns Labeled field view instance.\n     */\n    _createLabeledInputView() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.label = t('Text alternative');\n        return labeledInput;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { BalloonPanelView } from 'ckeditor5/src/ui.js';\n/**\n * A helper utility that positions the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} instance\n * with respect to the image in the editor content, if one is selected.\n *\n * @param editor The editor instance.\n */\nexport function repositionContextualBalloon(editor) {\n    const balloon = editor.plugins.get('ContextualBalloon');\n    const imageUtils = editor.plugins.get('ImageUtils');\n    if (imageUtils.getClosestSelectedImageWidget(editor.editing.view.document.selection)) {\n        const position = getBalloonPositionData(editor);\n        balloon.updatePosition(position);\n    }\n}\n/**\n * Returns the positioning options that control the geometry of the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} with respect\n * to the selected element in the editor content.\n *\n * @param editor The editor instance.\n */\nexport function getBalloonPositionData(editor) {\n    const editingView = editor.editing.view;\n    const defaultPositions = BalloonPanelView.defaultPositions;\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return {\n        target: editingView.domConverter.mapViewToDom(imageUtils.getClosestSelectedImageWidget(editingView.document.selection)),\n        positions: [\n            defaultPositions.northArrowSouth,\n            defaultPositions.northArrowSouthWest,\n            defaultPositions.northArrowSouthEast,\n            defaultPositions.southArrowNorth,\n            defaultPositions.southArrowNorthWest,\n            defaultPositions.southArrowNorthEast,\n            defaultPositions.viewportStickyNorth\n        ]\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagetextalternative/imagetextalternativeui\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView, ContextualBalloon, clickOutsideHandler, CssTransitionDisablerMixin } from 'ckeditor5/src/ui.js';\nimport TextAlternativeFormView from './ui/textalternativeformview.js';\nimport { repositionContextualBalloon, getBalloonPositionData } from '../image/ui/utils.js';\n/**\n * The image text alternative UI plugin.\n *\n * The plugin uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon}.\n */\nexport default class ImageTextAlternativeUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageTextAlternativeUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._createButton();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed (see ckeditor5#1341).\n        if (this._form) {\n            this._form.destroy();\n        }\n    }\n    /**\n     * Creates a button showing the balloon panel for changing the image text alternative and\n     * registers it in the editor {@link module:ui/componentfactory~ComponentFactory ComponentFactory}.\n     */\n    _createButton() {\n        const editor = this.editor;\n        const t = editor.t;\n        editor.ui.componentFactory.add('imageTextAlternative', locale => {\n            const command = editor.commands.get('imageTextAlternative');\n            const view = new ButtonView(locale);\n            view.set({\n                label: t('Change image text alternative'),\n                icon: icons.textAlternative,\n                tooltip: true\n            });\n            view.bind('isEnabled').to(command, 'isEnabled');\n            view.bind('isOn').to(command, 'value', value => !!value);\n            this.listenTo(view, 'execute', () => {\n                this._showForm();\n            });\n            return view;\n        });\n    }\n    /**\n     * Creates the {@link module:image/imagetextalternative/ui/textalternativeformview~TextAlternativeFormView}\n     * form.\n     */\n    _createForm() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const viewDocument = view.document;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        this._balloon = this.editor.plugins.get('ContextualBalloon');\n        this._form = new (CssTransitionDisablerMixin(TextAlternativeFormView))(editor.locale);\n        // Render the form so its #element is available for clickOutsideHandler.\n        this._form.render();\n        this.listenTo(this._form, 'submit', () => {\n            editor.execute('imageTextAlternative', {\n                newValue: this._form.labeledInput.fieldView.element.value\n            });\n            this._hideForm(true);\n        });\n        this.listenTo(this._form, 'cancel', () => {\n            this._hideForm(true);\n        });\n        // Close the form on Esc key press.\n        this._form.keystrokes.set('Esc', (data, cancel) => {\n            this._hideForm(true);\n            cancel();\n        });\n        // Reposition the balloon or hide the form if an image widget is no longer selected.\n        this.listenTo(editor.ui, 'update', () => {\n            if (!imageUtils.getClosestSelectedImageWidget(viewDocument.selection)) {\n                this._hideForm(true);\n            }\n            else if (this._isVisible) {\n                repositionContextualBalloon(editor);\n            }\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: this._form,\n            activator: () => this._isVisible,\n            contextElements: () => [this._balloon.view.element],\n            callback: () => this._hideForm()\n        });\n    }\n    /**\n     * Shows the {@link #_form} in the {@link #_balloon}.\n     */\n    _showForm() {\n        if (this._isVisible) {\n            return;\n        }\n        if (!this._form) {\n            this._createForm();\n        }\n        const editor = this.editor;\n        const command = editor.commands.get('imageTextAlternative');\n        const labeledInput = this._form.labeledInput;\n        this._form.disableCssTransitions();\n        if (!this._isInBalloon) {\n            this._balloon.add({\n                view: this._form,\n                position: getBalloonPositionData(editor)\n            });\n        }\n        // Make sure that each time the panel shows up, the field remains in sync with the value of\n        // the command. If the user typed in the input, then canceled the balloon (`labeledInput#value`\n        // stays unaltered) and re-opened it without changing the value of the command, they would see the\n        // old value instead of the actual value of the command.\n        // https://github.com/ckeditor/ckeditor5-image/issues/114\n        labeledInput.fieldView.value = labeledInput.fieldView.element.value = command.value || '';\n        this._form.labeledInput.fieldView.select();\n        this._form.enableCssTransitions();\n    }\n    /**\n     * Removes the {@link #_form} from the {@link #_balloon}.\n     *\n     * @param focusEditable Controls whether the editing view is focused afterwards.\n     */\n    _hideForm(focusEditable = false) {\n        if (!this._isInBalloon) {\n            return;\n        }\n        // Blur the input element before removing it from DOM to prevent issues in some browsers.\n        // See https://github.com/ckeditor/ckeditor5/issues/1501.\n        if (this._form.focusTracker.isFocused) {\n            this._form.saveButtonView.focus();\n        }\n        this._balloon.remove(this._form);\n        if (focusEditable) {\n            this.editor.editing.view.focus();\n        }\n    }\n    /**\n     * Returns `true` when the {@link #_form} is the visible view in the {@link #_balloon}.\n     */\n    get _isVisible() {\n        return !!this._balloon && this._balloon.visibleView === this._form;\n    }\n    /**\n     * Returns `true` when the {@link #_form} is in the {@link #_balloon}.\n     */\n    get _isInBalloon() {\n        return !!this._balloon && this._balloon.hasView(this._form);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagetextalternative\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageTextAlternativeEditing from './imagetextalternative/imagetextalternativeediting.js';\nimport ImageTextAlternativeUI from './imagetextalternative/imagetextalternativeui.js';\n/**\n * The image text alternative plugin.\n *\n * For a detailed overview, check the {@glink features/images/images-styles image styles} documentation.\n *\n * This is a \"glue\" plugin which loads the\n *  {@link module:image/imagetextalternative/imagetextalternativeediting~ImageTextAlternativeEditing}\n * and {@link module:image/imagetextalternative/imagetextalternativeui~ImageTextAlternativeUI} plugins.\n */\nexport default class ImageTextAlternative extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageTextAlternativeEditing, ImageTextAlternativeUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageTextAlternative';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Returns a function that converts the image view representation:\n *\n * ```html\n * <figure class=\"image\"><img src=\"...\" alt=\"...\"></img></figure>\n * ```\n *\n * to the model representation:\n *\n * ```html\n * <imageBlock src=\"...\" alt=\"...\"></imageBlock>\n * ```\n *\n * The entire content of the `<figure>` element except the first `<img>` is being converted as children\n * of the `<imageBlock>` model element.\n *\n * @internal\n */\nexport function upcastImageFigure(imageUtils) {\n    const converter = (evt, data, conversionApi) => {\n        // Do not convert if this is not an \"image figure\".\n        if (!conversionApi.consumable.test(data.viewItem, { name: true, classes: 'image' })) {\n            return;\n        }\n        // Find an image element inside the figure element.\n        const viewImage = imageUtils.findViewImgElement(data.viewItem);\n        // Do not convert if image element is absent or was already converted.\n        if (!viewImage || !conversionApi.consumable.test(viewImage, { name: true })) {\n            return;\n        }\n        // Consume the figure to prevent other converters from processing it again.\n        conversionApi.consumable.consume(data.viewItem, { name: true, classes: 'image' });\n        // Convert view image to model image.\n        const conversionResult = conversionApi.convertItem(viewImage, data.modelCursor);\n        // Get image element from conversion result.\n        const modelImage = first(conversionResult.modelRange.getItems());\n        // When image wasn't successfully converted then finish conversion.\n        if (!modelImage) {\n            // Revert consumed figure so other features can convert it.\n            conversionApi.consumable.revert(data.viewItem, { name: true, classes: 'image' });\n            return;\n        }\n        // Convert rest of the figure element's children as an image children.\n        conversionApi.convertChildren(data.viewItem, modelImage);\n        conversionApi.updateConversionResult(modelImage, data);\n    };\n    return dispatcher => {\n        dispatcher.on('element:figure', converter);\n    };\n}\n/**\n * Returns a function that converts the image view representation:\n *\n * ```html\n * <picture><source ... /><source ... />...<img ... /></picture>\n * ```\n *\n * to the model representation as the `sources` attribute:\n *\n * ```html\n * <image[Block|Inline] ... sources=\"...\"></image[Block|Inline]>\n * ```\n *\n * @internal\n */\nexport function upcastPicture(imageUtils) {\n    const sourceAttributeNames = ['srcset', 'media', 'type', 'sizes'];\n    const converter = (evt, data, conversionApi) => {\n        const pictureViewElement = data.viewItem;\n        // Do not convert <picture> if already consumed.\n        if (!conversionApi.consumable.test(pictureViewElement, { name: true })) {\n            return;\n        }\n        const sources = new Map();\n        // Collect all <source /> elements attribute values.\n        for (const childSourceElement of pictureViewElement.getChildren()) {\n            if (childSourceElement.is('element', 'source')) {\n                const attributes = {};\n                for (const name of sourceAttributeNames) {\n                    if (childSourceElement.hasAttribute(name)) {\n                        // Don't collect <source /> attribute if already consumed somewhere else.\n                        if (conversionApi.consumable.test(childSourceElement, { attributes: name })) {\n                            attributes[name] = childSourceElement.getAttribute(name);\n                        }\n                    }\n                }\n                if (Object.keys(attributes).length) {\n                    sources.set(childSourceElement, attributes);\n                }\n            }\n        }\n        const imgViewElement = imageUtils.findViewImgElement(pictureViewElement);\n        // Don't convert when a picture has no <img/> inside (it is broken).\n        if (!imgViewElement) {\n            return;\n        }\n        let modelImage = data.modelCursor.parent;\n        // - In case of an inline image (cursor parent in a <paragraph>), the <img/> must be converted right away\n        // because no converter handled it yet and otherwise there would be no model element to set the sources attribute on.\n        // - In case of a block image, the <figure class=\"image\"> converter (in ImageBlockEditing) converts the\n        // <img/> right away on its own and the modelCursor is already inside an imageBlock and there's nothing special\n        // to do here.\n        if (!modelImage.is('element', 'imageBlock')) {\n            const conversionResult = conversionApi.convertItem(imgViewElement, data.modelCursor);\n            // Set image range as conversion result.\n            data.modelRange = conversionResult.modelRange;\n            // Continue conversion where image conversion ends.\n            data.modelCursor = conversionResult.modelCursor;\n            modelImage = first(conversionResult.modelRange.getItems());\n        }\n        conversionApi.consumable.consume(pictureViewElement, { name: true });\n        // Consume only these <source/> attributes that were actually collected and will be passed on\n        // to the image model element.\n        for (const [sourceElement, attributes] of sources) {\n            conversionApi.consumable.consume(sourceElement, { attributes: Object.keys(attributes) });\n        }\n        if (sources.size) {\n            conversionApi.writer.setAttribute('sources', Array.from(sources.values()), modelImage);\n        }\n        // Convert rest of the <picture> children as an image children. Other converters may want to consume them.\n        conversionApi.convertChildren(pictureViewElement, modelImage);\n    };\n    return dispatcher => {\n        dispatcher.on('element:picture', converter);\n    };\n}\n/**\n * Converter used to convert the `srcset` model image attribute to the `srcset` and `sizes` attributes in the view.\n *\n * @internal\n * @param imageType The type of the image.\n */\nexport function downcastSrcsetAttribute(imageUtils, imageType) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const writer = conversionApi.writer;\n        const element = conversionApi.mapper.toViewElement(data.item);\n        const img = imageUtils.findViewImgElement(element);\n        if (data.attributeNewValue === null) {\n            writer.removeAttribute('srcset', img);\n            writer.removeAttribute('sizes', img);\n        }\n        else {\n            if (data.attributeNewValue) {\n                writer.setAttribute('srcset', data.attributeNewValue, img);\n                // Always outputting `100vw`. See https://github.com/ckeditor/ckeditor5-image/issues/2.\n                writer.setAttribute('sizes', '100vw', img);\n            }\n        }\n    };\n    return dispatcher => {\n        dispatcher.on(`attribute:srcset:${imageType}`, converter);\n    };\n}\n/**\n * Converts the `source` model attribute to the `<picture><source /><source />...<img /></picture>`\n * view structure.\n *\n * @internal\n */\nexport function downcastSourcesAttribute(imageUtils) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const viewWriter = conversionApi.writer;\n        const element = conversionApi.mapper.toViewElement(data.item);\n        const imgElement = imageUtils.findViewImgElement(element);\n        const attributeNewValue = data.attributeNewValue;\n        if (attributeNewValue && attributeNewValue.length) {\n            // Collect all wrapping attribute elements.\n            const attributeElements = [];\n            let viewElement = imgElement.parent;\n            while (viewElement && viewElement.is('attributeElement')) {\n                const parentElement = viewElement.parent;\n                viewWriter.unwrap(viewWriter.createRangeOn(imgElement), viewElement);\n                attributeElements.unshift(viewElement);\n                viewElement = parentElement;\n            }\n            const hasPictureElement = imgElement.parent.is('element', 'picture');\n            // Reuse existing <picture> element (ckeditor5#17192) or create a new one.\n            const pictureElement = hasPictureElement ? imgElement.parent : viewWriter.createContainerElement('picture', null);\n            if (!hasPictureElement) {\n                viewWriter.insert(viewWriter.createPositionBefore(imgElement), pictureElement);\n            }\n            viewWriter.remove(viewWriter.createRangeIn(pictureElement));\n            viewWriter.insert(viewWriter.createPositionAt(pictureElement, 'end'), attributeNewValue.map(sourceAttributes => {\n                return viewWriter.createEmptyElement('source', sourceAttributes);\n            }));\n            viewWriter.move(viewWriter.createRangeOn(imgElement), viewWriter.createPositionAt(pictureElement, 'end'));\n            // Apply collected attribute elements over the new picture element.\n            for (const attributeElement of attributeElements) {\n                viewWriter.wrap(viewWriter.createRangeOn(pictureElement), attributeElement);\n            }\n        }\n        // Both setting \"sources\" to an empty array and removing the attribute should unwrap the <img />.\n        // Unwrap once if the latter followed the former, though.\n        else if (imgElement.parent.is('element', 'picture')) {\n            const pictureElement = imgElement.parent;\n            viewWriter.move(viewWriter.createRangeOn(imgElement), viewWriter.createPositionBefore(pictureElement));\n            viewWriter.remove(pictureElement);\n        }\n    };\n    return dispatcher => {\n        dispatcher.on('attribute:sources:imageBlock', converter);\n        dispatcher.on('attribute:sources:imageInline', converter);\n    };\n}\n/**\n * Converter used to convert a given image attribute from the model to the view.\n *\n * @internal\n * @param imageType The type of the image.\n * @param attributeKey The name of the attribute to convert.\n */\nexport function downcastImageAttribute(imageUtils, imageType, attributeKey) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const viewWriter = conversionApi.writer;\n        const element = conversionApi.mapper.toViewElement(data.item);\n        const img = imageUtils.findViewImgElement(element);\n        viewWriter.setAttribute(data.attributeKey, data.attributeNewValue || '', img);\n    };\n    return dispatcher => {\n        dispatcher.on(`attribute:${attributeKey}:${imageType}`, converter);\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image/imageloadobserver\n */\nimport { Observer } from 'ckeditor5/src/engine.js';\n/**\n * Observes all new images added to the {@link module:engine/view/document~Document},\n * fires {@link module:engine/view/document~Document#event:imageLoaded} and\n * {@link module:engine/view/document~Document#event:layoutChanged} event every time when the new image\n * has been loaded.\n *\n * **Note:** This event is not fired for images that has been added to the document and rendered as `complete` (already loaded).\n */\nexport default class ImageLoadObserver extends Observer {\n    /**\n     * @inheritDoc\n     */\n    observe(domRoot) {\n        this.listenTo(domRoot, 'load', (event, domEvent) => {\n            const domElement = domEvent.target;\n            if (this.checkShouldIgnoreEventFromTarget(domElement)) {\n                return;\n            }\n            if (domElement.tagName == 'IMG') {\n                this._fireEvents(domEvent);\n            }\n            // Use capture phase for better performance (#4504).\n        }, { useCapture: true });\n    }\n    /**\n     * @inheritDoc\n     */\n    stopObserving(domRoot) {\n        this.stopListening(domRoot);\n    }\n    /**\n     * Fires {@link module:engine/view/document~Document#event:layoutChanged} and\n     * {@link module:engine/view/document~Document#event:imageLoaded}\n     * if observer {@link #isEnabled is enabled}.\n     *\n     * @param domEvent The DOM event.\n     */\n    _fireEvents(domEvent) {\n        if (this.isEnabled) {\n            this.document.fire('layoutChanged');\n            this.document.fire('imageLoaded', domEvent);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image/insertimagecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { logWarning, toArray } from 'ckeditor5/src/utils.js';\n/**\n * Insert image command.\n *\n * The command is registered by the {@link module:image/image/imageediting~ImageEditing} plugin as `insertImage`\n * and it is also available via aliased `imageInsert` name.\n *\n * In order to insert an image at the current selection position\n * (according to the {@link module:widget/utils~findOptimalInsertionRange} algorithm),\n * execute the command and specify the image source:\n *\n * ```ts\n * editor.execute( 'insertImage', { source: 'http://url.to.the/image' } );\n * ```\n *\n * It is also possible to insert multiple images at once:\n *\n * ```ts\n * editor.execute( 'insertImage', {\n * \tsource:  [\n * \t\t'path/to/image.jpg',\n * \t\t'path/to/other-image.jpg'\n * \t]\n * } );\n * ```\n *\n * If you want to take the full control over the process, you can specify individual model attributes:\n *\n * ```ts\n * editor.execute( 'insertImage', {\n * \tsource:  [\n * \t\t{ src: 'path/to/image.jpg', alt: 'First alt text' },\n * \t\t{ src: 'path/to/other-image.jpg', alt: 'Second alt text', customAttribute: 'My attribute value' }\n * \t]\n * } );\n * ```\n */\nexport default class InsertImageCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        const configImageInsertType = editor.config.get('image.insert.type');\n        if (!editor.plugins.has('ImageBlockEditing')) {\n            if (configImageInsertType === 'block') {\n                /**\n                 * The {@link module:image/imageblock~ImageBlock} plugin must be enabled to allow inserting block images. See\n                 * {@link module:image/imageconfig~ImageInsertConfig#type} to learn more.\n                 *\n                 * @error image-block-plugin-required\n                 */\n                logWarning('image-block-plugin-required');\n            }\n        }\n        if (!editor.plugins.has('ImageInlineEditing')) {\n            if (configImageInsertType === 'inline') {\n                /**\n                 * The {@link module:image/imageinline~ImageInline} plugin must be enabled to allow inserting inline images. See\n                 * {@link module:image/imageconfig~ImageInsertConfig#type} to learn more.\n                 *\n                 * @error image-inline-plugin-required\n                 */\n                logWarning('image-inline-plugin-required');\n            }\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        this.isEnabled = imageUtils.isImageAllowed();\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options Options for the executed command.\n     * @param options.imageType The type of the image to insert. If not specified, the type will be determined automatically.\n     * @param options.source The image source or an array of image sources to insert.\n     * See the documentation of the command to learn more about accepted formats.\n     */\n    execute(options) {\n        const sourceDefinitions = toArray(options.source);\n        const selection = this.editor.model.document.selection;\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        // In case of multiple images, each image (starting from the 2nd) will be inserted at a position that\n        // follows the previous one. That will move the selection and, to stay on the safe side and make sure\n        // all images inherit the same selection attributes, they are collected beforehand.\n        //\n        // Applying these attributes ensures, for instance, that inserting an (inline) image into a link does\n        // not split that link but preserves its continuity.\n        //\n        // Note: Selection attributes that do not make sense for images will be filtered out by insertImage() anyway.\n        const selectionAttributes = Object.fromEntries(selection.getAttributes());\n        sourceDefinitions.forEach((sourceDefinition, index) => {\n            const selectedElement = selection.getSelectedElement();\n            if (typeof sourceDefinition === 'string') {\n                sourceDefinition = { src: sourceDefinition };\n            }\n            // Inserting of an inline image replace the selected element and make a selection on the inserted image.\n            // Therefore inserting multiple inline images requires creating position after each element.\n            if (index && selectedElement && imageUtils.isImage(selectedElement)) {\n                const position = this.editor.model.createPositionAfter(selectedElement);\n                imageUtils.insertImage({ ...sourceDefinition, ...selectionAttributes }, position, options.imageType);\n            }\n            else {\n                imageUtils.insertImage({ ...sourceDefinition, ...selectionAttributes }, null, options.imageType);\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * @module image/image/replaceimagesourcecommand\n */\n/**\n * Replace image source command.\n *\n * Changes image source to the one provided. Can be executed as follows:\n *\n * ```ts\n * editor.execute( 'replaceImageSource', { source: 'http://url.to.the/image' } );\n * ```\n */\nexport default class ReplaceImageSourceCommand extends Command {\n    constructor(editor) {\n        super(editor);\n        this.decorate('cleanupImage');\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = this.editor.model.document.selection.getSelectedElement();\n        this.isEnabled = imageUtils.isImage(element);\n        this.value = this.isEnabled ? element.getAttribute('src') : null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options Options for the executed command.\n     * @param options.source The image source to replace.\n     */\n    execute(options) {\n        const image = this.editor.model.document.selection.getSelectedElement();\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        this.editor.model.change(writer => {\n            writer.setAttribute('src', options.source, image);\n            this.cleanupImage(writer, image);\n            imageUtils.setImageNaturalSizeAttributes(image);\n        });\n    }\n    /**\n     * Cleanup image attributes that are not relevant to the new source.\n     *\n     * Removed attributes are: 'srcset', 'sizes', 'sources', 'width', 'height', 'alt'.\n     *\n     * This method is decorated, to allow custom cleanup logic.\n     * For example, to remove 'myImageId' attribute after 'src' has changed:\n     *\n     * ```ts\n     * replaceImageSourceCommand.on( 'cleanupImage', ( eventInfo, [ writer, image ] ) => {\n     * \twriter.removeAttribute( 'myImageId', image );\n     * } );\n     * ```\n     */\n    cleanupImage(writer, image) {\n        writer.removeAttribute('srcset', image);\n        writer.removeAttribute('sizes', image);\n        /**\n         * In case responsive images some attributes should be cleaned up.\n         * Check: https://github.com/ckeditor/ckeditor5/issues/15093\n         */\n        writer.removeAttribute('sources', image);\n        writer.removeAttribute('width', image);\n        writer.removeAttribute('height', image);\n        writer.removeAttribute('alt', image);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image/imageediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageLoadObserver from './imageloadobserver.js';\nimport InsertImageCommand from './insertimagecommand.js';\nimport ReplaceImageSourceCommand from './replaceimagesourcecommand.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image engine plugin. This module loads common code shared between\n * {@link module:image/image/imageinlineediting~ImageInlineEditing} and\n * {@link module:image/image/imageblockediting~ImageBlockEditing} plugins.\n *\n * This plugin registers the {@link module:image/image/insertimagecommand~InsertImageCommand 'insertImage'} command.\n */\nexport default class ImageEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        // See https://github.com/ckeditor/ckeditor5-image/issues/142.\n        editor.editing.view.addObserver(ImageLoadObserver);\n        conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: 'img',\n                key: 'alt'\n            },\n            model: 'alt'\n        })\n            .attributeToAttribute({\n            view: {\n                name: 'img',\n                key: 'srcset'\n            },\n            model: 'srcset'\n        });\n        const insertImageCommand = new InsertImageCommand(editor);\n        const replaceImageSourceCommand = new ReplaceImageSourceCommand(editor);\n        editor.commands.add('insertImage', insertImageCommand);\n        editor.commands.add('replaceImageSource', replaceImageSourceCommand);\n        // `imageInsert` is an alias for backward compatibility.\n        editor.commands.add('imageInsert', insertImageCommand);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagesizeattributes\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from './imageutils.js';\nimport { widthAndHeightStylesAreBothSet, getSizeValueIfInPx } from './image/utils.js';\n/**\n * This plugin enables `width` and `height` attributes in inline and block image elements.\n */\nexport default class ImageSizeAttributes extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageSizeAttributes';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._registerSchema();\n        this._registerConverters('imageBlock');\n        this._registerConverters('imageInline');\n    }\n    /**\n     * Registers the `width` and `height` attributes for inline and block images.\n     */\n    _registerSchema() {\n        if (this.editor.plugins.has('ImageBlockEditing')) {\n            this.editor.model.schema.extend('imageBlock', { allowAttributes: ['width', 'height'] });\n        }\n        if (this.editor.plugins.has('ImageInlineEditing')) {\n            this.editor.model.schema.extend('imageInline', { allowAttributes: ['width', 'height'] });\n        }\n    }\n    /**\n     * Registers converters for `width` and `height` attributes.\n     */\n    _registerConverters(imageType) {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const viewElementName = imageType === 'imageBlock' ? 'figure' : 'img';\n        editor.conversion.for('upcast')\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                styles: {\n                    width: /.+/\n                }\n            },\n            model: {\n                key: 'width',\n                value: (viewElement) => {\n                    if (widthAndHeightStylesAreBothSet(viewElement)) {\n                        return getSizeValueIfInPx(viewElement.getStyle('width'));\n                    }\n                    return null;\n                }\n            }\n        })\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                key: 'width'\n            },\n            model: 'width'\n        })\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                styles: {\n                    height: /.+/\n                }\n            },\n            model: {\n                key: 'height',\n                value: (viewElement) => {\n                    if (widthAndHeightStylesAreBothSet(viewElement)) {\n                        return getSizeValueIfInPx(viewElement.getStyle('height'));\n                    }\n                    return null;\n                }\n            }\n        })\n            .attributeToAttribute({\n            view: {\n                name: viewElementName,\n                key: 'height'\n            },\n            model: 'height'\n        });\n        // Dedicated converters to propagate attributes to the <img> element.\n        editor.conversion.for('editingDowncast').add(dispatcher => {\n            attachDowncastConverter(dispatcher, 'width', 'width', true);\n            attachDowncastConverter(dispatcher, 'height', 'height', true);\n        });\n        editor.conversion.for('dataDowncast').add(dispatcher => {\n            attachDowncastConverter(dispatcher, 'width', 'width', false);\n            attachDowncastConverter(dispatcher, 'height', 'height', false);\n        });\n        function attachDowncastConverter(dispatcher, modelAttributeName, viewAttributeName, setRatioForInlineImage) {\n            dispatcher.on(`attribute:${modelAttributeName}:${imageType}`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                    return;\n                }\n                const viewWriter = conversionApi.writer;\n                const viewElement = conversionApi.mapper.toViewElement(data.item);\n                const img = imageUtils.findViewImgElement(viewElement);\n                if (data.attributeNewValue !== null) {\n                    viewWriter.setAttribute(viewAttributeName, data.attributeNewValue, img);\n                }\n                else {\n                    viewWriter.removeAttribute(viewAttributeName, img);\n                }\n                // Do not set aspect-ratio for pictures. See https://github.com/ckeditor/ckeditor5/issues/14579.\n                if (data.item.hasAttribute('sources')) {\n                    return;\n                }\n                const isResized = data.item.hasAttribute('resizedWidth');\n                // Do not set aspect ratio for inline images which are not resized (data pipeline).\n                if (imageType === 'imageInline' && !isResized && !setRatioForInlineImage) {\n                    return;\n                }\n                const width = data.item.getAttribute('width');\n                const height = data.item.getAttribute('height');\n                if (width && height) {\n                    viewWriter.setStyle('aspect-ratio', `${width}/${height}`, img);\n                }\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The image type command. It changes the type of a selected image, depending on the configuration.\n */\nexport default class ImageTypeCommand extends Command {\n    /**\n     * @inheritDoc\n     *\n     * @param modelElementName Model element name the command converts to.\n     */\n    constructor(editor, modelElementName) {\n        super(editor);\n        this._modelElementName = modelElementName;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(this.editor.model.document.selection);\n        if (this._modelElementName === 'imageBlock') {\n            this.isEnabled = imageUtils.isInlineImage(element);\n        }\n        else {\n            this.isEnabled = imageUtils.isBlockImage(element);\n        }\n    }\n    /**\n     * Executes the command and changes the type of a selected image.\n     *\n     * @fires execute\n     * @param options.setImageSizes Specifies whether the image `width` and `height` attributes should be set automatically.\n     * The default is `true`.\n     * @returns An object containing references to old and new model image elements\n     * (for before and after the change) so external integrations can hook into the decorated\n     * `execute` event and handle this change. `null` if the type change failed.\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = this.editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const oldElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n        const attributes = Object.fromEntries(oldElement.getAttributes());\n        // Don't change image type if \"src\" is missing (a broken image), unless there's \"uploadId\" set.\n        // This state may happen during image upload (before it finishes) and it should be possible to change type\n        // of the image in the meantime.\n        if (!attributes.src && !attributes.uploadId) {\n            return null;\n        }\n        return model.change(writer => {\n            const { setImageSizes = true } = options;\n            // Get all markers that contain the old image element.\n            const markers = Array.from(model.markers)\n                .filter(marker => marker.getRange().containsItem(oldElement));\n            const newElement = imageUtils.insertImage(attributes, model.createSelection(oldElement, 'on'), this._modelElementName, { setImageSizes });\n            if (!newElement) {\n                return null;\n            }\n            const newElementRange = writer.createRangeOn(newElement);\n            // Expand the previously intersecting markers' ranges to include the new image element.\n            for (const marker of markers) {\n                const markerRange = marker.getRange();\n                // Join the survived part of the old marker range with the new element range\n                // (loosely because there could be some new paragraph or the existing one might got split).\n                const range = markerRange.root.rootName != '$graveyard' ?\n                    markerRange.getJoined(newElementRange, true) : newElementRange;\n                writer.updateMarker(marker, { range });\n            }\n            return {\n                oldElement,\n                newElement\n            };\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageplaceholder.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image/imageplaceholder\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from '../imageutils.js';\nimport ImageLoadObserver from './imageloadobserver.js';\nimport '../../theme/imageplaceholder.css';\n/**\n * Adds support for image placeholder that is automatically removed when the image is loaded.\n */\nexport default class ImagePlaceholder extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImagePlaceholder';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._setupSchema();\n        this._setupConversion();\n        this._setupLoadListener();\n    }\n    /**\n     * Extends model schema.\n     */\n    _setupSchema() {\n        const schema = this.editor.model.schema;\n        // Wait for ImageBlockEditing or ImageInlineEditing to register their elements first,\n        // that's why doing this in afterInit() instead of init().\n        if (schema.isRegistered('imageBlock')) {\n            schema.extend('imageBlock', {\n                allowAttributes: ['placeholder']\n            });\n        }\n        if (schema.isRegistered('imageInline')) {\n            schema.extend('imageInline', {\n                allowAttributes: ['placeholder']\n            });\n        }\n    }\n    /**\n     * Registers converters.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        conversion.for('editingDowncast').add(dispatcher => {\n            dispatcher.on('attribute:placeholder', (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                if (!data.item.is('element', 'imageBlock') && !data.item.is('element', 'imageInline')) {\n                    return;\n                }\n                conversionApi.consumable.consume(data.item, evt.name);\n                const viewWriter = conversionApi.writer;\n                const element = conversionApi.mapper.toViewElement(data.item);\n                const img = imageUtils.findViewImgElement(element);\n                if (data.attributeNewValue) {\n                    viewWriter.addClass('image_placeholder', img);\n                    viewWriter.setStyle('background-image', `url(${data.attributeNewValue})`, img);\n                    viewWriter.setCustomProperty('editingPipeline:doNotReuseOnce', true, img);\n                }\n                else {\n                    viewWriter.removeClass('image_placeholder', img);\n                    viewWriter.removeStyle('background-image', img);\n                }\n            });\n        });\n    }\n    /**\n     * Prepares listener for image load.\n     */\n    _setupLoadListener() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editing = editor.editing;\n        const editingView = editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        editingView.addObserver(ImageLoadObserver);\n        this.listenTo(editingView.document, 'imageLoaded', (evt, domEvent) => {\n            const imgViewElement = editingView.domConverter.mapDomToView(domEvent.target);\n            if (!imgViewElement) {\n                return;\n            }\n            const viewElement = imageUtils.getImageWidgetFromImageView(imgViewElement);\n            if (!viewElement) {\n                return;\n            }\n            const modelElement = editing.mapper.toModelElement(viewElement);\n            if (!modelElement || !modelElement.hasAttribute('placeholder')) {\n                return;\n            }\n            model.enqueueChange({ isUndoable: false }, writer => {\n                writer.removeAttribute('placeholder', modelElement);\n            });\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image/imageblockediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { downcastImageAttribute, downcastSrcsetAttribute, upcastImageFigure } from './converters.js';\nimport ImageEditing from './imageediting.js';\nimport ImageSizeAttributes from '../imagesizeattributes.js';\nimport ImageTypeCommand from './imagetypecommand.js';\nimport ImageUtils from '../imageutils.js';\nimport { getImgViewElementMatcher, createBlockImageViewElement, determineImageTypeForInsertionAtSelection } from './utils.js';\nimport ImagePlaceholder from './imageplaceholder.js';\n/**\n * The image block plugin.\n *\n * It registers:\n *\n * * `<imageBlock>` as a block element in the document schema, and allows `alt`, `src` and `srcset` attributes.\n * * converters for editing and data pipelines.,\n * * {@link module:image/image/imagetypecommand~ImageTypeCommand `'imageTypeBlock'`} command that converts inline images into\n * block images.\n */\nexport default class ImageBlockEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageEditing, ImageSizeAttributes, ImageUtils, ImagePlaceholder, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageBlockEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        // Converters 'alt' and 'srcset' are added in 'ImageEditing' plugin.\n        schema.register('imageBlock', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['alt', 'src', 'srcset']\n        });\n        this._setupConversion();\n        if (editor.plugins.has('ImageInlineEditing')) {\n            editor.commands.add('imageTypeBlock', new ImageTypeCommand(this.editor, 'imageBlock'));\n            this._setupClipboardIntegration();\n        }\n    }\n    /**\n     * Configures conversion pipelines to support upcasting and downcasting\n     * block images (block image widgets) and their attributes.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        conversion.for('dataDowncast')\n            .elementToStructure({\n            model: 'imageBlock',\n            view: (modelElement, { writer }) => createBlockImageViewElement(writer)\n        });\n        conversion.for('editingDowncast')\n            .elementToStructure({\n            model: 'imageBlock',\n            view: (modelElement, { writer }) => imageUtils.toImageWidget(createBlockImageViewElement(writer), writer, t('image widget'))\n        });\n        conversion.for('downcast')\n            .add(downcastImageAttribute(imageUtils, 'imageBlock', 'src'))\n            .add(downcastImageAttribute(imageUtils, 'imageBlock', 'alt'))\n            .add(downcastSrcsetAttribute(imageUtils, 'imageBlock'));\n        // More image related upcasts are in 'ImageEditing' plugin.\n        conversion.for('upcast')\n            .elementToElement({\n            view: getImgViewElementMatcher(editor, 'imageBlock'),\n            model: (viewImage, { writer }) => writer.createElement('imageBlock', viewImage.hasAttribute('src') ? { src: viewImage.getAttribute('src') } : undefined)\n        })\n            .add(upcastImageFigure(imageUtils));\n    }\n    /**\n     * Integrates the plugin with the clipboard pipeline.\n     *\n     * Idea is that the feature should recognize the user's intent when an **inline** image is\n     * pasted or dropped. If such an image is pasted/dropped:\n     *\n     * * into an empty block (e.g. an empty paragraph),\n     * * on another object (e.g. some block widget).\n     *\n     * it gets converted into a block image on the fly. We assume this is the user's intent\n     * if they decided to put their image there.\n     *\n     * See the `ImageInlineEditing` for the similar integration that works in the opposite direction.\n     *\n     * The feature also sets image `width` and `height` attributes on paste.\n     */\n    _setupClipboardIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editingView = editor.editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        this.listenTo(clipboardPipeline, 'inputTransformation', (evt, data) => {\n            const docFragmentChildren = Array.from(data.content.getChildren());\n            let modelRange;\n            // Make sure only <img> elements are dropped or pasted. Otherwise, if there some other HTML\n            // mixed up, this should be handled as a regular paste.\n            if (!docFragmentChildren.every(imageUtils.isInlineImageView)) {\n                return;\n            }\n            // When drag and dropping, data.targetRanges specifies where to drop because\n            // this is usually a different place than the current model selection (the user\n            // uses a drop marker to specify the drop location).\n            if (data.targetRanges) {\n                modelRange = editor.editing.mapper.toModelRange(data.targetRanges[0]);\n            }\n            // Pasting, however, always occurs at the current model selection.\n            else {\n                modelRange = model.document.selection.getFirstRange();\n            }\n            const selection = model.createSelection(modelRange);\n            // Convert inline images into block images only when the currently selected block is empty\n            // (e.g. an empty paragraph) or some object is selected (to replace it).\n            if (determineImageTypeForInsertionAtSelection(model.schema, selection) === 'imageBlock') {\n                const writer = new UpcastWriter(editingView.document);\n                // Wrap <img ... /> -> <figure class=\"image\"><img .../></figure>\n                const blockViewImages = docFragmentChildren.map(inlineViewImage => writer.createElement('figure', { class: 'image' }, inlineViewImage));\n                data.content = writer.createDocumentFragment(blockViewImages);\n            }\n        });\n        this.listenTo(clipboardPipeline, 'contentInsertion', (evt, data) => {\n            if (data.method !== 'paste') {\n                return;\n            }\n            model.change(writer => {\n                const range = writer.createRangeIn(data.content);\n                for (const item of range.getItems()) {\n                    if (item.is('element', 'imageBlock')) {\n                        imageUtils.setImageNaturalSizeAttributes(item);\n                    }\n                }\n            });\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageinsert.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imageinsert/ui/imageinsertformview\n */\nimport { View, ViewCollection, submitHandler, FocusCycler, CollapsibleView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport '../../../theme/imageinsert.css';\n/**\n * The view displayed in the insert image dropdown.\n *\n * See {@link module:image/imageinsert/imageinsertui~ImageInsertUI}.\n */\nexport default class ImageInsertFormView extends View {\n    /**\n     * Creates a view for the dropdown panel of {@link module:image/imageinsert/imageinsertui~ImageInsertUI}.\n     *\n     * @param locale The localization services instance.\n     * @param integrations An integrations object that contains components (or tokens for components) to be shown in the panel view.\n     */\n    constructor(locale, integrations = []) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this._focusables = new ViewCollection();\n        this.children = this.createCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        for (const view of integrations) {\n            this.children.add(view);\n            this._focusables.add(view);\n            if (view instanceof CollapsibleView) {\n                this._focusables.addMany(view.children);\n            }\n        }\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-image-insert-form'\n                ],\n                tabindex: -1\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        for (const view of this._focusables) {\n            this.focusTracker.add(view.element);\n        }\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n        const stopPropagation = (data) => data.stopPropagation();\n        // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n        // keystroke handler would take over the key management in the URL input. We need to prevent\n        // this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n        this.keystrokes.set('arrowright', stopPropagation);\n        this.keystrokes.set('arrowleft', stopPropagation);\n        this.keystrokes.set('arrowup', stopPropagation);\n        this.keystrokes.set('arrowdown', stopPropagation);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the first {@link #_focusables focusable} in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imageinsert/imageinsertui\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { logWarning } from 'ckeditor5/src/utils.js';\nimport { createDropdown, MenuBarMenuListItemView, MenuBarMenuListView, MenuBarMenuView, SplitButtonView } from 'ckeditor5/src/ui.js';\nimport ImageInsertFormView from './ui/imageinsertformview.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image insert dropdown plugin.\n *\n * For a detailed overview, check the {@glink features/images/image-upload/image-upload Image upload feature}\n * and {@glink features/images/images-inserting Insert images via source URL} documentation.\n *\n * Adds the `'insertImage'` dropdown to the {@link module:ui/componentfactory~ComponentFactory UI component factory}\n * and also the `imageInsert` dropdown as an alias for backward compatibility.\n *\n * Adds the `'menuBar:insertImage'` sub-menu to the {@link module:ui/componentfactory~ComponentFactory UI component factory}, which is\n * by default added to the `'Insert'` menu.\n */\nexport default class ImageInsertUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageInsertUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        /**\n         * Registered integrations map.\n         */\n        this._integrations = new Map();\n        editor.config.define('image.insert.integrations', [\n            'upload',\n            'assetManager',\n            'url'\n        ]);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        this.set('isImageSelected', false);\n        this.listenTo(editor.model.document, 'change', () => {\n            this.isImageSelected = imageUtils.isImage(selection.getSelectedElement());\n        });\n        const componentCreator = (locale) => this._createToolbarComponent(locale);\n        const menuBarComponentCreator = (locale) => this._createMenuBarComponent(locale);\n        // Register `insertImage` dropdown and add `imageInsert` dropdown as an alias for backward compatibility.\n        editor.ui.componentFactory.add('insertImage', componentCreator);\n        editor.ui.componentFactory.add('imageInsert', componentCreator);\n        editor.ui.componentFactory.add('menuBar:insertImage', menuBarComponentCreator);\n    }\n    /**\n     * Registers the insert image dropdown integration.\n     */\n    registerIntegration({ name, observable, buttonViewCreator, formViewCreator, menuBarButtonViewCreator, requiresForm = false }) {\n        if (this._integrations.has(name)) {\n            /**\n             * There are two insert-image integrations registered with the same name.\n             *\n             * Make sure that you do not load multiple asset manager plugins.\n             *\n             * @error image-insert-integration-exists\n             */\n            logWarning('image-insert-integration-exists', { name });\n        }\n        this._integrations.set(name, {\n            observable,\n            buttonViewCreator,\n            menuBarButtonViewCreator,\n            formViewCreator,\n            requiresForm\n        });\n    }\n    /**\n     * Creates the toolbar component.\n     */\n    _createToolbarComponent(locale) {\n        const editor = this.editor;\n        const t = locale.t;\n        const integrations = this._prepareIntegrations();\n        if (!integrations.length) {\n            return null;\n        }\n        let dropdownButton;\n        const firstIntegration = integrations[0];\n        if (integrations.length == 1) {\n            // Do not use dropdown for a single integration button (integration that does not require form view).\n            if (!firstIntegration.requiresForm) {\n                return firstIntegration.buttonViewCreator(true);\n            }\n            dropdownButton = firstIntegration.buttonViewCreator(true);\n        }\n        else {\n            const actionButton = firstIntegration.buttonViewCreator(false);\n            dropdownButton = new SplitButtonView(locale, actionButton);\n            dropdownButton.tooltip = true;\n            dropdownButton.bind('label').to(this, 'isImageSelected', isImageSelected => isImageSelected ?\n                t('Replace image') :\n                t('Insert image'));\n        }\n        const dropdownView = this.dropdownView = createDropdown(locale, dropdownButton);\n        const observables = integrations.map(({ observable }) => typeof observable == 'function' ? observable() : observable);\n        dropdownView.bind('isEnabled').toMany(observables, 'isEnabled', (...isEnabled) => (isEnabled.some(isEnabled => isEnabled)));\n        dropdownView.once('change:isOpen', () => {\n            const integrationViews = integrations.map(({ formViewCreator }) => formViewCreator(integrations.length == 1));\n            const imageInsertFormView = new ImageInsertFormView(editor.locale, integrationViews);\n            dropdownView.panelView.children.add(imageInsertFormView);\n        });\n        return dropdownView;\n    }\n    /**\n     * Creates the menu bar component.\n     */\n    _createMenuBarComponent(locale) {\n        const t = locale.t;\n        const integrations = this._prepareIntegrations();\n        if (!integrations.length) {\n            return null;\n        }\n        let resultView;\n        const firstIntegration = integrations[0];\n        if (integrations.length == 1) {\n            resultView = firstIntegration.menuBarButtonViewCreator(true);\n        }\n        else {\n            resultView = new MenuBarMenuView(locale);\n            const listView = new MenuBarMenuListView(locale);\n            resultView.panelView.children.add(listView);\n            resultView.buttonView.set({\n                icon: icons.image,\n                label: t('Image')\n            });\n            for (const integration of integrations) {\n                const listItemView = new MenuBarMenuListItemView(locale, resultView);\n                const buttonView = integration.menuBarButtonViewCreator(false);\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n        }\n        return resultView;\n    }\n    /**\n     * Validates the integrations list.\n     */\n    _prepareIntegrations() {\n        const editor = this.editor;\n        const items = editor.config.get('image.insert.integrations');\n        const result = [];\n        if (!items.length) {\n            /**\n             * The insert image feature requires a list of integrations to be provided in the editor configuration.\n             *\n             * The default list of integrations is `upload`, `assetManager`, `url`. Those integrations are included\n             * in the insert image dropdown if the given feature plugin is loaded. You should omit the `integrations`\n             * configuration key to use the default set or provide a selected list of integrations that should be used.\n             *\n             * @error image-insert-integrations-not-specified\n             */\n            logWarning('image-insert-integrations-not-specified');\n            return result;\n        }\n        for (const item of items) {\n            if (!this._integrations.has(item)) {\n                if (!['upload', 'assetManager', 'url'].includes(item)) {\n                    /**\n                     * The specified insert image integration name is unknown or the providing plugin is not loaded in the editor.\n                     *\n                     * @error image-insert-unknown-integration\n                     */\n                    logWarning('image-insert-unknown-integration', { item });\n                }\n                continue;\n            }\n            result.push(this._integrations.get(item));\n        }\n        if (!result.length) {\n            /**\n             * The image insert feature requires integrations to be registered by separate features.\n             *\n             * The `insertImage` toolbar button requires integrations to be registered by other features.\n             * For example {@link module:image/imageupload~ImageUpload ImageUpload},\n             * {@link module:image/imageinsert~ImageInsert ImageInsert},\n             * {@link module:image/imageinsertviaurl~ImageInsertViaUrl ImageInsertViaUrl},\n             * {@link module:ckbox/ckbox~CKBox CKBox}\n             *\n             * @error image-insert-integrations-not-registered\n             */\n            logWarning('image-insert-integrations-not-registered');\n        }\n        return result;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./image.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imageblock\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport ImageTextAlternative from './imagetextalternative.js';\nimport ImageBlockEditing from './image/imageblockediting.js';\nimport ImageInsertUI from './imageinsert/imageinsertui.js';\nimport '../theme/image.css';\n/**\n * The image block plugin.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * {@link module:image/image/imageblockediting~ImageBlockEditing},\n * * {@link module:image/imagetextalternative~ImageTextAlternative}.\n *\n * Usually, it is used in conjunction with other plugins from this package. See the {@glink api/image package page}\n * for more information.\n */\nexport default class ImageBlock extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageBlockEditing, Widget, ImageTextAlternative, ImageInsertUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageBlock';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image/imageinlineediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { downcastImageAttribute, downcastSrcsetAttribute } from './converters.js';\nimport ImageEditing from './imageediting.js';\nimport ImageSizeAttributes from '../imagesizeattributes.js';\nimport ImageTypeCommand from './imagetypecommand.js';\nimport ImageUtils from '../imageutils.js';\nimport { getImgViewElementMatcher, createInlineImageViewElement, determineImageTypeForInsertionAtSelection } from './utils.js';\nimport ImagePlaceholder from './imageplaceholder.js';\n/**\n * The image inline plugin.\n *\n * It registers:\n *\n * * `<imageInline>` as an inline element in the document schema, and allows `alt`, `src` and `srcset` attributes.\n * * converters for editing and data pipelines.\n * * {@link module:image/image/imagetypecommand~ImageTypeCommand `'imageTypeInline'`} command that converts block images into\n * inline images.\n */\nexport default class ImageInlineEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageEditing, ImageSizeAttributes, ImageUtils, ImagePlaceholder, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageInlineEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        // Converters 'alt' and 'srcset' are added in 'ImageEditing' plugin.\n        schema.register('imageInline', {\n            inheritAllFrom: '$inlineObject',\n            allowAttributes: ['alt', 'src', 'srcset'],\n            // Disallow inline images in captions (at least for now).\n            // This is the best spot to do that because independent packages can introduce captions (ImageCaption, TableCaption, etc.).\n            disallowIn: ['caption']\n        });\n        this._setupConversion();\n        if (editor.plugins.has('ImageBlockEditing')) {\n            editor.commands.add('imageTypeInline', new ImageTypeCommand(this.editor, 'imageInline'));\n            this._setupClipboardIntegration();\n        }\n    }\n    /**\n     * Configures conversion pipelines to support upcasting and downcasting\n     * inline images (inline image widgets) and their attributes.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        conversion.for('dataDowncast')\n            .elementToElement({\n            model: 'imageInline',\n            view: (modelElement, { writer }) => writer.createEmptyElement('img')\n        });\n        conversion.for('editingDowncast')\n            .elementToStructure({\n            model: 'imageInline',\n            view: (modelElement, { writer }) => imageUtils.toImageWidget(createInlineImageViewElement(writer), writer, t('image widget'))\n        });\n        conversion.for('downcast')\n            .add(downcastImageAttribute(imageUtils, 'imageInline', 'src'))\n            .add(downcastImageAttribute(imageUtils, 'imageInline', 'alt'))\n            .add(downcastSrcsetAttribute(imageUtils, 'imageInline'));\n        // More image related upcasts are in 'ImageEditing' plugin.\n        conversion.for('upcast')\n            .elementToElement({\n            view: getImgViewElementMatcher(editor, 'imageInline'),\n            model: (viewImage, { writer }) => writer.createElement('imageInline', viewImage.hasAttribute('src') ? { src: viewImage.getAttribute('src') } : undefined)\n        });\n    }\n    /**\n     * Integrates the plugin with the clipboard pipeline.\n     *\n     * Idea is that the feature should recognize the user's intent when an **block** image is\n     * pasted or dropped. If such an image is pasted/dropped into a non-empty block\n     * (e.g. a paragraph with some text) it gets converted into an inline image on the fly.\n     *\n     * We assume this is the user's intent if they decided to put their image there.\n     *\n     * **Note**: If a block image has a caption, it will not be converted to an inline image\n     * to avoid the confusion. Captions are added on purpose and they should never be lost\n     * in the clipboard pipeline.\n     *\n     * See the `ImageBlockEditing` for the similar integration that works in the opposite direction.\n     *\n     * The feature also sets image `width` and `height` attributes when pasting.\n     */\n    _setupClipboardIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editingView = editor.editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        this.listenTo(clipboardPipeline, 'inputTransformation', (evt, data) => {\n            const docFragmentChildren = Array.from(data.content.getChildren());\n            let modelRange;\n            // Make sure only <figure class=\"image\"></figure> elements are dropped or pasted. Otherwise, if there some other HTML\n            // mixed up, this should be handled as a regular paste.\n            if (!docFragmentChildren.every(imageUtils.isBlockImageView)) {\n                return;\n            }\n            // When drag and dropping, data.targetRanges specifies where to drop because\n            // this is usually a different place than the current model selection (the user\n            // uses a drop marker to specify the drop location).\n            if (data.targetRanges) {\n                modelRange = editor.editing.mapper.toModelRange(data.targetRanges[0]);\n            }\n            // Pasting, however, always occurs at the current model selection.\n            else {\n                modelRange = model.document.selection.getFirstRange();\n            }\n            const selection = model.createSelection(modelRange);\n            // Convert block images into inline images only when pasting or dropping into non-empty blocks\n            // and when the block is not an object (e.g. pasting to replace another widget).\n            if (determineImageTypeForInsertionAtSelection(model.schema, selection) === 'imageInline') {\n                const writer = new UpcastWriter(editingView.document);\n                // Unwrap <figure class=\"image\"><img .../></figure> -> <img ... />\n                // but <figure class=\"image\"><img .../><figcaption>...</figcaption></figure> -> stays the same\n                const inlineViewImages = docFragmentChildren.map(blockViewImage => {\n                    // If there's just one child, it can be either <img /> or <a><img></a>.\n                    // If there are other children than <img>, this means that the block image\n                    // has a caption or some other features and this kind of image should be\n                    // pasted/dropped without modifications.\n                    if (blockViewImage.childCount === 1) {\n                        // Pass the attributes which are present only in the <figure> to the <img>\n                        // (e.g. the style=\"width:10%\" attribute applied by the ImageResize plugin).\n                        Array.from(blockViewImage.getAttributes())\n                            .forEach(attribute => writer.setAttribute(...attribute, imageUtils.findViewImgElement(blockViewImage)));\n                        return blockViewImage.getChild(0);\n                    }\n                    else {\n                        return blockViewImage;\n                    }\n                });\n                data.content = writer.createDocumentFragment(inlineViewImages);\n            }\n        });\n        this.listenTo(clipboardPipeline, 'contentInsertion', (evt, data) => {\n            if (data.method !== 'paste') {\n                return;\n            }\n            model.change(writer => {\n                const range = writer.createRangeIn(data.content);\n                for (const item of range.getItems()) {\n                    if (item.is('element', 'imageInline')) {\n                        imageUtils.setImageNaturalSizeAttributes(item);\n                    }\n                }\n            });\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imageinline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport ImageTextAlternative from './imagetextalternative.js';\nimport ImageInlineEditing from './image/imageinlineediting.js';\nimport ImageInsertUI from './imageinsert/imageinsertui.js';\nimport '../theme/image.css';\n/**\n * The image inline plugin.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * {@link module:image/image/imageinlineediting~ImageInlineEditing},\n * * {@link module:image/imagetextalternative~ImageTextAlternative}.\n *\n * Usually, it is used in conjunction with other plugins from this package. See the {@glink api/image package page}\n * for more information.\n */\nexport default class ImageInline extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageInlineEditing, Widget, ImageTextAlternative, ImageInsertUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageInline';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/image\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageBlock from './imageblock.js';\nimport ImageInline from './imageinline.js';\nimport '../theme/image.css';\n/**\n * The image plugin.\n *\n * For a detailed overview, check the {@glink features/images/images-overview image feature} documentation.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * {@link module:image/imageblock~ImageBlock},\n * * {@link module:image/imageinline~ImageInline},\n *\n * Usually, it is used in conjunction with other plugins from this package. See the {@glink api/image package page}\n * for more information.\n */\nexport default class Image extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageBlock, ImageInline];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Image';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageUtils from '../imageutils.js';\n/**\n * The image caption utilities plugin.\n */\nexport default class ImageCaptionUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaptionUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * Returns the caption model element from a given image element. Returns `null` if no caption is found.\n     */\n    getCaptionFromImageModelElement(imageModelElement) {\n        for (const node of imageModelElement.getChildren()) {\n            if (!!node && node.is('element', 'caption')) {\n                return node;\n            }\n        }\n        return null;\n    }\n    /**\n     * Returns the caption model element for a model selection. Returns `null` if the selection has no caption element ancestor.\n     */\n    getCaptionFromModelSelection(selection) {\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        const captionElement = selection.getFirstPosition().findAncestor('caption');\n        if (!captionElement) {\n            return null;\n        }\n        if (imageUtils.isBlockImage(captionElement.parent)) {\n            return captionElement;\n        }\n        return null;\n    }\n    /**\n     * {@link module:engine/view/matcher~Matcher} pattern. Checks if a given element is a `<figcaption>` element that is placed\n     * inside the image `<figure>` element.\n     * @returns Returns the object accepted by {@link module:engine/view/matcher~Matcher} or `null` if the element\n     * cannot be matched.\n     */\n    matchImageCaptionViewElement(element) {\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        // Convert only captions for images.\n        if (element.name == 'figcaption' && imageUtils.isBlockImageView(element.parent)) {\n            return { name: true };\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport ImageBlockEditing from '../image/imageblockediting.js';\n/**\n * The toggle image caption command.\n *\n * This command is registered by {@link module:image/imagecaption/imagecaptionediting~ImageCaptionEditing} as the\n * `'toggleImageCaption'` editor command.\n *\n * Executing this command:\n *\n * * either adds or removes the image caption of a selected image (depending on whether the caption is present or not),\n * * removes the image caption if the selection is anchored in one.\n *\n * ```ts\n * // Toggle the presence of the caption.\n * editor.execute( 'toggleImageCaption' );\n * ```\n *\n * **Note**: Upon executing this command, the selection will be set on the image if previously anchored in the caption element.\n *\n * **Note**: You can move the selection to the caption right away as it shows up upon executing this command by using\n * the `focusCaptionOnShow` option:\n *\n * ```ts\n * editor.execute( 'toggleImageCaption', { focusCaptionOnShow: true } );\n * ```\n */\nexport default class ToggleImageCaptionCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const imageUtils = editor.plugins.get('ImageUtils');\n        // Only block images can get captions.\n        if (!editor.plugins.has(ImageBlockEditing)) {\n            this.isEnabled = false;\n            this.value = false;\n            return;\n        }\n        const selection = editor.model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        if (!selectedElement) {\n            const ancestorCaptionElement = imageCaptionUtils.getCaptionFromModelSelection(selection);\n            this.isEnabled = !!ancestorCaptionElement;\n            this.value = !!ancestorCaptionElement;\n            return;\n        }\n        // Block images support captions by default but the command should also be enabled for inline\n        // images because toggling the caption when one is selected should convert it into a block image.\n        this.isEnabled = imageUtils.isImage(selectedElement);\n        if (!this.isEnabled) {\n            this.value = false;\n        }\n        else {\n            this.value = !!imageCaptionUtils.getCaptionFromImageModelElement(selectedElement);\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * ```ts\n     * editor.execute( 'toggleImageCaption' );\n     * ```\n     *\n     * @param options Options for the executed command.\n     * @param options.focusCaptionOnShow When true and the caption shows up, the selection will be moved into it straight away.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const { focusCaptionOnShow } = options;\n        this.editor.model.change(writer => {\n            if (this.value) {\n                this._hideImageCaption(writer);\n            }\n            else {\n                this._showImageCaption(writer, focusCaptionOnShow);\n            }\n        });\n    }\n    /**\n     * Shows the caption of the `<imageBlock>` or `<imageInline>`. Also:\n     *\n     * * it converts `<imageInline>` to `<imageBlock>` to show the caption,\n     * * it attempts to restore the caption content from the `ImageCaptionEditing` caption registry,\n     * * it moves the selection to the caption right away, it the `focusCaptionOnShow` option was set.\n     */\n    _showImageCaption(writer, focusCaptionOnShow) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const imageCaptionEditing = this.editor.plugins.get('ImageCaptionEditing');\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        let selectedImage = selection.getSelectedElement();\n        const savedCaption = imageCaptionEditing._getSavedCaption(selectedImage);\n        // Convert imageInline -> image first.\n        if (imageUtils.isInlineImage(selectedImage)) {\n            this.editor.execute('imageTypeBlock');\n            // Executing the command created a new model element. Let's pick it again.\n            selectedImage = selection.getSelectedElement();\n        }\n        // Try restoring the caption from the ImageCaptionEditing plugin storage.\n        const newCaptionElement = savedCaption || writer.createElement('caption');\n        writer.append(newCaptionElement, selectedImage);\n        if (focusCaptionOnShow) {\n            writer.setSelection(newCaptionElement, 'in');\n        }\n    }\n    /**\n     * Hides the caption of a selected image (or an image caption the selection is anchored to).\n     *\n     * The content of the caption is stored in the `ImageCaptionEditing` caption registry to make this\n     * a reversible action.\n     */\n    _hideImageCaption(writer) {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const imageCaptionEditing = editor.plugins.get('ImageCaptionEditing');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        let selectedImage = selection.getSelectedElement();\n        let captionElement;\n        if (selectedImage) {\n            captionElement = imageCaptionUtils.getCaptionFromImageModelElement(selectedImage);\n        }\n        else {\n            captionElement = imageCaptionUtils.getCaptionFromModelSelection(selection);\n            selectedImage = captionElement.parent;\n        }\n        // Store the caption content so it can be restored quickly if the user changes their mind even if they toggle image<->imageInline.\n        imageCaptionEditing._saveCaption(selectedImage, captionElement);\n        writer.setSelection(selectedImage, 'on');\n        writer.remove(captionElement);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagecaption/imagecaptionediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Element, enablePlaceholder } from 'ckeditor5/src/engine.js';\nimport { toWidgetEditable } from 'ckeditor5/src/widget.js';\nimport ToggleImageCaptionCommand from './toggleimagecaptioncommand.js';\nimport ImageUtils from '../imageutils.js';\nimport ImageCaptionUtils from './imagecaptionutils.js';\n/**\n * The image caption engine plugin. It is responsible for:\n *\n * * registering converters for the caption element,\n * * registering converters for the caption model attribute,\n * * registering the {@link module:image/imagecaption/toggleimagecaptioncommand~ToggleImageCaptionCommand `toggleImageCaption`} command.\n */\nexport default class ImageCaptionEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils, ImageCaptionUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaptionEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._savedCaptionsMap = new WeakMap();\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        // Schema configuration.\n        if (!schema.isRegistered('caption')) {\n            schema.register('caption', {\n                allowIn: 'imageBlock',\n                allowContentOf: '$block',\n                isLimit: true\n            });\n        }\n        else {\n            schema.extend('caption', {\n                allowIn: 'imageBlock'\n            });\n        }\n        editor.commands.add('toggleImageCaption', new ToggleImageCaptionCommand(this.editor));\n        this._setupConversion();\n        this._setupImageTypeCommandsIntegration();\n        this._registerCaptionReconversion();\n    }\n    /**\n     * Configures conversion pipelines to support upcasting and downcasting\n     * image captions.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const t = editor.t;\n        // View -> model converter for the data pipeline.\n        editor.conversion.for('upcast').elementToElement({\n            view: element => imageCaptionUtils.matchImageCaptionViewElement(element),\n            model: 'caption'\n        });\n        // Model -> view converter for the data pipeline.\n        editor.conversion.for('dataDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!imageUtils.isBlockImage(modelElement.parent)) {\n                    return null;\n                }\n                return writer.createContainerElement('figcaption');\n            }\n        });\n        // Model -> view converter for the editing pipeline.\n        editor.conversion.for('editingDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!imageUtils.isBlockImage(modelElement.parent)) {\n                    return null;\n                }\n                const figcaptionElement = writer.createEditableElement('figcaption');\n                writer.setCustomProperty('imageCaption', true, figcaptionElement);\n                figcaptionElement.placeholder = t('Enter image caption');\n                enablePlaceholder({\n                    view,\n                    element: figcaptionElement,\n                    keepOnFocus: true\n                });\n                const imageAlt = modelElement.parent.getAttribute('alt');\n                const label = imageAlt ? t('Caption for image: %0', [imageAlt]) : t('Caption for the image');\n                return toWidgetEditable(figcaptionElement, writer, { label });\n            }\n        });\n    }\n    /**\n     * Integrates with {@link module:image/image/imagetypecommand~ImageTypeCommand image type commands}\n     * to make sure the caption is preserved when the type of an image changes so it can be restored\n     * in the future if the user decides they want their caption back.\n     */\n    _setupImageTypeCommandsIntegration() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const imageTypeInlineCommand = editor.commands.get('imageTypeInline');\n        const imageTypeBlockCommand = editor.commands.get('imageTypeBlock');\n        const handleImageTypeChange = evt => {\n            // The image type command execution can be unsuccessful.\n            if (!evt.return) {\n                return;\n            }\n            const { oldElement, newElement } = evt.return;\n            /* istanbul ignore if: paranoid check -- @preserve */\n            if (!oldElement) {\n                return;\n            }\n            if (imageUtils.isBlockImage(oldElement)) {\n                const oldCaptionElement = imageCaptionUtils.getCaptionFromImageModelElement(oldElement);\n                // If the old element was a captioned block image (the caption was visible),\n                // simply save it so it can be restored.\n                if (oldCaptionElement) {\n                    this._saveCaption(newElement, oldCaptionElement);\n                    return;\n                }\n            }\n            const savedOldElementCaption = this._getSavedCaption(oldElement);\n            // If either:\n            //\n            // * the block image didn't have a visible caption,\n            // * the block image caption was hidden (and already saved),\n            // * the inline image was passed\n            //\n            // just try to \"pass\" the saved caption from the old image to the new image\n            // so it can be retrieved in the future if the user wants it back.\n            if (savedOldElementCaption) {\n                // Note: Since we're writing to a WeakMap, we don't bother with removing the\n                // [ oldElement, savedOldElementCaption ] pair from it.\n                this._saveCaption(newElement, savedOldElementCaption);\n            }\n        };\n        // Presence of the commands depends on the Image(Inline|Block)Editing plugins loaded in the editor.\n        if (imageTypeInlineCommand) {\n            this.listenTo(imageTypeInlineCommand, 'execute', handleImageTypeChange, { priority: 'low' });\n        }\n        if (imageTypeBlockCommand) {\n            this.listenTo(imageTypeBlockCommand, 'execute', handleImageTypeChange, { priority: 'low' });\n        }\n    }\n    /**\n     * Returns the saved {@link module:engine/model/element~Element#toJSON JSONified} caption\n     * of an image model element.\n     *\n     * See {@link #_saveCaption}.\n     *\n     * @internal\n     * @param imageModelElement The model element the caption should be returned for.\n     * @returns The model caption element or `null` if there is none.\n     */\n    _getSavedCaption(imageModelElement) {\n        const jsonObject = this._savedCaptionsMap.get(imageModelElement);\n        return jsonObject ? Element.fromJSON(jsonObject) : null;\n    }\n    /**\n     * Saves a {@link module:engine/model/element~Element#toJSON JSONified} caption for\n     * an image element to allow restoring it in the future.\n     *\n     * A caption is saved every time it gets hidden and/or the type of an image changes. The\n     * user should be able to restore it on demand.\n     *\n     * **Note**: The caption cannot be stored in the image model element attribute because,\n     * for instance, when the model state propagates to collaborators, the attribute would get\n     * lost (mainly because it does not convert to anything when the caption is hidden) and\n     * the states of collaborators' models would de-synchronize causing numerous issues.\n     *\n     * See {@link #_getSavedCaption}.\n     *\n     * @internal\n     * @param imageModelElement The model element the caption is saved for.\n     * @param caption The caption model element to be saved.\n     */\n    _saveCaption(imageModelElement, caption) {\n        this._savedCaptionsMap.set(imageModelElement, caption.toJSON());\n    }\n    /**\n     * Reconverts image caption when image alt attribute changes.\n     * The change of alt attribute is reflected in caption's aria-label attribute.\n     */\n    _registerCaptionReconversion() {\n        const editor = this.editor;\n        const model = editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        model.document.on('change:data', () => {\n            const changes = model.document.differ.getChanges();\n            for (const change of changes) {\n                if (change.attributeKey !== 'alt') {\n                    continue;\n                }\n                const image = change.range.start.nodeAfter;\n                if (imageUtils.isBlockImage(image)) {\n                    const caption = imageCaptionUtils.getCaptionFromImageModelElement(image);\n                    if (!caption) {\n                        return;\n                    }\n                    editor.editing.reconvertItem(caption);\n                }\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagecaption/imagecaptionui\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport ImageCaptionUtils from './imagecaptionutils.js';\n/**\n * The image caption UI plugin. It introduces the `'toggleImageCaption'` UI button.\n */\nexport default class ImageCaptionUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageCaptionUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaptionUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const imageCaptionUtils = editor.plugins.get('ImageCaptionUtils');\n        const t = editor.t;\n        editor.ui.componentFactory.add('toggleImageCaption', locale => {\n            const command = editor.commands.get('toggleImageCaption');\n            const view = new ButtonView(locale);\n            view.set({\n                icon: icons.caption,\n                tooltip: true,\n                isToggleable: true\n            });\n            view.bind('isOn', 'isEnabled').to(command, 'value', 'isEnabled');\n            view.bind('label').to(command, 'value', value => value ? t('Toggle caption off') : t('Toggle caption on'));\n            this.listenTo(view, 'execute', () => {\n                editor.execute('toggleImageCaption', { focusCaptionOnShow: true });\n                // Scroll to the selection and highlight the caption if the caption showed up.\n                const modelCaptionElement = imageCaptionUtils.getCaptionFromModelSelection(editor.model.document.selection);\n                if (modelCaptionElement) {\n                    const figcaptionElement = editor.editing.mapper.toViewElement(modelCaptionElement);\n                    editingView.scrollToTheSelection();\n                    editingView.change(writer => {\n                        writer.addClass('image__caption_highlighted', figcaptionElement);\n                    });\n                }\n                editor.editing.view.focus();\n            });\n            return view;\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imagecaption.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagecaption\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageCaptionEditing from './imagecaption/imagecaptionediting.js';\nimport ImageCaptionUI from './imagecaption/imagecaptionui.js';\nimport '../theme/imagecaption.css';\n/**\n * The image caption plugin.\n *\n * For a detailed overview, check the {@glink features/images/images-captions image caption} documentation.\n */\nexport default class ImageCaption extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageCaptionEditing, ImageCaptionUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageCaption';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageuploadprogress.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageuploadicon.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageuploadloader.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imagecustomresizeform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imageresize.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The image style command. It is used to apply {@link module:image/imageconfig~ImageStyleConfig#options image style option}\n * to a selected image.\n *\n * **Note**: Executing this command may change the image model element if the desired style requires an image of a different\n * type. See {@link module:image/imagestyle/imagestylecommand~ImageStyleCommand#execute} to learn more.\n */\nexport default class ImageStyleCommand extends Command {\n    /**\n     * Creates an instance of the image style command. When executed, the command applies one of\n     * {@link module:image/imageconfig~ImageStyleConfig#options style options} to the currently selected image.\n     *\n     * @param editor The editor instance.\n     * @param styles The style options that this command supports.\n     */\n    constructor(editor, styles) {\n        super(editor);\n        this._defaultStyles = {\n            imageBlock: false,\n            imageInline: false\n        };\n        this._styles = new Map(styles.map(style => {\n            if (style.isDefault) {\n                for (const modelElementName of style.modelElements) {\n                    this._defaultStyles[modelElementName] = style.name;\n                }\n            }\n            return [style.name, style];\n        }));\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        const element = imageUtils.getClosestSelectedImageElement(this.editor.model.document.selection);\n        this.isEnabled = !!element;\n        if (!this.isEnabled) {\n            this.value = false;\n        }\n        else if (element.hasAttribute('imageStyle')) {\n            this.value = element.getAttribute('imageStyle');\n        }\n        else {\n            this.value = this._defaultStyles[element.name];\n        }\n    }\n    /**\n     * Executes the command and applies the style to the currently selected image:\n     *\n     * ```ts\n     * editor.execute( 'imageStyle', { value: 'side' } );\n     * ```\n     *\n     * **Note**: Executing this command may change the image model element if the desired style requires an image\n     * of a different type. Learn more about {@link module:image/imageconfig~ImageStyleOptionDefinition#modelElements model element}\n     * configuration for the style option.\n     *\n     * @param options.value The name of the style (as configured in {@link module:image/imageconfig~ImageStyleConfig#options}).\n     * @param options.setImageSizes Specifies whether the image `width` and `height` attributes should be set automatically.\n     * The default is `true`.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const imageUtils = editor.plugins.get('ImageUtils');\n        model.change(writer => {\n            const requestedStyle = options.value;\n            const { setImageSizes = true } = options;\n            let imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n            // Change the image type if a style requires it.\n            if (requestedStyle && this.shouldConvertImageType(requestedStyle, imageElement)) {\n                this.editor.execute(imageUtils.isBlockImage(imageElement) ? 'imageTypeInline' : 'imageTypeBlock', { setImageSizes });\n                // Update the imageElement to the newly created image.\n                imageElement = imageUtils.getClosestSelectedImageElement(model.document.selection);\n            }\n            // Default style means that there is no `imageStyle` attribute in the model.\n            // https://github.com/ckeditor/ckeditor5-image/issues/147\n            if (!requestedStyle || this._styles.get(requestedStyle).isDefault) {\n                writer.removeAttribute('imageStyle', imageElement);\n            }\n            else {\n                writer.setAttribute('imageStyle', requestedStyle, imageElement);\n            }\n            if (setImageSizes) {\n                imageUtils.setImageNaturalSizeAttributes(imageElement);\n            }\n        });\n    }\n    /**\n     * Returns `true` if requested style change would trigger the image type change.\n     *\n     * @param requestedStyle The name of the style (as configured in {@link module:image/imageconfig~ImageStyleConfig#options}).\n     * @param imageElement The image model element.\n     */\n    shouldConvertImageType(requestedStyle, imageElement) {\n        const supportedTypes = this._styles.get(requestedStyle).modelElements;\n        return !supportedTypes.includes(imageElement.name);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagestyle/utils\n */\nimport { icons } from 'ckeditor5/src/core.js';\nimport { logWarning } from 'ckeditor5/src/utils.js';\n/**\n * Default image style options provided by the plugin that can be referred in the {@link module:image/imageconfig~ImageConfig#styles}\n * configuration.\n *\n * There are available 5 styles focused on formatting:\n *\n * * **`'alignLeft'`** aligns the inline or block image to the left and wraps it with the text using the `image-style-align-left` class,\n * * **`'alignRight'`** aligns the inline or block image to the right and wraps it with the text using the `image-style-align-right` class,\n * * **`'alignCenter'`** centers the block image using the `image-style-align-center` class,\n * * **`'alignBlockLeft'`** aligns the block image to the left using the `image-style-block-align-left` class,\n * * **`'alignBlockRight'`** aligns the block image to the right using the `image-style-block-align-right` class,\n *\n * and 3 semantic styles:\n *\n * * **`'inline'`** is an inline image without any CSS class,\n * * **`'block'`** is a block image without any CSS class,\n * * **`'side'`** is a block image styled with the `image-style-side` CSS class.\n */\nexport const DEFAULT_OPTIONS = {\n    // This style represents an image placed in the line of text.\n    get inline() {\n        return {\n            name: 'inline',\n            title: 'In line',\n            icon: icons.objectInline,\n            modelElements: ['imageInline'],\n            isDefault: true\n        };\n    },\n    // This style represents an image aligned to the left and wrapped with text.\n    get alignLeft() {\n        return {\n            name: 'alignLeft',\n            title: 'Left aligned image',\n            icon: icons.objectLeft,\n            modelElements: ['imageBlock', 'imageInline'],\n            className: 'image-style-align-left'\n        };\n    },\n    // This style represents an image aligned to the left.\n    get alignBlockLeft() {\n        return {\n            name: 'alignBlockLeft',\n            title: 'Left aligned image',\n            icon: icons.objectBlockLeft,\n            modelElements: ['imageBlock'],\n            className: 'image-style-block-align-left'\n        };\n    },\n    // This style represents a centered image.\n    get alignCenter() {\n        return {\n            name: 'alignCenter',\n            title: 'Centered image',\n            icon: icons.objectCenter,\n            modelElements: ['imageBlock'],\n            className: 'image-style-align-center'\n        };\n    },\n    // This style represents an image aligned to the right and wrapped with text.\n    get alignRight() {\n        return {\n            name: 'alignRight',\n            title: 'Right aligned image',\n            icon: icons.objectRight,\n            modelElements: ['imageBlock', 'imageInline'],\n            className: 'image-style-align-right'\n        };\n    },\n    // This style represents an image aligned to the right.\n    get alignBlockRight() {\n        return {\n            name: 'alignBlockRight',\n            title: 'Right aligned image',\n            icon: icons.objectBlockRight,\n            modelElements: ['imageBlock'],\n            className: 'image-style-block-align-right'\n        };\n    },\n    // This option is equal to the situation when no style is applied.\n    get block() {\n        return {\n            name: 'block',\n            title: 'Centered image',\n            icon: icons.objectCenter,\n            modelElements: ['imageBlock'],\n            isDefault: true\n        };\n    },\n    // This represents a side image.\n    get side() {\n        return {\n            name: 'side',\n            title: 'Side image',\n            icon: icons.objectRight,\n            modelElements: ['imageBlock'],\n            className: 'image-style-side'\n        };\n    }\n};\n/**\n * Default image style icons provided by the plugin that can be referred in the {@link module:image/imageconfig~ImageConfig#styles}\n * configuration.\n *\n * See {@link module:image/imageconfig~ImageStyleOptionDefinition#icon} to learn more.\n *\n * There are 7 default icons available: `'full'`, `'left'`, `'inlineLeft'`, `'center'`, `'right'`, `'inlineRight'`, and `'inline'`.\n */\nexport const DEFAULT_ICONS = /* #__PURE__ */ (() => ({\n    full: icons.objectFullWidth,\n    left: icons.objectBlockLeft,\n    right: icons.objectBlockRight,\n    center: icons.objectCenter,\n    inlineLeft: icons.objectLeft,\n    inlineRight: icons.objectRight,\n    inline: icons.objectInline\n}))();\n/**\n * Default drop-downs provided by the plugin that can be referred in the {@link module:image/imageconfig~ImageConfig#toolbar}\n * configuration. The drop-downs are containers for the {@link module:image/imageconfig~ImageStyleConfig#options image style options}.\n *\n * If both of the `ImageEditing` plugins are loaded, there are 2 predefined drop-downs available:\n *\n * * **`'imageStyle:wrapText'`**, which contains the `alignLeft` and `alignRight` options, that is,\n * those that wraps the text around the image,\n * * **`'imageStyle:breakText'`**, which contains the `alignBlockLeft`, `alignCenter` and `alignBlockRight` options, that is,\n * those that breaks the text around the image.\n */\nexport const DEFAULT_DROPDOWN_DEFINITIONS = [{\n        name: 'imageStyle:wrapText',\n        title: 'Wrap text',\n        defaultItem: 'imageStyle:alignLeft',\n        items: ['imageStyle:alignLeft', 'imageStyle:alignRight']\n    }, {\n        name: 'imageStyle:breakText',\n        title: 'Break text',\n        defaultItem: 'imageStyle:block',\n        items: ['imageStyle:alignBlockLeft', 'imageStyle:block', 'imageStyle:alignBlockRight']\n    }];\n/**\n * Returns a list of the normalized and validated image style options.\n *\n * @param config\n * @param config.isInlinePluginLoaded\n * Determines whether the {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`} plugin has been loaded.\n * @param config.isBlockPluginLoaded\n * Determines whether the {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`} plugin has been loaded.\n * @param config.configuredStyles\n * The image styles configuration provided in the image styles {@link module:image/imageconfig~ImageConfig#styles configuration}\n * as a default or custom value.\n * @returns\n * * Each of options contains a complete icon markup.\n * * The image style options not supported by any of the loaded plugins are filtered out.\n */\nfunction normalizeStyles(config) {\n    const configuredStyles = config.configuredStyles.options || [];\n    const styles = configuredStyles\n        .map(arrangement => normalizeDefinition(arrangement))\n        .filter(arrangement => isValidOption(arrangement, config));\n    return styles;\n}\n/**\n * Returns the default image styles configuration depending on the loaded image editing plugins.\n *\n * @param isInlinePluginLoaded\n * Determines whether the {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`} plugin has been loaded.\n *\n * @param isBlockPluginLoaded\n * Determines whether the {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`} plugin has been loaded.\n *\n * @returns\n * It returns an object with the lists of the image style options and groups defined as strings related to the\n * {@link module:image/imagestyle/utils#DEFAULT_OPTIONS default options}\n */\nfunction getDefaultStylesConfiguration(isBlockPluginLoaded, isInlinePluginLoaded) {\n    if (isBlockPluginLoaded && isInlinePluginLoaded) {\n        return {\n            options: [\n                'inline', 'alignLeft', 'alignRight',\n                'alignCenter', 'alignBlockLeft', 'alignBlockRight',\n                'block', 'side'\n            ]\n        };\n    }\n    else if (isBlockPluginLoaded) {\n        return {\n            options: ['block', 'side']\n        };\n    }\n    else if (isInlinePluginLoaded) {\n        return {\n            options: ['inline', 'alignLeft', 'alignRight']\n        };\n    }\n    return {};\n}\n/**\n * Returns a list of the available predefined drop-downs' definitions depending on the loaded image editing plugins.\n */\nfunction getDefaultDropdownDefinitions(pluginCollection) {\n    if (pluginCollection.has('ImageBlockEditing') && pluginCollection.has('ImageInlineEditing')) {\n        return [...DEFAULT_DROPDOWN_DEFINITIONS];\n    }\n    else {\n        return [];\n    }\n}\n/**\n * Normalizes an image style option or group provided in the {@link module:image/imageconfig~ImageConfig#styles}\n * and returns it in a {@link module:image/imageconfig~ImageStyleOptionDefinition}/\n */\nfunction normalizeDefinition(definition) {\n    if (typeof definition === 'string') {\n        // Just the name of the style has been passed, but none of the defaults.\n        if (!DEFAULT_OPTIONS[definition]) {\n            // Normalize the style anyway to prevent errors.\n            definition = { name: definition };\n        }\n        // Just the name of the style has been passed and it's one of the defaults, just use it.\n        // Clone the style to avoid overriding defaults.\n        else {\n            definition = { ...DEFAULT_OPTIONS[definition] };\n        }\n    }\n    else {\n        // If an object style has been passed and if the name matches one of the defaults,\n        // extend it with defaults – the user wants to customize a default style.\n        // Note: Don't override the user–defined style object, clone it instead.\n        definition = extendStyle(DEFAULT_OPTIONS[definition.name], definition);\n    }\n    // If an icon is defined as a string and correspond with a name\n    // in default icons, use the default icon provided by the plugin.\n    if (typeof definition.icon === 'string') {\n        definition.icon = DEFAULT_ICONS[definition.icon] || definition.icon;\n    }\n    return definition;\n}\n/**\n * Checks if the image style option is valid:\n * * if it has the modelElements fields defined and filled,\n * * if the defined modelElements are supported by any of the loaded image editing plugins.\n * It also displays a console warning these conditions are not met.\n *\n * @param option image style option\n */\nfunction isValidOption(option, { isBlockPluginLoaded, isInlinePluginLoaded }) {\n    const { modelElements, name } = option;\n    if (!modelElements || !modelElements.length || !name) {\n        warnInvalidStyle({ style: option });\n        return false;\n    }\n    else {\n        const supportedElements = [isBlockPluginLoaded ? 'imageBlock' : null, isInlinePluginLoaded ? 'imageInline' : null];\n        // Check if the option is supported by any of the loaded plugins.\n        if (!modelElements.some(elementName => supportedElements.includes(elementName))) {\n            /**\n             * In order to work correctly, each image style {@link module:image/imageconfig~ImageStyleOptionDefinition option}\n             * requires specific model elements (also: types of images) to be supported by the editor.\n             *\n             * Model element names to which the image style option can be applied are defined in the\n             * {@link module:image/imageconfig~ImageStyleOptionDefinition#modelElements} property of the style option\n             * definition.\n             *\n             * Explore the warning in the console to find out precisely which option is not supported and which editor plugins\n             * are missing. Make sure these plugins are loaded in your editor to get this image style option working.\n             *\n             * @error image-style-missing-dependency\n             * @param {String} [option] The name of the unsupported option.\n             * @param {String} [missingPlugins] The names of the plugins one of which has to be loaded for the particular option.\n             */\n            logWarning('image-style-missing-dependency', {\n                style: option,\n                missingPlugins: modelElements.map(name => name === 'imageBlock' ? 'ImageBlockEditing' : 'ImageInlineEditing')\n            });\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Extends the default style with a style provided by the developer.\n * Note: Don't override the custom–defined style object, clone it instead.\n */\nfunction extendStyle(source, style) {\n    const extendedStyle = { ...style };\n    for (const prop in source) {\n        if (!Object.prototype.hasOwnProperty.call(style, prop)) {\n            extendedStyle[prop] = source[prop];\n        }\n    }\n    return extendedStyle;\n}\n/**\n * Displays a console warning with the 'image-style-configuration-definition-invalid' error.\n */\nfunction warnInvalidStyle(info) {\n    /**\n     * The image style definition provided in the configuration is invalid.\n     *\n     * Please make sure the definition implements properly one of the following:\n     *\n     * * {@link module:image/imageconfig~ImageStyleOptionDefinition image style option definition},\n     * * {@link module:image/imageconfig~ImageStyleDropdownDefinition image style dropdown definition}\n     *\n     * @error image-style-configuration-definition-invalid\n     * @param {String} [dropdown] The name of the invalid drop-down\n     * @param {String} [style] The name of the invalid image style option\n     */\n    logWarning('image-style-configuration-definition-invalid', info);\n}\nexport default {\n    normalizeStyles,\n    getDefaultStylesConfiguration,\n    getDefaultDropdownDefinitions,\n    warnInvalidStyle,\n    DEFAULT_OPTIONS,\n    DEFAULT_ICONS,\n    DEFAULT_DROPDOWN_DEFINITIONS\n};\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * @module image/imagestyle/converters\n */\n/**\n * Returns a converter for the `imageStyle` attribute. It can be used for adding, changing and removing the attribute.\n *\n * @param styles An array containing available image style options.\n * @returns A model-to-view attribute converter.\n */\nexport function modelToViewStyleAttribute(styles) {\n    return (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        // Check if there is class name associated with given value.\n        const newStyle = getStyleDefinitionByName(data.attributeNewValue, styles);\n        const oldStyle = getStyleDefinitionByName(data.attributeOldValue, styles);\n        const viewElement = conversionApi.mapper.toViewElement(data.item);\n        const viewWriter = conversionApi.writer;\n        if (oldStyle) {\n            viewWriter.removeClass(oldStyle.className, viewElement);\n        }\n        if (newStyle) {\n            viewWriter.addClass(newStyle.className, viewElement);\n        }\n    };\n}\n/**\n * Returns a view-to-model converter converting image CSS classes to a proper value in the model.\n *\n * @param styles Image style options for which the converter is created.\n * @returns A view-to-model converter.\n */\nexport function viewToModelStyleAttribute(styles) {\n    // Convert only non–default styles.\n    const nonDefaultStyles = {\n        imageInline: styles.filter(style => !style.isDefault && style.modelElements.includes('imageInline')),\n        imageBlock: styles.filter(style => !style.isDefault && style.modelElements.includes('imageBlock'))\n    };\n    return (evt, data, conversionApi) => {\n        if (!data.modelRange) {\n            return;\n        }\n        const viewElement = data.viewItem;\n        const modelImageElement = first(data.modelRange.getItems());\n        // Run this converter only if an image has been found in the model.\n        // In some cases it may not be found (for example if we run this on a figure with different type than image).\n        if (!modelImageElement) {\n            return;\n        }\n        // ...and the `imageStyle` attribute is allowed for that element, otherwise stop conversion early.\n        if (!conversionApi.schema.checkAttribute(modelImageElement, 'imageStyle')) {\n            return;\n        }\n        // Convert styles one by one.\n        for (const style of nonDefaultStyles[modelImageElement.name]) {\n            // Try to consume class corresponding with the style.\n            if (conversionApi.consumable.consume(viewElement, { classes: style.className })) {\n                // And convert this style to model attribute.\n                conversionApi.writer.setAttribute('imageStyle', style.name, modelImageElement);\n            }\n        }\n    };\n}\n/**\n * Returns the style with a given `name` from an array of styles.\n */\nfunction getStyleDefinitionByName(name, styles) {\n    for (const style of styles) {\n        if (style.name === name) {\n            return style;\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagestyle/imagestyleediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageStyleCommand from './imagestylecommand.js';\nimport ImageUtils from '../imageutils.js';\nimport utils from './utils.js';\nimport { viewToModelStyleAttribute, modelToViewStyleAttribute } from './converters.js';\n/**\n * The image style engine plugin. It sets the default configuration, creates converters and registers\n * {@link module:image/imagestyle/imagestylecommand~ImageStyleCommand ImageStyleCommand}.\n */\nexport default class ImageStyleEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageStyleEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const { normalizeStyles, getDefaultStylesConfiguration } = utils;\n        const editor = this.editor;\n        const isBlockPluginLoaded = editor.plugins.has('ImageBlockEditing');\n        const isInlinePluginLoaded = editor.plugins.has('ImageInlineEditing');\n        editor.config.define('image.styles', getDefaultStylesConfiguration(isBlockPluginLoaded, isInlinePluginLoaded));\n        this.normalizedStyles = normalizeStyles({\n            configuredStyles: editor.config.get('image.styles'),\n            isBlockPluginLoaded,\n            isInlinePluginLoaded\n        });\n        this._setupConversion(isBlockPluginLoaded, isInlinePluginLoaded);\n        this._setupPostFixer();\n        // Register imageStyle command.\n        editor.commands.add('imageStyle', new ImageStyleCommand(editor, this.normalizedStyles));\n    }\n    /**\n     * Sets the editor conversion taking the presence of\n     * {@link module:image/image/imageinlineediting~ImageInlineEditing `ImageInlineEditing`}\n     * and {@link module:image/image/imageblockediting~ImageBlockEditing `ImageBlockEditing`} plugins into consideration.\n     */\n    _setupConversion(isBlockPluginLoaded, isInlinePluginLoaded) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const modelToViewConverter = modelToViewStyleAttribute(this.normalizedStyles);\n        const viewToModelConverter = viewToModelStyleAttribute(this.normalizedStyles);\n        editor.editing.downcastDispatcher.on('attribute:imageStyle', modelToViewConverter);\n        editor.data.downcastDispatcher.on('attribute:imageStyle', modelToViewConverter);\n        // Allow imageStyle attribute in image and imageInline.\n        // We could call it 'style' but https://github.com/ckeditor/ckeditor5-engine/issues/559.\n        if (isBlockPluginLoaded) {\n            schema.extend('imageBlock', { allowAttributes: 'imageStyle' });\n            // Converter for figure element from view to model.\n            editor.data.upcastDispatcher.on('element:figure', viewToModelConverter, { priority: 'low' });\n        }\n        if (isInlinePluginLoaded) {\n            schema.extend('imageInline', { allowAttributes: 'imageStyle' });\n            // Converter for the img element from view to model.\n            editor.data.upcastDispatcher.on('element:img', viewToModelConverter, { priority: 'low' });\n        }\n    }\n    /**\n     * Registers a post-fixer that will make sure that the style attribute value is correct for a specific image type (block vs inline).\n     */\n    _setupPostFixer() {\n        const editor = this.editor;\n        const document = editor.model.document;\n        const imageUtils = editor.plugins.get(ImageUtils);\n        const stylesMap = new Map(this.normalizedStyles.map(style => [style.name, style]));\n        // Make sure that style attribute is valid for the image type.\n        document.registerPostFixer(writer => {\n            let changed = false;\n            for (const change of document.differ.getChanges()) {\n                if (change.type == 'insert' || change.type == 'attribute' && change.attributeKey == 'imageStyle') {\n                    let element = change.type == 'insert' ? change.position.nodeAfter : change.range.start.nodeAfter;\n                    if (element && element.is('element', 'paragraph') && element.childCount > 0) {\n                        element = element.getChild(0);\n                    }\n                    if (!imageUtils.isImage(element)) {\n                        continue;\n                    }\n                    const imageStyle = element.getAttribute('imageStyle');\n                    if (!imageStyle) {\n                        continue;\n                    }\n                    const imageStyleDefinition = stylesMap.get(imageStyle);\n                    if (!imageStyleDefinition || !imageStyleDefinition.modelElements.includes(element.name)) {\n                        writer.removeAttribute('imageStyle', element);\n                        changed = true;\n                    }\n                }\n            }\n            return changed;\n        });\n    }\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./imagestyle.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagestyle/imagestyleui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, createDropdown, addToolbarToDropdown, SplitButtonView } from 'ckeditor5/src/ui.js';\nimport { isObject, identity } from 'lodash-es';\nimport ImageStyleEditing from './imagestyleediting.js';\nimport utils from './utils.js';\nimport '../../theme/imagestyle.css';\n/**\n * The image style UI plugin.\n *\n * It registers buttons corresponding to the {@link module:image/imageconfig~ImageConfig#styles} configuration.\n * It also registers the {@link module:image/imagestyle/utils#DEFAULT_DROPDOWN_DEFINITIONS default drop-downs} and the\n * custom drop-downs defined by the developer in the {@link module:image/imageconfig~ImageConfig#toolbar} configuration.\n */\nexport default class ImageStyleUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageStyleEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageStyleUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Returns the default localized style titles provided by the plugin.\n     *\n     * The following localized titles corresponding with\n     * {@link module:image/imagestyle/utils#DEFAULT_OPTIONS} are available:\n     *\n     * * `'Wrap text'`,\n     * * `'Break text'`,\n     * * `'In line'`,\n     * * `'Full size image'`,\n     * * `'Side image'`,\n     * * `'Left aligned image'`,\n     * * `'Centered image'`,\n     * * `'Right aligned image'`\n     */\n    get localizedDefaultStylesTitles() {\n        const t = this.editor.t;\n        return {\n            'Wrap text': t('Wrap text'),\n            'Break text': t('Break text'),\n            'In line': t('In line'),\n            'Full size image': t('Full size image'),\n            'Side image': t('Side image'),\n            'Left aligned image': t('Left aligned image'),\n            'Centered image': t('Centered image'),\n            'Right aligned image': t('Right aligned image')\n        };\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const plugins = this.editor.plugins;\n        const toolbarConfig = this.editor.config.get('image.toolbar') || [];\n        const imageStyleEditing = plugins.get('ImageStyleEditing');\n        const definedStyles = translateStyles(imageStyleEditing.normalizedStyles, this.localizedDefaultStylesTitles);\n        for (const styleConfig of definedStyles) {\n            this._createButton(styleConfig);\n        }\n        const definedDropdowns = translateStyles([\n            ...toolbarConfig.filter(isObject),\n            ...utils.getDefaultDropdownDefinitions(plugins)\n        ], this.localizedDefaultStylesTitles);\n        for (const dropdownConfig of definedDropdowns) {\n            this._createDropdown(dropdownConfig, definedStyles);\n        }\n    }\n    /**\n     * Creates a dropdown and stores it in the editor {@link module:ui/componentfactory~ComponentFactory}.\n     */\n    _createDropdown(dropdownConfig, definedStyles) {\n        const factory = this.editor.ui.componentFactory;\n        factory.add(dropdownConfig.name, locale => {\n            let defaultButton;\n            const { defaultItem, items, title } = dropdownConfig;\n            const buttonViews = items\n                .filter(itemName => definedStyles.find(({ name }) => getUIComponentName(name) === itemName))\n                .map(buttonName => {\n                const button = factory.create(buttonName);\n                if (buttonName === defaultItem) {\n                    defaultButton = button;\n                }\n                return button;\n            });\n            if (items.length !== buttonViews.length) {\n                utils.warnInvalidStyle({ dropdown: dropdownConfig });\n            }\n            const dropdownView = createDropdown(locale, SplitButtonView);\n            const splitButtonView = dropdownView.buttonView;\n            const splitButtonViewArrow = splitButtonView.arrowView;\n            addToolbarToDropdown(dropdownView, buttonViews, { enableActiveItemFocusOnDropdownOpen: true });\n            splitButtonView.set({\n                label: getDropdownButtonTitle(title, defaultButton.label),\n                class: null,\n                tooltip: true\n            });\n            splitButtonViewArrow.unbind('label');\n            splitButtonViewArrow.set({\n                label: title\n            });\n            splitButtonView.bind('icon').toMany(buttonViews, 'isOn', (...areOn) => {\n                const index = areOn.findIndex(identity);\n                return (index < 0) ? defaultButton.icon : buttonViews[index].icon;\n            });\n            splitButtonView.bind('label').toMany(buttonViews, 'isOn', (...areOn) => {\n                const index = areOn.findIndex(identity);\n                return getDropdownButtonTitle(title, (index < 0) ? defaultButton.label : buttonViews[index].label);\n            });\n            splitButtonView.bind('isOn').toMany(buttonViews, 'isOn', (...areOn) => areOn.some(identity));\n            splitButtonView.bind('class')\n                .toMany(buttonViews, 'isOn', (...areOn) => areOn.some(identity) ? 'ck-splitbutton_flatten' : undefined);\n            splitButtonView.on('execute', () => {\n                if (!buttonViews.some(({ isOn }) => isOn)) {\n                    defaultButton.fire('execute');\n                }\n                else {\n                    dropdownView.isOpen = !dropdownView.isOpen;\n                }\n            });\n            dropdownView.bind('isEnabled')\n                .toMany(buttonViews, 'isEnabled', (...areEnabled) => areEnabled.some(identity));\n            // Focus the editable after executing the command.\n            // Overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n            this.listenTo(dropdownView, 'execute', () => {\n                this.editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n    }\n    /**\n     * Creates a button and stores it in the editor {@link module:ui/componentfactory~ComponentFactory}.\n     */\n    _createButton(buttonConfig) {\n        const buttonName = buttonConfig.name;\n        this.editor.ui.componentFactory.add(getUIComponentName(buttonName), locale => {\n            const command = this.editor.commands.get('imageStyle');\n            const view = new ButtonView(locale);\n            view.set({\n                label: buttonConfig.title,\n                icon: buttonConfig.icon,\n                tooltip: true,\n                isToggleable: true\n            });\n            view.bind('isEnabled').to(command, 'isEnabled');\n            view.bind('isOn').to(command, 'value', value => value === buttonName);\n            view.on('execute', this._executeCommand.bind(this, buttonName));\n            return view;\n        });\n    }\n    _executeCommand(name) {\n        this.editor.execute('imageStyle', { value: name });\n        this.editor.editing.view.focus();\n    }\n}\n/**\n * Returns the translated `title` from the passed styles array.\n */\nfunction translateStyles(styles, titles) {\n    for (const style of styles) {\n        // Localize the titles of the styles, if a title corresponds with\n        // a localized default provided by the plugin.\n        if (titles[style.title]) {\n            style.title = titles[style.title];\n        }\n    }\n    return styles;\n}\n/**\n * Returns the image style component name with the \"imageStyle:\" prefix.\n */\nfunction getUIComponentName(name) {\n    return `imageStyle:${name}`;\n}\n/**\n * Returns title for the splitbutton containing the dropdown title and default action item title.\n */\nfunction getDropdownButtonTitle(dropdownTitle, buttonTitle) {\n    return (dropdownTitle ? dropdownTitle + ': ' : '') + buttonTitle;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagestyle\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ImageStyleEditing from './imagestyle/imagestyleediting.js';\nimport ImageStyleUI from './imagestyle/imagestyleui.js';\n/**\n * The image style plugin.\n *\n * For a detailed overview of the image styles feature, check the {@glink features/images/images-styles documentation}.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n * * {@link module:image/imagestyle/imagestyleediting~ImageStyleEditing},\n * * {@link module:image/imagestyle/imagestyleui~ImageStyleUI}\n *\n * It provides a default configuration, which can be extended or overwritten.\n * Read more about the {@link module:image/imageconfig~ImageConfig#styles image styles configuration}.\n */\nexport default class ImageStyle extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ImageStyleEditing, ImageStyleUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageStyle';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module image/imagetoolbar\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { WidgetToolbarRepository } from 'ckeditor5/src/widget.js';\nimport ImageUtils from './imageutils.js';\nimport { isObject } from 'lodash-es';\n/**\n * The image toolbar plugin. It creates and manages the image toolbar (the toolbar displayed when an image is selected).\n *\n * For an overview, check the {@glink features/images/images-overview#image-contextual-toolbar image contextual toolbar} documentation.\n *\n * Instances of toolbar components (e.g. buttons) are created using the editor's\n * {@link module:ui/componentfactory~ComponentFactory component factory}\n * based on the {@link module:image/imageconfig~ImageConfig#toolbar `image.toolbar` configuration option}.\n *\n * The toolbar uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon}.\n */\nexport default class ImageToolbar extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [WidgetToolbarRepository, ImageUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageToolbar';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = editor.t;\n        const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n        const imageUtils = editor.plugins.get('ImageUtils');\n        widgetToolbarRepository.register('image', {\n            ariaLabel: t('Image toolbar'),\n            items: normalizeDeclarativeConfig(editor.config.get('image.toolbar') || []),\n            getRelatedElement: selection => imageUtils.getClosestSelectedImageWidget(selection)\n        });\n    }\n}\n/**\n * Convert the dropdown definitions to their keys registered in the ComponentFactory.\n * The registration precess should be handled by the plugin which handles the UI of a particular feature.\n */\nfunction normalizeDeclarativeConfig(config) {\n    return config.map(item => isObject(item) ? item.name : item);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { LiveRange } from 'ckeditor5/src/engine.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The block autoformatting engine. It allows to format various block patterns. For example,\n * it can be configured to turn a paragraph starting with `*` and followed by a space into a list item.\n *\n * The autoformatting operation is integrated with the undo manager,\n * so the autoformatting step can be undone if the user's intention was not to format the text.\n *\n * See the {@link module:autoformat/blockautoformatediting~blockAutoformatEditing `blockAutoformatEditing`} documentation\n * to learn how to create custom block autoformatters. You can also use\n * the {@link module:autoformat/autoformat~Autoformat} feature which enables a set of default autoformatters\n * (lists, headings, bold and italic).\n *\n * @module autoformat/blockautoformatediting\n */\n/**\n * Creates a listener triggered on {@link module:engine/model/document~Document#event:change:data `change:data`} event in the document.\n * Calls the callback when inserted text matches the regular expression or the command name\n * if provided instead of the callback.\n *\n * Examples of usage:\n *\n * To convert a paragraph into heading 1 when `- ` is typed, using just the command name:\n *\n * ```ts\n * blockAutoformatEditing( editor, plugin, /^\\- $/, 'heading1' );\n * ```\n *\n * To convert a paragraph into heading 1 when `- ` is typed, using just the callback:\n *\n * ```ts\n * blockAutoformatEditing( editor, plugin, /^\\- $/, ( context ) => {\n * \tconst { match } = context;\n * \tconst headingLevel = match[ 1 ].length;\n *\n * \teditor.execute( 'heading', {\n * \t\tformatId: `heading${ headingLevel }`\n * \t} );\n * } );\n * ```\n *\n * @param editor The editor instance.\n * @param plugin The autoformat plugin instance.\n * @param pattern The regular expression to execute on just inserted text. The regular expression is tested against the text\n * from the beginning until the caret position.\n * @param callbackOrCommand The callback to execute or the command to run when the text is matched.\n * In case of providing the callback, it receives the following parameter:\n * * match RegExp.exec() result of matching the pattern to inserted text.\n */\nexport default function blockAutoformatEditing(editor, plugin, pattern, callbackOrCommand) {\n    let callback;\n    let command = null;\n    if (typeof callbackOrCommand == 'function') {\n        callback = callbackOrCommand;\n    }\n    else {\n        // We assume that the actual command name was provided.\n        command = editor.commands.get(callbackOrCommand);\n        callback = () => {\n            editor.execute(callbackOrCommand);\n        };\n    }\n    editor.model.document.on('change:data', (evt, batch) => {\n        if (command && !command.isEnabled || !plugin.isEnabled) {\n            return;\n        }\n        const range = first(editor.model.document.selection.getRanges());\n        if (!range.isCollapsed) {\n            return;\n        }\n        if (batch.isUndo || !batch.isLocal) {\n            return;\n        }\n        const changes = Array.from(editor.model.document.differ.getChanges());\n        const entry = changes[0];\n        // Typing is represented by only a single change.\n        if (changes.length != 1 || entry.type !== 'insert' || entry.name != '$text' || entry.length != 1) {\n            return;\n        }\n        const blockToFormat = entry.position.parent;\n        // Block formatting should be disabled in codeBlocks (#5800).\n        if (blockToFormat.is('element', 'codeBlock')) {\n            return;\n        }\n        // Only list commands and custom callbacks can be applied inside a list.\n        if (blockToFormat.is('element', 'listItem') &&\n            typeof callbackOrCommand !== 'function' &&\n            !['numberedList', 'bulletedList', 'todoList'].includes(callbackOrCommand)) {\n            return;\n        }\n        // In case a command is bound, do not re-execute it over an existing block style which would result in a style removal.\n        // Instead, just drop processing so that autoformat trigger text is not lost. E.g. writing \"# \" in a level 1 heading.\n        if (command && command.value === true) {\n            return;\n        }\n        const firstNode = blockToFormat.getChild(0);\n        const firstNodeRange = editor.model.createRangeOn(firstNode);\n        // Range is only expected to be within or at the very end of the first text node.\n        if (!firstNodeRange.containsRange(range) && !range.end.isEqual(firstNodeRange.end)) {\n            return;\n        }\n        const match = pattern.exec(firstNode.data.substr(0, range.end.offset));\n        // ...and this text node's data match the pattern.\n        if (!match) {\n            return;\n        }\n        // Use enqueueChange to create new batch to separate typing batch from the auto-format changes.\n        editor.model.enqueueChange(writer => {\n            // Matched range.\n            const start = writer.createPositionAt(blockToFormat, 0);\n            const end = writer.createPositionAt(blockToFormat, match[0].length);\n            const range = new LiveRange(start, end);\n            const wasChanged = callback({ match });\n            // Remove matched text.\n            if (wasChanged !== false) {\n                writer.remove(range);\n                const selectionRange = editor.model.document.selection.getFirstRange();\n                const blockRange = writer.createRangeIn(blockToFormat);\n                // If the block is empty and the document selection has been moved when\n                // applying formatting (e.g. is now in newly created block).\n                if (blockToFormat.isEmpty && !blockRange.isEqual(selectionRange) && !blockRange.containsRange(selectionRange, true)) {\n                    writer.remove(blockToFormat);\n                }\n            }\n            range.detach();\n            editor.model.enqueueChange(() => {\n                const deletePlugin = editor.plugins.get('Delete');\n                deletePlugin.requestUndoOnBackspace();\n            });\n        });\n    });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Enables autoformatting mechanism for a given {@link module:core/editor/editor~Editor}.\n *\n * It formats the matched text by applying the given model attribute or by running the provided formatting callback.\n * On every {@link module:engine/model/document~Document#event:change:data data change} in the model document\n * the autoformatting engine checks the text on the left of the selection\n * and executes the provided action if the text matches given criteria (regular expression or callback).\n *\n * @param editor The editor instance.\n * @param plugin The autoformat plugin instance.\n * @param testRegexpOrCallback The regular expression or callback to execute on text.\n * Provided regular expression *must* have three capture groups. The first and the third capture group\n * should match opening and closing delimiters. The second capture group should match the text to format.\n *\n * ```ts\n * // Matches the `**bold text**` pattern.\n * // There are three capturing groups:\n * // - The first to match the starting `**` delimiter.\n * // - The second to match the text to format.\n * // - The third to match the ending `**` delimiter.\n * inlineAutoformatEditing( editor, plugin, /(\\*\\*)([^\\*]+?)(\\*\\*)$/g, formatCallback );\n * ```\n *\n * When a function is provided instead of the regular expression, it will be executed with the text to match as a parameter.\n * The function should return proper \"ranges\" to delete and format.\n *\n * ```ts\n * {\n * \tremove: [\n * \t\t[ 0, 1 ],\t// Remove the first letter from the given text.\n * \t\t[ 5, 6 ]\t// Remove the 6th letter from the given text.\n * \t],\n * \tformat: [\n * \t\t[ 1, 5 ]\t// Format all letters from 2nd to 5th.\n * \t]\n * }\n * ```\n *\n * @param formatCallback A callback to apply actual formatting.\n * It should return `false` if changes should not be applied (e.g. if a command is disabled).\n *\n * ```ts\n * inlineAutoformatEditing( editor, plugin, /(\\*\\*)([^\\*]+?)(\\*\\*)$/g, ( writer, rangesToFormat ) => {\n * \tconst command = editor.commands.get( 'bold' );\n *\n * \tif ( !command.isEnabled ) {\n * \t\treturn false;\n * \t}\n *\n * \tconst validRanges = editor.model.schema.getValidRanges( rangesToFormat, 'bold' );\n *\n * \tfor ( let range of validRanges ) {\n * \t\twriter.setAttribute( 'bold', true, range );\n * \t}\n * } );\n * ```\n */\nexport default function inlineAutoformatEditing(editor, plugin, testRegexpOrCallback, formatCallback) {\n    let regExp;\n    let testCallback;\n    if (testRegexpOrCallback instanceof RegExp) {\n        regExp = testRegexpOrCallback;\n    }\n    else {\n        testCallback = testRegexpOrCallback;\n    }\n    // A test callback run on changed text.\n    testCallback = testCallback || (text => {\n        let result;\n        const remove = [];\n        const format = [];\n        while ((result = regExp.exec(text)) !== null) {\n            // There should be full match and 3 capture groups.\n            if (result && result.length < 4) {\n                break;\n            }\n            let { index, '1': leftDel, '2': content, '3': rightDel } = result;\n            // Real matched string - there might be some non-capturing groups so we need to recalculate starting index.\n            const found = leftDel + content + rightDel;\n            index += result[0].length - found.length;\n            // Start and End offsets of delimiters to remove.\n            const delStart = [\n                index,\n                index + leftDel.length\n            ];\n            const delEnd = [\n                index + leftDel.length + content.length,\n                index + leftDel.length + content.length + rightDel.length\n            ];\n            remove.push(delStart);\n            remove.push(delEnd);\n            format.push([index + leftDel.length, index + leftDel.length + content.length]);\n        }\n        return {\n            remove,\n            format\n        };\n    });\n    editor.model.document.on('change:data', (evt, batch) => {\n        if (batch.isUndo || !batch.isLocal || !plugin.isEnabled) {\n            return;\n        }\n        const model = editor.model;\n        const selection = model.document.selection;\n        // Do nothing if selection is not collapsed.\n        if (!selection.isCollapsed) {\n            return;\n        }\n        const changes = Array.from(model.document.differ.getChanges());\n        const entry = changes[0];\n        // Typing is represented by only a single change.\n        if (changes.length != 1 || entry.type !== 'insert' || entry.name != '$text' || entry.length != 1) {\n            return;\n        }\n        const focus = selection.focus;\n        const block = focus.parent;\n        const { text, range } = getTextAfterCode(model.createRange(model.createPositionAt(block, 0), focus), model);\n        const testOutput = testCallback(text);\n        const rangesToFormat = testOutputToRanges(range.start, testOutput.format, model);\n        const rangesToRemove = testOutputToRanges(range.start, testOutput.remove, model);\n        if (!(rangesToFormat.length && rangesToRemove.length)) {\n            return;\n        }\n        // Use enqueueChange to create new batch to separate typing batch from the auto-format changes.\n        model.enqueueChange(writer => {\n            // Apply format.\n            const hasChanged = formatCallback(writer, rangesToFormat);\n            // Strict check on `false` to have backward compatibility (when callbacks were returning `undefined`).\n            if (hasChanged === false) {\n                return;\n            }\n            // Remove delimiters - use reversed order to not mix the offsets while removing.\n            for (const range of rangesToRemove.reverse()) {\n                writer.remove(range);\n            }\n            model.enqueueChange(() => {\n                const deletePlugin = editor.plugins.get('Delete');\n                deletePlugin.requestUndoOnBackspace();\n            });\n        });\n    });\n}\n/**\n * Converts output of the test function provided to the inlineAutoformatEditing and converts it to the model ranges\n * inside provided block.\n */\nfunction testOutputToRanges(start, arrays, model) {\n    return arrays\n        .filter(array => (array[0] !== undefined && array[1] !== undefined))\n        .map(array => {\n        return model.createRange(start.getShiftedBy(array[0]), start.getShiftedBy(array[1]));\n    });\n}\n/**\n * Returns the last text line after the last code element from the given range.\n * It is similar to {@link module:typing/utils/getlasttextline.getLastTextLine `getLastTextLine()`},\n * but it ignores any text before the last `code`.\n */\nfunction getTextAfterCode(range, model) {\n    let start = range.start;\n    const text = Array.from(range.getItems()).reduce((rangeText, node) => {\n        // Trim text to a last occurrence of an inline element and update range start.\n        if (!(node.is('$text') || node.is('$textProxy')) || node.getAttribute('code')) {\n            start = model.createPositionAfter(node);\n            return '';\n        }\n        return rangeText + node.data;\n    }, '');\n    return { text, range: model.createRange(start, range.end) };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport blockAutoformatEditing from './blockautoformatediting.js';\nimport inlineAutoformatEditing from './inlineautoformatediting.js';\n/**\n * Enables a set of predefined autoformatting actions.\n *\n * For a detailed overview, check the {@glink features/autoformat Autoformatting} feature guide\n * and the {@glink api/autoformat package page}.\n */\nexport default class Autoformat extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Delete];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Autoformat';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        this._addListAutoformats();\n        this._addBasicStylesAutoformats();\n        this._addHeadingAutoformats();\n        this._addBlockQuoteAutoformats();\n        this._addCodeBlockAutoformats();\n        this._addHorizontalLineAutoformats();\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Revert autoformatting action'),\n                    keystroke: 'Backspace'\n                }\n            ]\n        });\n    }\n    /**\n     * Adds autoformatting related to the {@link module:list/list~List}.\n     *\n     * When typed:\n     * - `* ` or `- ` &ndash; A paragraph will be changed into a bulleted list.\n     * - `1. ` or `1) ` &ndash; A paragraph will be changed into a numbered list (\"1\" can be any digit or a list of digits).\n     * - `[] ` or `[ ] ` &ndash; A paragraph will be changed into a to-do list.\n     * - `[x] ` or `[ x ] ` &ndash; A paragraph will be changed into a checked to-do list.\n     */\n    _addListAutoformats() {\n        const commands = this.editor.commands;\n        if (commands.get('bulletedList')) {\n            blockAutoformatEditing(this.editor, this, /^[*-]\\s$/, 'bulletedList');\n        }\n        if (commands.get('numberedList')) {\n            blockAutoformatEditing(this.editor, this, /^1[.|)]\\s$/, 'numberedList');\n        }\n        if (commands.get('todoList')) {\n            blockAutoformatEditing(this.editor, this, /^\\[\\s?\\]\\s$/, 'todoList');\n        }\n        if (commands.get('checkTodoList')) {\n            blockAutoformatEditing(this.editor, this, /^\\[\\s?x\\s?\\]\\s$/, () => {\n                this.editor.execute('todoList');\n                this.editor.execute('checkTodoList');\n            });\n        }\n    }\n    /**\n     * Adds autoformatting related to the {@link module:basic-styles/bold~Bold},\n     * {@link module:basic-styles/italic~Italic}, {@link module:basic-styles/code~Code}\n     * and {@link module:basic-styles/strikethrough~Strikethrough}\n     *\n     * When typed:\n     * - `**foobar**` &ndash; `**` characters are removed and `foobar` is set to bold,\n     * - `__foobar__` &ndash; `__` characters are removed and `foobar` is set to bold,\n     * - `*foobar*` &ndash; `*` characters are removed and `foobar` is set to italic,\n     * - `_foobar_` &ndash; `_` characters are removed and `foobar` is set to italic,\n     * - ``` `foobar` &ndash; ``` ` ``` characters are removed and `foobar` is set to code,\n     * - `~~foobar~~` &ndash; `~~` characters are removed and `foobar` is set to strikethrough.\n     */\n    _addBasicStylesAutoformats() {\n        const commands = this.editor.commands;\n        if (commands.get('bold')) {\n            const boldCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'bold');\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(\\*\\*)([^*]+)(\\*\\*)$/g, boldCallback);\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(__)([^_]+)(__)$/g, boldCallback);\n        }\n        if (commands.get('italic')) {\n            const italicCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'italic');\n            // The italic autoformatter cannot be triggered by the bold markers, so we need to check the\n            // text before the pattern (e.g. `(?:^|[^\\*])`).\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(\\*)([^*_]+)(\\*)$/g, italicCallback);\n            inlineAutoformatEditing(this.editor, this, /(?:^|\\s)(_)([^_]+)(_)$/g, italicCallback);\n        }\n        if (commands.get('code')) {\n            const codeCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'code');\n            inlineAutoformatEditing(this.editor, this, /(`)([^`]+)(`)$/g, codeCallback);\n        }\n        if (commands.get('strikethrough')) {\n            const strikethroughCallback = getCallbackFunctionForInlineAutoformat(this.editor, 'strikethrough');\n            inlineAutoformatEditing(this.editor, this, /(~~)([^~]+)(~~)$/g, strikethroughCallback);\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:heading/heading~Heading}.\n     *\n     * It is using a number at the end of the command name to associate it with the proper trigger:\n     *\n     * * `heading` with a `heading1` value will be executed when typing `#`,\n     * * `heading` with a `heading2` value will be executed when typing `##`,\n     * * ... up to `heading6` for `######`.\n     */\n    _addHeadingAutoformats() {\n        const command = this.editor.commands.get('heading');\n        if (command) {\n            command.modelElements\n                .filter(name => name.match(/^heading[1-6]$/))\n                .forEach(modelName => {\n                const level = modelName[7];\n                const pattern = new RegExp(`^(#{${level}})\\\\s$`);\n                blockAutoformatEditing(this.editor, this, pattern, () => {\n                    // Should only be active if command is enabled and heading style associated with pattern is inactive.\n                    if (!command.isEnabled || command.value === modelName) {\n                        return false;\n                    }\n                    this.editor.execute('heading', { value: modelName });\n                });\n            });\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:block-quote/blockquote~BlockQuote}.\n     *\n     * When typed:\n     * * `> ` &ndash; A paragraph will be changed to a block quote.\n     */\n    _addBlockQuoteAutoformats() {\n        if (this.editor.commands.get('blockQuote')) {\n            blockAutoformatEditing(this.editor, this, /^>\\s$/, 'blockQuote');\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:code-block/codeblock~CodeBlock}.\n     *\n     * When typed:\n     * - `` ``` `` &ndash; A paragraph will be changed to a code block.\n     */\n    _addCodeBlockAutoformats() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        if (editor.commands.get('codeBlock')) {\n            blockAutoformatEditing(editor, this, /^```$/, () => {\n                if (selection.getFirstPosition().parent.is('element', 'listItem')) {\n                    return false;\n                }\n                this.editor.execute('codeBlock', {\n                    usePreviousLanguageChoice: true\n                });\n            });\n        }\n    }\n    /**\n     * Adds autoformatting related to {@link module:horizontal-line/horizontalline~HorizontalLine}.\n     *\n     * When typed:\n     * - `` --- `` &ndash; Will be replaced with a horizontal line.\n     */\n    _addHorizontalLineAutoformats() {\n        if (this.editor.commands.get('horizontalLine')) {\n            blockAutoformatEditing(this.editor, this, /^---$/, 'horizontalLine');\n        }\n    }\n}\n/**\n * Helper function for getting `inlineAutoformatEditing` callbacks that checks if command is enabled.\n */\nfunction getCallbackFunctionForInlineAutoformat(editor, attributeKey) {\n    return (writer, rangesToFormat) => {\n        const command = editor.commands.get(attributeKey);\n        if (!command.isEnabled) {\n            return false;\n        }\n        const validRanges = editor.model.schema.getValidRanges(rangesToFormat, attributeKey);\n        for (const range of validRanges) {\n            writer.setAttribute(attributeKey, true, range);\n        }\n        // After applying attribute to the text, remove given attribute from the selection.\n        // This way user is able to type a text without attribute used by auto formatter.\n        writer.removeSelectionAttribute(attributeKey);\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module block-quote/blockquotecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The block quote command plugin.\n *\n * @extends module:core/command~Command\n */\nexport default class BlockQuoteCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #value is on}, all top-most block quotes within\n     * the selection will be removed. If it is off, all selected blocks will be wrapped with\n     * a block quote.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply a block quote,\n     * otherwise the command will remove the block quote. If not set, the command will act basing on its current value.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        const blocks = Array.from(selection.getSelectedBlocks());\n        const value = (options.forceValue === undefined) ? !this.value : options.forceValue;\n        model.change(writer => {\n            if (!value) {\n                this._removeQuote(writer, blocks.filter(findQuote));\n            }\n            else {\n                const blocksToQuote = blocks.filter(block => {\n                    // Already quoted blocks needs to be considered while quoting too\n                    // in order to reuse their <bQ> elements.\n                    return findQuote(block) || checkCanBeQuoted(schema, block);\n                });\n                this._applyQuote(writer, blocksToQuote);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     */\n    _getValue() {\n        const selection = this.editor.model.document.selection;\n        const firstBlock = first(selection.getSelectedBlocks());\n        // In the current implementation, the block quote must be an immediate parent of a block element.\n        return !!(firstBlock && findQuote(firstBlock));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        if (this.value) {\n            return true;\n        }\n        const selection = this.editor.model.document.selection;\n        const schema = this.editor.model.schema;\n        const firstBlock = first(selection.getSelectedBlocks());\n        if (!firstBlock) {\n            return false;\n        }\n        return checkCanBeQuoted(schema, firstBlock);\n    }\n    /**\n     * Removes the quote from given blocks.\n     *\n     * If blocks which are supposed to be \"unquoted\" are in the middle of a quote,\n     * start it or end it, then the quote will be split (if needed) and the blocks\n     * will be moved out of it, so other quoted blocks remained quoted.\n     */\n    _removeQuote(writer, blocks) {\n        // Unquote all groups of block. Iterate in the reverse order to not break following ranges.\n        getRangesOfBlockGroups(writer, blocks).reverse().forEach(groupRange => {\n            if (groupRange.start.isAtStart && groupRange.end.isAtEnd) {\n                writer.unwrap(groupRange.start.parent);\n                return;\n            }\n            // The group of blocks are at the beginning of an <bQ> so let's move them left (out of the <bQ>).\n            if (groupRange.start.isAtStart) {\n                const positionBefore = writer.createPositionBefore(groupRange.start.parent);\n                writer.move(groupRange, positionBefore);\n                return;\n            }\n            // The blocks are in the middle of an <bQ> so we need to split the <bQ> after the last block\n            // so we move the items there.\n            if (!groupRange.end.isAtEnd) {\n                writer.split(groupRange.end);\n            }\n            // Now we are sure that groupRange.end.isAtEnd is true, so let's move the blocks right.\n            const positionAfter = writer.createPositionAfter(groupRange.end.parent);\n            writer.move(groupRange, positionAfter);\n        });\n    }\n    /**\n     * Applies the quote to given blocks.\n     */\n    _applyQuote(writer, blocks) {\n        const quotesToMerge = [];\n        // Quote all groups of block. Iterate in the reverse order to not break following ranges.\n        getRangesOfBlockGroups(writer, blocks).reverse().forEach(groupRange => {\n            let quote = findQuote(groupRange.start);\n            if (!quote) {\n                quote = writer.createElement('blockQuote');\n                writer.wrap(groupRange, quote);\n            }\n            quotesToMerge.push(quote);\n        });\n        // Merge subsequent <bQ> elements. Reverse the order again because this time we want to go through\n        // the <bQ> elements in the source order (due to how merge works – it moves the right element's content\n        // to the first element and removes the right one. Since we may need to merge a couple of subsequent `<bQ>` elements\n        // we want to keep the reference to the first (furthest left) one.\n        quotesToMerge.reverse().reduce((currentQuote, nextQuote) => {\n            if (currentQuote.nextSibling == nextQuote) {\n                writer.merge(writer.createPositionAfter(currentQuote));\n                return currentQuote;\n            }\n            return nextQuote;\n        });\n    }\n}\nfunction findQuote(elementOrPosition) {\n    return elementOrPosition.parent.name == 'blockQuote' ? elementOrPosition.parent : null;\n}\n/**\n * Returns a minimal array of ranges containing groups of subsequent blocks.\n *\n * content:         abcdefgh\n * blocks:          [ a, b, d, f, g, h ]\n * output ranges:   [ab]c[d]e[fgh]\n */\nfunction getRangesOfBlockGroups(writer, blocks) {\n    let startPosition;\n    let i = 0;\n    const ranges = [];\n    while (i < blocks.length) {\n        const block = blocks[i];\n        const nextBlock = blocks[i + 1];\n        if (!startPosition) {\n            startPosition = writer.createPositionBefore(block);\n        }\n        if (!nextBlock || block.nextSibling != nextBlock) {\n            ranges.push(writer.createRange(startPosition, writer.createPositionAfter(block)));\n            startPosition = null;\n        }\n        i++;\n    }\n    return ranges;\n}\n/**\n * Checks whether <bQ> can wrap the block.\n */\nfunction checkCanBeQuoted(schema, block) {\n    // TMP will be replaced with schema.checkWrap().\n    const isBQAllowed = schema.checkChild(block.parent, 'blockQuote');\n    const isBlockAllowedInBQ = schema.checkChild(['$root', 'blockQuote'], block);\n    return isBQAllowed && isBlockAllowedInBQ;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module block-quote/blockquoteediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport BlockQuoteCommand from './blockquotecommand.js';\n/**\n * The block quote editing.\n *\n * Introduces the `'blockQuote'` command and the `'blockQuote'` model element.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class BlockQuoteEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BlockQuoteEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Enter, Delete];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        editor.commands.add('blockQuote', new BlockQuoteCommand(editor));\n        schema.register('blockQuote', {\n            inheritAllFrom: '$container'\n        });\n        editor.conversion.elementToElement({ model: 'blockQuote', view: 'blockquote' });\n        // Postfixer which cleans incorrect model states connected with block quotes.\n        editor.model.document.registerPostFixer(writer => {\n            const changes = editor.model.document.differ.getChanges();\n            for (const entry of changes) {\n                if (entry.type == 'insert') {\n                    const element = entry.position.nodeAfter;\n                    if (!element) {\n                        // We are inside a text node.\n                        continue;\n                    }\n                    if (element.is('element', 'blockQuote') && element.isEmpty) {\n                        // Added an empty blockQuote - remove it.\n                        writer.remove(element);\n                        return true;\n                    }\n                    else if (element.is('element', 'blockQuote') && !schema.checkChild(entry.position, element)) {\n                        // Added a blockQuote in incorrect place. Unwrap it so the content inside is not lost.\n                        writer.unwrap(element);\n                        return true;\n                    }\n                    else if (element.is('element')) {\n                        // Just added an element. Check that all children meet the scheme rules.\n                        const range = writer.createRangeIn(element);\n                        for (const child of range.getItems()) {\n                            if (child.is('element', 'blockQuote') &&\n                                !schema.checkChild(writer.createPositionBefore(child), child)) {\n                                writer.unwrap(child);\n                                return true;\n                            }\n                        }\n                    }\n                }\n                else if (entry.type == 'remove') {\n                    const parent = entry.position.parent;\n                    if (parent.is('element', 'blockQuote') && parent.isEmpty) {\n                        // Something got removed and now blockQuote is empty. Remove the blockQuote as well.\n                        writer.remove(parent);\n                        return true;\n                    }\n                }\n            }\n            return false;\n        });\n        const viewDocument = this.editor.editing.view.document;\n        const selection = editor.model.document.selection;\n        const blockQuoteCommand = editor.commands.get('blockQuote');\n        // Overwrite default Enter key behavior.\n        // If Enter key is pressed with selection collapsed in empty block inside a quote, break the quote.\n        this.listenTo(viewDocument, 'enter', (evt, data) => {\n            if (!selection.isCollapsed || !blockQuoteCommand.value) {\n                return;\n            }\n            const positionParent = selection.getLastPosition().parent;\n            if (positionParent.isEmpty) {\n                editor.execute('blockQuote');\n                editor.editing.view.scrollToTheSelection();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'blockquote' });\n        // Overwrite default Backspace key behavior.\n        // If Backspace key is pressed with selection collapsed in first empty block inside a quote, break the quote.\n        this.listenTo(viewDocument, 'delete', (evt, data) => {\n            if (data.direction != 'backward' || !selection.isCollapsed || !blockQuoteCommand.value) {\n                return;\n            }\n            const positionParent = selection.getLastPosition().parent;\n            if (positionParent.isEmpty && !positionParent.previousSibling) {\n                editor.execute('blockQuote');\n                editor.editing.view.scrollToTheSelection();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'blockquote' });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./blockquote.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module block-quote/blockquoteui\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport '../theme/blockquote.css';\n/**\n * The block quote UI plugin.\n *\n * It introduces the `'blockQuote'` button.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class BlockQuoteUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BlockQuoteUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('blockQuote', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                tooltip: true\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:blockQuote', () => {\n            const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n            buttonView.set({\n                role: 'menuitemcheckbox'\n            });\n            return buttonView;\n        });\n    }\n    /**\n     * Creates a button for block quote command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('blockQuote');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Block quote'),\n            icon: icons.quote,\n            isToggleable: true\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        view.bind('isOn').to(command, 'value');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('blockQuote');\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module block-quote/blockquote\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport BlockQuoteEditing from './blockquoteediting.js';\nimport BlockQuoteUI from './blockquoteui.js';\n/**\n * The block quote plugin.\n *\n * For more information about this feature check the {@glink api/block-quote package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:block-quote/blockquoteediting~BlockQuoteEditing block quote editing feature}\n * and {@link module:block-quote/blockquoteui~BlockQuoteUI block quote UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class BlockQuote extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [BlockQuoteEditing, BlockQuoteUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BlockQuote';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/attributecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * An extension of the base {@link module:core/command~Command} class, which provides utilities for a command\n * that toggles a single attribute on a text or an element.\n *\n * `AttributeCommand` uses {@link module:engine/model/document~Document#selection}\n * to decide which nodes (if any) should be changed, and applies or removes the attribute from them.\n *\n * The command checks the {@link module:engine/model/model~Model#schema} to decide if it can be enabled\n * for the current selection and to which nodes the attribute can be applied.\n */\nexport default class AttributeCommand extends Command {\n    /**\n     * @param attributeKey Attribute that will be set by the command.\n     */\n    constructor(editor, attributeKey) {\n        super(editor);\n        this.attributeKey = attributeKey;\n    }\n    /**\n     * Updates the command's {@link #value} and {@link #isEnabled} based on the current selection.\n     */\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n        this.value = this._getValueFromFirstAllowedNode();\n        this.isEnabled = model.schema.checkAttributeInSelection(doc.selection, this.attributeKey);\n    }\n    /**\n     * Executes the command &ndash; applies the attribute to the selection or removes it from the selection.\n     *\n     * If the command is active (`value == true`), it will remove attributes. Otherwise, it will set attributes.\n     *\n     * The execution result differs, depending on the {@link module:engine/model/document~Document#selection}:\n     *\n     * * If the selection is on a range, the command applies the attribute to all nodes in that range\n     * (if they are allowed to have this attribute by the {@link module:engine/model/schema~Schema schema}).\n     * * If the selection is collapsed in a non-empty node, the command applies the attribute to the\n     * {@link module:engine/model/document~Document#selection} itself (note that typed characters copy attributes from the selection).\n     * * If the selection is collapsed in an empty node, the command applies the attribute to the parent node of the selection (note\n     * that the selection inherits all attributes from a node if it is in an empty node).\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`,\n     * the command will apply the attribute, otherwise the command will remove the attribute.\n     * If not set, the command will look for its current value to decide what it should do.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const value = (options.forceValue === undefined) ? !this.value : options.forceValue;\n        model.change(writer => {\n            if (selection.isCollapsed) {\n                if (value) {\n                    writer.setSelectionAttribute(this.attributeKey, true);\n                }\n                else {\n                    writer.removeSelectionAttribute(this.attributeKey);\n                }\n            }\n            else {\n                const ranges = model.schema.getValidRanges(selection.getRanges(), this.attributeKey);\n                for (const range of ranges) {\n                    if (value) {\n                        writer.setAttribute(this.attributeKey, value, range);\n                    }\n                    else {\n                        writer.removeAttribute(this.attributeKey, range);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Checks the attribute value of the first node in the selection that allows the attribute.\n     * For the collapsed selection returns the selection attribute.\n     *\n     * @returns The attribute value.\n     */\n    _getValueFromFirstAllowedNode() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        if (selection.isCollapsed) {\n            return selection.hasAttribute(this.attributeKey);\n        }\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if (schema.checkAttribute(item, this.attributeKey)) {\n                    return item.hasAttribute(this.attributeKey);\n                }\n            }\n        }\n        return false;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/bold/boldediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst BOLD = 'bold';\n/**\n * The bold editing feature.\n *\n * It registers the `'bold'` command and introduces the `bold` attribute in the model which renders to the view\n * as a `<strong>` element.\n */\nexport default class BoldEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BoldEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow bold attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: BOLD });\n        editor.model.schema.setAttributeProperties(BOLD, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Build converter from model to view for data and editing pipelines.\n        editor.conversion.attributeToElement({\n            model: BOLD,\n            view: 'strong',\n            upcastAlso: [\n                'b',\n                viewElement => {\n                    const fontWeight = viewElement.getStyle('font-weight');\n                    if (!fontWeight) {\n                        return null;\n                    }\n                    // Value of the `font-weight` attribute can be defined as a string or a number.\n                    if (fontWeight == 'bold' || Number(fontWeight) >= 600) {\n                        return {\n                            name: true,\n                            styles: ['font-weight']\n                        };\n                    }\n                    return null;\n                }\n            ]\n        });\n        // Create bold command.\n        editor.commands.add(BOLD, new AttributeCommand(editor, BOLD));\n        // Set the Ctrl+B keystroke.\n        editor.keystrokes.set('CTRL+B', BOLD);\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Bold text'),\n                    keystroke: 'CTRL+B'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * Returns a function that creates a (toolbar or menu bar) button for a basic style feature.\n */\nexport function getButtonCreator({ editor, commandName, plugin, icon, label, keystroke }) {\n    return (ButtonClass) => {\n        const command = editor.commands.get(commandName);\n        const view = new ButtonClass(editor.locale);\n        view.set({\n            label,\n            icon,\n            keystroke,\n            isToggleable: true\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        view.bind('isOn').to(command, 'value');\n        if (view instanceof MenuBarMenuListItemButtonView) {\n            view.set({\n                role: 'menuitemcheckbox'\n            });\n        }\n        else {\n            view.set({\n                tooltip: true\n            });\n        }\n        // Execute the command.\n        plugin.listenTo(view, 'execute', () => {\n            editor.execute(commandName);\n            editor.editing.view.focus();\n        });\n        return view;\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/bold/boldui\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nconst BOLD = 'bold';\n/**\n * The bold UI feature. It introduces the Bold button.\n */\nexport default class BoldUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'BoldUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: BOLD,\n            plugin: this,\n            icon: icons.bold,\n            label: t('Bold'),\n            keystroke: 'CTRL+B'\n        });\n        // Add bold button to feature components.\n        editor.ui.componentFactory.add(BOLD, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + BOLD, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/bold\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport BoldEditing from './bold/boldediting.js';\nimport BoldUI from './bold/boldui.js';\n/**\n * The bold feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/bold/boldediting~BoldEditing bold editing feature}\n * and {@link module:basic-styles/bold/boldui~BoldUI bold UI feature}.\n */\nexport default class Bold extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [BoldEditing, BoldUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Bold';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/code/codeediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { TwoStepCaretMovement, inlineHighlight } from 'ckeditor5/src/typing.js';\nimport AttributeCommand from '../attributecommand.js';\nconst CODE = 'code';\nconst HIGHLIGHT_CLASS = 'ck-code_selected';\n/**\n * The code editing feature.\n *\n * It registers the `'code'` command and introduces the `code` attribute in the model which renders to the view\n * as a `<code>` element.\n */\nexport default class CodeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TwoStepCaretMovement];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow code attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: CODE });\n        editor.model.schema.setAttributeProperties(CODE, {\n            isFormatting: true,\n            copyOnEnter: false\n        });\n        editor.conversion.attributeToElement({\n            model: CODE,\n            view: 'code',\n            upcastAlso: {\n                styles: {\n                    'word-wrap': 'break-word'\n                }\n            }\n        });\n        // Create code command.\n        editor.commands.add(CODE, new AttributeCommand(editor, CODE));\n        // Enable two-step caret movement for `code` attribute.\n        editor.plugins.get(TwoStepCaretMovement).registerAttribute(CODE);\n        // Setup highlight over selected element.\n        inlineHighlight(editor, CODE, 'code', HIGHLIGHT_CLASS);\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Move out of an inline code style'),\n                    keystroke: [\n                        ['arrowleft', 'arrowleft'],\n                        ['arrowright', 'arrowright']\n                    ]\n                }\n            ]\n        });\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./code.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/code/codeui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport codeIcon from '../../theme/icons/code.svg';\nimport '../../theme/code.css';\nconst CODE = 'code';\n/**\n * The code UI feature. It introduces the Code button.\n */\nexport default class CodeUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: CODE,\n            plugin: this,\n            icon: codeIcon,\n            label: t('Code')\n        });\n        // Add code button to feature components.\n        editor.ui.componentFactory.add(CODE, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + CODE, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/code\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport CodeEditing from './code/codeediting.js';\nimport CodeUI from './code/codeui.js';\nimport '../theme/code.css';\n/**\n * The code feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/code/codeediting~CodeEditing code editing feature}\n * and {@link module:basic-styles/code/codeui~CodeUI code UI feature}.\n */\nexport default class Code extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [CodeEditing, CodeUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Code';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/italic/italicediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst ITALIC = 'italic';\n/**\n * The italic editing feature.\n *\n * It registers the `'italic'` command, the <kbd>Ctrl+I</kbd> keystroke and introduces the `italic` attribute in the model\n * which renders to the view as an `<i>` element.\n */\nexport default class ItalicEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ItalicEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow italic attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: ITALIC });\n        editor.model.schema.setAttributeProperties(ITALIC, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        editor.conversion.attributeToElement({\n            model: ITALIC,\n            view: 'i',\n            upcastAlso: [\n                'em',\n                {\n                    styles: {\n                        'font-style': 'italic'\n                    }\n                }\n            ]\n        });\n        // Create italic command.\n        editor.commands.add(ITALIC, new AttributeCommand(editor, ITALIC));\n        // Set the Ctrl+I keystroke.\n        editor.keystrokes.set('CTRL+I', ITALIC);\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Italic text'),\n                    keystroke: 'CTRL+I'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/italic/italicui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { MenuBarMenuListItemButtonView, ButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport italicIcon from '../../theme/icons/italic.svg';\nconst ITALIC = 'italic';\n/**\n * The italic UI feature. It introduces the Italic button.\n */\nexport default class ItalicUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ItalicUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: ITALIC,\n            plugin: this,\n            icon: italicIcon,\n            keystroke: 'CTRL+I',\n            label: t('Italic')\n        });\n        // Add bold button to feature components.\n        editor.ui.componentFactory.add(ITALIC, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + ITALIC, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/italic\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ItalicEditing from './italic/italicediting.js';\nimport ItalicUI from './italic/italicui.js';\n/**\n * The italic feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/italic/italicediting~ItalicEditing} and\n * {@link module:basic-styles/italic/italicui~ItalicUI} plugins.\n */\nexport default class Italic extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ItalicEditing, ItalicUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Italic';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/strikethrough/strikethroughediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst STRIKETHROUGH = 'strikethrough';\n/**\n * The strikethrough editing feature.\n *\n * It registers the `'strikethrough'` command, the <kbd>Ctrl+Shift+X</kbd> keystroke and introduces the\n * `strikethroughsthrough` attribute in the model which renders to the view\n * as a `<s>` element.\n */\nexport default class StrikethroughEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StrikethroughEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow strikethrough attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: STRIKETHROUGH });\n        editor.model.schema.setAttributeProperties(STRIKETHROUGH, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        editor.conversion.attributeToElement({\n            model: STRIKETHROUGH,\n            view: 's',\n            upcastAlso: [\n                'del',\n                'strike',\n                {\n                    styles: {\n                        'text-decoration': 'line-through'\n                    }\n                }\n            ]\n        });\n        // Create strikethrough command.\n        editor.commands.add(STRIKETHROUGH, new AttributeCommand(editor, STRIKETHROUGH));\n        // Set the Ctrl+Shift+X keystroke.\n        editor.keystrokes.set('CTRL+SHIFT+X', 'strikethrough');\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Strikethrough text'),\n                    keystroke: 'CTRL+SHIFT+X'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/strikethrough/strikethroughui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport strikethroughIcon from '../../theme/icons/strikethrough.svg';\nconst STRIKETHROUGH = 'strikethrough';\n/**\n * The strikethrough UI feature. It introduces the Strikethrough button.\n */\nexport default class StrikethroughUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StrikethroughUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: STRIKETHROUGH,\n            plugin: this,\n            icon: strikethroughIcon,\n            keystroke: 'CTRL+SHIFT+X',\n            label: t('Strikethrough')\n        });\n        // Add strikethrough button to feature components.\n        editor.ui.componentFactory.add(STRIKETHROUGH, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + STRIKETHROUGH, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z\\\"/><path d=\\\"M3 10.5V9h14v1.5z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/strikethrough\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StrikethroughEditing from './strikethrough/strikethroughediting.js';\nimport StrikethroughUI from './strikethrough/strikethroughui.js';\n/**\n * The strikethrough feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/strikethrough/strikethroughediting~StrikethroughEditing} and\n * {@link module:basic-styles/strikethrough/strikethroughui~StrikethroughUI} plugins.\n */\nexport default class Strikethrough extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StrikethroughEditing, StrikethroughUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Strikethrough';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/subscript/subscriptediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst SUBSCRIPT = 'subscript';\n/**\n * The subscript editing feature.\n *\n * It registers the `sub` command and introduces the `sub` attribute in the model which renders to the view\n * as a `<sub>` element.\n */\nexport default class SubscriptEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SubscriptEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow sub attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: SUBSCRIPT });\n        editor.model.schema.setAttributeProperties(SUBSCRIPT, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Build converter from model to view for data and editing pipelines.\n        editor.conversion.attributeToElement({\n            model: SUBSCRIPT,\n            view: 'sub',\n            upcastAlso: [\n                {\n                    styles: {\n                        'vertical-align': 'sub'\n                    }\n                }\n            ]\n        });\n        // Create sub command.\n        editor.commands.add(SUBSCRIPT, new AttributeCommand(editor, SUBSCRIPT));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/subscript/subscriptui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport subscriptIcon from '../../theme/icons/subscript.svg';\nconst SUBSCRIPT = 'subscript';\n/**\n * The subscript UI feature. It introduces the Subscript button.\n */\nexport default class SubscriptUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SubscriptUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: SUBSCRIPT,\n            plugin: this,\n            icon: subscriptIcon,\n            label: t('Subscript')\n        });\n        // Add subscript button to feature components.\n        editor.ui.componentFactory.add(SUBSCRIPT, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + SUBSCRIPT, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/subscript\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport SubscriptEditing from './subscript/subscriptediting.js';\nimport SubscriptUI from './subscript/subscriptui.js';\n/**\n * The subscript feature.\n *\n * It loads the {@link module:basic-styles/subscript/subscriptediting~SubscriptEditing} and\n * {@link module:basic-styles/subscript/subscriptui~SubscriptUI} plugins.\n */\nexport default class Subscript extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [SubscriptEditing, SubscriptUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Subscript';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/superscript/superscriptediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst SUPERSCRIPT = 'superscript';\n/**\n * The superscript editing feature.\n *\n * It registers the `super` command and introduces the `super` attribute in the model which renders to the view\n * as a `<super>` element.\n */\nexport default class SuperscriptEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SuperscriptEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow super attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: SUPERSCRIPT });\n        editor.model.schema.setAttributeProperties(SUPERSCRIPT, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Build converter from model to view for data and editing pipelines.\n        editor.conversion.attributeToElement({\n            model: SUPERSCRIPT,\n            view: 'sup',\n            upcastAlso: [\n                {\n                    styles: {\n                        'vertical-align': 'super'\n                    }\n                }\n            ]\n        });\n        // Create super command.\n        editor.commands.add(SUPERSCRIPT, new AttributeCommand(editor, SUPERSCRIPT));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/superscript/superscriptui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport superscriptIcon from '../../theme/icons/superscript.svg';\nconst SUPERSCRIPT = 'superscript';\n/**\n * The superscript UI feature. It introduces the Superscript button.\n */\nexport default class SuperscriptUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SuperscriptUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: SUPERSCRIPT,\n            plugin: this,\n            icon: superscriptIcon,\n            label: t('Superscript')\n        });\n        // Add superscript button to feature components.\n        editor.ui.componentFactory.add(SUPERSCRIPT, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + SUPERSCRIPT, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/superscript\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport SuperscriptEditing from './superscript/superscriptediting.js';\nimport SuperscriptUI from './superscript/superscriptui.js';\n/**\n * The superscript feature.\n *\n * It loads the {@link module:basic-styles/superscript/superscriptediting~SuperscriptEditing} and\n * {@link module:basic-styles/superscript/superscriptui~SuperscriptUI} plugins.\n */\nexport default class Superscript extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [SuperscriptEditing, SuperscriptUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Superscript';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/underline/underlineediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport AttributeCommand from '../attributecommand.js';\nconst UNDERLINE = 'underline';\n/**\n * The underline editing feature.\n *\n * It registers the `'underline'` command, the <kbd>Ctrl+U</kbd> keystroke\n * and introduces the `underline` attribute in the model which renders to the view as an `<u>` element.\n */\nexport default class UnderlineEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'UnderlineEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        // Allow strikethrough attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: UNDERLINE });\n        editor.model.schema.setAttributeProperties(UNDERLINE, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        editor.conversion.attributeToElement({\n            model: UNDERLINE,\n            view: 'u',\n            upcastAlso: {\n                styles: {\n                    'text-decoration': 'underline'\n                }\n            }\n        });\n        // Create underline command.\n        editor.commands.add(UNDERLINE, new AttributeCommand(editor, UNDERLINE));\n        // Set the Ctrl+U keystroke.\n        editor.keystrokes.set('CTRL+U', 'underline');\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Underline text'),\n                    keystroke: 'CTRL+U'\n                }\n            ]\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/underline/underlineui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { getButtonCreator } from '../utils.js';\nimport underlineIcon from '../../theme/icons/underline.svg';\nconst UNDERLINE = 'underline';\n/**\n * The underline UI feature. It introduces the Underline button.\n */\nexport default class UnderlineUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'UnderlineUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const createButton = getButtonCreator({\n            editor,\n            commandName: UNDERLINE,\n            plugin: this,\n            icon: underlineIcon,\n            label: t('Underline'),\n            keystroke: 'CTRL+U'\n        });\n        // Add bold button to feature components.\n        editor.ui.componentFactory.add(UNDERLINE, () => createButton(ButtonView));\n        editor.ui.componentFactory.add('menuBar:' + UNDERLINE, () => createButton(MenuBarMenuListItemButtonView));\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module basic-styles/underline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport UnderlineEditing from './underline/underlineediting.js';\nimport UnderlineUI from './underline/underlineui.js';\n/**\n * The underline feature.\n *\n * For a detailed overview check the {@glink features/basic-styles Basic styles feature} guide\n * and the {@glink api/basic-styles package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:basic-styles/underline/underlineediting~UnderlineEditing} and\n * {@link module:basic-styles/underline/underlineui~UnderlineUI} plugins.\n */\nexport default class Underline extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [UnderlineEditing, UnderlineUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Underline';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { EditorUI, DialogView, normalizeToolbarConfig } from 'ckeditor5/src/ui.js';\nimport { enablePlaceholder } from 'ckeditor5/src/engine.js';\nimport { ElementReplacer, Rect } from 'ckeditor5/src/utils.js';\n/**\n * The classic editor UI class.\n */\nexport default class ClassicEditorUI extends EditorUI {\n    /**\n     * Creates an instance of the classic editor UI class.\n     *\n     * @param editor The editor instance.\n     * @param view The view of the UI.\n     */\n    constructor(editor, view) {\n        super(editor);\n        this.view = view;\n        this._toolbarConfig = normalizeToolbarConfig(editor.config.get('toolbar'));\n        this._elementReplacer = new ElementReplacer();\n        this.listenTo(editor.editing.view, 'scrollToTheSelection', this._handleScrollToTheSelectionWithStickyPanel.bind(this));\n    }\n    /**\n     * @inheritDoc\n     */\n    get element() {\n        return this.view.element;\n    }\n    /**\n     * Initializes the UI.\n     *\n     * @param replacementElement The DOM element that will be the source for the created editor.\n     */\n    init(replacementElement) {\n        const editor = this.editor;\n        const view = this.view;\n        const editingView = editor.editing.view;\n        const editable = view.editable;\n        const editingRoot = editingView.document.getRoot();\n        // The editable UI and editing root should share the same name. Then name is used\n        // to recognize the particular editable, for instance in ARIA attributes.\n        editable.name = editingRoot.rootName;\n        view.render();\n        // The editable UI element in DOM is available for sure only after the editor UI view has been rendered.\n        // But it can be available earlier if a DOM element has been passed to BalloonEditor.create().\n        const editableElement = editable.element;\n        // Register the editable UI view in the editor. A single editor instance can aggregate multiple\n        // editable areas (roots) but the classic editor has only one.\n        this.setEditableElement(editable.name, editableElement);\n        // Let the editable UI element respond to the changes in the global editor focus\n        // tracker. It has been added to the same tracker a few lines above but, in reality, there are\n        // many focusable areas in the editor, like balloons, toolbars or dropdowns and as long\n        // as they have focus, the editable should act like it is focused too (although technically\n        // it isn't), e.g. by setting the proper CSS class, visually announcing focus to the user.\n        // Doing otherwise will result in editable focus styles disappearing, once e.g. the\n        // toolbar gets focused.\n        view.editable.bind('isFocused').to(this.focusTracker);\n        // Bind the editable UI element to the editing view, making it an end– and entry–point\n        // of the editor's engine. This is where the engine meets the UI.\n        editingView.attachDomRoot(editableElement);\n        // If an element containing the initial data of the editor was provided, replace it with\n        // an editor instance's UI in DOM until the editor is destroyed. For instance, a <textarea>\n        // can be such element.\n        if (replacementElement) {\n            this._elementReplacer.replace(replacementElement, this.element);\n        }\n        this._initPlaceholder();\n        this._initToolbar();\n        if (view.menuBarView) {\n            this._initMenuBar(view.menuBarView);\n        }\n        this._initDialogPluginIntegration();\n        this._initContextualBalloonIntegration();\n        this.fire('ready');\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        const view = this.view;\n        const editingView = this.editor.editing.view;\n        this._elementReplacer.restore();\n        if (editingView.getDomRoot(view.editable.name)) {\n            editingView.detachDomRoot(view.editable.name);\n        }\n        view.destroy();\n    }\n    /**\n     * Initializes the editor toolbar.\n     */\n    _initToolbar() {\n        const view = this.view;\n        // Set–up the sticky panel with toolbar.\n        view.stickyPanel.bind('isActive').to(this.focusTracker, 'isFocused');\n        view.stickyPanel.limiterElement = view.element;\n        view.stickyPanel.bind('viewportTopOffset').to(this, 'viewportOffset', ({ top }) => top || 0);\n        view.toolbar.fillFromConfig(this._toolbarConfig, this.componentFactory);\n        // Register the toolbar so it becomes available for Alt+F10 and Esc navigation.\n        this.addToolbar(view.toolbar);\n    }\n    /**\n     * Enable the placeholder text on the editing root.\n     */\n    _initPlaceholder() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const editingRoot = editingView.document.getRoot();\n        const sourceElement = editor.sourceElement;\n        let placeholderText;\n        const placeholder = editor.config.get('placeholder');\n        if (placeholder) {\n            placeholderText = typeof placeholder === 'string' ? placeholder : placeholder[this.view.editable.name];\n        }\n        if (!placeholderText && sourceElement && sourceElement.tagName.toLowerCase() === 'textarea') {\n            placeholderText = sourceElement.getAttribute('placeholder');\n        }\n        if (placeholderText) {\n            editingRoot.placeholder = placeholderText;\n        }\n        enablePlaceholder({\n            view: editingView,\n            element: editingRoot,\n            isDirectHost: false,\n            keepOnFocus: true\n        });\n    }\n    /**\n     * Provides an integration between the sticky toolbar and {@link module:ui/panel/balloon/contextualballoon contextual balloon plugin}.\n     * It allows the contextual balloon to consider the height of the\n     * {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#stickyPanel}. It prevents the balloon from overlapping\n     * the sticky toolbar by adjusting the balloon's position using viewport offset configuration.\n     */\n    _initContextualBalloonIntegration() {\n        if (!this.editor.plugins.has('ContextualBalloon')) {\n            return;\n        }\n        const { stickyPanel } = this.view;\n        const contextualBalloon = this.editor.plugins.get('ContextualBalloon');\n        contextualBalloon.on('getPositionOptions', evt => {\n            const position = evt.return;\n            if (!position || !stickyPanel.isSticky || !stickyPanel.element) {\n                return;\n            }\n            // Measure toolbar (and menu bar) height.\n            const stickyPanelHeight = new Rect(stickyPanel.element).height;\n            // Handle edge case when the target element is larger than the limiter.\n            // It's an issue because the contextual balloon can overlap top table cells when the table is larger than the viewport\n            // and it's placed at the top of the editor. It's better to overlap toolbar in that situation.\n            // Check this issue: https://github.com/ckeditor/ckeditor5/issues/15744\n            const target = typeof position.target === 'function' ? position.target() : position.target;\n            const limiter = typeof position.limiter === 'function' ? position.limiter() : position.limiter;\n            if (target && limiter && new Rect(target).height >= new Rect(limiter).height - stickyPanelHeight) {\n                return;\n            }\n            // Ensure that viewport offset is present, it can be undefined according to the typing.\n            const viewportOffsetConfig = { ...position.viewportOffsetConfig };\n            const newTopViewportOffset = (viewportOffsetConfig.top || 0) + stickyPanelHeight;\n            evt.return = {\n                ...position,\n                viewportOffsetConfig: {\n                    ...viewportOffsetConfig,\n                    top: newTopViewportOffset\n                }\n            };\n        }, { priority: 'low' });\n        // Update balloon position when the toolbar becomes sticky or when ui viewportOffset changes.\n        const updateBalloonPosition = () => {\n            if (contextualBalloon.visibleView) {\n                contextualBalloon.updatePosition();\n            }\n        };\n        this.listenTo(stickyPanel, 'change:isSticky', updateBalloonPosition);\n        this.listenTo(this.editor.ui, 'change:viewportOffset', updateBalloonPosition);\n    }\n    /**\n     * Provides an integration between the sticky toolbar and {@link module:utils/dom/scroll~scrollViewportToShowTarget}.\n     * It allows the UI-agnostic engine method to consider the geometry of the\n     * {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#stickyPanel} that pins to the\n     * edge of the viewport and can obscure the user caret after scrolling the window.\n     *\n     * @param evt The `scrollToTheSelection` event info.\n     * @param data The payload carried by the `scrollToTheSelection` event.\n     * @param originalArgs The original arguments passed to `scrollViewportToShowTarget()` method (see implementation to learn more).\n     */\n    _handleScrollToTheSelectionWithStickyPanel(evt, data, originalArgs) {\n        const stickyPanel = this.view.stickyPanel;\n        if (stickyPanel.isSticky) {\n            const stickyPanelHeight = new Rect(stickyPanel.element).height;\n            data.viewportOffset.top += stickyPanelHeight;\n        }\n        else {\n            const scrollViewportOnPanelGettingSticky = () => {\n                this.editor.editing.view.scrollToTheSelection(originalArgs);\n            };\n            this.listenTo(stickyPanel, 'change:isSticky', scrollViewportOnPanelGettingSticky);\n            // This works as a post-scroll-fixer because it's impossible predict whether the panel will be sticky after scrolling or not.\n            // Listen for a short period of time only and if the toolbar does not become sticky very soon, cancel the listener.\n            setTimeout(() => {\n                this.stopListening(stickyPanel, 'change:isSticky', scrollViewportOnPanelGettingSticky);\n            }, 20);\n        }\n    }\n    /**\n     * Provides an integration between the sticky toolbar and {@link module:ui/dialog/dialog the Dialog plugin}.\n     *\n     * It moves the dialog down to ensure that the\n     * {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#stickyPanel sticky panel}\n     * used by the editor UI will not get obscured by the dialog when the dialog uses one of its automatic positions.\n     */\n    _initDialogPluginIntegration() {\n        if (!this.editor.plugins.has('Dialog')) {\n            return;\n        }\n        const stickyPanel = this.view.stickyPanel;\n        const dialogPlugin = this.editor.plugins.get('Dialog');\n        dialogPlugin.on('show', () => {\n            const dialogView = dialogPlugin.view;\n            dialogView.on('moveTo', (evt, data) => {\n                // Engage only when the panel is sticky, and the dialog is using one of default positions.\n                // Ignore modals because they are displayed on top of the page (and overlay) and they do not collide with anything\n                // See (https://github.com/ckeditor/ckeditor5/issues/17339).\n                if (!stickyPanel.isSticky || dialogView.wasMoved || dialogView.isModal) {\n                    return;\n                }\n                const stickyPanelContentRect = new Rect(stickyPanel.contentPanelElement);\n                if (data[1] < stickyPanelContentRect.bottom + DialogView.defaultOffset) {\n                    data[1] = stickyPanelContentRect.bottom + DialogView.defaultOffset;\n                }\n            }, { priority: 'high' });\n        }, { priority: 'low' });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./classiceditor.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module editor-classic/classiceditoruiview\n */\nimport { BoxedEditorUIView, InlineEditableUIView, MenuBarView, StickyPanelView, ToolbarView } from 'ckeditor5/src/ui.js';\nimport '../theme/classiceditor.css';\n/**\n * Classic editor UI view. Uses an inline editable and a sticky toolbar, all\n * enclosed in a boxed UI view.\n */\nexport default class ClassicEditorUIView extends BoxedEditorUIView {\n    /**\n     * Creates an instance of the classic editor UI view.\n     *\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param editingView The editing view instance this view is related to.\n     * @param options Configuration options for the view instance.\n     * @param options.shouldToolbarGroupWhenFull When set `true` enables automatic items grouping\n     * in the main {@link module:editor-classic/classiceditoruiview~ClassicEditorUIView#toolbar toolbar}.\n     * See {@link module:ui/toolbar/toolbarview~ToolbarOptions#shouldGroupWhenFull} to learn more.\n     * @param options.label When set, this value will be used as an accessible `aria-label` of the\n     * {@link module:ui/editableui/editableuiview~EditableUIView editable view}.\n     */\n    constructor(locale, editingView, options = {}) {\n        super(locale);\n        this.stickyPanel = new StickyPanelView(locale);\n        this.toolbar = new ToolbarView(locale, {\n            shouldGroupWhenFull: options.shouldToolbarGroupWhenFull\n        });\n        if (options.useMenuBar) {\n            this.menuBarView = new MenuBarView(locale);\n        }\n        this.editable = new InlineEditableUIView(locale, editingView, undefined, {\n            label: options.label\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        if (this.menuBarView) {\n            // Set toolbar as a child of a stickyPanel and makes toolbar sticky.\n            this.stickyPanel.content.addMany([this.menuBarView, this.toolbar]);\n        }\n        else {\n            this.stickyPanel.content.add(this.toolbar);\n        }\n        this.top.add(this.stickyPanel);\n        this.main.add(this.editable);\n    }\n}\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","import isObjectLike from './isObjectLike.js';\nimport isPlainObject from './isPlainObject.js';\n\n/**\n * Checks if `value` is likely a DOM element.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n * @example\n *\n * _.isElement(document.body);\n * // => true\n *\n * _.isElement('<body>');\n * // => false\n */\nfunction isElement(value) {\n  return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nexport default isElement;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module editor-classic/classiceditor\n */\nimport ClassicEditorUI from './classiceditorui.js';\nimport ClassicEditorUIView from './classiceditoruiview.js';\nimport { Editor, ElementApiMixin, attachToForm } from 'ckeditor5/src/core.js';\nimport { getDataFromElement, CKEditorError } from 'ckeditor5/src/utils.js';\nimport { isElement as _isElement } from 'lodash-es';\n/**\n * The classic editor implementation. It uses an inline editable and a sticky toolbar, all enclosed in a boxed UI.\n * See the {@glink examples/builds/classic-editor demo}.\n *\n * In order to create a classic editor instance, use the static\n * {@link module:editor-classic/classiceditor~ClassicEditor.create `ClassicEditor.create()`} method.\n */\nexport default class ClassicEditor extends /* #__PURE__ */ ElementApiMixin(Editor) {\n    /**\n     * @inheritDoc\n     */\n    static get editorName() {\n        return 'ClassicEditor';\n    }\n    /**\n     * Creates an instance of the classic editor.\n     *\n     * **Note:** do not use the constructor to create editor instances. Use the static\n     * {@link module:editor-classic/classiceditor~ClassicEditor.create `ClassicEditor.create()`} method instead.\n     *\n     * @param sourceElementOrData The DOM element that will be the source for the created editor\n     * or the editor's initial data. For more information see\n     * {@link module:editor-classic/classiceditor~ClassicEditor.create `ClassicEditor.create()`}.\n     * @param config The editor configuration.\n     */\n    constructor(sourceElementOrData, config = {}) {\n        // If both `config.initialData` is set and initial data is passed as the constructor parameter, then throw.\n        if (!isElement(sourceElementOrData) && config.initialData !== undefined) {\n            // Documented in core/editor/editorconfig.jsdoc.\n            // eslint-disable-next-line ckeditor5-rules/ckeditor-error-message\n            throw new CKEditorError('editor-create-initial-data', null);\n        }\n        super(config);\n        this.config.define('menuBar.isVisible', false);\n        if (this.config.get('initialData') === undefined) {\n            this.config.set('initialData', getInitialData(sourceElementOrData));\n        }\n        if (isElement(sourceElementOrData)) {\n            this.sourceElement = sourceElementOrData;\n        }\n        this.model.document.createRoot();\n        const shouldToolbarGroupWhenFull = !this.config.get('toolbar.shouldNotGroupWhenFull');\n        const menuBarConfig = this.config.get('menuBar');\n        const view = new ClassicEditorUIView(this.locale, this.editing.view, {\n            shouldToolbarGroupWhenFull,\n            useMenuBar: menuBarConfig.isVisible,\n            label: this.config.get('label')\n        });\n        this.ui = new ClassicEditorUI(this, view);\n        attachToForm(this);\n    }\n    /**\n     * Destroys the editor instance, releasing all resources used by it.\n     *\n     * Updates the original editor element with the data if the\n     * {@link module:core/editor/editorconfig~EditorConfig#updateSourceElementOnDestroy `updateSourceElementOnDestroy`}\n     * configuration option is set to `true`.\n     */\n    destroy() {\n        if (this.sourceElement) {\n            this.updateSourceElement();\n        }\n        this.ui.destroy();\n        return super.destroy();\n    }\n    /**\n     * Creates a new classic editor instance.\n     *\n     * There are three ways how the editor can be initialized.\n     *\n     * # Replacing a DOM element (and loading data from it)\n     *\n     * You can initialize the editor using an existing DOM element:\n     *\n     * ```ts\n     * ClassicEditor\n     * \t.create( document.querySelector( '#editor' ) )\n     * \t.then( editor => {\n     * \t\tconsole.log( 'Editor was initialized', editor );\n     * \t} )\n     * \t.catch( err => {\n     * \t\tconsole.error( err.stack );\n     * \t} );\n     * ```\n     *\n     * The element's content will be used as the editor data and the element will be replaced by the editor UI.\n     *\n     * # Creating a detached editor\n     *\n     * Alternatively, you can initialize the editor by passing the initial data directly as a string.\n     * In this case, the editor will render an element that must be inserted into the DOM:\n     *\n     * ```ts\n     * ClassicEditor\n     * \t.create( '<p>Hello world!</p>' )\n     * \t.then( editor => {\n     * \t\tconsole.log( 'Editor was initialized', editor );\n     *\n     * \t\t// Initial data was provided so the editor UI element needs to be added manually to the DOM.\n     * \t\tdocument.body.appendChild( editor.ui.element );\n     * \t} )\n     * \t.catch( err => {\n     * \t\tconsole.error( err.stack );\n     * \t} );\n     * ```\n     *\n     * This lets you dynamically append the editor to your web page whenever it is convenient for you. You may use this method if your\n     * web page content is generated on the client side and the DOM structure is not ready at the moment when you initialize the editor.\n     *\n     * # Replacing a DOM element (and data provided in `config.initialData`)\n     *\n     * You can also mix these two ways by providing a DOM element to be used and passing the initial data through the configuration:\n     *\n     * ```ts\n     * ClassicEditor\n     * \t.create( document.querySelector( '#editor' ), {\n     * \t\tinitialData: '<h2>Initial data</h2><p>Foo bar.</p>'\n     * \t} )\n     * \t.then( editor => {\n     * \t\tconsole.log( 'Editor was initialized', editor );\n     * \t} )\n     * \t.catch( err => {\n     * \t\tconsole.error( err.stack );\n     * \t} );\n     * ```\n     *\n     * This method can be used to initialize the editor on an existing element with the specified content in case if your integration\n     * makes it difficult to set the content of the source element.\n     *\n     * Note that an error will be thrown if you pass the initial data both as the first parameter and also in the configuration.\n     *\n     * # Configuring the editor\n     *\n     * See the {@link module:core/editor/editorconfig~EditorConfig editor configuration documentation} to learn more about\n     * customizing plugins, toolbar and more.\n     *\n     * @param sourceElementOrData The DOM element that will be the source for the created editor\n     * or the editor's initial data.\n     *\n     * If a DOM element is passed, its content will be automatically loaded to the editor upon initialization\n     * and the {@link module:editor-classic/classiceditorui~ClassicEditorUI#element editor element} will replace the passed element\n     * in the DOM (the original one will be hidden and the editor will be injected next to it).\n     *\n     * If the {@link module:core/editor/editorconfig~EditorConfig#updateSourceElementOnDestroy updateSourceElementOnDestroy}\n     * option is set to `true`, the editor data will be set back to the original element once the editor is destroyed and when a form,\n     * in which this element is contained, is submitted (if the original element is a `<textarea>`). This ensures seamless integration\n     * with native web forms.\n     *\n     * If the initial data is passed, a detached editor will be created. In this case you need to insert it into the DOM manually.\n     * It is available under the {@link module:editor-classic/classiceditorui~ClassicEditorUI#element `editor.ui.element`} property.\n     *\n     * @param config The editor configuration.\n     * @returns A promise resolved once the editor is ready. The promise resolves with the created editor instance.\n     */\n    static create(sourceElementOrData, config = {}) {\n        return new Promise(resolve => {\n            const editor = new this(sourceElementOrData, config);\n            resolve(editor.initPlugins()\n                .then(() => editor.ui.init(isElement(sourceElementOrData) ? sourceElementOrData : null))\n                .then(() => editor.data.init(editor.config.get('initialData')))\n                .then(() => editor.fire('ready'))\n                .then(() => editor));\n        });\n    }\n}\nfunction getInitialData(sourceElementOrData) {\n    return isElement(sourceElementOrData) ? getDataFromElement(sourceElementOrData) : sourceElementOrData;\n}\nfunction isElement(value) {\n    return _isElement(value);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Returns code block languages as defined in `config.codeBlock.languages` but processed:\n *\n * * To consider the editor localization, i.e. to display {@link module:code-block/codeblockconfig~CodeBlockLanguageDefinition}\n * in the correct language. There is no way to use {@link module:utils/locale~Locale#t} when the user\n * configuration is defined because the editor does not exist yet.\n * * To make sure each definition has a CSS class associated with it even if not specified\n * in the original configuration.\n */\nexport function getNormalizedAndLocalizedLanguageDefinitions(editor) {\n    const t = editor.t;\n    const languageDefs = editor.config.get('codeBlock.languages');\n    for (const def of languageDefs) {\n        if (def.label === 'Plain text') {\n            def.label = t('Plain text');\n        }\n        if (def.class === undefined) {\n            def.class = `language-${def.language}`;\n        }\n    }\n    return languageDefs;\n}\n/**\n * Returns an object associating certain language definition properties with others. For instance:\n *\n * For:\n *\n * ```ts\n * const definitions = {\n * \t{ language: 'php', class: 'language-php', label: 'PHP' },\n * \t{ language: 'javascript', class: 'js', label: 'JavaScript' },\n * };\n *\n * getPropertyAssociation( definitions, 'class', 'language' );\n * ```\n *\n * returns:\n *\n * ```ts\n * {\n * \t'language-php': 'php',\n * \t'js': 'javascript'\n * }\n * ```\n *\n * and\n *\n * ```ts\n * getPropertyAssociation( definitions, 'language', 'label' );\n * ```\n *\n * returns:\n *\n * ```ts\n * {\n * \t'php': 'PHP',\n * \t'javascript': 'JavaScript'\n * }\n * ```\n */\nexport function getPropertyAssociation(languageDefs, key, value) {\n    const association = {};\n    for (const def of languageDefs) {\n        if (key === 'class') {\n            // Only the first class is considered.\n            const newKey = (def[key]).split(' ').shift();\n            association[newKey] = def[value];\n        }\n        else {\n            association[def[key]] = def[value];\n        }\n    }\n    return association;\n}\n/**\n * For a given model text node, it returns white spaces that precede other characters in that node.\n * This corresponds to the indentation part of the code block line.\n */\nexport function getLeadingWhiteSpaces(textNode) {\n    return textNode.data.match(/^(\\s*)/)[0];\n}\n/**\n * For plain text containing the code (a snippet), it returns a document fragment containing\n * view text nodes separated by `<br>` elements (in place of new line characters \"\\n\"), for instance:\n *\n * Input:\n *\n * ```ts\n * \"foo()\\n\n * bar()\"\n * ```\n *\n * Output:\n *\n * ```html\n * <DocumentFragment>\n * \t\"foo()\"\n * \t<br/>\n * \t\"bar()\"\n * </DocumentFragment>\n * ```\n *\n * @param text The raw code text to be converted.\n */\nexport function rawSnippetTextToViewDocumentFragment(writer, text) {\n    const fragment = writer.createDocumentFragment();\n    const textLines = text.split('\\n');\n    const items = textLines.reduce((nodes, line, lineIndex) => {\n        nodes.push(line);\n        if (lineIndex < textLines.length - 1) {\n            nodes.push(writer.createElement('br'));\n        }\n        return nodes;\n    }, []);\n    writer.appendChild(items, fragment);\n    return fragment;\n}\n/**\n * Returns an array of all model positions within the selection that represent code block lines.\n *\n * If the selection is collapsed, it returns the exact selection anchor position:\n *\n * ```html\n * <codeBlock>[]foo</codeBlock>        ->     <codeBlock>^foo</codeBlock>\n * <codeBlock>foo[]bar</codeBlock>     ->     <codeBlock>foo^bar</codeBlock>\n * ```\n *\n * Otherwise, it returns positions **before** each text node belonging to all code blocks contained by the selection:\n *\n * ```html\n * <codeBlock>                                <codeBlock>\n *     foo[bar                                   ^foobar\n *     <softBreak></softBreak>         ->        <softBreak></softBreak>\n *     baz]qux                                   ^bazqux\n * </codeBlock>                               </codeBlock>\n * ```\n *\n * It also works across other non–code blocks:\n *\n * ```html\n * <codeBlock>                                <codeBlock>\n *     foo[bar                                   ^foobar\n * </codeBlock>                               </codeBlock>\n * <paragraph>text</paragraph>         ->     <paragraph>text</paragraph>\n * <codeBlock>                                <codeBlock>\n *     baz]qux                                   ^bazqux\n * </codeBlock>                               </codeBlock>\n * ```\n *\n * **Note:** The positions are in reverse order so they do not get outdated when iterating over them and\n * the writer inserts or removes elements at the same time.\n *\n * **Note:** The position is located after the leading white spaces in the text node.\n */\nexport function getIndentOutdentPositions(model) {\n    const selection = model.document.selection;\n    const positions = [];\n    // When the selection is collapsed, there's only one position we can indent or outdent.\n    if (selection.isCollapsed) {\n        return [selection.anchor];\n    }\n    // When the selection is NOT collapsed, collect all positions starting before text nodes\n    // (code lines) in any <codeBlock> within the selection.\n    // Walk backward so positions we are about to collect here do not get outdated when\n    // inserting or deleting using the writer.\n    const walker = selection.getFirstRange().getWalker({\n        ignoreElementEnd: true,\n        direction: 'backward'\n    });\n    for (const { item } of walker) {\n        let node = item.is('$textProxy') ? item.textNode : item;\n        const parent = node.parent;\n        if (!parent.is('element', 'codeBlock') || node.is('element', 'softBreak')) {\n            continue;\n        }\n        // For each item in code block, move backwards until the beginning of the line it is in is found.\n        while (node.previousSibling && !node.previousSibling.is('element', 'softBreak')) {\n            node = node.previousSibling;\n        }\n        // Take the leading white spaces into account (only for text nodes).\n        const startOffset = !node.is('$text') ? node.startOffset : node.startOffset + getLeadingWhiteSpaces(node).length;\n        const position = model.createPositionAt(parent, startOffset);\n        // Do not add the same position twice. Unfortunately using set doesn't deduplicate positions because\n        // they are different objects.\n        if (positions.every(pos => !pos.isEqual(position))) {\n            positions.push(position);\n        }\n    }\n    return positions;\n}\n/**\n * Checks if any of the blocks within the model selection is a code block.\n */\nexport function isModelSelectionInCodeBlock(selection) {\n    const firstBlock = first(selection.getSelectedBlocks());\n    return !!firstBlock && firstBlock.is('element', 'codeBlock');\n}\n/**\n * Checks if an {@link module:engine/model/element~Element Element} can become a code block.\n *\n * @param schema Model's schema.\n * @param element The element to be checked.\n * @returns Check result.\n */\nexport function canBeCodeBlock(schema, element) {\n    if (element.is('rootElement') || schema.isLimit(element)) {\n        return false;\n    }\n    return schema.checkChild(element.parent, 'codeBlock');\n}\n/**\n * Get the translated message read by the screen reader when you enter or exit an element with your cursor.\n */\nexport function getCodeBlockAriaAnnouncement(t, languageDefs, element, direction) {\n    const languagesToLabels = getPropertyAssociation(languageDefs, 'language', 'label');\n    const codeBlockLanguage = element.getAttribute('language');\n    if (codeBlockLanguage in languagesToLabels) {\n        const language = languagesToLabels[codeBlockLanguage];\n        if (direction === 'enter') {\n            return t('Entering %0 code snippet', language);\n        }\n        return t('Leaving %0 code snippet', language);\n    }\n    if (direction === 'enter') {\n        return t('Entering code snippet');\n    }\n    return t('Leaving code snippet');\n}\n/**\n * For given position, finds the closest position that is at the beginning of a line of code and returns a text node that is at the\n * beginning of the line (or `null` if there's no text node at the beginning of a given line).\n *\n * Line beings at the start of a code block element and after each `softBreak` element.\n *\n * Note: even though code block doesn't allow inline elements other than `<softBreak>` by default, some features may overwrite this rule,\n * so such inline elements are taken into account.\n *\n * Some examples of expected results:\n *\n * ```\n * <codeBlock>^</codeBlock>                                ->   null\n * <codeBlock>^foobar</codeBlock>                          ->   <codeBlock>[foobar]</codeBlock>\n * <codeBlock>foobar^</codeBlock>                          ->   <codeBlock>[foobar]</codeBlock>\n * <codeBlock>foo^bar</codeBlock>                          ->   <codeBlock>[foobar]</codeBlock>\n * <codeBlock>foo^<softBreak />bar</codeBlock>             ->   <codeBlock>[foo]<softBreak />bar</codeBlock>\n * <codeBlock>foo<softBreak />bar^</codeBlock>             ->   <codeBlock>foo<softBreak />[bar]</codeBlock>\n * <codeBlock>foo<softBreak />b^ar</codeBlock>             ->   <codeBlock>foo<softBreak />[bar]</codeBlock>\n * <codeBlock>foo<softBreak />^bar</codeBlock>             ->   <codeBlock>foo<softBreak />[bar]</codeBlock>\n * <codeBlock>^<element /></codeBlock>                     ->   null\n * <codeBlock><element />^</codeBlock>                     ->   null\n * <codeBlock>foo^<element /></codeBlock>                  ->   <codeBlock>[foo]<element /></codeBlock>\n * <codeBlock>foo<element />^</codeBlock>                  ->   <codeBlock>[foo]<element /></codeBlock>\n * <codeBlock>foo<element />bar^</codeBlock>               ->   <codeBlock>[foo]<element />bar</codeBlock>\n * <codeBlock><element />bar^</codeBlock>                  ->   null\n * <codeBlock>foo<softBreak />^<softBreak /></codeBlock>   ->   null\n * <codeBlock>foo<softBreak />^<element /></codeBlock>     ->   null\n * <codeBlock>foo<softBreak /><element />^</codeBlock>     ->   null\n * <codeBlock>foo<softBreak />bar<element />^</codeBlock>  ->   <codeBlock>foo<softBreak />[bar]<element /></codeBlock>\n * <codeBlock>foo<softBreak /><element />ba^r</codeBlock>  ->   null\n * ```\n */\nexport function getTextNodeAtLineStart(position, model) {\n    // First, move position before a text node, if it is inside a text node.\n    if (position.textNode) {\n        position = model.createPositionBefore(position.textNode);\n    }\n    // Then, jump-back the position until it is before a `softBreak` or at the beginning of the `codeBlock`.\n    while (position.nodeBefore && !position.nodeBefore.is('element', 'softBreak')) {\n        position = model.createPositionBefore(position.nodeBefore);\n    }\n    // Now, the position is at the beginning of a line.\n    // Return a text node after the position, if there is one.\n    const nodeAtStart = position.nodeAfter;\n    return nodeAtStart && nodeAtStart.is('$text') ? nodeAtStart : null;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { getNormalizedAndLocalizedLanguageDefinitions, canBeCodeBlock } from './utils.js';\n/**\n * The code block command plugin.\n */\nexport default class CodeBlockCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._lastLanguage = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #value is on}, all topmost code blocks within\n     * the selection will be removed. If it is off, all selected blocks will be flattened and\n     * wrapped by a code block.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.language The code block language.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply a code block,\n     * otherwise the command will remove the code block. If not set, the command will act basing on its current value.\n     * @param options.usePreviousLanguageChoice If set on `true` and the `options.language` is not specified, the command\n     * will apply the previous language (if the command was already executed) when inserting the `codeBlock` element.\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const normalizedLanguagesDefs = getNormalizedAndLocalizedLanguageDefinitions(editor);\n        const firstLanguageInConfig = normalizedLanguagesDefs[0];\n        const blocks = Array.from(selection.getSelectedBlocks());\n        const value = options.forceValue == undefined ? !this.value : options.forceValue;\n        const language = getLanguage(options, this._lastLanguage, firstLanguageInConfig.language);\n        model.change(writer => {\n            if (value) {\n                this._applyCodeBlock(writer, blocks, language);\n            }\n            else {\n                this._removeCodeBlock(writer, blocks);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const selection = this.editor.model.document.selection;\n        const firstBlock = first(selection.getSelectedBlocks());\n        const isCodeBlock = !!(firstBlock && firstBlock.is('element', 'codeBlock'));\n        return isCodeBlock ? firstBlock.getAttribute('language') : false;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        if (this.value) {\n            return true;\n        }\n        const selection = this.editor.model.document.selection;\n        const schema = this.editor.model.schema;\n        const firstBlock = first(selection.getSelectedBlocks());\n        if (!firstBlock) {\n            return false;\n        }\n        return canBeCodeBlock(schema, firstBlock);\n    }\n    _applyCodeBlock(writer, blocks, language) {\n        this._lastLanguage = language;\n        const schema = this.editor.model.schema;\n        const allowedBlocks = blocks.filter(block => canBeCodeBlock(schema, block));\n        for (const block of allowedBlocks) {\n            writer.rename(block, 'codeBlock');\n            writer.setAttribute('language', language, block);\n            schema.removeDisallowedAttributes([block], writer);\n            // Remove children of the  `codeBlock` element that are not allowed. See #9567.\n            Array.from(block.getChildren())\n                .filter(child => !schema.checkChild(block, child))\n                .forEach(child => writer.remove(child));\n        }\n        allowedBlocks.reverse().forEach((currentBlock, i) => {\n            const nextBlock = allowedBlocks[i + 1];\n            if (currentBlock.previousSibling === nextBlock) {\n                writer.appendElement('softBreak', nextBlock);\n                writer.merge(writer.createPositionBefore(currentBlock));\n            }\n        });\n    }\n    _removeCodeBlock(writer, blocks) {\n        const codeBlocks = blocks.filter(block => block.is('element', 'codeBlock'));\n        for (const block of codeBlocks) {\n            const range = writer.createRangeOn(block);\n            for (const item of Array.from(range.getItems()).reverse()) {\n                if (item.is('element', 'softBreak') && item.parent.is('element', 'codeBlock')) {\n                    const { position } = writer.split(writer.createPositionBefore(item));\n                    const elementAfter = position.nodeAfter;\n                    writer.rename(elementAfter, 'paragraph');\n                    writer.removeAttribute('language', elementAfter);\n                    writer.remove(item);\n                }\n            }\n            writer.rename(block, 'paragraph');\n            writer.removeAttribute('language', block);\n        }\n    }\n}\n/**\n * Picks the language for the new code block. If any language is passed as an option,\n * it will be returned. Else, if option usePreviousLanguageChoice is true and some\n * code block was already created (lastLanguage is not null) then previously used\n * language will be returned. If not, it will return default language.\n */\nfunction getLanguage(options, lastLanguage, defaultLanguage) {\n    if (options.language) {\n        return options.language;\n    }\n    if (options.usePreviousLanguageChoice && lastLanguage) {\n        return lastLanguage;\n    }\n    return defaultLanguage;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module code-block/indentcodeblockcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getIndentOutdentPositions, isModelSelectionInCodeBlock } from './utils.js';\n/**\n * The code block indentation increase command plugin.\n */\nexport default class IndentCodeBlockCommand extends Command {\n    constructor(editor) {\n        super(editor);\n        this._indentSequence = editor.config.get('codeBlock.indentSequence');\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #isEnabled is enabled}, the indentation of the\n     * code lines in the selection will be increased.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const model = editor.model;\n        model.change(writer => {\n            const positions = getIndentOutdentPositions(model);\n            // Indent all positions, for instance assuming the indent sequence is 4x space (\"    \"):\n            //\n            //\t\t<codeBlock>^foo</codeBlock>        ->       <codeBlock>    foo</codeBlock>\n            //\n            //\t\t<codeBlock>foo^bar</codeBlock>     ->       <codeBlock>foo    bar</codeBlock>\n            //\n            // Also, when there is more than one position:\n            //\n            //\t\t<codeBlock>\n            //\t\t\t^foobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\t^bazqux\n            //\t\t</codeBlock>\n            //\n            //\t\t->\n            //\n            //\t\t<codeBlock>\n            //\t\t\t    foobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\t    bazqux\n            //\t\t</codeBlock>\n            //\n            for (const position of positions) {\n                const indentSequenceTextElement = writer.createText(this._indentSequence);\n                // Previously insertion was done by writer.insertText(). It was changed to insertContent() to enable\n                // integration of code block with track changes. It's the easiest way of integration because insertContent()\n                // is already integrated with track changes, but if it ever cause any troubles it can be reverted, however\n                // some additional work will be required in track changes integration of code block.\n                model.insertContent(indentSequenceTextElement, position);\n            }\n        });\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     */\n    _checkEnabled() {\n        if (!this._indentSequence) {\n            return false;\n        }\n        // Indent (forward) command is always enabled when there's any code block in the selection\n        // because you can always indent code lines.\n        return isModelSelectionInCodeBlock(this.editor.model.document.selection);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getLeadingWhiteSpaces, getIndentOutdentPositions, isModelSelectionInCodeBlock, getTextNodeAtLineStart } from './utils.js';\n/**\n * The code block indentation decrease command plugin.\n */\nexport default class OutdentCodeBlockCommand extends Command {\n    constructor(editor) {\n        super(editor);\n        this._indentSequence = editor.config.get('codeBlock.indentSequence');\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command. When the command {@link #isEnabled is enabled}, the indentation of the\n     * code lines in the selection will be decreased.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const model = editor.model;\n        model.change(() => {\n            const positions = getIndentOutdentPositions(model);\n            // Outdent all positions, for instance assuming the indent sequence is 4x space (\"    \"):\n            //\n            //\t\t<codeBlock>^foo</codeBlock>         ->       <codeBlock>foo</codeBlock>\n            //\n            //\t\t<codeBlock>    ^bar</codeBlock>     ->       <codeBlock>bar</codeBlock>\n            //\n            // Also, when there is more than one position:\n            //\n            //\t\t<codeBlock>\n            //\t\t\t    ^foobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\t    ^bazqux\n            //\t\t</codeBlock>\n            //\n            //\t\t->\n            //\n            //\t\t<codeBlock>\n            //\t\t\tfoobar\n            //\t\t\t<softBreak></softBreak>\n            //\t\t\tbazqux\n            //\t\t</codeBlock>\n            for (const position of positions) {\n                const range = getLastOutdentableSequenceRange(model, position, this._indentSequence);\n                if (range) {\n                    // Previously deletion was done by writer.remove(). It was changed to deleteContent() to enable\n                    // integration of code block with track changes. It's the easiest way of integration because deleteContent()\n                    // is already integrated with track changes, but if it ever cause any troubles it can be reverted, however\n                    // some additional work will be required in track changes integration of code block.\n                    model.deleteContent(model.createSelection(range));\n                }\n            }\n        });\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @private\n     * @returns {Boolean} Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        if (!this._indentSequence) {\n            return false;\n        }\n        const model = this.editor.model;\n        if (!isModelSelectionInCodeBlock(model.document.selection)) {\n            return false;\n        }\n        // Outdent command can execute only when there is an indent character sequence\n        // in some of the lines.\n        return getIndentOutdentPositions(model).some(position => {\n            return getLastOutdentableSequenceRange(model, position, this._indentSequence);\n        });\n    }\n}\n// For a position coming from `getIndentOutdentPositions()`, it returns the range representing\n// the last occurrence of the indent sequence among the leading whitespaces of the code line the\n// position represents.\n//\n// For instance, assuming the indent sequence is 4x space (\"    \"):\n//\n//\t\t<codeBlock>foo^</codeBlock>                                 ->          null\n//\t\t<codeBlock>foo^<softBreak></softBreak>bar</codeBlock>       ->          null\n//\t\t<codeBlock>  ^foo</codeBlock>                               ->          null\n//\t\t<codeBlock>        ^foo</codeBlock>                         ->          <codeBlock>    [    ]foo</codeBlock>\n//\t\t<codeBlock>    ^foo    bar</codeBlock>                      ->          <codeBlock>[    ]foo    bar</codeBlock>\n//\n// @param {<module:engine/model/model~Model>} model\n// @param {<module:engine/model/position~Position>} position\n// @param {String} sequence\n// @returns {<module:engine/model/range~Range>|null}\nfunction getLastOutdentableSequenceRange(model, position, sequence) {\n    // Positions start before each text node (code line). Get the node corresponding to the position.\n    const nodeAtPosition = getTextNodeAtLineStart(position, model);\n    if (!nodeAtPosition) {\n        return null;\n    }\n    const leadingWhiteSpaces = getLeadingWhiteSpaces(nodeAtPosition);\n    const lastIndexOfSequence = leadingWhiteSpaces.lastIndexOf(sequence);\n    // For instance, assuming the indent sequence is 4x space (\"    \"):\n    //\n    //\t\t<codeBlock>    \t^foo</codeBlock>           ->             null\n    //\n    if (lastIndexOfSequence + sequence.length !== leadingWhiteSpaces.length) {\n        return null;\n    }\n    // For instance, assuming the indent sequence is 4x space (\"    \"):\n    //\n    //\t\t<codeBlock>  ^foo</codeBlock>           ->             null\n    //\n    if (lastIndexOfSequence === -1) {\n        return null;\n    }\n    const { parent, startOffset } = nodeAtPosition;\n    // Create a range that contains the **last** indent sequence among the leading whitespaces\n    // of the line.\n    //\n    // For instance, assuming the indent sequence is 4x space (\"    \"):\n    //\n    //\t\t<codeBlock>        ^foo</codeBlock>      ->     <codeBlock>    [    ]foo</codeBlock>\n    //\n    return model.createRange(model.createPositionAt(parent, startOffset + lastIndexOfSequence), model.createPositionAt(parent, startOffset + lastIndexOfSequence + sequence.length));\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { getPropertyAssociation } from './utils.js';\n/**\n * A model-to-view (both editing and data) converter for the `codeBlock` element.\n *\n * Sample input:\n *\n * ```html\n * <codeBlock language=\"javascript\">foo();<softBreak></softBreak>bar();</codeBlock>\n * ```\n *\n * Sample output (editing):\n *\n * ```html\n * <pre data-language=\"JavaScript\"><code class=\"language-javascript\">foo();<br />bar();</code></pre>\n * ```\n *\n * Sample output (data, see {@link module:code-block/converters~modelToDataViewSoftBreakInsertion}):\n *\n * ```html\n * <pre><code class=\"language-javascript\">foo();\\nbar();</code></pre>\n * ```\n *\n * @param languageDefs The normalized language configuration passed to the feature.\n * @param useLabels When `true`, the `<pre>` element will get a `data-language` attribute with a\n * human–readable label of the language. Used only in the editing.\n * @returns Returns a conversion callback.\n */\nexport function modelToViewCodeBlockInsertion(model, languageDefs, useLabels = false) {\n    // Language CSS classes:\n    //\n    //\t\t{\n    //\t\t\tphp: 'language-php',\n    //\t\t\tpython: 'language-python',\n    //\t\t\tjavascript: 'js',\n    //\t\t\t...\n    //\t\t}\n    const languagesToClasses = getPropertyAssociation(languageDefs, 'language', 'class');\n    // Language labels:\n    //\n    //\t\t{\n    //\t\t\tphp: 'PHP',\n    //\t\t\tpython: 'Python',\n    //\t\t\tjavascript: 'JavaScript',\n    //\t\t\t...\n    //\t\t}\n    const languagesToLabels = getPropertyAssociation(languageDefs, 'language', 'label');\n    return (evt, data, conversionApi) => {\n        const { writer, mapper, consumable } = conversionApi;\n        if (!consumable.consume(data.item, 'insert')) {\n            return;\n        }\n        const codeBlockLanguage = data.item.getAttribute('language');\n        const targetViewPosition = mapper.toViewPosition(model.createPositionBefore(data.item));\n        const preAttributes = {};\n        // Attributes added only in the editing view.\n        if (useLabels) {\n            preAttributes['data-language'] = languagesToLabels[codeBlockLanguage];\n            preAttributes.spellcheck = 'false';\n        }\n        const codeAttributes = languagesToClasses[codeBlockLanguage] ? {\n            class: languagesToClasses[codeBlockLanguage]\n        } : undefined;\n        const code = writer.createContainerElement('code', codeAttributes);\n        const pre = writer.createContainerElement('pre', preAttributes, code);\n        writer.insert(targetViewPosition, pre);\n        mapper.bindElements(data.item, code);\n    };\n}\n/**\n * A model-to-data view converter for the new line (`softBreak`) separator.\n *\n * Sample input:\n *\n * ```html\n * <codeBlock ...>foo();<softBreak></softBreak>bar();</codeBlock>\n * ```\n *\n * Sample output:\n *\n * ```html\n * <pre><code ...>foo();\\nbar();</code></pre>\n * ```\n *\n * @returns Returns a conversion callback.\n */\nexport function modelToDataViewSoftBreakInsertion(model) {\n    return (evt, data, conversionApi) => {\n        if (data.item.parent.name !== 'codeBlock') {\n            return;\n        }\n        const { writer, mapper, consumable } = conversionApi;\n        if (!consumable.consume(data.item, 'insert')) {\n            return;\n        }\n        const position = mapper.toViewPosition(model.createPositionBefore(data.item));\n        writer.insert(position, writer.createText('\\n'));\n    };\n}\n/**\n * A view-to-model converter for `<pre>` with the `<code>` HTML.\n *\n * Sample input:\n *\n * ```html\n * <pre><code class=\"language-javascript\">foo();bar();</code></pre>\n * ```\n *\n * Sample output:\n *\n * ```html\n * <codeBlock language=\"javascript\">foo();bar();</codeBlock>\n * ```\n *\n * @param languageDefs The normalized language configuration passed to the feature.\n * @returns Returns a conversion callback.\n */\nexport function dataViewToModelCodeBlockInsertion(editingView, languageDefs) {\n    // Language names associated with CSS classes:\n    //\n    //\t\t{\n    //\t\t\t'language-php': 'php',\n    //\t\t\t'language-python': 'python',\n    //\t\t\tjs: 'javascript',\n    //\t\t\t...\n    //\t\t}\n    const classesToLanguages = getPropertyAssociation(languageDefs, 'class', 'language');\n    const defaultLanguageName = languageDefs[0].language;\n    return (evt, data, conversionApi) => {\n        const viewCodeElement = data.viewItem;\n        const viewPreElement = viewCodeElement.parent;\n        if (!viewPreElement || !viewPreElement.is('element', 'pre')) {\n            return;\n        }\n        // In case of nested code blocks we don't want to convert to another code block.\n        if (data.modelCursor.findAncestor('codeBlock')) {\n            return;\n        }\n        const { consumable, writer } = conversionApi;\n        if (!consumable.test(viewCodeElement, { name: true })) {\n            return;\n        }\n        const codeBlock = writer.createElement('codeBlock');\n        const viewChildClasses = [...viewCodeElement.getClassNames()];\n        // As we're to associate each class with a model language, a lack of class (empty class) can be\n        // also associated with a language if the language definition was configured so. Pushing an empty\n        // string to make sure the association will work.\n        if (!viewChildClasses.length) {\n            viewChildClasses.push('');\n        }\n        // Figure out if any of the <code> element's class names is a valid programming\n        // language class. If so, use it on the model element (becomes the language of the entire block).\n        for (const className of viewChildClasses) {\n            const language = classesToLanguages[className];\n            if (language) {\n                writer.setAttribute('language', language, codeBlock);\n                break;\n            }\n        }\n        // If no language value was set, use the default language from the config.\n        if (!codeBlock.hasAttribute('language')) {\n            writer.setAttribute('language', defaultLanguageName, codeBlock);\n        }\n        // Convert children before inserting the code block element\n        // to make sure that code block won't be splitted by any block.\n        conversionApi.convertChildren(viewCodeElement, codeBlock);\n        // Let's try to insert code block.\n        if (!conversionApi.safeInsert(codeBlock, data.modelCursor)) {\n            return;\n        }\n        consumable.consume(viewCodeElement, { name: true });\n        conversionApi.updateConversionResult(codeBlock, data);\n    };\n}\n/**\n * A view-to-model converter for new line characters in `<pre>`.\n *\n * Sample input:\n *\n * ```html\n * <pre><code class=\"language-javascript\">foo();\\nbar();</code></pre>\n * ```\n *\n * Sample output:\n *\n * ```html\n * <codeBlock language=\"javascript\">foo();<softBreak></softBreak>bar();</codeBlock>\n * ```\n *\n * @returns {Function} Returns a conversion callback.\n */\nexport function dataViewToModelTextNewlinesInsertion() {\n    return (evt, data, { consumable, writer }) => {\n        let position = data.modelCursor;\n        // When node is already converted then do nothing.\n        if (!consumable.test(data.viewItem)) {\n            return;\n        }\n        // When not inside `codeBlock` then do nothing.\n        if (!position.findAncestor('codeBlock')) {\n            return;\n        }\n        consumable.consume(data.viewItem);\n        const text = data.viewItem.data;\n        const textLines = text.split('\\n').map(data => writer.createText(data));\n        const lastLine = textLines[textLines.length - 1];\n        for (const node of textLines) {\n            writer.insert(node, position);\n            position = position.getShiftedBy(node.offsetSize);\n            if (node !== lastLine) {\n                const softBreak = writer.createElement('softBreak');\n                writer.insert(softBreak, position);\n                position = writer.createPositionAfter(softBreak);\n            }\n        }\n        data.modelRange = writer.createRange(data.modelCursor, position);\n        data.modelCursor = position;\n    };\n}\n/**\n * A view-to-model converter that handles orphan text nodes (white spaces, new lines, etc.)\n * that surround `<code>` inside `<pre>`.\n *\n * Sample input:\n *\n * ```html\n * // White spaces\n * <pre> <code>foo()</code> </pre>\n *\n * // White spaces\n * <pre>      <code>foo()</code>      </pre>\n *\n * // White spaces\n * <pre>\t\t\t<code>foo()</code>\t\t\t</pre>\n *\n * // New lines\n * <pre>\n * \t<code>foo()</code>\n * </pre>\n *\n * // Redundant text\n * <pre>ABC<code>foo()</code>DEF</pre>\n * ```\n *\n * Unified output for each case:\n *\n * ```html\n * <codeBlock language=\"plaintext\">foo()</codeBlock>\n * ```\n *\n * @returns Returns a conversion callback.\n */\nexport function dataViewToModelOrphanNodeConsumer() {\n    return (evt, data, { consumable }) => {\n        const preElement = data.viewItem;\n        // Don't clean up nested pre elements. Their content should stay as it is, they are not upcasted\n        // to code blocks.\n        if (preElement.findAncestor('pre')) {\n            return;\n        }\n        const preChildren = Array.from(preElement.getChildren());\n        const childCodeElement = preChildren.find(node => node.is('element', 'code'));\n        // <code>-less <pre>. It will not upcast to code block in the model, skipping.\n        if (!childCodeElement) {\n            return;\n        }\n        for (const child of preChildren) {\n            if (child === childCodeElement || !child.is('$text')) {\n                continue;\n            }\n            // Consuming the orphan to remove it from the input data.\n            // Second argument in `consumable.consume` is discarded for text nodes.\n            consumable.consume(child, { name: true });\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module code-block/codeblockediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ShiftEnter } from 'ckeditor5/src/enter.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport CodeBlockCommand from './codeblockcommand.js';\nimport IndentCodeBlockCommand from './indentcodeblockcommand.js';\nimport OutdentCodeBlockCommand from './outdentcodeblockcommand.js';\nimport { getNormalizedAndLocalizedLanguageDefinitions, getLeadingWhiteSpaces, rawSnippetTextToViewDocumentFragment, getCodeBlockAriaAnnouncement, getTextNodeAtLineStart } from './utils.js';\nimport { modelToViewCodeBlockInsertion, modelToDataViewSoftBreakInsertion, dataViewToModelCodeBlockInsertion, dataViewToModelTextNewlinesInsertion, dataViewToModelOrphanNodeConsumer } from './converters.js';\nconst DEFAULT_ELEMENT = 'paragraph';\n/**\n * The editing part of the code block feature.\n *\n * Introduces the `'codeBlock'` command and the `'codeBlock'` model element.\n */\nexport default class CodeBlockEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlockEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ShiftEnter];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('codeBlock', {\n            languages: [\n                { language: 'plaintext', label: 'Plain text' },\n                { language: 'c', label: 'C' },\n                { language: 'cs', label: 'C#' },\n                { language: 'cpp', label: 'C++' },\n                { language: 'css', label: 'CSS' },\n                { language: 'diff', label: 'Diff' },\n                { language: 'html', label: 'HTML' },\n                { language: 'java', label: 'Java' },\n                { language: 'javascript', label: 'JavaScript' },\n                { language: 'php', label: 'PHP' },\n                { language: 'python', label: 'Python' },\n                { language: 'ruby', label: 'Ruby' },\n                { language: 'typescript', label: 'TypeScript' },\n                { language: 'xml', label: 'XML' }\n            ],\n            // A single tab.\n            indentSequence: '\\t'\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const model = editor.model;\n        const view = editor.editing.view;\n        const normalizedLanguagesDefs = getNormalizedAndLocalizedLanguageDefinitions(editor);\n        // The main command.\n        editor.commands.add('codeBlock', new CodeBlockCommand(editor));\n        // Commands that change the indentation.\n        editor.commands.add('indentCodeBlock', new IndentCodeBlockCommand(editor));\n        editor.commands.add('outdentCodeBlock', new OutdentCodeBlockCommand(editor));\n        this.listenTo(view.document, 'tab', (evt, data) => {\n            const commandName = data.shiftKey ? 'outdentCodeBlock' : 'indentCodeBlock';\n            const command = editor.commands.get(commandName);\n            if (!command.isEnabled) {\n                return;\n            }\n            editor.execute(commandName);\n            data.stopPropagation();\n            data.preventDefault();\n            evt.stop();\n        }, { context: 'pre' });\n        schema.register('codeBlock', {\n            allowWhere: '$block',\n            allowChildren: '$text',\n            // Disallow `$inlineObject` and its derivatives like `inlineWidget` inside `codeBlock` to ensure that only text,\n            // not other inline elements like inline images, are allowed. This maintains the semantic integrity of code blocks.\n            disallowChildren: '$inlineObject',\n            allowAttributes: ['language'],\n            allowAttributesOf: '$listItem',\n            isBlock: true\n        });\n        // Disallow formatting attributes on `codeBlock` children.\n        schema.addAttributeCheck((context, attributeName) => {\n            const parent = context.getItem(context.length - 2);\n            const isFormatting = schema.getAttributeProperties(attributeName).isFormatting;\n            if (isFormatting && parent && parent.name == 'codeBlock') {\n                return false;\n            }\n        });\n        // Conversion.\n        editor.editing.downcastDispatcher.on('insert:codeBlock', modelToViewCodeBlockInsertion(model, normalizedLanguagesDefs, true));\n        editor.data.downcastDispatcher.on('insert:codeBlock', modelToViewCodeBlockInsertion(model, normalizedLanguagesDefs));\n        editor.data.downcastDispatcher.on('insert:softBreak', modelToDataViewSoftBreakInsertion(model), { priority: 'high' });\n        editor.data.upcastDispatcher.on('element:code', dataViewToModelCodeBlockInsertion(view, normalizedLanguagesDefs));\n        editor.data.upcastDispatcher.on('text', dataViewToModelTextNewlinesInsertion());\n        editor.data.upcastDispatcher.on('element:pre', dataViewToModelOrphanNodeConsumer(), { priority: 'high' });\n        // Intercept the clipboard input (paste) when the selection is anchored in the code block and force the clipboard\n        // data to be pasted as a single plain text. Otherwise, the code lines will split the code block and\n        // \"spill out\" as separate paragraphs.\n        this.listenTo(editor.editing.view.document, 'clipboardInput', (evt, data) => {\n            let insertionRange = model.createRange(model.document.selection.anchor);\n            // Use target ranges in case this is a drop.\n            if (data.targetRanges) {\n                insertionRange = editor.editing.mapper.toModelRange(data.targetRanges[0]);\n            }\n            if (!insertionRange.start.parent.is('element', 'codeBlock')) {\n                return;\n            }\n            const text = data.dataTransfer.getData('text/plain');\n            const writer = new UpcastWriter(editor.editing.view.document);\n            // Pass the view fragment to the default clipboardInput handler.\n            data.content = rawSnippetTextToViewDocumentFragment(writer, text);\n        });\n        if (editor.plugins.has('ClipboardPipeline')) {\n            // Elements may have a plain textual representation (hence be present in the 'text/plain' data transfer),\n            // but not be allowed in the code block.\n            // Filter them out before inserting the content to the model.\n            editor.plugins.get(ClipboardPipeline).on('contentInsertion', (evt, data) => {\n                const model = editor.model;\n                const selection = model.document.selection;\n                if (!selection.anchor.parent.is('element', 'codeBlock')) {\n                    return;\n                }\n                model.change(writer => {\n                    const contentRange = writer.createRangeIn(data.content);\n                    for (const item of [...contentRange.getItems()]) {\n                        // Remove all nodes disallowed in the code block.\n                        if (item.is('node') && !schema.checkChild(selection.anchor, item)) {\n                            writer.remove(item);\n                        }\n                    }\n                });\n            });\n        }\n        // Make sure multi–line selection is always wrapped in a code block when `getSelectedContent()`\n        // is used (e.g. clipboard copy). Otherwise, only the raw text will be copied to the clipboard and,\n        // upon next paste, this bare text will not be inserted as a code block, which is not the best UX.\n        // Similarly, when the selection in a single line, the selected content should be an inline code\n        // so it can be pasted later on and retain it's preformatted nature.\n        this.listenTo(model, 'getSelectedContent', (evt, [selection]) => {\n            const anchor = selection.anchor;\n            if (selection.isCollapsed || !anchor.parent.is('element', 'codeBlock') || !anchor.hasSameParentAs(selection.focus)) {\n                return;\n            }\n            model.change(writer => {\n                const docFragment = evt.return;\n                // fo[o<softBreak></softBreak>b]ar  ->   <codeBlock language=\"...\">[o<softBreak></softBreak>b]<codeBlock>\n                if (anchor.parent.is('element') &&\n                    (docFragment.childCount > 1 || selection.containsEntireContent(anchor.parent))) {\n                    const codeBlock = writer.createElement('codeBlock', anchor.parent.getAttributes());\n                    writer.append(docFragment, codeBlock);\n                    const newDocumentFragment = writer.createDocumentFragment();\n                    writer.append(codeBlock, newDocumentFragment);\n                    evt.return = newDocumentFragment;\n                    return;\n                }\n                // \"f[oo]\"                          ->   <$text code=\"true\">oo</text>\n                const textNode = docFragment.getChild(0);\n                if (schema.checkAttribute(textNode, 'code')) {\n                    writer.setAttribute('code', true, textNode);\n                }\n            });\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const commands = editor.commands;\n        const indent = commands.get('indent');\n        const outdent = commands.get('outdent');\n        if (indent) {\n            // Priority is highest due to integration with `IndentList` command of `List` plugin.\n            // If selection is in a code block we give priority to it. This way list item cannot be indented\n            // but if we would give priority to indenting list item then user would have to indent list item\n            // as much as possible and only then he could indent code block.\n            indent.registerChildCommand(commands.get('indentCodeBlock'), { priority: 'highest' });\n        }\n        if (outdent) {\n            outdent.registerChildCommand(commands.get('outdentCodeBlock'));\n        }\n        // Customize the response to the <kbd>Enter</kbd> and <kbd>Shift</kbd>+<kbd>Enter</kbd>\n        // key press when the selection is in the code block. Upon enter key press we can either\n        // leave the block if it's \"two or three enters\" in a row or create a new code block line, preserving\n        // previous line's indentation.\n        this.listenTo(editor.editing.view.document, 'enter', (evt, data) => {\n            const positionParent = editor.model.document.selection.getLastPosition().parent;\n            if (!positionParent.is('element', 'codeBlock')) {\n                return;\n            }\n            if (!leaveBlockStartOnEnter(editor, data.isSoft) && !leaveBlockEndOnEnter(editor, data.isSoft)) {\n                breakLineOnEnter(editor);\n            }\n            data.preventDefault();\n            evt.stop();\n        }, { context: 'pre' });\n        this._initAriaAnnouncements();\n    }\n    /**\n     * Observe when user enters or leaves code block and set proper aria value in global live announcer.\n     * This allows screen readers to indicate when the user has entered and left the specified code block.\n     *\n     * @internal\n     */\n    _initAriaAnnouncements() {\n        const { model, ui, t } = this.editor;\n        const languageDefs = getNormalizedAndLocalizedLanguageDefinitions(this.editor);\n        let lastFocusedCodeBlock = null;\n        model.document.selection.on('change:range', () => {\n            const focusParent = model.document.selection.focus.parent;\n            if (!ui || lastFocusedCodeBlock === focusParent || !focusParent.is('element')) {\n                return;\n            }\n            if (lastFocusedCodeBlock && lastFocusedCodeBlock.is('element', 'codeBlock')) {\n                ui.ariaLiveAnnouncer.announce(getCodeBlockAriaAnnouncement(t, languageDefs, lastFocusedCodeBlock, 'leave'));\n            }\n            if (focusParent.is('element', 'codeBlock')) {\n                ui.ariaLiveAnnouncer.announce(getCodeBlockAriaAnnouncement(t, languageDefs, focusParent, 'enter'));\n            }\n            lastFocusedCodeBlock = focusParent;\n        });\n    }\n}\n/**\n * Normally, when the Enter (or Shift+Enter) key is pressed, a soft line break is to be added to the\n * code block. Let's try to follow the indentation of the previous line when possible, for instance:\n *\n * ```html\n * // Before pressing enter (or shift enter)\n * <codeBlock>\n * \"    foo()\"[]                   // Indent of 4 spaces.\n * </codeBlock>\n *\n * // After pressing:\n * <codeBlock>\n * \"    foo()\"                 // Indent of 4 spaces.\n * <softBreak></softBreak>     // A new soft break created by pressing enter.\n * \"    \"[]                    // Retain the indent of 4 spaces.\n * </codeBlock>\n * ```\n */\nfunction breakLineOnEnter(editor) {\n    const model = editor.model;\n    const modelDoc = model.document;\n    // Use last position as other mechanisms (e.g. condition deciding whether this function should be called) also check that.\n    const lastSelectionPosition = modelDoc.selection.getLastPosition();\n    let leadingWhiteSpaces;\n    const node = getTextNodeAtLineStart(lastSelectionPosition, model);\n    // Figure out the indentation (white space chars) at the beginning of the line.\n    if (node && node.is('$text')) {\n        leadingWhiteSpaces = getLeadingWhiteSpaces(node);\n    }\n    // Keeping everything in a change block for a single undo step.\n    editor.model.change(writer => {\n        editor.execute('shiftEnter');\n        // If the line before being broken in two had some indentation, let's retain it\n        // in the new line.\n        if (leadingWhiteSpaces) {\n            writer.insertText(leadingWhiteSpaces, modelDoc.selection.anchor);\n        }\n    });\n}\n/**\n * Leave the code block when Enter (but NOT Shift+Enter) has been pressed twice at the beginning\n * of the code block:\n *\n * ```html\n * // Before:\n * <codeBlock>[]<softBreak></softBreak>foo</codeBlock>\n *\n * // After pressing:\n * <paragraph>[]</paragraph><codeBlock>foo</codeBlock>\n * ```\n *\n * @param isSoftEnter When `true`, enter was pressed along with <kbd>Shift</kbd>.\n * @returns `true` when selection left the block. `false` if stayed.\n */\nfunction leaveBlockStartOnEnter(editor, isSoftEnter) {\n    const model = editor.model;\n    const modelDoc = model.document;\n    const view = editor.editing.view;\n    const lastSelectionPosition = modelDoc.selection.getLastPosition();\n    const nodeAfter = lastSelectionPosition.nodeAfter;\n    if (isSoftEnter || !modelDoc.selection.isCollapsed || !lastSelectionPosition.isAtStart) {\n        return false;\n    }\n    if (!isSoftBreakNode(nodeAfter)) {\n        return false;\n    }\n    // We're doing everything in a single change block to have a single undo step.\n    editor.model.change(writer => {\n        // \"Clone\" the <codeBlock> in the standard way.\n        editor.execute('enter');\n        // The cloned block exists now before the original code block.\n        const newBlock = modelDoc.selection.anchor.parent.previousSibling;\n        // Make the cloned <codeBlock> a regular <paragraph> (with clean attributes, so no language).\n        writer.rename(newBlock, DEFAULT_ELEMENT);\n        writer.setSelection(newBlock, 'in');\n        editor.model.schema.removeDisallowedAttributes([newBlock], writer);\n        // Remove the <softBreak> that originally followed the selection position.\n        writer.remove(nodeAfter);\n    });\n    // Eye candy.\n    view.scrollToTheSelection();\n    return true;\n}\n/**\n * Leave the code block when Enter (but NOT Shift+Enter) has been pressed twice at the end\n * of the code block:\n *\n * ```html\n * // Before:\n * <codeBlock>foo[]</codeBlock>\n *\n * // After first press:\n * <codeBlock>foo<softBreak></softBreak>[]</codeBlock>\n *\n * // After second press:\n * <codeBlock>foo</codeBlock><paragraph>[]</paragraph>\n * ```\n *\n * @param isSoftEnter When `true`, enter was pressed along with <kbd>Shift</kbd>.\n * @returns `true` when selection left the block. `false` if stayed.\n */\nfunction leaveBlockEndOnEnter(editor, isSoftEnter) {\n    const model = editor.model;\n    const modelDoc = model.document;\n    const view = editor.editing.view;\n    const lastSelectionPosition = modelDoc.selection.getLastPosition();\n    const nodeBefore = lastSelectionPosition.nodeBefore;\n    let emptyLineRangeToRemoveOnEnter;\n    if (isSoftEnter || !modelDoc.selection.isCollapsed || !lastSelectionPosition.isAtEnd || !nodeBefore || !nodeBefore.previousSibling) {\n        return false;\n    }\n    // When the position is directly preceded by two soft breaks\n    //\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak>[]</codeBlock>\n    //\n    // it creates the following range that will be cleaned up before leaving:\n    //\n    //\t\t<codeBlock>foo[<softBreak></softBreak><softBreak></softBreak>]</codeBlock>\n    //\n    if (isSoftBreakNode(nodeBefore) && isSoftBreakNode(nodeBefore.previousSibling)) {\n        emptyLineRangeToRemoveOnEnter = model.createRange(model.createPositionBefore(nodeBefore.previousSibling), model.createPositionAfter(nodeBefore));\n    }\n    // When there's some text before the position that is\n    // preceded by two soft breaks and made purely of white–space characters\n    //\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak>    []</codeBlock>\n    //\n    // it creates the following range to clean up before leaving:\n    //\n    //\t\t<codeBlock>foo[<softBreak></softBreak><softBreak></softBreak>    ]</codeBlock>\n    //\n    else if (isEmptyishTextNode(nodeBefore) &&\n        isSoftBreakNode(nodeBefore.previousSibling) &&\n        isSoftBreakNode(nodeBefore.previousSibling.previousSibling)) {\n        emptyLineRangeToRemoveOnEnter = model.createRange(model.createPositionBefore(nodeBefore.previousSibling.previousSibling), model.createPositionAfter(nodeBefore));\n    }\n    // When there's some text before the position that is made purely of white–space characters\n    // and is preceded by some other text made purely of white–space characters\n    //\n    //\t\t<codeBlock>foo<softBreak></softBreak>    <softBreak></softBreak>    []</codeBlock>\n    //\n    // it creates the following range to clean up before leaving:\n    //\n    //\t\t<codeBlock>foo[<softBreak></softBreak>    <softBreak></softBreak>    ]</codeBlock>\n    //\n    else if (isEmptyishTextNode(nodeBefore) &&\n        isSoftBreakNode(nodeBefore.previousSibling) &&\n        isEmptyishTextNode(nodeBefore.previousSibling.previousSibling) &&\n        nodeBefore.previousSibling.previousSibling &&\n        isSoftBreakNode(nodeBefore.previousSibling.previousSibling.previousSibling)) {\n        emptyLineRangeToRemoveOnEnter = model.createRange(model.createPositionBefore(nodeBefore.previousSibling.previousSibling.previousSibling), model.createPositionAfter(nodeBefore));\n    }\n    // Not leaving the block in the following cases:\n    //\n    //\t\t<codeBlock>    []</codeBlock>\n    //\t\t<codeBlock>  a []</codeBlock>\n    //\t\t<codeBlock>foo<softBreak></softBreak>[]</codeBlock>\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak>bar[]</codeBlock>\n    //\t\t<codeBlock>foo<softBreak></softBreak><softBreak></softBreak> a []</codeBlock>\n    //\n    else {\n        return false;\n    }\n    // We're doing everything in a single change block to have a single undo step.\n    editor.model.change(writer => {\n        // Remove the last <softBreak>s and all white space characters that followed them.\n        writer.remove(emptyLineRangeToRemoveOnEnter);\n        // \"Clone\" the <codeBlock> in the standard way.\n        editor.execute('enter');\n        const newBlock = modelDoc.selection.anchor.parent;\n        // Make the cloned <codeBlock> a regular <paragraph> (with clean attributes, so no language).\n        writer.rename(newBlock, DEFAULT_ELEMENT);\n        editor.model.schema.removeDisallowedAttributes([newBlock], writer);\n    });\n    // Eye candy.\n    view.scrollToTheSelection();\n    return true;\n}\nfunction isEmptyishTextNode(node) {\n    return node && node.is('$text') && !node.data.match(/\\S/);\n}\nfunction isSoftBreakNode(node) {\n    return node && node.is('element', 'softBreak');\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./codeblock.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module code-block/codeblockui\n */\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { ViewModel, SplitButtonView, createDropdown, addListToDropdown, MenuBarMenuListItemButtonView, MenuBarMenuListView, MenuBarMenuView, MenuBarMenuListItemView } from 'ckeditor5/src/ui.js';\nimport { getNormalizedAndLocalizedLanguageDefinitions } from './utils.js';\nimport '../theme/codeblock.css';\n/**\n * The code block UI plugin.\n *\n * Introduces the `'codeBlock'` dropdown.\n */\nexport default class CodeBlockUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlockUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const componentFactory = editor.ui.componentFactory;\n        const normalizedLanguageDefs = getNormalizedAndLocalizedLanguageDefinitions(editor);\n        const itemDefinitions = this._getLanguageListItemDefinitions(normalizedLanguageDefs);\n        const command = editor.commands.get('codeBlock');\n        componentFactory.add('codeBlock', locale => {\n            const dropdownView = createDropdown(locale, SplitButtonView);\n            const splitButtonView = dropdownView.buttonView;\n            const accessibleLabel = t('Insert code block');\n            splitButtonView.set({\n                label: accessibleLabel,\n                tooltip: true,\n                icon: icons.codeBlock,\n                isToggleable: true\n            });\n            splitButtonView.bind('isOn').to(command, 'value', value => !!value);\n            splitButtonView.on('execute', () => {\n                editor.execute('codeBlock', {\n                    usePreviousLanguageChoice: true\n                });\n                editor.editing.view.focus();\n            });\n            dropdownView.on('execute', evt => {\n                editor.execute('codeBlock', {\n                    language: evt.source._codeBlockLanguage,\n                    forceValue: true\n                });\n                editor.editing.view.focus();\n            });\n            dropdownView.class = 'ck-code-block-dropdown';\n            dropdownView.bind('isEnabled').to(command);\n            addListToDropdown(dropdownView, itemDefinitions, {\n                role: 'menu',\n                ariaLabel: accessibleLabel\n            });\n            return dropdownView;\n        });\n        componentFactory.add('menuBar:codeBlock', locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                role: 'menuitem',\n                label: t('Code block'),\n                icon: icons.codeBlock\n            });\n            menuView.bind('isEnabled').to(command);\n            const listView = new MenuBarMenuListView(locale);\n            listView.set({\n                ariaLabel: t('Insert code block')\n            });\n            for (const definition of itemDefinitions) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.set({\n                    isToggleable: true,\n                    role: 'menuitemcheckbox'\n                });\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    editor.execute('codeBlock', {\n                        language: definition.model._codeBlockLanguage,\n                        forceValue: command.value == definition.model._codeBlockLanguage ? false : true\n                    });\n                    editor.editing.view.focus();\n                });\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n    /**\n     * A helper returning a collection of the `codeBlock` dropdown items representing languages\n     * available for the user to choose from.\n     */\n    _getLanguageListItemDefinitions(normalizedLanguageDefs) {\n        const editor = this.editor;\n        const command = editor.commands.get('codeBlock');\n        const itemDefinitions = new Collection();\n        for (const languageDef of normalizedLanguageDefs) {\n            const definition = {\n                type: 'button',\n                model: new ViewModel({\n                    _codeBlockLanguage: languageDef.language,\n                    label: languageDef.label,\n                    role: 'menuitemradio',\n                    withText: true\n                })\n            };\n            definition.model.bind('isOn').to(command, 'value', value => {\n                return value === definition.model._codeBlockLanguage;\n            });\n            itemDefinitions.add(definition);\n        }\n        return itemDefinitions;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module code-block/codeblock\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport CodeBlockEditing from './codeblockediting.js';\nimport CodeBlockUI from './codeblockui.js';\n/**\n * The code block plugin.\n *\n * For more information about this feature check the {@glink api/code-block package page} and the\n * {@glink features/code-blocks code block} feature guide.\n *\n * This is a \"glue\" plugin that loads the {@link module:code-block/codeblockediting~CodeBlockEditing code block editing feature}\n * and the {@link module:code-block/codeblockui~CodeBlockUI code block UI feature}.\n */\nexport default class CodeBlock extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [CodeBlockEditing, CodeBlockUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlock';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module essentials/essentials\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Clipboard } from 'ckeditor5/src/clipboard.js';\nimport { Enter, ShiftEnter } from 'ckeditor5/src/enter.js';\nimport { SelectAll } from 'ckeditor5/src/select-all.js';\nimport { Typing } from 'ckeditor5/src/typing.js';\nimport { Undo } from 'ckeditor5/src/undo.js';\nimport { AccessibilityHelp } from 'ckeditor5/src/ui.js';\n/**\n * A plugin including all essential editing features. It represents a set of features that enables similar functionalities\n * to a `<textarea>` element.\n *\n * It includes:\n *\n * * {@link module:ui/editorui/accessibilityhelp/accessibilityhelp~AccessibilityHelp},\n * * {@link module:clipboard/clipboard~Clipboard},\n * * {@link module:enter/enter~Enter},\n * * {@link module:select-all/selectall~SelectAll},\n * * {@link module:enter/shiftenter~ShiftEnter},\n * * {@link module:typing/typing~Typing},\n * * {@link module:undo/undo~Undo}.\n *\n * This plugin set does not define any block-level containers (such as {@link module:paragraph/paragraph~Paragraph}).\n * If your editor is supposed to handle block content, make sure to include it.\n */\nexport default class Essentials extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [AccessibilityHelp, Clipboard, Enter, SelectAll, ShiftEnter, Typing, Undo];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Essentials';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./findandreplaceform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/ui/findandreplaceformview\n */\nimport { View, ButtonView, LabeledFieldView, FocusCycler, createLabeledInputText, submitHandler, ViewCollection, SwitchButtonView, CollapsibleView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler, Rect, isVisible } from 'ckeditor5/src/utils.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\nimport '../../theme/findandreplaceform.css';\nimport { icons } from 'ckeditor5/src/core.js';\n/**\n * The find and replace form view class.\n *\n * See {@link module:find-and-replace/ui/findandreplaceformview~FindAndReplaceFormView}.\n */\nexport default class FindAndReplaceFormView extends View {\n    /**\n     * Creates a view of find and replace form.\n     *\n     * @param locale The localization services instance.\n     */\n    constructor(locale) {\n        super(locale);\n        const t = locale.t;\n        this.children = this.createCollection();\n        this.set('matchCount', 0);\n        this.set('highlightOffset', 0);\n        this.set('isDirty', false);\n        this.set('_areCommandsEnabled', {});\n        this.set('_resultsCounterText', '');\n        this.set('_matchCase', false);\n        this.set('_wholeWordsOnly', false);\n        this.bind('_searchResultsFound').to(this, 'matchCount', this, 'isDirty', (matchCount, isDirty) => {\n            return matchCount > 0 && !isDirty;\n        });\n        this._findInputView = this._createInputField(t('Find in text…'));\n        this._findPrevButtonView = this._createButton({\n            label: t('Previous result'),\n            class: 'ck-button-prev',\n            icon: icons.previousArrow,\n            keystroke: 'Shift+F3',\n            tooltip: true\n        });\n        this._findNextButtonView = this._createButton({\n            label: t('Next result'),\n            class: 'ck-button-next',\n            icon: icons.previousArrow,\n            keystroke: 'F3',\n            tooltip: true\n        });\n        this._replaceInputView = this._createInputField(t('Replace with…'), 'ck-labeled-field-replace');\n        this._inputsDivView = this._createInputsDiv();\n        this._matchCaseSwitchView = this._createMatchCaseSwitch();\n        this._wholeWordsOnlySwitchView = this._createWholeWordsOnlySwitch();\n        this._advancedOptionsCollapsibleView = this._createAdvancedOptionsCollapsible();\n        this._replaceAllButtonView = this._createButton({\n            label: t('Replace all'),\n            class: 'ck-button-replaceall',\n            withText: true\n        });\n        this._replaceButtonView = this._createButton({\n            label: t('Replace'),\n            class: 'ck-button-replace',\n            withText: true\n        });\n        this._findButtonView = this._createButton({\n            label: t('Find'),\n            class: 'ck-button-find ck-button-action',\n            withText: true\n        });\n        this._actionButtonsDivView = this._createActionButtonsDiv();\n        this._focusTracker = new FocusTracker();\n        this._keystrokes = new KeystrokeHandler();\n        this._focusables = new ViewCollection();\n        this.focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this._focusTracker,\n            keystrokeHandler: this._keystrokes,\n            actions: {\n                // Navigate form fields backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the <kbd>Tab</kbd> key.\n                focusNext: 'tab'\n            }\n        });\n        this.children.addMany([\n            this._inputsDivView,\n            this._advancedOptionsCollapsibleView,\n            this._actionButtonsDivView\n        ]);\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-find-and-replace-form'\n                ],\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({ view: this });\n        this._initFocusCycling();\n        this._initKeystrokeHandling();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this._focusTracker.destroy();\n        this._keystrokes.destroy();\n    }\n    /**\n     * @inheritDoc\n     */\n    focus(direction) {\n        if (direction === -1) {\n            this.focusCycler.focusLast();\n        }\n        else {\n            this.focusCycler.focusFirst();\n        }\n    }\n    /**\n     * Resets the form before re-appearing.\n     *\n     * It clears error messages, hides the match counter and disables the replace feature\n     * until the next hit of the \"Find\" button.\n     *\n     * **Note**: It does not reset inputs and options, though. This way the form works better in editors with\n     * disappearing toolbar (e.g. BalloonEditor): hiding the toolbar by accident (together with the find and replace UI)\n     * does not require filling the entire form again.\n     */\n    reset() {\n        this._findInputView.errorText = null;\n        this.isDirty = true;\n    }\n    /**\n     * Returns the value of the find input.\n     */\n    get _textToFind() {\n        return this._findInputView.fieldView.element.value;\n    }\n    /**\n     * Returns the value of the replace input.\n     */\n    get _textToReplace() {\n        return this._replaceInputView.fieldView.element.value;\n    }\n    /**\n     * Configures and returns the `<div>` aggregating all form inputs.\n     */\n    _createInputsDiv() {\n        const locale = this.locale;\n        const t = locale.t;\n        const inputsDivView = new View(locale);\n        // Typing in the find field invalidates all previous results (the form is \"dirty\").\n        this._findInputView.fieldView.on('input', () => {\n            this.isDirty = true;\n        });\n        // Pressing prev/next buttons fires related event on the form.\n        this._findPrevButtonView.delegate('execute').to(this, 'findPrevious');\n        this._findNextButtonView.delegate('execute').to(this, 'findNext');\n        // Prev/next buttons will be disabled when related editor command gets disabled.\n        this._findPrevButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', ({ findPrevious }) => findPrevious);\n        this._findNextButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', ({ findNext }) => findNext);\n        this._injectFindResultsCounter();\n        this._replaceInputView.bind('isEnabled').to(this, '_areCommandsEnabled', this, '_searchResultsFound', ({ replace }, resultsFound) => replace && resultsFound);\n        this._replaceInputView.bind('infoText').to(this._replaceInputView, 'isEnabled', this._replaceInputView, 'isFocused', (isEnabled, isFocused) => {\n            if (isEnabled || !isFocused) {\n                return '';\n            }\n            return t('Tip: Find some text first in order to replace it.');\n        });\n        inputsDivView.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: ['ck', 'ck-find-and-replace-form__inputs']\n            },\n            children: [\n                this._findInputView,\n                this._findPrevButtonView,\n                this._findNextButtonView,\n                this._replaceInputView\n            ]\n        });\n        return inputsDivView;\n    }\n    /**\n     * The action performed when the {@link #_findButtonView} is pressed.\n     */\n    _onFindButtonExecute() {\n        // When hitting \"Find\" in an empty input, an error should be displayed.\n        // Also, if the form was \"dirty\", it should remain so.\n        if (!this._textToFind) {\n            const t = this.t;\n            this._findInputView.errorText = t('Text to find must not be empty.');\n            return;\n        }\n        // Hitting \"Find\" automatically clears the dirty state.\n        this.isDirty = false;\n        this.fire('findNext', {\n            searchText: this._textToFind,\n            matchCase: this._matchCase,\n            wholeWords: this._wholeWordsOnly\n        });\n    }\n    /**\n     * Configures an injects the find results counter displaying a \"N of M\" label of the {@link #_findInputView}.\n     */\n    _injectFindResultsCounter() {\n        const locale = this.locale;\n        const t = locale.t;\n        const bind = this.bindTemplate;\n        const resultsCounterView = new View(this.locale);\n        this.bind('_resultsCounterText').to(this, 'highlightOffset', this, 'matchCount', (highlightOffset, matchCount) => t('%0 of %1', [highlightOffset, matchCount]));\n        resultsCounterView.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-results-counter',\n                    // The counter only makes sense when the field text corresponds to search results in the editing.\n                    bind.if('isDirty', 'ck-hidden')\n                ]\n            },\n            children: [\n                {\n                    text: bind.to('_resultsCounterText')\n                }\n            ]\n        });\n        // The whole idea is that when the text of the counter changes, its width also increases/decreases and\n        // it consumes more or less space over the input. The input, on the other hand, should adjust it's right\n        // padding so its *entire* text always remains visible and available to the user.\n        const updateFindInputPadding = () => {\n            const inputElement = this._findInputView.fieldView.element;\n            // Don't adjust the padding if the input (also: counter) were not rendered or not inserted into DOM yet.\n            if (!inputElement || !isVisible(inputElement)) {\n                return;\n            }\n            const counterWidth = new Rect(resultsCounterView.element).width;\n            const paddingPropertyName = locale.uiLanguageDirection === 'ltr' ? 'paddingRight' : 'paddingLeft';\n            if (!counterWidth) {\n                inputElement.style[paddingPropertyName] = '';\n            }\n            else {\n                inputElement.style[paddingPropertyName] = `calc( 2 * var(--ck-spacing-standard) + ${counterWidth}px )`;\n            }\n        };\n        // Adjust the input padding when the text of the counter changes, for instance \"1 of 200\" is narrower than \"123 of 200\".\n        // Using \"low\" priority to let the text be set by the template binding first.\n        this.on('change:_resultsCounterText', updateFindInputPadding, { priority: 'low' });\n        // Adjust the input padding when the counter shows or hides. When hidden, there should be no padding. When it shows, the\n        // padding should be set according to the text of the counter.\n        // Using \"low\" priority to let the text be set by the template binding first.\n        this.on('change:isDirty', updateFindInputPadding, { priority: 'low' });\n        // Put the counter element next to the <input> in the find field.\n        this._findInputView.template.children[0].children.push(resultsCounterView);\n    }\n    /**\n     * Creates the collapsible view aggregating the advanced search options.\n     */\n    _createAdvancedOptionsCollapsible() {\n        const t = this.locale.t;\n        const collapsible = new CollapsibleView(this.locale, [\n            this._matchCaseSwitchView,\n            this._wholeWordsOnlySwitchView\n        ]);\n        collapsible.set({\n            label: t('Advanced options'),\n            isCollapsed: true\n        });\n        return collapsible;\n    }\n    /**\n     * Configures and returns the `<div>` element aggregating all form action buttons.\n     */\n    _createActionButtonsDiv() {\n        const actionsDivView = new View(this.locale);\n        this._replaceButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', this, '_searchResultsFound', ({ replace }, resultsFound) => replace && resultsFound);\n        this._replaceAllButtonView.bind('isEnabled').to(this, '_areCommandsEnabled', this, '_searchResultsFound', ({ replaceAll }, resultsFound) => replaceAll && resultsFound);\n        this._replaceButtonView.on('execute', () => {\n            this.fire('replace', {\n                searchText: this._textToFind,\n                replaceText: this._textToReplace\n            });\n        });\n        this._replaceAllButtonView.on('execute', () => {\n            this.fire('replaceAll', {\n                searchText: this._textToFind,\n                replaceText: this._textToReplace\n            });\n            this.focus();\n        });\n        this._findButtonView.on('execute', this._onFindButtonExecute.bind(this));\n        actionsDivView.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: ['ck', 'ck-find-and-replace-form__actions']\n            },\n            children: [\n                this._replaceAllButtonView,\n                this._replaceButtonView,\n                this._findButtonView\n            ]\n        });\n        return actionsDivView;\n    }\n    /**\n     * Creates, configures and returns and instance of a dropdown allowing users to narrow\n     * the search criteria down. The dropdown has a list with switch buttons for each option.\n     */\n    _createMatchCaseSwitch() {\n        const t = this.locale.t;\n        const matchCaseSwitchButton = new SwitchButtonView(this.locale);\n        matchCaseSwitchButton.set({\n            label: t('Match case'),\n            withText: true\n        });\n        // Let the switch be controlled by form's observable property.\n        matchCaseSwitchButton.bind('isOn').to(this, '_matchCase');\n        // // Update the state of the form when a switch is toggled.\n        matchCaseSwitchButton.on('execute', () => {\n            this._matchCase = !this._matchCase;\n            // Toggling a switch makes the form dirty because this changes search criteria\n            // just like typing text of the find input.\n            this.isDirty = true;\n        });\n        return matchCaseSwitchButton;\n    }\n    /**\n     * Creates, configures and returns and instance of a dropdown allowing users to narrow\n     * the search criteria down. The dropdown has a list with switch buttons for each option.\n     */\n    _createWholeWordsOnlySwitch() {\n        const t = this.locale.t;\n        const wholeWordsOnlySwitchButton = new SwitchButtonView(this.locale);\n        wholeWordsOnlySwitchButton.set({\n            label: t('Whole words only'),\n            withText: true\n        });\n        // Let the switch be controlled by form's observable property.\n        wholeWordsOnlySwitchButton.bind('isOn').to(this, '_wholeWordsOnly');\n        // // Update the state of the form when a switch is toggled.\n        wholeWordsOnlySwitchButton.on('execute', () => {\n            this._wholeWordsOnly = !this._wholeWordsOnly;\n            // Toggling a switch makes the form dirty because this changes search criteria\n            // just like typing text of the find input.\n            this.isDirty = true;\n        });\n        return wholeWordsOnlySwitchButton;\n    }\n    /**\n     * Initializes the {@link #_focusables} and {@link #_focusTracker} to allow navigation\n     * using <kbd>Tab</kbd> and <kbd>Shift</kbd>+<kbd>Tab</kbd> keystrokes in the right order.\n     */\n    _initFocusCycling() {\n        const childViews = [\n            this._findInputView,\n            this._findPrevButtonView,\n            this._findNextButtonView,\n            this._replaceInputView,\n            this._advancedOptionsCollapsibleView.buttonView,\n            this._matchCaseSwitchView,\n            this._wholeWordsOnlySwitchView,\n            this._replaceAllButtonView,\n            this._replaceButtonView,\n            this._findButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this._focusTracker.add(v.element);\n        });\n    }\n    /**\n     * Initializes the keystroke handling in the form.\n     */\n    _initKeystrokeHandling() {\n        const stopPropagation = (data) => data.stopPropagation();\n        const stopPropagationAndPreventDefault = (data) => {\n            data.stopPropagation();\n            data.preventDefault();\n        };\n        // Start listening for the keystrokes coming from #element.\n        this._keystrokes.listenTo(this.element);\n        // Find the next result upon F3.\n        this._keystrokes.set('f3', event => {\n            stopPropagationAndPreventDefault(event);\n            this._findNextButtonView.fire('execute');\n        });\n        // Find the previous result upon F3.\n        this._keystrokes.set('shift+f3', event => {\n            stopPropagationAndPreventDefault(event);\n            this._findPrevButtonView.fire('execute');\n        });\n        // Find or replace upon pressing Enter in the find and replace fields.\n        this._keystrokes.set('enter', event => {\n            const target = event.target;\n            if (target === this._findInputView.fieldView.element) {\n                if (this._areCommandsEnabled.findNext) {\n                    this._findNextButtonView.fire('execute');\n                }\n                else {\n                    this._findButtonView.fire('execute');\n                }\n                stopPropagationAndPreventDefault(event);\n            }\n            else if (target === this._replaceInputView.fieldView.element && !this.isDirty) {\n                this._replaceButtonView.fire('execute');\n                stopPropagationAndPreventDefault(event);\n            }\n        });\n        // Find previous upon pressing Shift+Enter in the find field.\n        this._keystrokes.set('shift+enter', event => {\n            const target = event.target;\n            if (target !== this._findInputView.fieldView.element) {\n                return;\n            }\n            if (this._areCommandsEnabled.findPrevious) {\n                this._findPrevButtonView.fire('execute');\n            }\n            else {\n                this._findButtonView.fire('execute');\n            }\n            stopPropagationAndPreventDefault(event);\n        });\n        // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n        // keystroke handler would take over the key management in the URL input.\n        // We need to prevent this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n        this._keystrokes.set('arrowright', stopPropagation);\n        this._keystrokes.set('arrowleft', stopPropagation);\n        this._keystrokes.set('arrowup', stopPropagation);\n        this._keystrokes.set('arrowdown', stopPropagation);\n    }\n    /**\n     * Creates a button view.\n     *\n     * @param options The properties of the `ButtonView`.\n     * @returns The button view instance.\n     */\n    _createButton(options) {\n        const button = new ButtonView(this.locale);\n        button.set(options);\n        return button;\n    }\n    /**\n     * Creates a labeled input view.\n     *\n     * @param label The input label.\n     * @returns The labeled input view instance.\n     */\n    _createInputField(label, className) {\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.label = label;\n        labeledInput.class = className;\n        return labeledInput;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z\\\"/><path d=\\\"M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z\\\"/><path d=\\\"M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/findandreplaceui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView, Dialog, DialogViewPosition, createDropdown, DropdownView, FormHeaderView, CssTransitionDisablerMixin } from 'ckeditor5/src/ui.js';\nimport FindAndReplaceFormView from './ui/findandreplaceformview.js';\nimport loupeIcon from '../theme/icons/find-replace.svg';\n/**\n * The default find and replace UI.\n *\n * It registers the `'findAndReplace'` UI button in the editor's {@link module:ui/componentfactory~ComponentFactory component factory}.\n * that uses the {@link module:find-and-replace/findandreplace~FindAndReplace FindAndReplace} plugin API.\n */\nexport default class FindAndReplaceUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Dialog];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplaceUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('findAndReplace.uiType', 'dialog');\n        this.formView = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const isUiUsingDropdown = editor.config.get('findAndReplace.uiType') === 'dropdown';\n        const findCommand = editor.commands.get('find');\n        const t = this.editor.t;\n        // Register the toolbar component: dropdown or button (that opens a dialog).\n        editor.ui.componentFactory.add('findAndReplace', () => {\n            let view;\n            if (isUiUsingDropdown) {\n                view = this._createDropdown();\n                // Button should be disabled when in source editing mode. See #10001.\n                view.bind('isEnabled').to(findCommand);\n            }\n            else {\n                view = this._createDialogButtonForToolbar();\n            }\n            editor.keystrokes.set('Ctrl+F', (data, cancelEvent) => {\n                if (!findCommand.isEnabled) {\n                    return;\n                }\n                if (view instanceof DropdownView) {\n                    const dropdownButtonView = view.buttonView;\n                    if (!dropdownButtonView.isOn) {\n                        dropdownButtonView.fire('execute');\n                    }\n                }\n                else {\n                    if (view.isOn) {\n                        // If the dialog is open, do not close it. Instead focus it.\n                        // Unfortunately we can't simply use:\n                        // \tthis.formView!.focus();\n                        // because it would always move focus to the first input field, which we don't want.\n                        editor.plugins.get('Dialog').view.focus();\n                    }\n                    else {\n                        view.fire('execute');\n                    }\n                }\n                cancelEvent();\n            });\n            return view;\n        });\n        if (!isUiUsingDropdown) {\n            editor.ui.componentFactory.add('menuBar:findAndReplace', () => {\n                return this._createDialogButtonForMenuBar();\n            });\n        }\n        // Add the information about the keystroke to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Find in the document'),\n                    keystroke: 'CTRL+F'\n                }\n            ]\n        });\n    }\n    /**\n     * Creates a dropdown containing the find and replace form.\n     */\n    _createDropdown() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const dropdownView = createDropdown(editor.locale);\n        dropdownView.once('change:isOpen', () => {\n            this.formView = this._createFormView();\n            this.formView.children.add(new FormHeaderView(editor.locale, {\n                label: t('Find and replace')\n            }), 0);\n            dropdownView.panelView.children.add(this.formView);\n        });\n        // Every time a dropdown is opened, the search text field should get focused and selected for better UX.\n        // Note: Using the low priority here to make sure the following listener starts working after\n        // the default action of the drop-down is executed (i.e. the panel showed up). Otherwise,\n        // the invisible form/input cannot be focused/selected.\n        //\n        // Each time a dropdown is closed, move the focus back to the find and replace toolbar button\n        // and let the find and replace editing feature know that all search results can be invalidated\n        // and no longer should be marked in the content.\n        dropdownView.on('change:isOpen', (event, name, isOpen) => {\n            if (isOpen) {\n                this._setupFormView();\n            }\n            else {\n                this.fire('searchReseted');\n            }\n        }, { priority: 'low' });\n        dropdownView.buttonView.set({\n            icon: loupeIcon,\n            label: t('Find and replace'),\n            keystroke: 'CTRL+F',\n            tooltip: true\n        });\n        return dropdownView;\n    }\n    /**\n     * Creates a button that opens a dialog with the find and replace form.\n     */\n    _createDialogButtonForToolbar() {\n        const editor = this.editor;\n        const buttonView = this._createButton(ButtonView);\n        const dialog = editor.plugins.get('Dialog');\n        buttonView.set({\n            tooltip: true\n        });\n        // Button should be on when the find and replace dialog is opened.\n        buttonView.bind('isOn').to(dialog, 'id', id => id === 'findAndReplace');\n        // Every time a dialog is opened, the search text field should get focused and selected for better UX.\n        // Each time a dialog is closed, move the focus back to the find and replace toolbar button\n        // and let the find and replace editing feature know that all search results can be invalidated\n        // and no longer should be marked in the content.\n        buttonView.on('execute', () => {\n            if (buttonView.isOn) {\n                dialog.hide();\n            }\n            else {\n                this._showDialog();\n            }\n        });\n        return buttonView;\n    }\n    /**\n     * Creates a button for for menu bar that will show find and replace dialog.\n     */\n    _createDialogButtonForMenuBar() {\n        const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n        const dialogPlugin = this.editor.plugins.get('Dialog');\n        const dialog = this.editor.plugins.get('Dialog');\n        buttonView.set({\n            role: 'menuitemcheckbox',\n            isToggleable: true\n        });\n        // Button should be on when the find and replace dialog is opened.\n        buttonView.bind('isOn').to(dialog, 'id', id => id === 'findAndReplace');\n        buttonView.on('execute', () => {\n            if (dialogPlugin.id === 'findAndReplace') {\n                dialogPlugin.hide();\n                return;\n            }\n            this._showDialog();\n        });\n        return buttonView;\n    }\n    /**\n     * Creates a button for find and replace command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const findCommand = editor.commands.get('find');\n        const buttonView = new ButtonClass(editor.locale);\n        const t = editor.locale.t;\n        // Button should be disabled when in source editing mode. See #10001.\n        buttonView.bind('isEnabled').to(findCommand);\n        buttonView.set({\n            icon: loupeIcon,\n            label: t('Find and replace'),\n            keystroke: 'CTRL+F'\n        });\n        return buttonView;\n    }\n    /**\n     * Shows the find and replace dialog.\n     */\n    _showDialog() {\n        const editor = this.editor;\n        const dialog = editor.plugins.get('Dialog');\n        const t = editor.locale.t;\n        if (!this.formView) {\n            this.formView = this._createFormView();\n        }\n        dialog.show({\n            id: 'findAndReplace',\n            title: t('Find and replace'),\n            content: this.formView,\n            position: DialogViewPosition.EDITOR_TOP_SIDE,\n            onShow: () => {\n                this._setupFormView();\n            },\n            onHide: () => {\n                this.fire('searchReseted');\n            }\n        });\n    }\n    /**\n     * Sets up the form view for the find and replace.\n     *\n     * @param formView A related form view.\n     */\n    _createFormView() {\n        const editor = this.editor;\n        const formView = new (CssTransitionDisablerMixin(FindAndReplaceFormView))(editor.locale);\n        const commands = editor.commands;\n        const findAndReplaceEditing = this.editor.plugins.get('FindAndReplaceEditing');\n        const editingState = findAndReplaceEditing.state;\n        formView.bind('highlightOffset').to(editingState, 'highlightedOffset');\n        // Let the form know how many results were found in total.\n        formView.listenTo(editingState.results, 'change', () => {\n            formView.matchCount = editingState.results.length;\n        });\n        // Command states are used to enable/disable individual form controls.\n        // To keep things simple, instead of binding 4 individual observables, there's only one that combines every\n        // commands' isEnabled state. Yes, it will change more often but this simplifies the structure of the form.\n        const findNextCommand = commands.get('findNext');\n        const findPreviousCommand = commands.get('findPrevious');\n        const replaceCommand = commands.get('replace');\n        const replaceAllCommand = commands.get('replaceAll');\n        formView.bind('_areCommandsEnabled').to(findNextCommand, 'isEnabled', findPreviousCommand, 'isEnabled', replaceCommand, 'isEnabled', replaceAllCommand, 'isEnabled', (findNext, findPrevious, replace, replaceAll) => ({ findNext, findPrevious, replace, replaceAll }));\n        // The UI plugin works as an interface between the form and the editing part of the feature.\n        formView.delegate('findNext', 'findPrevious', 'replace', 'replaceAll').to(this);\n        // Let the feature know that search results are no longer relevant because the user changed the searched phrase\n        // (or options) but didn't hit the \"Find\" button yet (e.g. still typing).\n        formView.on('change:isDirty', (evt, data, isDirty) => {\n            if (isDirty) {\n                this.fire('searchReseted');\n            }\n        });\n        return formView;\n    }\n    /**\n     * Clears the find and replace form and focuses the search text field.\n     */\n    _setupFormView() {\n        this.formView.disableCssTransitions();\n        this.formView.reset();\n        this.formView._findInputView.fieldView.select();\n        this.formView.enableCssTransitions();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/findcommand\n*/\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The find command. It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class FindCommand extends Command {\n    /**\n     * Creates a new `FindCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param state An object to hold plugin state.\n     */\n    constructor(editor, state) {\n        super(editor);\n        // The find command is always enabled.\n        this.isEnabled = true;\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n        this._state = state;\n    }\n    /**\n     * Executes the command.\n     *\n     * @param callbackOrText\n     * @param options Options object.\n     * @param options.matchCase If set to `true`, the letter case will be matched.\n     * @param options.wholeWords If set to `true`, only whole words that match `callbackOrText` will be matched.\n     *\n     * @fires execute\n     */\n    execute(callbackOrText, { matchCase, wholeWords } = {}) {\n        const { editor } = this;\n        const { model } = editor;\n        const findAndReplaceUtils = editor.plugins.get('FindAndReplaceUtils');\n        let findCallback;\n        let callbackSearchText = '';\n        // Allow to execute `find()` on a plugin with a keyword only.\n        if (typeof callbackOrText === 'string') {\n            findCallback = (...args) => ({\n                results: findAndReplaceUtils.findByTextCallback(callbackOrText, { matchCase, wholeWords })(...args),\n                searchText: callbackOrText\n            });\n        }\n        else {\n            findCallback = callbackOrText;\n        }\n        // Wrap the callback to get the search text that will be assigned to the state.\n        const oldCallback = findCallback;\n        findCallback = (...args) => {\n            const result = oldCallback(...args);\n            if (result && 'searchText' in result) {\n                callbackSearchText = result.searchText;\n            }\n            return result;\n        };\n        // Initial search is done on all nodes in all roots inside the content.\n        const results = model.document.getRootNames()\n            .reduce(((currentResults, rootName) => findAndReplaceUtils.updateFindResultFromRange(model.createRangeIn(model.document.getRoot(rootName)), model, findCallback, currentResults)), null);\n        this._state.clear(model);\n        this._state.results.addMany(results);\n        this._state.highlightedResult = results.get(0);\n        this._state.searchText = callbackSearchText;\n        if (findCallback) {\n            this._state.lastSearchCallback = findCallback;\n        }\n        this._state.matchCase = !!matchCase;\n        this._state.matchWholeWords = !!wholeWords;\n        return {\n            results,\n            findCallback\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { ObservableMixin, Collection } from 'ckeditor5/src/utils.js';\n/**\n * The object storing find and replace plugin state for a given editor instance.\n */\nexport default class FindAndReplaceState extends /* #__PURE__ */ ObservableMixin() {\n    /**\n     * Creates an instance of the state.\n     */\n    constructor(model) {\n        super();\n        this.set('results', new Collection());\n        this.set('highlightedResult', null);\n        this.set('highlightedOffset', 0);\n        this.set('searchText', '');\n        this.set('replaceText', '');\n        this.set('lastSearchCallback', null);\n        this.set('matchCase', false);\n        this.set('matchWholeWords', false);\n        this.results.on('change', (eventInfo, { removed, index }) => {\n            if (Array.from(removed).length) {\n                let highlightedResultRemoved = false;\n                model.change(writer => {\n                    for (const removedResult of removed) {\n                        if (this.highlightedResult === removedResult) {\n                            highlightedResultRemoved = true;\n                        }\n                        if (model.markers.has(removedResult.marker.name)) {\n                            writer.removeMarker(removedResult.marker);\n                        }\n                    }\n                });\n                if (highlightedResultRemoved) {\n                    const nextHighlightedIndex = index >= this.results.length ? 0 : index;\n                    this.highlightedResult = this.results.get(nextHighlightedIndex);\n                }\n            }\n        });\n        this.on('change:highlightedResult', () => {\n            this.refreshHighlightOffset(model);\n        });\n    }\n    /**\n     * Cleans the state up and removes markers from the model.\n     */\n    clear(model) {\n        this.searchText = '';\n        model.change(writer => {\n            if (this.highlightedResult) {\n                const oldMatchId = this.highlightedResult.marker.name.split(':')[1];\n                const oldMarker = model.markers.get(`findResultHighlighted:${oldMatchId}`);\n                if (oldMarker) {\n                    writer.removeMarker(oldMarker);\n                }\n            }\n            [...this.results].forEach(({ marker }) => {\n                writer.removeMarker(marker);\n            });\n        });\n        this.results.clear();\n    }\n    /**\n     * Refreshes the highlight result offset based on it's index within the result list.\n     */\n    refreshHighlightOffset(model) {\n        const { highlightedResult, results } = this;\n        if (highlightedResult) {\n            this.highlightedOffset = sortSearchResultsByMarkerPositions(model, [...results]).indexOf(highlightedResult) + 1;\n        }\n        else {\n            this.highlightedOffset = 0;\n        }\n    }\n}\n/**\n * Sorts search results by marker positions. Make sure that the results are sorted in the same order as they appear in the document\n * to avoid issues with the `find next` command. Apparently, the order of the results in the state might be different than the order\n * of the markers in the model.\n */\nexport function sortSearchResultsByMarkerPositions(model, results) {\n    const sortMapping = { before: -1, same: 0, after: 1, different: 1 };\n    // `compareWith` doesn't play well with multi-root documents, so we need to sort results by root name first\n    // and then sort them within each root. It prevents \"random\" order of results when the document has multiple roots.\n    // See more: https://github.com/ckeditor/ckeditor5/pull/17292#issuecomment-2442084549\n    return model.document.getRootNames().flatMap(rootName => results\n        .filter(result => result.marker.getStart().root.rootName === rootName)\n        .sort((a, b) => sortMapping[a.marker.getStart().compareWith(b.marker.getStart())]));\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/replacecommandbase\n*/\nimport { Command } from 'ckeditor5/src/core.js';\nexport class ReplaceCommandBase extends Command {\n    /**\n     * Creates a new `ReplaceCommand` instance.\n     *\n     * @param editor Editor on which this command will be used.\n     * @param state An object to hold plugin state.\n     */\n    constructor(editor, state) {\n        super(editor);\n        // The replace command is always enabled.\n        this.isEnabled = true;\n        this._state = state;\n        // Since this command executes on particular result independent of selection, it should be checked directly in execute block.\n        this._isEnabledBasedOnSelection = false;\n    }\n    /**\n     * Common logic for both `replace` commands.\n     * Replace a given find result by a string or a callback.\n     *\n     * @param result A single result from the find command.\n     */\n    _replace(replacementText, result) {\n        const { model } = this.editor;\n        const range = result.marker.getRange();\n        // Don't replace a result that is in non-editable place.\n        if (!model.canEditAt(range)) {\n            return;\n        }\n        model.change(writer => {\n            // Don't replace a result (marker) that found its way into the $graveyard (e.g. removed by collaborators).\n            if (range.root.rootName === '$graveyard') {\n                this._state.results.remove(result);\n                return;\n            }\n            let textAttributes = {};\n            for (const item of range.getItems()) {\n                if (item.is('$text') || item.is('$textProxy')) {\n                    textAttributes = item.getAttributes();\n                    break;\n                }\n            }\n            model.insertContent(writer.createText(replacementText, textAttributes), range);\n            if (this._state.results.has(result)) {\n                this._state.results.remove(result);\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { sortSearchResultsByMarkerPositions } from './findandreplacestate.js';\nimport { ReplaceCommandBase } from './replacecommandbase.js';\n/**\n * The replace command. It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class ReplaceCommand extends ReplaceCommandBase {\n    /**\n     * Replace a given find result by a string or a callback.\n     *\n     * @param result A single result from the find command.\n     *\n     * @fires execute\n     */\n    execute(replacementText, result) {\n        // We save highlight offset here, as the information about the highlighted result will be lost after the changes.\n        //\n        // It happens because result list is partially regenerated if the result is removed from the paragraph.\n        // Partially means that all sibling result items that are placed in the same paragraph are removed and added again,\n        // which causes the highlighted result to be malformed (usually it's set to first but it's not guaranteed).\n        //\n        // While this saving can be done in editing state, it's better to keep it here, as it's a part of the command logic\n        // and might be super tricky to implement in multi-root documents.\n        //\n        // Keep in mind that the highlighted offset is indexed from 1, as it's displayed to the user. It's why we subtract 1 here.\n        //\n        // More info: https://github.com/ckeditor/ckeditor5/issues/16648\n        const oldHighlightOffset = Math.max(this._state.highlightedOffset - 1, 0);\n        this._replace(replacementText, result);\n        // Let's revert the highlight offset to the previous value.\n        if (this._state.results.length) {\n            // Highlight offset operates on sorted array, so we need to sort the results first.\n            // It's not guaranteed that items in state results are sorted, usually they are, but it's not guaranteed when\n            // the result is removed from the paragraph with other highlighted results.\n            const sortedResults = sortSearchResultsByMarkerPositions(this.editor.model, [...this._state.results]);\n            // Just make sure that we don't overflow the results array, so use modulo.\n            this._state.highlightedResult = sortedResults[oldHighlightOffset % sortedResults.length];\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/replaceallcommand\n */\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { ReplaceCommandBase } from './replacecommandbase.js';\n/**\n * The replace all command. It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class ReplaceAllCommand extends ReplaceCommandBase {\n    /**\n     * Replaces all the occurrences of `textToReplace` with a given `newText` string.\n     *\n     * ```ts\n     *\treplaceAllCommand.execute( 'replaceAll', 'new text replacement', 'text to replace' );\n     * ```\n     *\n     * Alternatively you can call it from editor instance:\n     *\n     * ```ts\n     *\teditor.execute( 'replaceAll', 'new text', 'old text' );\n     * ```\n     *\n     * @param newText Text that will be inserted to the editor for each match.\n     * @param textToReplace Text to be replaced or a collection of matches\n     * as returned by the find command.\n     *\n     * @fires module:core/command~Command#event:execute\n     */\n    execute(newText, textToReplace) {\n        const { editor } = this;\n        const { model } = editor;\n        const findAndReplaceUtils = editor.plugins.get('FindAndReplaceUtils');\n        const results = textToReplace instanceof Collection ?\n            textToReplace : model.document.getRootNames()\n            .reduce(((currentResults, rootName) => findAndReplaceUtils.updateFindResultFromRange(model.createRangeIn(model.document.getRoot(rootName)), model, findAndReplaceUtils.findByTextCallback(textToReplace, this._state), currentResults)), null);\n        if (results.length) {\n            // Wrapped in single change will batch it into one transaction.\n            model.change(() => {\n                [...results].forEach(searchResult => {\n                    // Just reuse logic from the replace command to replace a single match.\n                    this._replace(newText, searchResult);\n                });\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/findnextcommand\n*/\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The find next command. Moves the highlight to the next search result.\n *\n * It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class FindNextCommand extends Command {\n    /**\n     * Creates a new `FindNextCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param state An object to hold plugin state.\n     */\n    constructor(editor, state) {\n        super(editor);\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n        this._state = state;\n        this.isEnabled = false;\n        this.listenTo(this._state.results, 'change', () => {\n            this.isEnabled = this._state.results.length > 1;\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._state.results.length > 1;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const results = this._state.results;\n        const currentIndex = results.getIndex(this._state.highlightedResult);\n        const nextIndex = currentIndex + 1 >= results.length ?\n            0 : currentIndex + 1;\n        this._state.highlightedResult = this._state.results.get(nextIndex);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/findpreviouscommand\n*/\nimport FindNextCommand from './findnextcommand.js';\n/**\n * The find previous command. Moves the highlight to the previous search result.\n *\n * It is used by the {@link module:find-and-replace/findandreplace~FindAndReplace find and replace feature}.\n */\nexport default class FindPreviousCommand extends FindNextCommand {\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const results = this._state.results;\n        const currentIndex = results.getIndex(this._state.highlightedResult);\n        const previousIndex = currentIndex - 1 < 0 ?\n            this._state.results.length - 1 : currentIndex - 1;\n        this._state.highlightedResult = this._state.results.get(previousIndex);\n    }\n}\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import toString from './toString.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nexport default escapeRegExp;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Collection, uid } from 'ckeditor5/src/utils.js';\nimport { escapeRegExp } from 'lodash-es';\n/**\n * A set of helpers related to find and replace.\n */\nexport default class FindAndReplaceUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplaceUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Executes findCallback and updates search results list.\n     *\n     * @param range The model range to scan for matches.\n     * @param model The model.\n     * @param findCallback The callback that should return `true` if provided text matches the search term.\n     * @param startResults An optional collection of find matches that the function should\n     * start with. This would be a collection returned by a previous `updateFindResultFromRange()` call.\n     * @returns A collection of objects describing find match.\n     *\n     * An example structure:\n     *\n     * ```js\n     * {\n     *\tid: resultId,\n     *\tlabel: foundItem.label,\n     *\tmarker\n     *\t}\n     * ```\n     */\n    updateFindResultFromRange(range, model, findCallback, startResults) {\n        const results = startResults || new Collection();\n        const checkIfResultAlreadyOnList = (marker) => results.find(markerItem => {\n            const { marker: resultsMarker } = markerItem;\n            const resultRange = resultsMarker.getRange();\n            const markerRange = marker.getRange();\n            return resultRange.isEqual(markerRange);\n        });\n        model.change(writer => {\n            [...range].forEach(({ type, item }) => {\n                if (type === 'elementStart') {\n                    if (model.schema.checkChild(item, '$text')) {\n                        let foundItems = findCallback({\n                            item,\n                            text: this.rangeToText(model.createRangeIn(item))\n                        });\n                        if (!foundItems) {\n                            return;\n                        }\n                        if ('results' in foundItems) {\n                            foundItems = foundItems.results;\n                        }\n                        foundItems.forEach(foundItem => {\n                            const resultId = `findResult:${uid()}`;\n                            const marker = writer.addMarker(resultId, {\n                                usingOperation: false,\n                                affectsData: false,\n                                range: writer.createRange(writer.createPositionAt(item, foundItem.start), writer.createPositionAt(item, foundItem.end))\n                            });\n                            const index = findInsertIndex(results, marker);\n                            if (!checkIfResultAlreadyOnList(marker)) {\n                                results.add({\n                                    id: resultId,\n                                    label: foundItem.label,\n                                    marker\n                                }, index);\n                            }\n                        });\n                    }\n                }\n            });\n        });\n        return results;\n    }\n    /**\n     * Returns text representation of a range. The returned text length should be the same as range length.\n     * In order to achieve this, this function will replace inline elements (text-line) as new line character (\"\\n\").\n     *\n     * @param range The model range.\n     * @returns The text content of the provided range.\n     */\n    rangeToText(range) {\n        return Array.from(range.getItems()).reduce((rangeText, node) => {\n            // Trim text to a last occurrence of an inline element and update range start.\n            if (!(node.is('$text') || node.is('$textProxy'))) {\n                // Editor has only one inline element defined in schema: `<softBreak>` which is treated as new line character in blocks.\n                // Special handling might be needed for other inline elements (inline widgets).\n                return `${rangeText}\\n`;\n            }\n            return rangeText + node.data;\n        }, '');\n    }\n    /**\n     * Creates a text matching callback for a specified search term and matching options.\n     *\n     * @param searchTerm The search term.\n     * @param options Matching options.\n     * \t- options.matchCase=false If set to `true` letter casing will be ignored.\n     * \t- options.wholeWords=false If set to `true` only whole words that match `callbackOrText` will be matched.\n     */\n    findByTextCallback(searchTerm, options) {\n        let flags = 'gu';\n        if (!options.matchCase) {\n            flags += 'i';\n        }\n        let regExpQuery = `(${escapeRegExp(searchTerm)})`;\n        if (options.wholeWords) {\n            const nonLetterGroup = '[^a-zA-Z\\u00C0-\\u024F\\u1E00-\\u1EFF]';\n            if (!new RegExp('^' + nonLetterGroup).test(searchTerm)) {\n                regExpQuery = `(^|${nonLetterGroup}|_)${regExpQuery}`;\n            }\n            if (!new RegExp(nonLetterGroup + '$').test(searchTerm)) {\n                regExpQuery = `${regExpQuery}(?=_|${nonLetterGroup}|$)`;\n            }\n        }\n        const regExp = new RegExp(regExpQuery, flags);\n        function findCallback({ text }) {\n            const matches = [...text.matchAll(regExp)];\n            return matches.map(regexpMatchToFindResult);\n        }\n        return findCallback;\n    }\n}\n// Finds the appropriate index in the resultsList Collection.\nfunction findInsertIndex(resultsList, markerToInsert) {\n    const result = resultsList.find(({ marker }) => {\n        return markerToInsert.getStart().isBefore(marker.getStart());\n    });\n    return result ? resultsList.getIndex(result) : resultsList.length;\n}\n/**\n *  Maps RegExp match result to find result.\n */\nfunction regexpMatchToFindResult(matchResult) {\n    const lastGroupIndex = matchResult.length - 1;\n    let startOffset = matchResult.index;\n    // Searches with match all flag have an extra matching group with empty string or white space matched before the word.\n    // If the search term starts with the space already, there is no extra group even with match all flag on.\n    if (matchResult.length === 3) {\n        startOffset += matchResult[1].length;\n    }\n    return {\n        label: matchResult[lastGroupIndex],\n        start: startOffset,\n        end: startOffset + matchResult[lastGroupIndex].length\n    };\n}\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./findandreplace.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/findandreplaceediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { scrollViewportToShowTarget } from 'ckeditor5/src/utils.js';\nimport FindCommand from './findcommand.js';\nimport ReplaceCommand from './replacecommand.js';\nimport ReplaceAllCommand from './replaceallcommand.js';\nimport FindNextCommand from './findnextcommand.js';\nimport FindPreviousCommand from './findpreviouscommand.js';\nimport FindAndReplaceState from './findandreplacestate.js';\nimport FindAndReplaceUtils from './findandreplaceutils.js';\nimport { debounce } from 'lodash-es';\nimport '../theme/findandreplace.css';\nconst HIGHLIGHT_CLASS = 'ck-find-result_selected';\n/**\n * Implements the editing part for find and replace plugin. For example conversion, commands etc.\n */\nexport default class FindAndReplaceEditing extends Plugin {\n    constructor() {\n        super(...arguments);\n        /**\n         * Reacts to document changes in order to update search list.\n         */\n        this._onDocumentChange = () => {\n            const changedNodes = new Set();\n            const removedMarkers = new Set();\n            const model = this.editor.model;\n            const { results } = this.state;\n            const changes = model.document.differ.getChanges();\n            const changedMarkers = model.document.differ.getChangedMarkers();\n            // Get nodes in which changes happened to re-run a search callback on them.\n            changes.forEach(change => {\n                if (!change.position) {\n                    return;\n                }\n                if (change.name === '$text' || (change.position.nodeAfter && model.schema.isInline(change.position.nodeAfter))) {\n                    changedNodes.add(change.position.parent);\n                    [...model.markers.getMarkersAtPosition(change.position)].forEach(markerAtChange => {\n                        removedMarkers.add(markerAtChange.name);\n                    });\n                }\n                else if (change.type === 'insert' && change.position.nodeAfter) {\n                    changedNodes.add(change.position.nodeAfter);\n                }\n            });\n            // Get markers from removed nodes also.\n            changedMarkers.forEach(({ name, data: { newRange } }) => {\n                if (newRange && newRange.start.root.rootName === '$graveyard') {\n                    removedMarkers.add(name);\n                }\n            });\n            // Get markers from the updated nodes and remove all (search will be re-run on these nodes).\n            changedNodes.forEach(node => {\n                const markersInNode = [...model.markers.getMarkersIntersectingRange(model.createRangeIn(node))];\n                markersInNode.forEach(marker => removedMarkers.add(marker.name));\n            });\n            // Remove results from the changed part of content.\n            removedMarkers.forEach(markerName => {\n                if (!results.has(markerName)) {\n                    return;\n                }\n                if (results.get(markerName) === this.state.highlightedResult) {\n                    this.state.highlightedResult = null;\n                }\n                results.remove(markerName);\n            });\n            // Run search callback again on updated nodes.\n            const changedSearchResults = [];\n            const findAndReplaceUtils = this.editor.plugins.get('FindAndReplaceUtils');\n            changedNodes.forEach(nodeToCheck => {\n                const changedNodeSearchResults = findAndReplaceUtils.updateFindResultFromRange(model.createRangeOn(nodeToCheck), model, this.state.lastSearchCallback, results);\n                changedSearchResults.push(...changedNodeSearchResults);\n            });\n            changedMarkers.forEach(markerToCheck => {\n                // Handle search result highlight update when T&C plugin is active.\n                // Lookup is performed only on newly inserted markers.\n                if (markerToCheck.data.newRange) {\n                    const changedNodeSearchResults = findAndReplaceUtils.updateFindResultFromRange(markerToCheck.data.newRange, model, this.state.lastSearchCallback, results);\n                    changedSearchResults.push(...changedNodeSearchResults);\n                }\n            });\n            if (!this.state.highlightedResult && changedSearchResults.length) {\n                // If there are found phrases but none is selected, select the first one.\n                this.state.highlightedResult = changedSearchResults[0];\n            }\n            else {\n                // If there is already highlight item then refresh highlight offset after appending new items.\n                this.state.refreshHighlightOffset(model);\n            }\n        };\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FindAndReplaceUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplaceEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this.state = new FindAndReplaceState(this.editor.model);\n        this.set('_isSearchActive', false);\n        this._defineConverters();\n        this._defineCommands();\n        this.listenTo(this.state, 'change:highlightedResult', (eventInfo, name, newValue, oldValue) => {\n            const { model } = this.editor;\n            model.change(writer => {\n                if (oldValue) {\n                    const oldMatchId = oldValue.marker.name.split(':')[1];\n                    const oldMarker = model.markers.get(`findResultHighlighted:${oldMatchId}`);\n                    if (oldMarker) {\n                        writer.removeMarker(oldMarker);\n                    }\n                }\n                if (newValue) {\n                    const newMatchId = newValue.marker.name.split(':')[1];\n                    writer.addMarker(`findResultHighlighted:${newMatchId}`, {\n                        usingOperation: false,\n                        affectsData: false,\n                        range: newValue.marker.getRange()\n                    });\n                }\n            });\n        });\n        /* istanbul ignore next -- @preserve */\n        const scrollToHighlightedResult = (eventInfo, name, newValue) => {\n            if (newValue) {\n                const domConverter = this.editor.editing.view.domConverter;\n                const viewRange = this.editor.editing.mapper.toViewRange(newValue.marker.getRange());\n                scrollViewportToShowTarget({\n                    target: domConverter.viewRangeToDom(viewRange),\n                    viewportOffset: 40\n                });\n            }\n        };\n        const debouncedScrollListener = debounce(scrollToHighlightedResult.bind(this), 32);\n        // Debounce scroll as highlight might be changed very frequently, e.g. when there's a replace all command.\n        this.listenTo(this.state, 'change:highlightedResult', debouncedScrollListener, { priority: 'low' });\n        // It's possible that the editor will get destroyed before debounced call kicks in.\n        // This would result with accessing a view three that is no longer in DOM.\n        this.listenTo(this.editor, 'destroy', debouncedScrollListener.cancel);\n        this.on('change:_isSearchActive', (evt, name, isSearchActive) => {\n            if (isSearchActive) {\n                this.listenTo(this.editor.model.document, 'change:data', this._onDocumentChange);\n            }\n            else {\n                this.stopListening(this.editor.model.document, 'change:data', this._onDocumentChange);\n            }\n        });\n    }\n    /**\n     * Initiate a search.\n     */\n    find(callbackOrText, findAttributes) {\n        this._isSearchActive = true;\n        this.editor.execute('find', callbackOrText, findAttributes);\n        return this.state.results;\n    }\n    /**\n     * Stops active results from updating, and clears out the results.\n     */\n    stop() {\n        this.state.clear(this.editor.model);\n        this._isSearchActive = false;\n    }\n    /**\n     * Sets up the commands.\n     */\n    _defineCommands() {\n        this.editor.commands.add('find', new FindCommand(this.editor, this.state));\n        this.editor.commands.add('findNext', new FindNextCommand(this.editor, this.state));\n        this.editor.commands.add('findPrevious', new FindPreviousCommand(this.editor, this.state));\n        this.editor.commands.add('replace', new ReplaceCommand(this.editor, this.state));\n        this.editor.commands.add('replaceAll', new ReplaceAllCommand(this.editor, this.state));\n    }\n    /**\n     * Sets up the marker downcast converters for search results highlighting.\n     */\n    _defineConverters() {\n        const { editor } = this;\n        // Setup the marker highlighting conversion.\n        editor.conversion.for('editingDowncast').markerToHighlight({\n            model: 'findResult',\n            view: ({ markerName }) => {\n                const [, id] = markerName.split(':');\n                // Marker removal from the view has a bug: https://github.com/ckeditor/ckeditor5/issues/7499\n                // A minimal option is to return a new object for each converted marker...\n                return {\n                    name: 'span',\n                    classes: ['ck-find-result'],\n                    attributes: {\n                        // ...however, adding a unique attribute should be future-proof..\n                        'data-find-result': id\n                    }\n                };\n            }\n        });\n        editor.conversion.for('editingDowncast').markerToHighlight({\n            model: 'findResultHighlighted',\n            view: ({ markerName }) => {\n                const [, id] = markerName.split(':');\n                // Marker removal from the view has a bug: https://github.com/ckeditor/ckeditor5/issues/7499\n                // A minimal option is to return a new object for each converted marker...\n                return {\n                    name: 'span',\n                    classes: [HIGHLIGHT_CLASS],\n                    attributes: {\n                        // ...however, adding a unique attribute should be future-proof..\n                        'data-find-result': id\n                    }\n                };\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module find-and-replace/findandreplace\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FindAndReplaceUI from './findandreplaceui.js';\nimport FindAndReplaceEditing from './findandreplaceediting.js';\n/**\n * The find and replace plugin.\n *\n * For a detailed overview, check the {@glink features/find-and-replace Find and replace feature documentation}.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * The {@link module:find-and-replace/findandreplaceediting~FindAndReplaceEditing find and replace editing feature},\n * * The {@link module:find-and-replace/findandreplaceui~FindAndReplaceUI find and replace UI feature}\n */\nexport default class FindAndReplace extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FindAndReplaceEditing, FindAndReplaceUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FindAndReplace';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const ui = this.editor.plugins.get('FindAndReplaceUI');\n        const findAndReplaceEditing = this.editor.plugins.get('FindAndReplaceEditing');\n        const state = findAndReplaceEditing.state;\n        ui.on('findNext', (event, data) => {\n            // Data is contained only for the \"find\" button.\n            if (data) {\n                state.searchText = data.searchText;\n                findAndReplaceEditing.find(data.searchText, data);\n            }\n            else {\n                // Find next arrow button press.\n                this.editor.execute('findNext');\n            }\n        });\n        ui.on('findPrevious', (event, data) => {\n            if (data && state.searchText !== data.searchText) {\n                findAndReplaceEditing.find(data.searchText);\n            }\n            else {\n                // Subsequent calls.\n                this.editor.execute('findPrevious');\n            }\n        });\n        ui.on('replace', (event, data) => {\n            if (state.searchText !== data.searchText) {\n                findAndReplaceEditing.find(data.searchText);\n            }\n            const highlightedResult = state.highlightedResult;\n            if (highlightedResult) {\n                this.editor.execute('replace', data.replaceText, highlightedResult);\n            }\n        });\n        ui.on('replaceAll', (event, data) => {\n            // The state hadn't been yet built for this search text.\n            if (state.searchText !== data.searchText) {\n                findAndReplaceEditing.find(data.searchText);\n            }\n            this.editor.execute('replaceAll', data.replaceText, state.results);\n        });\n        // Reset the state when the user invalidated last search results, for instance,\n        // by starting typing another search query or changing options.\n        ui.on('searchReseted', () => {\n            state.clear(this.editor.model);\n            findAndReplaceEditing.stop();\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The base font command.\n */\nexport default class FontCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor Editor instance.\n     * @param attributeKey The name of a model attribute on which this command operates.\n     */\n    constructor(editor, attributeKey) {\n        super(editor);\n        this.attributeKey = attributeKey;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n        this.value = doc.selection.getAttribute(this.attributeKey);\n        this.isEnabled = model.schema.checkAttributeInSelection(doc.selection, this.attributeKey);\n    }\n    /**\n     * Executes the command. Applies the `value` of the {@link #attributeKey} to the selection.\n     * If no `value` is passed, it removes the attribute from the selection.\n     *\n     * @param options Options for the executed command.\n     * @param options.value The value to apply.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        const selection = document.selection;\n        const value = options.value;\n        const batch = options.batch;\n        const updateAttribute = (writer) => {\n            if (selection.isCollapsed) {\n                if (value) {\n                    writer.setSelectionAttribute(this.attributeKey, value);\n                }\n                else {\n                    writer.removeSelectionAttribute(this.attributeKey);\n                }\n            }\n            else {\n                const ranges = model.schema.getValidRanges(selection.getRanges(), this.attributeKey);\n                for (const range of ranges) {\n                    if (value) {\n                        writer.setAttribute(this.attributeKey, value, range);\n                    }\n                    else {\n                        writer.removeAttribute(this.attributeKey, range);\n                    }\n                }\n            }\n        };\n        // In some scenarios, you may want to use a single undo step for multiple changes (e.g. in color picker).\n        if (batch) {\n            model.enqueueChange(batch, writer => {\n                updateAttribute(writer);\n            });\n        }\n        else {\n            model.change(writer => {\n                updateAttribute(writer);\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { ColorSelectorView } from 'ckeditor5/src/ui.js';\n/**\n * The name of the font size plugin.\n */\nexport const FONT_SIZE = 'fontSize';\n/**\n * The name of the font family plugin.\n */\nexport const FONT_FAMILY = 'fontFamily';\n/**\n * The name of the font color plugin.\n */\nexport const FONT_COLOR = 'fontColor';\n/**\n * The name of the font background color plugin.\n */\nexport const FONT_BACKGROUND_COLOR = 'fontBackgroundColor';\n/**\n * Builds a proper converter definition out of input data.\n */\nexport function buildDefinition(modelAttributeKey, options) {\n    const definition = {\n        model: {\n            key: modelAttributeKey,\n            values: []\n        },\n        view: {},\n        upcastAlso: {}\n    };\n    for (const option of options) {\n        definition.model.values.push(option.model);\n        definition.view[option.model] = option.view;\n        if (option.upcastAlso) {\n            definition.upcastAlso[option.model] = option.upcastAlso;\n        }\n    }\n    return definition;\n}\n/**\n * A {@link module:font/fontcolor~FontColor font color} and\n * {@link module:font/fontbackgroundcolor~FontBackgroundColor font background color} helper\n * responsible for upcasting data to the model.\n *\n * **Note**: The `styleAttr` parameter should be either `'color'` or `'background-color'`.\n */\nexport function renderUpcastAttribute(styleAttr) {\n    return (viewElement) => normalizeColorCode(viewElement.getStyle(styleAttr));\n}\n/**\n * A {@link module:font/fontcolor~FontColor font color} and\n * {@link module:font/fontbackgroundcolor~FontBackgroundColor font background color} helper\n * responsible for downcasting a color attribute to a `<span>` element.\n *\n * **Note**: The `styleAttr` parameter should be either `'color'` or `'background-color'`.\n */\nexport function renderDowncastElement(styleAttr) {\n    return (modelAttributeValue, { writer }) => writer.createAttributeElement('span', {\n        style: `${styleAttr}:${modelAttributeValue}`\n    }, { priority: 7 });\n}\n/**\n * A helper that adds {@link module:ui/colorselector/colorselectorview~ColorSelectorView} to the color dropdown with proper initial values.\n *\n * @param config.dropdownView The dropdown view to which a {@link module:ui/colorselector/colorselectorview~ColorSelectorView}\n * will be added.\n * @param config.colors An array with definitions representing colors to be displayed in the color selector.\n * @param config.removeButtonLabel The label for the button responsible for removing the color.\n * @param config.documentColorsLabel The label for the section with document colors.\n * @param config.documentColorsCount The number of document colors inside the dropdown.\n * @param config.colorPickerViewConfig Configuration of the color picker view.\n * @returns The new color selector view.\n */\nexport function addColorSelectorToDropdown({ dropdownView, colors, columns, removeButtonLabel, colorPickerLabel, documentColorsLabel, documentColorsCount, colorPickerViewConfig }) {\n    const locale = dropdownView.locale;\n    const colorSelectorView = new ColorSelectorView(locale, {\n        colors,\n        columns,\n        removeButtonLabel,\n        colorPickerLabel,\n        documentColorsLabel,\n        documentColorsCount,\n        colorPickerViewConfig\n    });\n    dropdownView.colorSelectorView = colorSelectorView;\n    dropdownView.panelView.children.add(colorSelectorView);\n    return colorSelectorView;\n}\n/**\n * Fixes the color value string.\n */\nfunction normalizeColorCode(value) {\n    return value.replace(/\\s/g, '');\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_FAMILY } from '../utils.js';\n/**\n * The font family command. It is used by {@link module:font/fontfamily/fontfamilyediting~FontFamilyEditing}\n * to apply the font family.\n *\n * ```ts\n * editor.execute( 'fontFamily', { value: 'Arial' } );\n * ```\n *\n * **Note**: Executing the command without the value removes the attribute from the model.\n */\nexport default class FontFamilyCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_FAMILY);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontfamily/utils\n */\n/**\n * Normalizes the {@link module:font/fontconfig~FontFamilyConfig#options configuration options}\n * to the {@link module:font/fontconfig~FontFamilyOption} format.\n *\n * @param configuredOptions An array of options taken from the configuration.\n */\nexport function normalizeOptions(configuredOptions) {\n    // Convert options to objects.\n    return configuredOptions\n        .map(getOptionDefinition)\n        // Filter out undefined values that `getOptionDefinition` might return.\n        .filter(option => option !== undefined);\n}\n/**\n * Returns an option definition either created from string shortcut.\n * If object is passed then this method will return it without alternating it. Returns undefined for item than cannot be parsed.\n *\n */\nfunction getOptionDefinition(option) {\n    // Treat any object as full item definition provided by user in configuration.\n    if (typeof option === 'object') {\n        return option;\n    }\n    // Handle 'default' string as a special case. It will be used to remove the fontFamily attribute.\n    if (option === 'default') {\n        return {\n            title: 'Default',\n            model: undefined\n        };\n    }\n    // Ignore values that we cannot parse to a definition.\n    if (typeof option !== 'string') {\n        return undefined;\n    }\n    // Return font family definition from font string.\n    return generateFontPreset(option);\n}\n/**\n * Creates a predefined preset for pixel size. It deconstructs font-family like string into full configuration option.\n * A font definition is passed as coma delimited set of font family names. Font names might be quoted.\n *\n * @param fontDefinition A font definition form configuration.\n */\nfunction generateFontPreset(fontDefinition) {\n    // Remove quotes from font names. They will be normalized later.\n    const fontNames = fontDefinition.replace(/\"|'/g, '').split(',');\n    // The first matched font name will be used as dropdown list item title and as model value.\n    const firstFontName = fontNames[0];\n    // CSS-compatible font names.\n    const cssFontNames = fontNames.map(normalizeFontNameForCSS).join(', ');\n    return {\n        title: firstFontName,\n        model: cssFontNames,\n        view: {\n            name: 'span',\n            styles: {\n                'font-family': cssFontNames\n            },\n            priority: 7\n        }\n    };\n}\n/**\n * Normalizes font name for the style attribute. It adds braces (') if font name contains spaces.\n */\nfunction normalizeFontNameForCSS(fontName) {\n    fontName = fontName.trim();\n    // Compound font names should be quoted.\n    if (fontName.indexOf(' ') > 0) {\n        fontName = `'${fontName}'`;\n    }\n    return fontName;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontfamily/fontfamilyediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontFamilyCommand from './fontfamilycommand.js';\nimport { normalizeOptions } from './utils.js';\nimport { buildDefinition, FONT_FAMILY } from '../utils.js';\n/**\n * The font family editing feature.\n *\n * It introduces the {@link module:font/fontfamily/fontfamilycommand~FontFamilyCommand command} and\n * the `fontFamily` attribute in the {@link module:engine/model/model~Model model} which renders\n * in the {@link module:engine/view/view view} as an inline `<span>` element (`<span style=\"font-family: Arial\">`),\n * depending on the {@link module:font/fontconfig~FontFamilyConfig configuration}.\n */\nexport default class FontFamilyEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontFamilyEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Define default configuration using font families shortcuts.\n        editor.config.define(FONT_FAMILY, {\n            options: [\n                'default',\n                'Arial, Helvetica, sans-serif',\n                'Courier New, Courier, monospace',\n                'Georgia, serif',\n                'Lucida Sans Unicode, Lucida Grande, sans-serif',\n                'Tahoma, Geneva, sans-serif',\n                'Times New Roman, Times, serif',\n                'Trebuchet MS, Helvetica, sans-serif',\n                'Verdana, Geneva, sans-serif'\n            ],\n            supportAllValues: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow fontFamily attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_FAMILY });\n        editor.model.schema.setAttributeProperties(FONT_FAMILY, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        // Get configured font family options without \"default\" option.\n        const options = normalizeOptions(editor.config.get('fontFamily.options')).filter(item => item.model);\n        const definition = buildDefinition(FONT_FAMILY, options);\n        // Set-up the two-way conversion.\n        if (editor.config.get('fontFamily.supportAllValues')) {\n            this._prepareAnyValueConverters();\n            this._prepareCompatibilityConverter();\n        }\n        else {\n            editor.conversion.attributeToElement(definition);\n        }\n        editor.commands.add(FONT_FAMILY, new FontFamilyCommand(editor));\n    }\n    /**\n     * These converters enable keeping any value found as `style=\"font-family: *\"` as a value of an attribute on a text even\n     * if it is not defined in the plugin configuration.\n     */\n    _prepareAnyValueConverters() {\n        const editor = this.editor;\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_FAMILY,\n            view: (attributeValue, { writer }) => {\n                return writer.createAttributeElement('span', { style: 'font-family:' + attributeValue }, { priority: 7 });\n            }\n        });\n        editor.conversion.for('upcast').elementToAttribute({\n            model: {\n                key: FONT_FAMILY,\n                value: (viewElement) => viewElement.getStyle('font-family')\n            },\n            view: {\n                name: 'span',\n                styles: {\n                    'font-family': /.*/\n                }\n            }\n        });\n    }\n    /**\n     * Adds support for legacy `<font face=\"..\">` formatting.\n     */\n    _prepareCompatibilityConverter() {\n        const editor = this.editor;\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'font',\n                attributes: {\n                    'face': /.*/\n                }\n            },\n            model: {\n                key: FONT_FAMILY,\n                value: (viewElement) => viewElement.getAttribute('face')\n            }\n        });\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontfamily/fontfamilyui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { ViewModel, createDropdown, addListToDropdown, MenuBarMenuView, MenuBarMenuListView, MenuBarMenuListItemView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { normalizeOptions } from './utils.js';\nimport { FONT_FAMILY } from '../utils.js';\nimport fontFamilyIcon from '../../theme/icons/font-family.svg';\n/**\n * The font family UI plugin. It introduces the `'fontFamily'` dropdown.\n */\nexport default class FontFamilyUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontFamilyUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = this._getLocalizedOptions();\n        const command = editor.commands.get(FONT_FAMILY);\n        const accessibleLabel = t('Font Family');\n        const listOptions = _prepareListOptions(options, command);\n        // Register UI component.\n        editor.ui.componentFactory.add(FONT_FAMILY, locale => {\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, listOptions, {\n                role: 'menu',\n                ariaLabel: accessibleLabel\n            });\n            dropdownView.buttonView.set({\n                label: accessibleLabel,\n                icon: fontFamilyIcon,\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: 'ck-font-family-dropdown'\n                }\n            });\n            dropdownView.bind('isEnabled').to(command);\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                editor.execute(evt.source.commandName, { value: evt.source.commandParam });\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add(`menuBar:${FONT_FAMILY}`, locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: accessibleLabel,\n                icon: fontFamilyIcon\n            });\n            menuView.bind('isEnabled').to(command);\n            const listView = new MenuBarMenuListView(locale);\n            for (const definition of listOptions) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.set({\n                    role: 'menuitemradio',\n                    isToggleable: true\n                });\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    editor.execute(definition.model.commandName, {\n                        value: definition.model.commandParam\n                    });\n                    editor.editing.view.focus();\n                });\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n    /**\n     * Returns options as defined in `config.fontFamily.options` but processed to account for\n     * editor localization, i.e. to display {@link module:font/fontconfig~FontFamilyOption}\n     * in the correct language.\n     *\n     * Note: The reason behind this method is that there is no way to use {@link module:utils/locale~Locale#t}\n     * when the user configuration is defined because the editor does not exist yet.\n     */\n    _getLocalizedOptions() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = normalizeOptions((editor.config.get(FONT_FAMILY)).options);\n        return options.map(option => {\n            // The only title to localize is \"Default\" others are font names.\n            if (option.title === 'Default') {\n                option.title = t('Default');\n            }\n            return option;\n        });\n    }\n}\n/**\n * Prepares FontFamily dropdown items.\n */\nfunction _prepareListOptions(options, command) {\n    const itemDefinitions = new Collection();\n    // Create dropdown items.\n    for (const option of options) {\n        const def = {\n            type: 'button',\n            model: new ViewModel({\n                commandName: FONT_FAMILY,\n                commandParam: option.model,\n                label: option.title,\n                role: 'menuitemradio',\n                withText: true\n            })\n        };\n        def.model.bind('isOn').to(command, 'value', value => {\n            // \"Default\" or check in strict font-family converters mode.\n            if (value === option.model) {\n                return true;\n            }\n            if (!value || !option.model) {\n                return false;\n            }\n            return value.split(',')[0].replace(/'/g, '').toLowerCase() === option.model.toLowerCase();\n        });\n        // Try to set a dropdown list item style.\n        if (option.view && typeof option.view !== 'string' && option.view.styles) {\n            def.model.set('labelStyle', `font-family: ${option.view.styles['font-family']}`);\n        }\n        itemDefinitions.add(def);\n    }\n    return itemDefinitions;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontfamily\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontFamilyEditing from './fontfamily/fontfamilyediting.js';\nimport FontFamilyUI from './fontfamily/fontfamilyui.js';\n/**\n * The font family plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentatiom\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:font/fontfamily/fontfamilyediting~FontFamilyEditing} and\n * {@link module:font/fontfamily/fontfamilyui~FontFamilyUI} features in the editor.\n */\nexport default class FontFamily extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontFamilyEditing, FontFamilyUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontFamily';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_SIZE } from '../utils.js';\n/**\n * The font size command. It is used by {@link module:font/fontsize/fontsizeediting~FontSizeEditing}\n * to apply the font size.\n *\n * ```ts\n * editor.execute( 'fontSize', { value: 'small' } );\n * ```\n *\n * **Note**: Executing the command without the value removes the attribute from the model.\n */\nexport default class FontSizeCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_SIZE);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontsize/utils\n */\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\n/**\n * Normalizes and translates the {@link module:font/fontconfig~FontSizeConfig#options configuration options}\n * to the {@link module:font/fontconfig~FontSizeOption} format.\n *\n * @param configuredOptions An array of options taken from the configuration.\n */\nexport function normalizeOptions(configuredOptions) {\n    // Convert options to objects.\n    return configuredOptions\n        .map(item => getOptionDefinition(item))\n        // Filter out undefined values that `getOptionDefinition` might return.\n        .filter((option) => option !== undefined);\n}\n// Default named presets map. Always create a new instance of the preset object in order to avoid modifying references.\nconst namedPresets = {\n    get tiny() {\n        return {\n            title: 'Tiny',\n            model: 'tiny',\n            view: {\n                name: 'span',\n                classes: 'text-tiny',\n                priority: 7\n            }\n        };\n    },\n    get small() {\n        return {\n            title: 'Small',\n            model: 'small',\n            view: {\n                name: 'span',\n                classes: 'text-small',\n                priority: 7\n            }\n        };\n    },\n    get big() {\n        return {\n            title: 'Big',\n            model: 'big',\n            view: {\n                name: 'span',\n                classes: 'text-big',\n                priority: 7\n            }\n        };\n    },\n    get huge() {\n        return {\n            title: 'Huge',\n            model: 'huge',\n            view: {\n                name: 'span',\n                classes: 'text-huge',\n                priority: 7\n            }\n        };\n    }\n};\n/**\n * Returns an option definition either from preset or creates one from number shortcut.\n * If object is passed then this method will return it without alternating it. Returns undefined for item than cannot be parsed.\n */\nfunction getOptionDefinition(option) {\n    if (typeof option === 'number') {\n        option = String(option);\n    }\n    // Check whether passed option is a full item definition provided by user in configuration.\n    if (typeof option === 'object' && isFullItemDefinition(option)) {\n        return attachPriority(option);\n    }\n    const preset = findPreset(option);\n    // Item is a named preset.\n    if (preset) {\n        return attachPriority(preset);\n    }\n    // 'Default' font size. It will be used to remove the fontSize attribute.\n    if (option === 'default') {\n        return {\n            model: undefined,\n            title: 'Default'\n        };\n    }\n    // At this stage we probably have numerical value to generate a preset so parse it's value.\n    // Discard any faulty values.\n    if (isNumericalDefinition(option)) {\n        return undefined;\n    }\n    // Return font size definition from size value.\n    return generatePixelPreset(option);\n}\n/**\n * Creates a predefined preset for pixel size.\n * @param definition Font size in pixels.\n * @returns\n */\nfunction generatePixelPreset(definition) {\n    // Extend a short (numeric value) definition.\n    if (typeof definition === 'string') {\n        definition = {\n            title: definition,\n            model: `${parseFloat(definition)}px`\n        };\n    }\n    definition.view = {\n        name: 'span',\n        styles: {\n            'font-size': definition.model\n        }\n    };\n    return attachPriority(definition);\n}\n/**\n * Adds the priority to the view element definition if missing. It's required due to ckeditor/ckeditor5#2291\n */\nfunction attachPriority(definition) {\n    if (definition.view && typeof definition.view !== 'string' && !definition.view.priority) {\n        definition.view.priority = 7;\n    }\n    return definition;\n}\n/**\n * Returns a prepared preset definition. If passed an object, a name of preset should be defined as `model` value.\n *\n * @param definition.model A preset name.\n */\nfunction findPreset(definition) {\n    return typeof definition === 'string' ? namedPresets[definition] : namedPresets[definition.model];\n}\n/**\n * We treat `definition` as completed if it is an object that contains `title`, `model` and `view` values.\n */\nfunction isFullItemDefinition(definition) {\n    return definition.title && definition.model && definition.view;\n}\nfunction isNumericalDefinition(definition) {\n    let numberValue;\n    if (typeof definition === 'object') {\n        if (!definition.model) {\n            /**\n             * Provided value as an option for {@link module:font/fontsize~FontSize} seems to invalid.\n             *\n             * See valid examples described in the {@link module:font/fontconfig~FontSizeConfig#options plugin configuration}.\n             *\n             * @error font-size-invalid-definition\n             */\n            throw new CKEditorError('font-size-invalid-definition', null, definition);\n        }\n        else {\n            numberValue = parseFloat(definition.model);\n        }\n    }\n    else {\n        numberValue = parseFloat(definition);\n    }\n    return isNaN(numberValue);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontsize/fontsizeediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\nimport { isLength, isPercentage } from 'ckeditor5/src/engine.js';\nimport FontSizeCommand from './fontsizecommand.js';\nimport { normalizeOptions } from './utils.js';\nimport { buildDefinition, FONT_SIZE } from '../utils.js';\n// Mapping of `<font size=\"..\">` styling to CSS's `font-size` values.\nconst styleFontSize = [\n    'x-small',\n    'x-small',\n    'small',\n    'medium',\n    'large',\n    'x-large',\n    'xx-large',\n    'xxx-large'\n];\n/**\n * The font size editing feature.\n *\n * It introduces the {@link module:font/fontsize/fontsizecommand~FontSizeCommand command} and the `fontSize`\n * attribute in the {@link module:engine/model/model~Model model} which renders in the {@link module:engine/view/view view}\n * as a `<span>` element with either:\n * * a style attribute (`<span style=\"font-size:12px\">...</span>`),\n * * or a class attribute (`<span class=\"text-small\">...</span>`)\n *\n * depending on the {@link module:font/fontconfig~FontSizeConfig configuration}.\n */\nexport default class FontSizeEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontSizeEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Define default configuration using named presets.\n        editor.config.define(FONT_SIZE, {\n            options: [\n                'tiny',\n                'small',\n                'default',\n                'big',\n                'huge'\n            ],\n            supportAllValues: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Allow fontSize attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_SIZE });\n        editor.model.schema.setAttributeProperties(FONT_SIZE, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n        const supportAllValues = editor.config.get('fontSize.supportAllValues');\n        // Define view to model conversion.\n        const options = normalizeOptions(this.editor.config.get('fontSize.options'))\n            .filter(item => item.model);\n        const definition = buildDefinition(FONT_SIZE, options);\n        // Set-up the two-way conversion.\n        if (supportAllValues) {\n            this._prepareAnyValueConverters(definition);\n            this._prepareCompatibilityConverter();\n        }\n        else {\n            editor.conversion.attributeToElement(definition);\n        }\n        // Add FontSize command.\n        editor.commands.add(FONT_SIZE, new FontSizeCommand(editor));\n    }\n    /**\n     * These converters enable keeping any value found as `style=\"font-size: *\"` as a value of an attribute on a text even\n     * if it is not defined in the plugin configuration.\n     *\n     * @param definition Converter definition out of input data.\n     */\n    _prepareAnyValueConverters(definition) {\n        const editor = this.editor;\n        // If `fontSize.supportAllValues=true`, we do not allow to use named presets in the plugin's configuration.\n        const presets = definition.model.values.filter((value) => {\n            return !isLength(String(value)) && !isPercentage(String(value));\n        });\n        if (presets.length) {\n            /**\n             * If {@link module:font/fontconfig~FontSizeConfig#supportAllValues `config.fontSize.supportAllValues`} is `true`,\n             * you need to use numerical values as font size options.\n             *\n             * See valid examples described in the {@link module:font/fontconfig~FontSizeConfig#options plugin configuration}.\n             *\n             * @error font-size-invalid-use-of-named-presets\n             * @param {Array.<String>} presets Invalid values.\n             */\n            throw new CKEditorError('font-size-invalid-use-of-named-presets', null, { presets });\n        }\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_SIZE,\n            view: (attributeValue, { writer }) => {\n                if (!attributeValue) {\n                    return;\n                }\n                return writer.createAttributeElement('span', { style: 'font-size:' + attributeValue }, { priority: 7 });\n            }\n        });\n        editor.conversion.for('upcast').elementToAttribute({\n            model: {\n                key: FONT_SIZE,\n                value: (viewElement) => viewElement.getStyle('font-size')\n            },\n            view: {\n                name: 'span',\n                styles: {\n                    'font-size': /.*/\n                }\n            }\n        });\n    }\n    /**\n     * Adds support for legacy `<font size=\"..\">` formatting.\n     */\n    _prepareCompatibilityConverter() {\n        const editor = this.editor;\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'font',\n                attributes: {\n                    // Documentation mentions sizes from 1 to 7. To handle old content we support all values\n                    // up to 999 but clamp it to the valid range. Why 999? It should cover accidental values\n                    // similar to percentage, e.g. 100%, 200% which could be the usual mistake for font size.\n                    'size': /^[+-]?\\d{1,3}$/\n                }\n            },\n            model: {\n                key: FONT_SIZE,\n                value: (viewElement) => {\n                    const value = viewElement.getAttribute('size');\n                    const isRelative = value[0] === '-' || value[0] === '+';\n                    let size = parseInt(value, 10);\n                    if (isRelative) {\n                        // Add relative size (which can be negative) to the default size = 3.\n                        size = 3 + size;\n                    }\n                    const maxSize = styleFontSize.length - 1;\n                    const clampedSize = Math.min(Math.max(size, 0), maxSize);\n                    return styleFontSize[clampedSize];\n                }\n            }\n        });\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./fontsize.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontsize/fontsizeui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ViewModel, createDropdown, addListToDropdown, MenuBarMenuView, MenuBarMenuListView, MenuBarMenuListItemView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { normalizeOptions } from './utils.js';\nimport { FONT_SIZE } from '../utils.js';\nimport '../../theme/fontsize.css';\nimport fontSizeIcon from '../../theme/icons/font-size.svg';\n/**\n * The font size UI plugin. It introduces the `'fontSize'` dropdown.\n */\nexport default class FontSizeUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontSizeUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = this._getLocalizedOptions();\n        const command = editor.commands.get(FONT_SIZE);\n        const accessibleLabel = t('Font Size');\n        const listOptions = _prepareListOptions(options, command);\n        // Register UI component.\n        editor.ui.componentFactory.add(FONT_SIZE, locale => {\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, listOptions, {\n                role: 'menu',\n                ariaLabel: accessibleLabel\n            });\n            // Create dropdown model.\n            dropdownView.buttonView.set({\n                label: accessibleLabel,\n                icon: fontSizeIcon,\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: [\n                        'ck-font-size-dropdown'\n                    ]\n                }\n            });\n            dropdownView.bind('isEnabled').to(command);\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                editor.execute(evt.source.commandName, { value: evt.source.commandParam });\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add(`menuBar:${FONT_SIZE}`, locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: accessibleLabel,\n                icon: fontSizeIcon\n            });\n            menuView.bind('isEnabled').to(command);\n            const listView = new MenuBarMenuListView(locale);\n            for (const definition of listOptions) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.set({\n                    role: 'menuitemradio',\n                    isToggleable: true\n                });\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    editor.execute(definition.model.commandName, {\n                        value: definition.model.commandParam\n                    });\n                    editor.editing.view.focus();\n                });\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.panelView.children.add(listView);\n            return menuView;\n        });\n    }\n    /**\n     * Returns options as defined in `config.fontSize.options` but processed to account for\n     * editor localization, i.e. to display {@link module:font/fontconfig~FontSizeOption}\n     * in the correct language.\n     *\n     * Note: The reason behind this method is that there is no way to use {@link module:utils/locale~Locale#t}\n     * when the user configuration is defined because the editor does not exist yet.\n     */\n    _getLocalizedOptions() {\n        const editor = this.editor;\n        const t = editor.t;\n        const localizedTitles = {\n            Default: t('Default'),\n            Tiny: t('Tiny'),\n            Small: t('Small'),\n            Big: t('Big'),\n            Huge: t('Huge')\n        };\n        const options = normalizeOptions((editor.config.get(FONT_SIZE)).options);\n        return options.map(option => {\n            const title = localizedTitles[option.title];\n            if (title && title != option.title) {\n                // Clone the option to avoid altering the original `namedPresets` from `./utils.js`.\n                option = Object.assign({}, option, { title });\n            }\n            return option;\n        });\n    }\n}\n/**\n * Prepares FontSize dropdown items.\n */\nfunction _prepareListOptions(options, command) {\n    const itemDefinitions = new Collection();\n    for (const option of options) {\n        const def = {\n            type: 'button',\n            model: new ViewModel({\n                commandName: FONT_SIZE,\n                commandParam: option.model,\n                label: option.title,\n                class: 'ck-fontsize-option',\n                role: 'menuitemradio',\n                withText: true\n            })\n        };\n        if (option.view && typeof option.view !== 'string') {\n            if (option.view.styles) {\n                def.model.set('labelStyle', `font-size:${option.view.styles['font-size']}`);\n            }\n            if (option.view.classes) {\n                def.model.set('class', `${def.model.class} ${option.view.classes}`);\n            }\n        }\n        def.model.bind('isOn').to(command, 'value', value => value === option.model);\n        // Add the option to the collection.\n        itemDefinitions.add(def);\n    }\n    return itemDefinitions;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontsize\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontSizeEditing from './fontsize/fontsizeediting.js';\nimport FontSizeUI from './fontsize/fontsizeui.js';\nimport { normalizeOptions } from './fontsize/utils.js';\n/**\n * The font size plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentation\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:font/fontsize/fontsizeediting~FontSizeEditing} and\n * {@link module:font/fontsize/fontsizeui~FontSizeUI} features in the editor.\n */\nexport default class FontSize extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontSizeEditing, FontSizeUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontSize';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Normalizes and translates the {@link module:font/fontconfig~FontSizeConfig#options configuration options}\n     * to the {@link module:font/fontconfig~FontSizeOption} format.\n     *\n     * @param configuredOptions An array of options taken from the configuration.\n     */\n    normalizeSizeOptions(options) {\n        return normalizeOptions(options);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_COLOR } from '../utils.js';\n/**\n * The font color command. It is used by {@link module:font/fontcolor/fontcolorediting~FontColorEditing}\n * to apply the font color.\n *\n * ```ts\n * editor.execute( 'fontColor', { value: 'rgb(250, 20, 20)' } );\n * ```\n *\n * **Note**: Executing the command with the `null` value removes the attribute from the model.\n */\nexport default class FontColorCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_COLOR);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontcolor/fontcolorediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontColorCommand from './fontcolorcommand.js';\nimport { FONT_COLOR, renderDowncastElement, renderUpcastAttribute } from '../utils.js';\n/**\n * The font color editing feature.\n *\n * It introduces the {@link module:font/fontcolor/fontcolorcommand~FontColorCommand command} and\n * the `fontColor` attribute in the {@link module:engine/model/model~Model model} which renders\n * in the {@link module:engine/view/view view} as a `<span>` element (`<span style=\"color: ...\">`),\n * depending on the {@link module:font/fontconfig~FontColorConfig configuration}.\n */\nexport default class FontColorEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontColorEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define(FONT_COLOR, {\n            colors: [\n                {\n                    color: 'hsl(0, 0%, 0%)',\n                    label: 'Black'\n                },\n                {\n                    color: 'hsl(0, 0%, 30%)',\n                    label: 'Dim grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 60%)',\n                    label: 'Grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 90%)',\n                    label: 'Light grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 100%)',\n                    label: 'White',\n                    hasBorder: true\n                },\n                {\n                    color: 'hsl(0, 75%, 60%)',\n                    label: 'Red'\n                },\n                {\n                    color: 'hsl(30, 75%, 60%)',\n                    label: 'Orange'\n                },\n                {\n                    color: 'hsl(60, 75%, 60%)',\n                    label: 'Yellow'\n                },\n                {\n                    color: 'hsl(90, 75%, 60%)',\n                    label: 'Light green'\n                },\n                {\n                    color: 'hsl(120, 75%, 60%)',\n                    label: 'Green'\n                },\n                {\n                    color: 'hsl(150, 75%, 60%)',\n                    label: 'Aquamarine'\n                },\n                {\n                    color: 'hsl(180, 75%, 60%)',\n                    label: 'Turquoise'\n                },\n                {\n                    color: 'hsl(210, 75%, 60%)',\n                    label: 'Light blue'\n                },\n                {\n                    color: 'hsl(240, 75%, 60%)',\n                    label: 'Blue'\n                },\n                {\n                    color: 'hsl(270, 75%, 60%)',\n                    label: 'Purple'\n                }\n            ],\n            columns: 5\n        });\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'span',\n                styles: {\n                    'color': /[\\s\\S]+/\n                }\n            },\n            model: {\n                key: FONT_COLOR,\n                value: renderUpcastAttribute('color')\n            }\n        });\n        // Support legacy `<font color=\"..\">` formatting.\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'font',\n                attributes: {\n                    'color': /^#?\\w+$/\n                }\n            },\n            model: {\n                key: FONT_COLOR,\n                value: (viewElement) => viewElement.getAttribute('color')\n            }\n        });\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_COLOR,\n            view: renderDowncastElement('color')\n        });\n        editor.commands.add(FONT_COLOR, new FontColorCommand(editor));\n        // Allow the font color attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_COLOR });\n        editor.model.schema.setAttributeProperties(FONT_COLOR, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/ui/colorui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createDropdown, normalizeColorOptions, getLocalizedColorOptions, focusChildOnDropdownOpen, MenuBarMenuView, ColorSelectorView } from 'ckeditor5/src/ui.js';\nimport { addColorSelectorToDropdown } from '../utils.js';\n/**\n * The color UI plugin which isolates the common logic responsible for displaying dropdowns with color grids.\n *\n * It is used to create the `'fontBackgroundColor'` and `'fontColor'` dropdowns, each hosting\n * a {@link module:ui/colorselector/colorselectorview~ColorSelectorView}.\n */\nexport default class ColorUI extends Plugin {\n    /**\n     * Creates a plugin which introduces a dropdown with a pre–configured\n     * {@link module:ui/colorselector/colorselectorview~ColorSelectorView}.\n     *\n     * @param config The configuration object.\n     * @param config.commandName The name of the command which will be executed when a color tile is clicked.\n     * @param config.componentName The name of the dropdown in the {@link module:ui/componentfactory~ComponentFactory}\n     * and the configuration scope name in `editor.config`.\n     * @param config.icon The SVG icon used by the dropdown.\n     * @param config.dropdownLabel The label used by the dropdown.\n     */\n    constructor(editor, { commandName, componentName, icon, dropdownLabel }) {\n        super(editor);\n        this.commandName = commandName;\n        this.componentName = componentName;\n        this.icon = icon;\n        this.dropdownLabel = dropdownLabel;\n        this.columns = editor.config.get(`${this.componentName}.columns`);\n    }\n    /**\n    * @inheritDoc\n    */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const t = locale.t;\n        const command = editor.commands.get(this.commandName);\n        const componentConfig = editor.config.get(this.componentName);\n        const colorsConfig = normalizeColorOptions(componentConfig.colors);\n        const localizedColors = getLocalizedColorOptions(locale, colorsConfig);\n        const documentColorsCount = componentConfig.documentColors;\n        const hasColorPicker = componentConfig.colorPicker !== false;\n        // Register the UI component.\n        editor.ui.componentFactory.add(this.componentName, locale => {\n            const dropdownView = createDropdown(locale);\n            // Font color dropdown rendering is deferred once it gets open to improve performance (#6192).\n            let dropdownContentRendered = false;\n            const colorSelectorView = addColorSelectorToDropdown({\n                dropdownView,\n                colors: localizedColors.map(option => ({\n                    label: option.label,\n                    color: option.model,\n                    options: {\n                        hasBorder: option.hasBorder\n                    }\n                })),\n                columns: this.columns,\n                removeButtonLabel: t('Remove color'),\n                colorPickerLabel: t('Color picker'),\n                documentColorsLabel: documentColorsCount !== 0 ? t('Document colors') : '',\n                documentColorsCount: documentColorsCount === undefined ? this.columns : documentColorsCount,\n                colorPickerViewConfig: hasColorPicker ? (componentConfig.colorPicker || {}) : false\n            });\n            colorSelectorView.bind('selectedColor').to(command, 'value');\n            dropdownView.buttonView.set({\n                label: this.dropdownLabel,\n                icon: this.icon,\n                tooltip: true\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: 'ck-color-ui-dropdown'\n                }\n            });\n            dropdownView.bind('isEnabled').to(command);\n            colorSelectorView.on('execute', (evt, data) => {\n                if (dropdownView.isOpen) {\n                    editor.execute(this.commandName, {\n                        value: data.value,\n                        batch: this._undoStepBatch\n                    });\n                }\n                if (data.source !== 'colorPicker') {\n                    editor.editing.view.focus();\n                }\n                if (data.source === 'colorPickerSaveButton') {\n                    dropdownView.isOpen = false;\n                }\n            });\n            colorSelectorView.on('colorPicker:show', () => {\n                this._undoStepBatch = editor.model.createBatch();\n            });\n            colorSelectorView.on('colorPicker:cancel', () => {\n                if (this._undoStepBatch.operations.length) {\n                    // We need to close the dropdown before the undo batch.\n                    // Otherwise, ColorUI treats undo as a selected color change,\n                    // propagating the update to the whole selection.\n                    // That's an issue if spans with various colors were selected.\n                    dropdownView.isOpen = false;\n                    editor.execute('undo', this._undoStepBatch);\n                }\n                editor.editing.view.focus();\n            });\n            dropdownView.on('change:isOpen', (evt, name, isVisible) => {\n                if (!dropdownContentRendered) {\n                    dropdownContentRendered = true;\n                    dropdownView.colorSelectorView.appendUI();\n                }\n                if (isVisible) {\n                    if (documentColorsCount !== 0) {\n                        colorSelectorView.updateDocumentColors(editor.model, this.componentName);\n                    }\n                    colorSelectorView.updateSelectedColors();\n                    colorSelectorView.showColorGridsFragment();\n                }\n            });\n            // Accessibility: focus the first active color when opening the dropdown.\n            focusChildOnDropdownOpen(dropdownView, () => dropdownView.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find((item) => item.isOn));\n            return dropdownView;\n        });\n        // Register menu bar button..\n        editor.ui.componentFactory.add(`menuBar:${this.componentName}`, locale => {\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: this.dropdownLabel,\n                icon: this.icon\n            });\n            menuView.bind('isEnabled').to(command);\n            // Font color sub-menu rendering is deferred once it gets open to improve performance (#6192).\n            let contentRendered = false;\n            const colorSelectorView = new ColorSelectorView(locale, {\n                colors: localizedColors.map(option => ({\n                    label: option.label,\n                    color: option.model,\n                    options: {\n                        hasBorder: option.hasBorder\n                    }\n                })),\n                columns: this.columns,\n                removeButtonLabel: t('Remove color'),\n                colorPickerLabel: t('Color picker'),\n                documentColorsLabel: documentColorsCount !== 0 ? t('Document colors') : '',\n                documentColorsCount: documentColorsCount === undefined ? this.columns : documentColorsCount,\n                colorPickerViewConfig: false\n            });\n            colorSelectorView.bind('selectedColor').to(command, 'value');\n            colorSelectorView.delegate('execute').to(menuView);\n            colorSelectorView.on('execute', (evt, data) => {\n                editor.execute(this.commandName, {\n                    value: data.value,\n                    batch: this._undoStepBatch\n                });\n                editor.editing.view.focus();\n            });\n            menuView.on('change:isOpen', (evt, name, isVisible) => {\n                if (!contentRendered) {\n                    contentRendered = true;\n                    colorSelectorView.appendUI();\n                }\n                if (isVisible) {\n                    if (documentColorsCount !== 0) {\n                        colorSelectorView.updateDocumentColors(editor.model, this.componentName);\n                    }\n                    colorSelectorView.updateSelectedColors();\n                    colorSelectorView.showColorGridsFragment();\n                }\n            });\n            menuView.panelView.children.add(colorSelectorView);\n            return menuView;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontcolor/fontcolorui\n */\nimport ColorUI from '../ui/colorui.js';\nimport { FONT_COLOR } from '../utils.js';\nimport fontColorIcon from '../../theme/icons/font-color.svg';\n/**\n * The font color UI plugin. It introduces the `'fontColor'` dropdown.\n */\nexport default class FontColorUI extends ColorUI {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        const t = editor.locale.t;\n        super(editor, {\n            commandName: FONT_COLOR,\n            componentName: FONT_COLOR,\n            icon: fontColorIcon,\n            dropdownLabel: t('Font Color')\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontColorUI';\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontcolor\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontColorEditing from './fontcolor/fontcolorediting.js';\nimport FontColorUI from './fontcolor/fontcolorui.js';\n/**\n * The font color plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentation\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:font/fontcolor/fontcolorediting~FontColorEditing} and\n * {@link module:font/fontcolor/fontcolorui~FontColorUI} features in the editor.\n */\nexport default class FontColor extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontColorEditing, FontColorUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontColor';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport FontCommand from '../fontcommand.js';\nimport { FONT_BACKGROUND_COLOR } from '../utils.js';\n/**\n * The font background color command. It is used by\n * {@link module:font/fontbackgroundcolor/fontbackgroundcolorediting~FontBackgroundColorEditing}\n * to apply the font background color.\n *\n * ```ts\n * editor.execute( 'fontBackgroundColor', { value: 'rgb(250, 20, 20)' } );\n * ```\n *\n * **Note**: Executing the command with the `null` value removes the attribute from the model.\n */\nexport default class FontBackgroundColorCommand extends FontCommand {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor, FONT_BACKGROUND_COLOR);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontbackgroundcolor/fontbackgroundcolorediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addBackgroundRules } from 'ckeditor5/src/engine.js';\nimport FontBackgroundColorCommand from './fontbackgroundcolorcommand.js';\nimport { FONT_BACKGROUND_COLOR, renderDowncastElement, renderUpcastAttribute } from '../utils.js';\n/**\n * The font background color editing feature.\n *\n * It introduces the {@link module:font/fontbackgroundcolor/fontbackgroundcolorcommand~FontBackgroundColorCommand command} and\n * the `fontBackgroundColor` attribute in the {@link module:engine/model/model~Model model} which renders\n * in the {@link module:engine/view/view view} as a `<span>` element (`<span style=\"background-color: ...\">`),\n * depending on the {@link module:font/fontconfig~FontColorConfig configuration}.\n */\nexport default class FontBackgroundColorEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontBackgroundColorEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define(FONT_BACKGROUND_COLOR, {\n            colors: [\n                {\n                    color: 'hsl(0, 0%, 0%)',\n                    label: 'Black'\n                },\n                {\n                    color: 'hsl(0, 0%, 30%)',\n                    label: 'Dim grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 60%)',\n                    label: 'Grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 90%)',\n                    label: 'Light grey'\n                },\n                {\n                    color: 'hsl(0, 0%, 100%)',\n                    label: 'White',\n                    hasBorder: true\n                },\n                {\n                    color: 'hsl(0, 75%, 60%)',\n                    label: 'Red'\n                },\n                {\n                    color: 'hsl(30, 75%, 60%)',\n                    label: 'Orange'\n                },\n                {\n                    color: 'hsl(60, 75%, 60%)',\n                    label: 'Yellow'\n                },\n                {\n                    color: 'hsl(90, 75%, 60%)',\n                    label: 'Light green'\n                },\n                {\n                    color: 'hsl(120, 75%, 60%)',\n                    label: 'Green'\n                },\n                {\n                    color: 'hsl(150, 75%, 60%)',\n                    label: 'Aquamarine'\n                },\n                {\n                    color: 'hsl(180, 75%, 60%)',\n                    label: 'Turquoise'\n                },\n                {\n                    color: 'hsl(210, 75%, 60%)',\n                    label: 'Light blue'\n                },\n                {\n                    color: 'hsl(240, 75%, 60%)',\n                    label: 'Blue'\n                },\n                {\n                    color: 'hsl(270, 75%, 60%)',\n                    label: 'Purple'\n                }\n            ],\n            columns: 5\n        });\n        editor.data.addStyleProcessorRules(addBackgroundRules);\n        editor.conversion.for('upcast').elementToAttribute({\n            view: {\n                name: 'span',\n                styles: {\n                    'background-color': /[\\s\\S]+/\n                }\n            },\n            model: {\n                key: FONT_BACKGROUND_COLOR,\n                value: renderUpcastAttribute('background-color')\n            }\n        });\n        editor.conversion.for('downcast').attributeToElement({\n            model: FONT_BACKGROUND_COLOR,\n            view: renderDowncastElement('background-color')\n        });\n        editor.commands.add(FONT_BACKGROUND_COLOR, new FontBackgroundColorCommand(editor));\n        // Allow the font backgroundColor attribute on text nodes.\n        editor.model.schema.extend('$text', { allowAttributes: FONT_BACKGROUND_COLOR });\n        editor.model.schema.setAttributeProperties(FONT_BACKGROUND_COLOR, {\n            isFormatting: true,\n            copyOnEnter: true\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontbackgroundcolor/fontbackgroundcolorui\n */\nimport ColorUI from '../ui/colorui.js';\nimport { FONT_BACKGROUND_COLOR } from '../utils.js';\nimport fontBackgroundColorIcon from '../../theme/icons/font-background.svg';\n/**\n * The font background color UI plugin. It introduces the `'fontBackgroundColor'` dropdown.\n */\nexport default class FontBackgroundColorUI extends ColorUI {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        const t = editor.locale.t;\n        super(editor, {\n            commandName: FONT_BACKGROUND_COLOR,\n            componentName: FONT_BACKGROUND_COLOR,\n            icon: fontBackgroundColorIcon,\n            dropdownLabel: t('Font Background Color')\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontBackgroundColorUI';\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/fontbackgroundcolor\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontBackgroundColorEditing from './fontbackgroundcolor/fontbackgroundcolorediting.js';\nimport FontBackgroundColorUI from './fontbackgroundcolor/fontbackgroundcolorui.js';\n/**\n * The font background color plugin.\n *\n * For a detailed overview, check the {@glink features/font font feature} documentation\n * and the {@glink api/font package page}.\n *\n * This is a \"glue\" plugin which loads\n * the {@link module:font/fontbackgroundcolor/fontbackgroundcolorediting~FontBackgroundColorEditing} and\n * {@link module:font/fontbackgroundcolor/fontbackgroundcolorui~FontBackgroundColorUI} features in the editor.\n */\nexport default class FontBackgroundColor extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontBackgroundColorEditing, FontBackgroundColorUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'FontBackgroundColor';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module font/font\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport FontFamily from './fontfamily.js';\nimport FontSize from './fontsize.js';\nimport FontColor from './fontcolor.js';\nimport FontBackgroundColor from './fontbackgroundcolor.js';\n/**\n * A plugin that enables a set of text styling features:\n *\n * * {@link module:font/fontsize~FontSize},\n * * {@link module:font/fontfamily~FontFamily}.\n * * {@link module:font/fontcolor~FontColor},\n * * {@link module:font/fontbackgroundcolor~FontBackgroundColor}.\n *\n * For a detailed overview, check the {@glink features/font Font feature} documentation\n * and the {@glink api/font package page}.\n */\nexport default class Font extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [FontFamily, FontSize, FontColor, FontBackgroundColor];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Font';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nexport default hasUnicode;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nexport default unicodeToArray;\n","import asciiToArray from './_asciiToArray.js';\nimport hasUnicode from './_hasUnicode.js';\nimport unicodeToArray from './_unicodeToArray.js';\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nexport default stringToArray;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nexport default asciiToArray;\n","import createCaseFirst from './_createCaseFirst.js';\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nexport default upperFirst;\n","import castSlice from './_castSlice.js';\nimport hasUnicode from './_hasUnicode.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nexport default createCaseFirst;\n","import createCompounder from './_createCompounder.js';\nimport upperFirst from './upperFirst.js';\n\n/**\n * Converts `string` to\n * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n *\n * @static\n * @memberOf _\n * @since 3.1.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the start cased string.\n * @example\n *\n * _.startCase('--foo-bar--');\n * // => 'Foo Bar'\n *\n * _.startCase('fooBar');\n * // => 'Foo Bar'\n *\n * _.startCase('__FOO_BAR__');\n * // => 'FOO BAR'\n */\nvar startCase = createCompounder(function(result, word, index) {\n  return result + (index ? ' ' : '') + upperFirst(word);\n});\n\nexport default startCase;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { startCase, cloneDeep } from 'lodash-es';\n/**\n* Helper function for the downcast converter. Updates attributes on the given view element.\n*\n* @param writer The view writer.\n* @param oldViewAttributes The previous GHS attribute value.\n* @param newViewAttributes The current GHS attribute value.\n* @param viewElement The view element to update.\n*/\nexport function updateViewAttributes(writer, oldViewAttributes, newViewAttributes, viewElement) {\n    if (oldViewAttributes) {\n        removeViewAttributes(writer, oldViewAttributes, viewElement);\n    }\n    if (newViewAttributes) {\n        setViewAttributes(writer, newViewAttributes, viewElement);\n    }\n}\n/**\n * Helper function for the downcast converter. Sets attributes on the given view element.\n *\n * @param writer The view writer.\n * @param viewAttributes The GHS attribute value.\n * @param viewElement The view element to update.\n */\nexport function setViewAttributes(writer, viewAttributes, viewElement) {\n    if (viewAttributes.attributes) {\n        for (const [key, value] of Object.entries(viewAttributes.attributes)) {\n            writer.setAttribute(key, value, viewElement);\n        }\n    }\n    if (viewAttributes.styles) {\n        writer.setStyle(viewAttributes.styles, viewElement);\n    }\n    if (viewAttributes.classes) {\n        writer.addClass(viewAttributes.classes, viewElement);\n    }\n}\n/**\n * Helper function for the downcast converter. Removes attributes on the given view element.\n *\n * @param writer The view writer.\n * @param viewAttributes The GHS attribute value.\n * @param viewElement The view element to update.\n */\nexport function removeViewAttributes(writer, viewAttributes, viewElement) {\n    if (viewAttributes.attributes) {\n        for (const [key] of Object.entries(viewAttributes.attributes)) {\n            writer.removeAttribute(key, viewElement);\n        }\n    }\n    if (viewAttributes.styles) {\n        for (const style of Object.keys(viewAttributes.styles)) {\n            writer.removeStyle(style, viewElement);\n        }\n    }\n    if (viewAttributes.classes) {\n        writer.removeClass(viewAttributes.classes, viewElement);\n    }\n}\n/**\n* Merges view element attribute objects.\n*/\nexport function mergeViewElementAttributes(target, source) {\n    const result = cloneDeep(target);\n    let key = 'attributes';\n    for (key in source) {\n        // Merge classes.\n        if (key == 'classes') {\n            result[key] = Array.from(new Set([...(target[key] || []), ...source[key]]));\n        }\n        // Merge attributes or styles.\n        else {\n            result[key] = { ...target[key], ...source[key] };\n        }\n    }\n    return result;\n}\nexport function modifyGhsAttribute(writer, item, ghsAttributeName, subject, callback) {\n    const oldValue = item.getAttribute(ghsAttributeName);\n    const newValue = {};\n    for (const kind of ['attributes', 'styles', 'classes']) {\n        // Properties other than `subject` should be assigned from `oldValue`.\n        if (kind != subject) {\n            if (oldValue && oldValue[kind]) {\n                newValue[kind] = oldValue[kind];\n            }\n            continue;\n        }\n        // `callback` should be applied on property [`subject`].\n        if (subject == 'classes') {\n            const values = new Set(oldValue && oldValue.classes || []);\n            callback(values);\n            if (values.size) {\n                newValue[kind] = Array.from(values);\n            }\n            continue;\n        }\n        const values = new Map(Object.entries(oldValue && oldValue[kind] || {}));\n        callback(values);\n        if (values.size) {\n            newValue[kind] = Object.fromEntries(values);\n        }\n    }\n    if (Object.keys(newValue).length) {\n        if (item.is('documentSelection')) {\n            writer.setSelectionAttribute(ghsAttributeName, newValue);\n        }\n        else {\n            writer.setAttribute(ghsAttributeName, newValue, item);\n        }\n    }\n    else if (oldValue) {\n        if (item.is('documentSelection')) {\n            writer.removeSelectionAttribute(ghsAttributeName);\n        }\n        else {\n            writer.removeAttribute(ghsAttributeName, item);\n        }\n    }\n}\n/**\n * Transforms passed string to PascalCase format. Examples:\n * * `div` => `Div`\n * * `h1` => `H1`\n * * `table` => `Table`\n */\nexport function toPascalCase(data) {\n    return startCase(data).replace(/ /g, '');\n}\n/**\n * Returns the attribute name of the model element that holds raw HTML attributes.\n */\nexport function getHtmlAttributeName(viewElementName) {\n    return `html${toPascalCase(viewElementName)}Attributes`;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport { setViewAttributes, mergeViewElementAttributes, updateViewAttributes, getHtmlAttributeName } from './utils.js';\n/**\n * View-to-model conversion helper for object elements.\n *\n * Preserves object element content in `htmlContent` attribute.\n *\n * @returns Returns a conversion callback.\n*/\nexport function viewToModelObjectConverter({ model: modelName }) {\n    return (viewElement, conversionApi) => {\n        // Let's keep element HTML and its attributes, so we can rebuild element in downcast conversions.\n        return conversionApi.writer.createElement(modelName, {\n            htmlContent: viewElement.getCustomProperty('$rawContent')\n        });\n    };\n}\n/**\n * Conversion helper converting an object element to an HTML object widget.\n *\n * @returns Returns a conversion callback.\n*/\nexport function toObjectWidgetConverter(editor, { view: viewName, isInline }) {\n    const t = editor.t;\n    return (modelElement, { writer }) => {\n        const widgetLabel = t('HTML object');\n        const viewElement = createObjectView(viewName, modelElement, writer);\n        const viewAttributes = modelElement.getAttribute(getHtmlAttributeName(viewName));\n        writer.addClass('html-object-embed__content', viewElement);\n        if (viewAttributes) {\n            setViewAttributes(writer, viewAttributes, viewElement);\n        }\n        // Widget cannot be a raw element because the widget system would not be able\n        // to add its UI to it. Thus, we need separate view container.\n        const viewContainer = writer.createContainerElement(isInline ? 'span' : 'div', {\n            class: 'html-object-embed',\n            'data-html-object-embed-label': widgetLabel\n        }, viewElement);\n        return toWidget(viewContainer, writer, { label: widgetLabel });\n    };\n}\n/**\n* Creates object view element from the given model element.\n*/\nexport function createObjectView(viewName, modelElement, writer) {\n    return writer.createRawElement(viewName, null, (domElement, domConverter) => {\n        domConverter.setContentOf(domElement, modelElement.getAttribute('htmlContent'));\n    });\n}\n/**\n * View-to-attribute conversion helper preserving inline element attributes on `$text`.\n *\n * @returns Returns a conversion callback.\n*/\nexport function viewToAttributeInlineConverter({ view: viewName, model: attributeKey, allowEmpty }, dataFilter) {\n    return dispatcher => {\n        dispatcher.on(`element:${viewName}`, (evt, data, conversionApi) => {\n            let viewAttributes = dataFilter.processViewAttributes(data.viewItem, conversionApi);\n            // Do not apply the attribute if the element itself is already consumed and there are no view attributes to store.\n            if (!viewAttributes && !conversionApi.consumable.test(data.viewItem, { name: true })) {\n                return;\n            }\n            // Otherwise, we might need to convert it to an empty object just to preserve element itself,\n            // for example `<cite>` => <$text htmlCite=\"{}\">.\n            viewAttributes = viewAttributes || {};\n            // Consume the element itself if it wasn't consumed by any other converter.\n            conversionApi.consumable.consume(data.viewItem, { name: true });\n            // Since we are converting to attribute we need a range on which we will set the attribute.\n            // If the range is not created yet, we will create it.\n            if (!data.modelRange) {\n                data = Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n            }\n            // Convert empty inline element if allowed and has any attributes.\n            if (allowEmpty && data.modelRange.isCollapsed && Object.keys(viewAttributes).length) {\n                const modelElement = conversionApi.writer.createElement('htmlEmptyElement');\n                if (!conversionApi.safeInsert(modelElement, data.modelCursor)) {\n                    return;\n                }\n                const parts = conversionApi.getSplitParts(modelElement);\n                data.modelRange = conversionApi.writer.createRange(data.modelRange.start, conversionApi.writer.createPositionAfter(parts[parts.length - 1]));\n                conversionApi.updateConversionResult(modelElement, data);\n                setAttributeOnItem(modelElement, viewAttributes, conversionApi);\n                return;\n            }\n            // Set attribute on each item in range according to the schema.\n            for (const node of data.modelRange.getItems()) {\n                setAttributeOnItem(node, viewAttributes, conversionApi);\n            }\n        }, { priority: 'low' });\n    };\n    function setAttributeOnItem(node, viewAttributes, conversionApi) {\n        if (conversionApi.schema.checkAttribute(node, attributeKey)) {\n            // Node's children are converted recursively, so node can already include model attribute.\n            // We want to extend it, not replace.\n            const nodeAttributes = node.getAttribute(attributeKey);\n            const attributesToAdd = mergeViewElementAttributes(viewAttributes, nodeAttributes || {});\n            conversionApi.writer.setAttribute(attributeKey, attributesToAdd, node);\n        }\n    }\n}\n/**\n * Conversion helper converting an empty inline model element to an HTML element or widget.\n */\nexport function emptyInlineModelElementToViewConverter({ model: attributeKey, view: viewName }, asWidget) {\n    return (item, { writer, consumable }) => {\n        if (!item.hasAttribute(attributeKey)) {\n            return null;\n        }\n        const viewElement = writer.createContainerElement(viewName);\n        const attributeValue = item.getAttribute(attributeKey);\n        consumable.consume(item, `attribute:${attributeKey}`);\n        setViewAttributes(writer, attributeValue, viewElement);\n        viewElement.getFillerOffset = () => null;\n        return asWidget ? toWidget(viewElement, writer) : viewElement;\n    };\n}\n/**\n * Attribute-to-view conversion helper applying attributes to view element preserved on `$text`.\n *\n * @returns Returns a conversion callback.\n*/\nexport function attributeToViewInlineConverter({ priority, view: viewName }) {\n    return (attributeValue, conversionApi) => {\n        if (!attributeValue) {\n            return;\n        }\n        const { writer } = conversionApi;\n        const viewElement = writer.createAttributeElement(viewName, null, { priority });\n        setViewAttributes(writer, attributeValue, viewElement);\n        return viewElement;\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on block element.\n *\n * All matched attributes will be preserved on `html*Attributes` attribute.\n *\n * @returns Returns a conversion callback.\n*/\nexport function viewToModelBlockAttributeConverter({ view: viewName }, dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on(`element:${viewName}`, (evt, data, conversionApi) => {\n            // Converting an attribute of an element that has not been converted to anything does not make sense\n            // because there will be nowhere to set that attribute on. At this stage, the element should've already\n            // been converted. A collapsed range can show up in to-do lists (<input>) or complex widgets (e.g. table).\n            // (https://github.com/ckeditor/ckeditor5/issues/11000).\n            if (!data.modelRange || data.modelRange.isCollapsed) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(data.viewItem, conversionApi);\n            if (!viewAttributes) {\n                return;\n            }\n            conversionApi.writer.setAttribute(getHtmlAttributeName(data.viewItem.name), viewAttributes, data.modelRange);\n        }, { priority: 'low' });\n    };\n}\n/**\n * Model-to-view conversion helper applying attributes preserved in `html*Attributes` attribute\n * for block elements.\n *\n * @returns Returns a conversion callback.\n*/\nexport function modelToViewBlockAttributeConverter({ view: viewName, model: modelName }) {\n    return (dispatcher) => {\n        dispatcher.on(`attribute:${getHtmlAttributeName(viewName)}:${modelName}`, (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const viewWriter = conversionApi.writer;\n            const viewElement = conversionApi.mapper.toViewElement(data.item);\n            updateViewAttributes(viewWriter, attributeOldValue, attributeNewValue, viewElement);\n        });\n    };\n}\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/schemadefinitions\n */\n// Skipped elements due to HTML deprecation:\n// * noframes (not sure if we should provide support for this element. CKE4 is not supporting frameset and frame,\n//   but it will unpack <frameset><noframes>foobar</noframes></frameset> to <noframes>foobar</noframes>, so there\n//   may be some content loss. Although using noframes as a standalone element seems invalid)\n// * keygen (this one is also empty)\n// * applet (support is limited mostly to old IE)\n// * basefont (this one is also empty)\n// * isindex (basically no support for modern browsers at all)\n//\n// Skipped elements due to lack empty element support:\n// * hr\n// * area\n// * br\n// * command\n// * map\n// * wbr\n// * colgroup -> col\n//\n// Skipped elements due to complexity:\n// * datalist with option elements used as a data source for input[list] element\n//\n// Skipped elements as they are handled as an object content:\n// * track\n// * source\n// * option\n// * param\n// * optgroup\n//\n// Skipped full page HTML elements:\n// * body\n// * html\n// * title\n// * head\n// * meta\n// * link\n// * etc...\n//\n// Skipped hidden elements:\n// noscript\nexport default {\n    block: [\n        // Existing features.\n        {\n            model: 'codeBlock',\n            view: 'pre'\n        },\n        {\n            model: 'paragraph',\n            view: 'p'\n        },\n        {\n            model: 'blockQuote',\n            view: 'blockquote'\n        },\n        {\n            model: 'listItem',\n            view: 'li'\n        },\n        {\n            model: 'pageBreak',\n            view: 'div'\n        },\n        {\n            model: 'rawHtml',\n            view: 'div'\n        },\n        {\n            model: 'table',\n            view: 'table'\n        },\n        {\n            model: 'tableRow',\n            view: 'tr'\n        },\n        {\n            model: 'tableCell',\n            view: 'td'\n        },\n        {\n            model: 'tableCell',\n            view: 'th'\n        },\n        {\n            model: 'tableColumnGroup',\n            view: 'colgroup'\n        },\n        {\n            model: 'tableColumn',\n            view: 'col'\n        },\n        {\n            model: 'caption',\n            view: 'caption'\n        },\n        {\n            model: 'caption',\n            view: 'figcaption'\n        },\n        {\n            model: 'imageBlock',\n            view: 'img'\n        },\n        {\n            model: 'imageInline',\n            view: 'img'\n        },\n        // Compatibility features.\n        {\n            model: 'htmlP',\n            view: 'p',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlBlockquote',\n            view: 'blockquote',\n            modelSchema: {\n                inheritAllFrom: '$container'\n            }\n        },\n        {\n            model: 'htmlTable',\n            view: 'table',\n            modelSchema: {\n                allowWhere: '$block',\n                isBlock: true\n            }\n        },\n        {\n            model: 'htmlTbody',\n            view: 'tbody',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlThead',\n            view: 'thead',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlTfoot',\n            view: 'tfoot',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlCaption',\n            view: 'caption',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                allowChildren: '$text',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlColgroup',\n            view: 'colgroup',\n            modelSchema: {\n                allowIn: 'htmlTable',\n                allowChildren: 'col',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlCol',\n            view: 'col',\n            modelSchema: {\n                allowIn: 'htmlColgroup',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlTr',\n            view: 'tr',\n            modelSchema: {\n                allowIn: ['htmlTable', 'htmlThead', 'htmlTbody'],\n                isLimit: true\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlTd',\n            view: 'td',\n            modelSchema: {\n                allowIn: 'htmlTr',\n                allowContentOf: '$container',\n                isLimit: true,\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlTh',\n            view: 'th',\n            modelSchema: {\n                allowIn: 'htmlTr',\n                allowContentOf: '$container',\n                isLimit: true,\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlFigure',\n            view: 'figure',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include other block elements.\n        {\n            model: 'htmlFigcaption',\n            view: 'figcaption',\n            modelSchema: {\n                allowIn: 'htmlFigure',\n                allowChildren: '$text',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlAddress',\n            view: 'address',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlAside',\n            view: 'aside',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlMain',\n            view: 'main',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlDetails',\n            view: 'details',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlSummary',\n            view: 'summary',\n            modelSchema: {\n                allowChildren: [\n                    'htmlH1',\n                    'htmlH2',\n                    'htmlH3',\n                    'htmlH4',\n                    'htmlH5',\n                    'htmlH6',\n                    '$text'\n                ],\n                allowIn: 'htmlDetails',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDiv',\n            view: 'div',\n            paragraphLikeModel: 'htmlDivParagraph',\n            modelSchema: {\n                inheritAllFrom: '$container'\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlFieldset',\n            view: 'fieldset',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include h1-h6.\n        {\n            model: 'htmlLegend',\n            view: 'legend',\n            modelSchema: {\n                allowIn: 'htmlFieldset',\n                allowChildren: '$text'\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlHeader',\n            view: 'header',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlFooter',\n            view: 'footer',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlForm',\n            view: 'form',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: true\n            }\n        },\n        {\n            model: 'htmlHgroup',\n            view: 'hgroup',\n            modelSchema: {\n                allowIn: ['$root', '$container'],\n                allowChildren: [\n                    'paragraph',\n                    'htmlP',\n                    'htmlH1',\n                    'htmlH2',\n                    'htmlH3',\n                    'htmlH4',\n                    'htmlH5',\n                    'htmlH6'\n                ],\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlH1',\n            view: 'h1',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH2',\n            view: 'h2',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH3',\n            view: 'h3',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH4',\n            view: 'h4',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH5',\n            view: 'h5',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlH6',\n            view: 'h6',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: '$htmlList',\n            modelSchema: {\n                allowWhere: '$container',\n                allowChildren: ['$htmlList', 'htmlLi'],\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDir',\n            view: 'dir',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        {\n            model: 'htmlMenu',\n            view: 'menu',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        {\n            model: 'htmlUl',\n            view: 'ul',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        {\n            model: 'htmlOl',\n            view: 'ol',\n            modelSchema: {\n                inheritAllFrom: '$htmlList'\n            }\n        },\n        // TODO can also include other block elements.\n        {\n            model: 'htmlLi',\n            view: 'li',\n            modelSchema: {\n                allowIn: '$htmlList',\n                allowChildren: '$text',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlPre',\n            view: 'pre',\n            modelSchema: {\n                inheritAllFrom: '$block'\n            }\n        },\n        {\n            model: 'htmlArticle',\n            view: 'article',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlSection',\n            view: 'section',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        // TODO can also include text.\n        {\n            model: 'htmlNav',\n            view: 'nav',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDivDl',\n            view: 'div',\n            modelSchema: {\n                allowChildren: ['htmlDt', 'htmlDd'],\n                allowIn: 'htmlDl'\n            }\n        },\n        {\n            model: 'htmlDl',\n            view: 'dl',\n            modelSchema: {\n                allowWhere: '$container',\n                allowChildren: ['htmlDt', 'htmlDd', 'htmlDivDl'],\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDt',\n            view: 'dt',\n            modelSchema: {\n                allowChildren: '$block',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlDd',\n            view: 'dd',\n            modelSchema: {\n                allowChildren: '$block',\n                isBlock: false\n            }\n        },\n        {\n            model: 'htmlCenter',\n            view: 'center',\n            modelSchema: {\n                inheritAllFrom: '$container',\n                isBlock: false\n            }\n        }\n    ],\n    inline: [\n        // Existing features (attribute set on an existing model element).\n        {\n            model: 'htmlLiAttributes',\n            view: 'li',\n            appliesToBlock: true,\n            coupledAttribute: 'listItemId'\n        },\n        {\n            model: 'htmlOlAttributes',\n            view: 'ol',\n            appliesToBlock: true,\n            coupledAttribute: 'listItemId'\n        },\n        {\n            model: 'htmlUlAttributes',\n            view: 'ul',\n            appliesToBlock: true,\n            coupledAttribute: 'listItemId'\n        },\n        {\n            model: 'htmlFigureAttributes',\n            view: 'figure',\n            appliesToBlock: 'table'\n        },\n        {\n            model: 'htmlTheadAttributes',\n            view: 'thead',\n            appliesToBlock: 'table'\n        },\n        {\n            model: 'htmlTbodyAttributes',\n            view: 'tbody',\n            appliesToBlock: 'table'\n        },\n        {\n            model: 'htmlFigureAttributes',\n            view: 'figure',\n            appliesToBlock: 'imageBlock'\n        },\n        // Compatibility features.\n        {\n            model: 'htmlAcronym',\n            view: 'acronym',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlTt',\n            view: 'tt',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlFont',\n            view: 'font',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlTime',\n            view: 'time',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlVar',\n            view: 'var',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlBig',\n            view: 'big',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSmall',\n            view: 'small',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSamp',\n            view: 'samp',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlQ',\n            view: 'q',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlOutput',\n            view: 'output',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlKbd',\n            view: 'kbd',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlBdi',\n            view: 'bdi',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlBdo',\n            view: 'bdo',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlAbbr',\n            view: 'abbr',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlA',\n            view: 'a',\n            priority: 5,\n            coupledAttribute: 'linkHref'\n        },\n        {\n            model: 'htmlStrong',\n            view: 'strong',\n            coupledAttribute: 'bold',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlB',\n            view: 'b',\n            coupledAttribute: 'bold',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlI',\n            view: 'i',\n            coupledAttribute: 'italic',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlEm',\n            view: 'em',\n            coupledAttribute: 'italic',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlS',\n            view: 's',\n            coupledAttribute: 'strikethrough',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        // TODO According to HTML-spec can behave as div-like element, although CKE4 only handles it as an inline element.\n        {\n            model: 'htmlDel',\n            view: 'del',\n            coupledAttribute: 'strikethrough',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        // TODO According to HTML-spec can behave as div-like element, although CKE4 only handles it as an inline element.\n        {\n            model: 'htmlIns',\n            view: 'ins',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlU',\n            view: 'u',\n            coupledAttribute: 'underline',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSub',\n            view: 'sub',\n            coupledAttribute: 'subscript',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSup',\n            view: 'sup',\n            coupledAttribute: 'superscript',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlCode',\n            view: 'code',\n            coupledAttribute: 'code',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlMark',\n            view: 'mark',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlSpan',\n            view: 'span',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlCite',\n            view: 'cite',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlLabel',\n            view: 'label',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        {\n            model: 'htmlDfn',\n            view: 'dfn',\n            attributeProperties: {\n                copyOnEnter: true,\n                isFormatting: true\n            }\n        },\n        // Objects.\n        {\n            model: 'htmlObject',\n            view: 'object',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlIframe',\n            view: 'iframe',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlInput',\n            view: 'input',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlButton',\n            view: 'button',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlTextarea',\n            view: 'textarea',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlSelect',\n            view: 'select',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlVideo',\n            view: 'video',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlEmbed',\n            view: 'embed',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlOembed',\n            view: 'oembed',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlAudio',\n            view: 'audio',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlImg',\n            view: 'img',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlCanvas',\n            view: 'canvas',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        // TODO it could be probably represented as non-object element, although it has graphical representation,\n        // so probably makes more sense to keep it as an object.\n        {\n            model: 'htmlMeter',\n            view: 'meter',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        // TODO it could be probably represented as non-object element, although it has graphical representation,\n        // so probably makes more sense to keep it as an object.\n        {\n            model: 'htmlProgress',\n            view: 'progress',\n            isObject: true,\n            modelSchema: {\n                inheritAllFrom: '$inlineObject'\n            }\n        },\n        {\n            model: 'htmlScript',\n            view: 'script',\n            modelSchema: {\n                allowWhere: ['$text', '$block'],\n                isInline: true\n            }\n        },\n        {\n            model: 'htmlStyle',\n            view: 'style',\n            modelSchema: {\n                allowWhere: ['$text', '$block'],\n                isInline: true\n            }\n        },\n        {\n            model: 'htmlCustomElement',\n            view: '$customElement',\n            modelSchema: {\n                allowWhere: ['$text', '$block'],\n                allowAttributesOf: '$inlineObject',\n                isInline: true\n            }\n        }\n    ]\n};\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n","import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n","import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n","import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n","import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n","import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nexport default mergeWith;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/dataschema\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toArray } from 'ckeditor5/src/utils.js';\nimport defaultConfig from './schemadefinitions.js';\nimport { mergeWith } from 'lodash-es';\n/**\n * Holds representation of the extended HTML document type definitions to be used by the\n * editor in HTML support.\n *\n * Data schema is represented by data schema definitions.\n *\n * To add new definition for block element,\n * use {@link module:html-support/dataschema~DataSchema#registerBlockElement} method:\n *\n * ```ts\n * dataSchema.registerBlockElement( {\n * \tview: 'section',\n * \tmodel: 'my-section',\n * \tmodelSchema: {\n * \t\tinheritAllFrom: '$block'\n * \t}\n * } );\n * ```\n *\n * To add new definition for inline element,\n * use {@link module:html-support/dataschema~DataSchema#registerInlineElement} method:\n *\n * ```\n * dataSchema.registerInlineElement( {\n * \tview: 'span',\n * \tmodel: 'my-span',\n * \tattributeProperties: {\n * \t\tcopyOnEnter: true\n * \t}\n * } );\n * ```\n */\nexport default class DataSchema extends Plugin {\n    constructor() {\n        super(...arguments);\n        /**\n         * A map of registered data schema definitions.\n         */\n        this._definitions = [];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DataSchema';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        for (const definition of defaultConfig.block) {\n            this.registerBlockElement(definition);\n        }\n        for (const definition of defaultConfig.inline) {\n            this.registerInlineElement(definition);\n        }\n    }\n    /**\n     * Add new data schema definition describing block element.\n     */\n    registerBlockElement(definition) {\n        this._definitions.push({ ...definition, isBlock: true });\n    }\n    /**\n     * Add new data schema definition describing inline element.\n     */\n    registerInlineElement(definition) {\n        this._definitions.push({ ...definition, isInline: true });\n    }\n    /**\n     * Updates schema definition describing block element with new properties.\n     *\n     * Creates new scheme if it doesn't exist.\n     * Array properties are concatenated with original values.\n     *\n     * @param definition Definition update.\n     */\n    extendBlockElement(definition) {\n        this._extendDefinition({ ...definition, isBlock: true });\n    }\n    /**\n     * Updates schema definition describing inline element with new properties.\n     *\n     * Creates new scheme if it doesn't exist.\n     * Array properties are concatenated with original values.\n     *\n     * @param definition Definition update.\n     */\n    extendInlineElement(definition) {\n        this._extendDefinition({ ...definition, isInline: true });\n    }\n    /**\n     * Returns all definitions matching the given view name.\n     *\n     * @param includeReferences Indicates if this method should also include definitions of referenced models.\n     */\n    getDefinitionsForView(viewName, includeReferences = false) {\n        const definitions = new Set();\n        for (const definition of this._getMatchingViewDefinitions(viewName)) {\n            if (includeReferences) {\n                for (const reference of this._getReferences(definition.model)) {\n                    definitions.add(reference);\n                }\n            }\n            definitions.add(definition);\n        }\n        return definitions;\n    }\n    /**\n     * Returns definitions matching the given model name.\n     */\n    getDefinitionsForModel(modelName) {\n        return this._definitions.filter(definition => definition.model == modelName);\n    }\n    /**\n     * Returns definitions matching the given view name.\n     */\n    _getMatchingViewDefinitions(viewName) {\n        return this._definitions.filter(def => def.view && testViewName(viewName, def.view));\n    }\n    /**\n     * Resolves all definition references registered for the given data schema definition.\n     *\n     * @param modelName Data schema model name.\n     */\n    *_getReferences(modelName) {\n        const inheritProperties = [\n            'inheritAllFrom',\n            'inheritTypesFrom',\n            'allowWhere',\n            'allowContentOf',\n            'allowAttributesOf'\n        ];\n        const definitions = this._definitions.filter(definition => definition.model == modelName);\n        for (const { modelSchema } of definitions) {\n            if (!modelSchema) {\n                continue;\n            }\n            for (const property of inheritProperties) {\n                for (const referenceName of toArray(modelSchema[property] || [])) {\n                    const definitions = this._definitions.filter(definition => definition.model == referenceName);\n                    for (const definition of definitions) {\n                        if (referenceName !== modelName) {\n                            yield* this._getReferences(definition.model);\n                            yield definition;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Updates schema definition with new properties.\n     *\n     * Creates new scheme if it doesn't exist.\n     * Array properties are concatenated with original values.\n     *\n     * @param definition Definition update.\n     */\n    _extendDefinition(definition) {\n        const currentDefinitions = Array.from(this._definitions.entries())\n            .filter(([, currentDefinition]) => currentDefinition.model == definition.model);\n        if (currentDefinitions.length == 0) {\n            this._definitions.push(definition);\n            return;\n        }\n        for (const [idx, currentDefinition] of currentDefinitions) {\n            this._definitions[idx] = mergeWith({}, currentDefinition, definition, (target, source) => {\n                return Array.isArray(target) ? target.concat(source) : undefined;\n            });\n        }\n    }\n}\n/**\n * Test view name against the given pattern.\n */\nfunction testViewName(pattern, viewName) {\n    if (typeof pattern === 'string') {\n        return pattern === viewName;\n    }\n    if (pattern instanceof RegExp) {\n        return pattern.test(viewName);\n    }\n    return false;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./datafilter.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/datafilter\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Matcher, StylesMap } from 'ckeditor5/src/engine.js';\nimport { CKEditorError, priorities, isValidAttributeName } from 'ckeditor5/src/utils.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport { viewToModelObjectConverter, toObjectWidgetConverter, createObjectView, viewToAttributeInlineConverter, attributeToViewInlineConverter, emptyInlineModelElementToViewConverter, viewToModelBlockAttributeConverter, modelToViewBlockAttributeConverter } from './converters.js';\nimport { default as DataSchema } from './dataschema.js';\nimport { getHtmlAttributeName } from './utils.js';\nimport { isPlainObject } from 'lodash-es';\nimport '../theme/datafilter.css';\n/**\n * Allows to validate elements and element attributes registered by {@link module:html-support/dataschema~DataSchema}.\n *\n * To enable registered element in the editor, use {@link module:html-support/datafilter~DataFilter#allowElement} method:\n *\n * ```ts\n * dataFilter.allowElement( 'section' );\n * ```\n *\n * You can also allow or disallow specific element attributes:\n *\n * ```ts\n * // Allow `data-foo` attribute on `section` element.\n * dataFilter.allowAttributes( {\n * \tname: 'section',\n * \tattributes: {\n * \t\t'data-foo': true\n * \t}\n * } );\n *\n * // Disallow `color` style attribute on 'section' element.\n * dataFilter.disallowAttributes( {\n * \tname: 'section',\n * \tstyles: {\n * \t\tcolor: /[\\s\\S]+/\n * \t}\n * } );\n * ```\n *\n * To apply the information about allowed and disallowed attributes in custom integration plugin,\n * use the {@link module:html-support/datafilter~DataFilter#processViewAttributes `processViewAttributes()`} method.\n */\nexport default class DataFilter extends Plugin {\n    constructor(editor) {\n        super(editor);\n        this._dataSchema = editor.plugins.get('DataSchema');\n        this._allowedAttributes = new Matcher();\n        this._disallowedAttributes = new Matcher();\n        this._allowedElements = new Set();\n        this._disallowedElements = new Set();\n        this._dataInitialized = false;\n        this._coupledAttributes = null;\n        this._registerElementsAfterInit();\n        this._registerElementHandlers();\n        this._registerCoupledAttributesPostFixer();\n        this._registerAssociatedHtmlAttributesPostFixer();\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DataFilter';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataSchema, Widget];\n    }\n    /**\n     * Load a configuration of one or many elements, where their attributes should be allowed.\n     *\n     * **Note**: Rules will be applied just before next data pipeline data init or set.\n     *\n     * @param config Configuration of elements that should have their attributes accepted in the editor.\n     */\n    loadAllowedConfig(config) {\n        for (const pattern of config) {\n            // MatcherPattern allows omitting `name` to widen the search of elements.\n            // Let's keep it consistent and match every element if a `name` has not been provided.\n            const elementName = pattern.name || /[\\s\\S]+/;\n            const rules = splitRules(pattern);\n            this.allowElement(elementName);\n            rules.forEach(pattern => this.allowAttributes(pattern));\n        }\n    }\n    /**\n     * Load a configuration of one or many elements, where their attributes should be disallowed.\n     *\n     * **Note**: Rules will be applied just before next data pipeline data init or set.\n     *\n     * @param config Configuration of elements that should have their attributes rejected from the editor.\n     */\n    loadDisallowedConfig(config) {\n        for (const pattern of config) {\n            // MatcherPattern allows omitting `name` to widen the search of elements.\n            // Let's keep it consistent and match every element if a `name` has not been provided.\n            const elementName = pattern.name || /[\\s\\S]+/;\n            const rules = splitRules(pattern);\n            // Disallow element itself if there is no other rules.\n            if (rules.length == 0) {\n                this.disallowElement(elementName);\n            }\n            else {\n                rules.forEach(pattern => this.disallowAttributes(pattern));\n            }\n        }\n    }\n    /**\n     * Load a configuration of one or many elements, where when empty should be allowed.\n     *\n     * **Note**: It modifies DataSchema so must be loaded before registering filtering rules.\n     *\n     * @param config Configuration of elements that should be preserved even if empty.\n     */\n    loadAllowedEmptyElementsConfig(config) {\n        for (const elementName of config) {\n            this.allowEmptyElement(elementName);\n        }\n    }\n    /**\n     * Allow the given element in the editor context.\n     *\n     * This method will only allow elements described by the {@link module:html-support/dataschema~DataSchema} used\n     * to create data filter.\n     *\n     * **Note**: Rules will be applied just before next data pipeline data init or set.\n     *\n     * @param viewName String or regular expression matching view name.\n     */\n    allowElement(viewName) {\n        for (const definition of this._dataSchema.getDefinitionsForView(viewName, true)) {\n            this._addAllowedElement(definition);\n            // Reset cached map to recalculate it on the next usage.\n            this._coupledAttributes = null;\n        }\n    }\n    /**\n     * Disallow the given element in the editor context.\n     *\n     * This method will only disallow elements described by the {@link module:html-support/dataschema~DataSchema} used\n     * to create data filter.\n     *\n     * @param viewName String or regular expression matching view name.\n     */\n    disallowElement(viewName) {\n        for (const definition of this._dataSchema.getDefinitionsForView(viewName, false)) {\n            this._disallowedElements.add(definition.view);\n        }\n    }\n    /**\n     * Allow the given empty element in the editor context.\n     *\n     * This method will only allow elements described by the {@link module:html-support/dataschema~DataSchema} used\n     * to create data filter.\n     *\n     * **Note**: It modifies DataSchema so must be called before registering filtering rules.\n     *\n     * @param viewName String or regular expression matching view name.\n     */\n    allowEmptyElement(viewName) {\n        for (const definition of this._dataSchema.getDefinitionsForView(viewName, true)) {\n            if (definition.isInline) {\n                this._dataSchema.extendInlineElement({ ...definition, allowEmpty: true });\n            }\n        }\n    }\n    /**\n     * Allow the given attributes for view element allowed by {@link #allowElement} method.\n     *\n     * @param config Pattern matching all attributes which should be allowed.\n     */\n    allowAttributes(config) {\n        this._allowedAttributes.add(config);\n    }\n    /**\n     * Disallow the given attributes for view element allowed by {@link #allowElement} method.\n     *\n     * @param config Pattern matching all attributes which should be disallowed.\n     */\n    disallowAttributes(config) {\n        this._disallowedAttributes.add(config);\n    }\n    /**\n     * Processes all allowed and disallowed attributes on the view element by consuming them and returning the allowed ones.\n     *\n     * This method applies the configuration set up by {@link #allowAttributes `allowAttributes()`}\n     * and {@link #disallowAttributes `disallowAttributes()`} over the given view element by consuming relevant attributes.\n     * It returns the allowed attributes that were found on the given view element for further processing by integration code.\n     *\n     * ```ts\n     * dispatcher.on( 'element:myElement', ( evt, data, conversionApi ) => {\n     * \t// Get rid of disallowed and extract all allowed attributes from a viewElement.\n     * \tconst viewAttributes = dataFilter.processViewAttributes( data.viewItem, conversionApi );\n     * \t// Do something with them, i.e. store inside a model as a dictionary.\n     * \tif ( viewAttributes ) {\n     * \t\tconversionApi.writer.setAttribute( 'htmlAttributesOfMyElement', viewAttributes, data.modelRange );\n     * \t}\n     * } );\n     * ```\n     *\n     * @see module:engine/conversion/viewconsumable~ViewConsumable#consume\n     *\n     * @returns Object with following properties:\n     * - attributes Set with matched attribute names.\n     * - styles Set with matched style names.\n     * - classes Set with matched class names.\n     */\n    processViewAttributes(viewElement, conversionApi) {\n        const { consumable } = conversionApi;\n        // Make sure that the disabled attributes are handled before the allowed attributes are called.\n        // For example, for block images the <figure> converter triggers conversion for <img> first and then for other elements, i.e. <a>.\n        matchAndConsumeAttributes(viewElement, this._disallowedAttributes, consumable);\n        return prepareGHSAttribute(viewElement, matchAndConsumeAttributes(viewElement, this._allowedAttributes, consumable));\n    }\n    /**\n     * Adds allowed element definition and fires registration event.\n     */\n    _addAllowedElement(definition) {\n        if (this._allowedElements.has(definition)) {\n            return;\n        }\n        this._allowedElements.add(definition);\n        // For attribute based integrations (table figure, document lists, etc.) register related element definitions.\n        if ('appliesToBlock' in definition && typeof definition.appliesToBlock == 'string') {\n            for (const relatedDefinition of this._dataSchema.getDefinitionsForModel(definition.appliesToBlock)) {\n                if (relatedDefinition.isBlock) {\n                    this._addAllowedElement(relatedDefinition);\n                }\n            }\n        }\n        // We need to wait for all features to be initialized before we can register\n        // element, so we can access existing features model schemas.\n        // If the data has not been initialized yet, _registerElementsAfterInit() method will take care of\n        // registering elements.\n        if (this._dataInitialized) {\n            // Defer registration to the next data pipeline data set so any disallow rules could be applied\n            // even if added after allow rule (disallowElement).\n            this.editor.data.once('set', () => {\n                this._fireRegisterEvent(definition);\n            }, {\n                // With the highest priority listener we are able to register elements right before\n                // running data conversion.\n                priority: priorities.highest + 1\n            });\n        }\n    }\n    /**\n     * Registers elements allowed by {@link module:html-support/datafilter~DataFilter#allowElement} method\n     * once {@link module:engine/controller/datacontroller~DataController editor's data controller} is initialized.\n    */\n    _registerElementsAfterInit() {\n        this.editor.data.on('init', () => {\n            this._dataInitialized = true;\n            for (const definition of this._allowedElements) {\n                this._fireRegisterEvent(definition);\n            }\n        }, {\n            // With highest priority listener we are able to register elements right before\n            // running data conversion. Also:\n            // * Make sure that priority is higher than the one used by `RealTimeCollaborationClient`,\n            // as RTC is stopping event propagation.\n            // * Make sure no other features hook into this event before GHS because otherwise the\n            // downcast conversion (for these features) could run before GHS registered its converters\n            // (https://github.com/ckeditor/ckeditor5/issues/11356).\n            priority: priorities.highest + 1\n        });\n    }\n    /**\n     * Registers default element handlers.\n     */\n    _registerElementHandlers() {\n        this.on('register', (evt, definition) => {\n            const schema = this.editor.model.schema;\n            // Object element should be only registered for new features.\n            // If the model schema is already registered, it should be handled by\n            // #_registerBlockElement() or #_registerObjectElement() attribute handlers.\n            if (definition.isObject && !schema.isRegistered(definition.model)) {\n                this._registerObjectElement(definition);\n            }\n            else if (definition.isBlock) {\n                this._registerBlockElement(definition);\n            }\n            else if (definition.isInline) {\n                this._registerInlineElement(definition);\n            }\n            else {\n                /**\n                 * The definition cannot be handled by the data filter.\n                 *\n                 * Make sure that the registered definition is correct.\n                 *\n                 * @error data-filter-invalid-definition\n                 */\n                throw new CKEditorError('data-filter-invalid-definition', null, definition);\n            }\n            evt.stop();\n        }, { priority: 'lowest' });\n    }\n    /**\n     * Registers a model post-fixer that is removing coupled GHS attributes of inline elements. Those attributes\n     * are removed if a coupled feature attribute is removed.\n     *\n     * For example, consider following HTML:\n     *\n     * ```html\n     * <a href=\"foo.html\" id=\"myId\">bar</a>\n     * ```\n     *\n     * Which would be upcasted to following text node in the model:\n     *\n     * ```html\n     * <$text linkHref=\"foo.html\" htmlA=\"{ attributes: { id: 'myId' } }\">bar</$text>\n     * ```\n     *\n     * When the user removes the link from that text (using UI), only `linkHref` attribute would be removed:\n     *\n     * ```html\n     * <$text htmlA=\"{ attributes: { id: 'myId' } }\">bar</$text>\n     * ```\n     *\n     * The `htmlA` attribute would stay in the model and would cause GHS to generate an `<a>` element.\n     * This is incorrect from UX point of view, as the user wanted to remove the whole link (not only `href`).\n     */\n    _registerCoupledAttributesPostFixer() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        model.document.registerPostFixer(writer => {\n            const changes = model.document.differ.getChanges();\n            let changed = false;\n            const coupledAttributes = this._getCoupledAttributesMap();\n            for (const change of changes) {\n                // Handle only attribute removals.\n                if (change.type != 'attribute' || change.attributeNewValue !== null) {\n                    continue;\n                }\n                // Find a list of coupled GHS attributes.\n                const attributeKeys = coupledAttributes.get(change.attributeKey);\n                if (!attributeKeys) {\n                    continue;\n                }\n                // Remove the coupled GHS attributes on the same range as the feature attribute was removed.\n                for (const { item } of change.range.getWalker()) {\n                    for (const attributeKey of attributeKeys) {\n                        if (item.hasAttribute(attributeKey)) {\n                            writer.removeAttribute(attributeKey, item);\n                            changed = true;\n                        }\n                    }\n                }\n            }\n            return changed;\n        });\n        this.listenTo(selection, 'change:attribute', (evt, { attributeKeys }) => {\n            const removeAttributes = new Set();\n            const coupledAttributes = this._getCoupledAttributesMap();\n            for (const attributeKey of attributeKeys) {\n                // Handle only attribute removals.\n                if (selection.hasAttribute(attributeKey)) {\n                    continue;\n                }\n                // Find a list of coupled GHS attributes.\n                const coupledAttributeKeys = coupledAttributes.get(attributeKey);\n                if (!coupledAttributeKeys) {\n                    continue;\n                }\n                for (const coupledAttributeKey of coupledAttributeKeys) {\n                    if (selection.hasAttribute(coupledAttributeKey)) {\n                        removeAttributes.add(coupledAttributeKey);\n                    }\n                }\n            }\n            if (removeAttributes.size == 0) {\n                return;\n            }\n            model.change(writer => {\n                for (const attributeKey of removeAttributes) {\n                    writer.removeSelectionAttribute(attributeKey);\n                }\n            });\n        });\n    }\n    /**\n     * Removes `html*Attributes` attributes from incompatible elements.\n     *\n     * For example, consider the following HTML:\n     *\n     * ```html\n     * <heading2 htmlH2Attributes=\"...\">foobar[]</heading2>\n     * ```\n     *\n     * Pressing `enter` creates a new `paragraph` element that inherits\n     * the `htmlH2Attributes` attribute from `heading2`.\n     *\n     * ```html\n     * <heading2 htmlH2Attributes=\"...\">foobar</heading2>\n     * <paragraph htmlH2Attributes=\"...\">[]</paragraph>\n     * ```\n     *\n     * This postfixer ensures that this doesn't happen, and that elements can\n     * only have `html*Attributes` associated with them,\n     * e.g.: `htmlPAttributes` for `<p>`, `htmlDivAttributes` for `<div>`, etc.\n     *\n     * With it enabled, pressing `enter` at the end of `<heading2>` will create\n     * a new paragraph without the `htmlH2Attributes` attribute.\n     *\n     * ```html\n     * <heading2 htmlH2Attributes=\"...\">foobar</heading2>\n     * <paragraph>[]</paragraph>\n     * ```\n     */\n    _registerAssociatedHtmlAttributesPostFixer() {\n        const model = this.editor.model;\n        model.document.registerPostFixer(writer => {\n            const changes = model.document.differ.getChanges();\n            let changed = false;\n            for (const change of changes) {\n                if (change.type !== 'insert' || change.name === '$text') {\n                    continue;\n                }\n                for (const attr of change.attributes.keys()) {\n                    if (!attr.startsWith('html') || !attr.endsWith('Attributes')) {\n                        continue;\n                    }\n                    if (!model.schema.checkAttribute(change.name, attr)) {\n                        writer.removeAttribute(attr, change.position.nodeAfter);\n                        changed = true;\n                    }\n                }\n            }\n            return changed;\n        });\n    }\n    /**\n     * Collects the map of coupled attributes. The returned map is keyed by the feature attribute name\n     * and coupled GHS attribute names are stored in the value array.\n     */\n    _getCoupledAttributesMap() {\n        if (this._coupledAttributes) {\n            return this._coupledAttributes;\n        }\n        this._coupledAttributes = new Map();\n        for (const definition of this._allowedElements) {\n            if (definition.coupledAttribute && definition.model) {\n                const attributeNames = this._coupledAttributes.get(definition.coupledAttribute);\n                if (attributeNames) {\n                    attributeNames.push(definition.model);\n                }\n                else {\n                    this._coupledAttributes.set(definition.coupledAttribute, [definition.model]);\n                }\n            }\n        }\n        return this._coupledAttributes;\n    }\n    /**\n     * Fires `register` event for the given element definition.\n     */\n    _fireRegisterEvent(definition) {\n        if (definition.view && this._disallowedElements.has(definition.view)) {\n            return;\n        }\n        this.fire(definition.view ? `register:${definition.view}` : 'register', definition);\n    }\n    /**\n     * Registers object element and attribute converters for the given data schema definition.\n     */\n    _registerObjectElement(definition) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const { view: viewName, model: modelName } = definition;\n        schema.register(modelName, definition.modelSchema);\n        /* istanbul ignore next: paranoid check -- @preserve */\n        if (!viewName) {\n            return;\n        }\n        schema.extend(definition.model, {\n            allowAttributes: [getHtmlAttributeName(viewName), 'htmlContent']\n        });\n        // Store element content in special `$rawContent` custom property to\n        // avoid editor's data filtering mechanism.\n        editor.data.registerRawContentMatcher({\n            name: viewName\n        });\n        conversion.for('upcast').elementToElement({\n            view: viewName,\n            model: viewToModelObjectConverter(definition),\n            // With a `low` priority, `paragraph` plugin auto-paragraphing mechanism is executed. Make sure\n            // this listener is called before it. If not, some elements will be transformed into a paragraph.\n            // `+ 2` is used to take priority over `_addDefaultH1Conversion` in the Heading plugin.\n            converterPriority: priorities.low + 2\n        });\n        conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, this));\n        conversion.for('editingDowncast').elementToStructure({\n            model: {\n                name: modelName,\n                attributes: [getHtmlAttributeName(viewName)]\n            },\n            view: toObjectWidgetConverter(editor, definition)\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: modelName,\n            view: (modelElement, { writer }) => {\n                return createObjectView(viewName, modelElement, writer);\n            }\n        });\n        conversion.for('dataDowncast').add(modelToViewBlockAttributeConverter(definition));\n    }\n    /**\n     * Registers block element and attribute converters for the given data schema definition.\n     */\n    _registerBlockElement(definition) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const { view: viewName, model: modelName } = definition;\n        if (!schema.isRegistered(definition.model)) {\n            schema.register(definition.model, definition.modelSchema);\n            if (!viewName) {\n                return;\n            }\n            conversion.for('upcast').elementToElement({\n                model: modelName,\n                view: viewName,\n                // With a `low` priority, `paragraph` plugin auto-paragraphing mechanism is executed. Make sure\n                // this listener is called before it. If not, some elements will be transformed into a paragraph.\n                // `+ 2` is used to take priority over `_addDefaultH1Conversion` in the Heading plugin.\n                converterPriority: priorities.low + 2\n            });\n            conversion.for('downcast').elementToElement({\n                model: modelName,\n                view: viewName\n            });\n        }\n        if (!viewName) {\n            return;\n        }\n        schema.extend(definition.model, {\n            allowAttributes: getHtmlAttributeName(viewName)\n        });\n        conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, this));\n        conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n    }\n    /**\n     * Registers inline element and attribute converters for the given data schema definition.\n     *\n     * Extends `$text` model schema to allow the given definition model attribute and its properties.\n     */\n    _registerInlineElement(definition) {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const attributeKey = definition.model;\n        // This element is stored in the model as an attribute on a block element, for example DocumentLists.\n        if (definition.appliesToBlock) {\n            return;\n        }\n        schema.extend('$text', {\n            allowAttributes: attributeKey\n        });\n        if (definition.attributeProperties) {\n            schema.setAttributeProperties(attributeKey, definition.attributeProperties);\n        }\n        conversion.for('upcast').add(viewToAttributeInlineConverter(definition, this));\n        conversion.for('downcast').attributeToElement({\n            model: attributeKey,\n            view: attributeToViewInlineConverter(definition)\n        });\n        if (!definition.allowEmpty) {\n            return;\n        }\n        schema.setAttributeProperties(attributeKey, { copyFromObject: false });\n        if (!schema.isRegistered('htmlEmptyElement')) {\n            schema.register('htmlEmptyElement', {\n                inheritAllFrom: '$inlineObject'\n            });\n        }\n        editor.data.htmlProcessor.domConverter.registerInlineObjectMatcher(element => {\n            // Element must be empty and have any attribute.\n            if (element.name == definition.view &&\n                element.isEmpty &&\n                Array.from(element.getAttributeKeys()).length) {\n                return {\n                    name: true\n                };\n            }\n            return null;\n        });\n        conversion.for('editingDowncast')\n            .elementToElement({\n            model: 'htmlEmptyElement',\n            view: emptyInlineModelElementToViewConverter(definition, true)\n        });\n        conversion.for('dataDowncast')\n            .elementToElement({\n            model: 'htmlEmptyElement',\n            view: emptyInlineModelElementToViewConverter(definition)\n        });\n    }\n}\n/**\n * Matches and consumes matched attributes.\n *\n * @returns Object with following properties:\n * - attributes Array with matched attribute names.\n * - classes Array with matched class names.\n * - styles Array with matched style names.\n */\nfunction matchAndConsumeAttributes(viewElement, matcher, consumable) {\n    const matches = matcher.matchAll(viewElement) || [];\n    const stylesProcessor = viewElement.document.stylesProcessor;\n    return matches.reduce((result, { match }) => {\n        // Verify and consume styles.\n        for (const style of match.styles || []) {\n            // Check longer forms of the same style as those could be matched\n            // but not present in the element directly.\n            // Consider only longhand (or longer than current notation) so that\n            // we do not include all sides of the box if only one side is allowed.\n            const sortedRelatedStyles = stylesProcessor.getRelatedStyles(style)\n                .filter(relatedStyle => relatedStyle.split('-').length > style.split('-').length)\n                .sort((a, b) => b.split('-').length - a.split('-').length);\n            for (const relatedStyle of sortedRelatedStyles) {\n                if (consumable.consume(viewElement, { styles: [relatedStyle] })) {\n                    result.styles.push(relatedStyle);\n                }\n            }\n            // Verify and consume style as specified in the matcher.\n            if (consumable.consume(viewElement, { styles: [style] })) {\n                result.styles.push(style);\n            }\n        }\n        // Verify and consume class names.\n        for (const className of match.classes || []) {\n            if (consumable.consume(viewElement, { classes: [className] })) {\n                result.classes.push(className);\n            }\n        }\n        // Verify and consume other attributes.\n        for (const attributeName of match.attributes || []) {\n            if (consumable.consume(viewElement, { attributes: [attributeName] })) {\n                result.attributes.push(attributeName);\n            }\n        }\n        return result;\n    }, {\n        attributes: [],\n        classes: [],\n        styles: []\n    });\n}\n/**\n * Prepares the GHS attribute value as an object with element attributes' values.\n */\nfunction prepareGHSAttribute(viewElement, { attributes, classes, styles }) {\n    if (!attributes.length && !classes.length && !styles.length) {\n        return null;\n    }\n    return {\n        ...(attributes.length && {\n            attributes: getAttributes(viewElement, attributes)\n        }),\n        ...(styles.length && {\n            styles: getReducedStyles(viewElement, styles)\n        }),\n        ...(classes.length && {\n            classes\n        })\n    };\n}\n/**\n * Returns attributes as an object with names and values.\n */\nfunction getAttributes(viewElement, attributes) {\n    const attributesObject = {};\n    for (const key of attributes) {\n        const value = viewElement.getAttribute(key);\n        if (value !== undefined && isValidAttributeName(key)) {\n            attributesObject[key] = value;\n        }\n    }\n    return attributesObject;\n}\n/**\n * Returns styles as an object reduced to shorthand notation without redundant entries.\n */\nfunction getReducedStyles(viewElement, styles) {\n    // Use StyleMap to reduce style value to the minimal form (without shorthand and long-hand notation and duplication).\n    const stylesMap = new StylesMap(viewElement.document.stylesProcessor);\n    for (const key of styles) {\n        const styleValue = viewElement.getStyle(key);\n        if (styleValue !== undefined) {\n            stylesMap.set(key, styleValue);\n        }\n    }\n    return Object.fromEntries(stylesMap.getStylesEntries());\n}\n/**\n * Matcher by default has to match **all** patterns to count it as an actual match. Splitting the pattern\n * into separate patterns means that any matched pattern will be count as a match.\n *\n * @param pattern Pattern to split.\n * @param attributeName Name of the attribute to split (e.g. 'attributes', 'classes', 'styles').\n */\nfunction splitPattern(pattern, attributeName) {\n    const { name } = pattern;\n    const attributeValue = pattern[attributeName];\n    if (isPlainObject(attributeValue)) {\n        return Object.entries(attributeValue)\n            .map(([key, value]) => ({\n            name,\n            [attributeName]: {\n                [key]: value\n            }\n        }));\n    }\n    if (Array.isArray(attributeValue)) {\n        return attributeValue\n            .map(value => ({\n            name,\n            [attributeName]: [value]\n        }));\n    }\n    return [pattern];\n}\n/**\n * Rules are matched in conjunction (AND operation), but we want to have a match if *any* of the rules is matched (OR operation).\n * By splitting the rules we force the latter effect.\n */\nfunction splitRules(rules) {\n    const { name, attributes, classes, styles } = rules;\n    const splitRules = [];\n    if (attributes) {\n        splitRules.push(...splitPattern({ name, attributes }, 'attributes'));\n    }\n    if (classes) {\n        splitRules.push(...splitPattern({ name, classes }, 'classes'));\n    }\n    if (styles) {\n        splitRules.push(...splitPattern({ name, styles }, 'styles'));\n    }\n    return splitRules;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { updateViewAttributes } from '../utils.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support integration with {@link module:code-block/codeblock~CodeBlock Code Block} feature.\n */\nexport default class CodeBlockElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CodeBlockElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        if (!this.editor.plugins.has('CodeBlockEditing')) {\n            return;\n        }\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register:pre', (evt, definition) => {\n            if (definition.model !== 'codeBlock') {\n                return;\n            }\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            // Extend codeBlock to allow attributes required by attribute filtration.\n            schema.extend('codeBlock', {\n                allowAttributes: ['htmlPreAttributes', 'htmlContentAttributes']\n            });\n            conversion.for('upcast').add(viewToModelCodeBlockAttributeConverter(dataFilter));\n            conversion.for('downcast').add(modelToViewCodeBlockAttributeConverter());\n            evt.stop();\n        });\n    }\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:code-block/codeblock~CodeBlock Code Block}\n * feature model element.\n *\n * Attributes are preserved as a value of `html*Attributes` model attribute.\n * @param dataFilter\n * @returns Returns a conversion callback.\n */\nfunction viewToModelCodeBlockAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:code', (evt, data, conversionApi) => {\n            const viewCodeElement = data.viewItem;\n            const viewPreElement = viewCodeElement.parent;\n            if (!viewPreElement || !viewPreElement.is('element', 'pre')) {\n                return;\n            }\n            preserveElementAttributes(viewPreElement, 'htmlPreAttributes');\n            preserveElementAttributes(viewCodeElement, 'htmlContentAttributes');\n            function preserveElementAttributes(viewElement, attributeName) {\n                const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n                if (viewAttributes) {\n                    conversionApi.writer.setAttribute(attributeName, viewAttributes, data.modelRange);\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Model-to-view conversion helper applying attributes from {@link module:code-block/codeblock~CodeBlock Code Block}\n * feature model element.\n * @returns Returns a conversion callback.\n */\nfunction modelToViewCodeBlockAttributeConverter() {\n    return (dispatcher) => {\n        dispatcher.on('attribute:htmlPreAttributes:codeBlock', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const viewCodeElement = conversionApi.mapper.toViewElement(data.item);\n            const viewPreElement = viewCodeElement.parent;\n            updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewPreElement);\n        });\n        dispatcher.on('attribute:htmlContentAttributes:codeBlock', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            const { attributeOldValue, attributeNewValue } = data;\n            const viewCodeElement = conversionApi.mapper.toViewElement(data.item);\n            updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewCodeElement);\n        });\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { priorities } from 'ckeditor5/src/utils.js';\nimport { modelToViewBlockAttributeConverter, viewToModelBlockAttributeConverter } from '../converters.js';\nimport DataFilter from '../datafilter.js';\nimport { getHtmlAttributeName } from '../utils.js';\n/**\n * Provides the General HTML Support integration for elements which can behave like sectioning element (e.g. article) or\n * element accepting only inline content (e.g. paragraph).\n *\n * The distinction between this two content models is important for choosing correct schema model and proper content conversion.\n * As an example, it ensures that:\n *\n * * children elements paragraphing is enabled for sectioning elements only,\n * * element and its content can be correctly handled by editing view (splitting and merging elements),\n * * model element HTML is semantically correct and easier to work with.\n *\n * If element contains any block element, it will be treated as a sectioning element and registered using\n * {@link module:html-support/dataschema~DataSchemaDefinition#model} and\n * {@link module:html-support/dataschema~DataSchemaDefinition#modelSchema} in editor schema.\n * Otherwise, it will be registered under {@link module:html-support/dataschema~DataSchemaBlockElementDefinition#paragraphLikeModel} model\n * name with model schema accepting only inline content (inheriting from `$block`).\n */\nexport default class DualContentModelElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'DualContentModelElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register', (evt, definition) => {\n            const blockDefinition = definition;\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            if (!blockDefinition.paragraphLikeModel) {\n                return;\n            }\n            // Can only apply to newly registered features.\n            if (schema.isRegistered(blockDefinition.model) || schema.isRegistered(blockDefinition.paragraphLikeModel)) {\n                return;\n            }\n            const paragraphLikeModelDefinition = {\n                model: blockDefinition.paragraphLikeModel,\n                view: blockDefinition.view\n            };\n            schema.register(blockDefinition.model, blockDefinition.modelSchema);\n            schema.register(paragraphLikeModelDefinition.model, {\n                inheritAllFrom: '$block'\n            });\n            conversion.for('upcast').elementToElement({\n                view: blockDefinition.view,\n                model: (viewElement, { writer }) => {\n                    if (this._hasBlockContent(viewElement)) {\n                        return writer.createElement(blockDefinition.model);\n                    }\n                    return writer.createElement(paragraphLikeModelDefinition.model);\n                },\n                // With a `low` priority, `paragraph` plugin auto-paragraphing mechanism is executed. Make sure\n                // this listener is called before it. If not, some elements will be transformed into a paragraph.\n                converterPriority: priorities.low + 0.5\n            });\n            conversion.for('downcast').elementToElement({\n                view: blockDefinition.view,\n                model: blockDefinition.model\n            });\n            this._addAttributeConversion(blockDefinition);\n            conversion.for('downcast').elementToElement({\n                view: paragraphLikeModelDefinition.view,\n                model: paragraphLikeModelDefinition.model\n            });\n            this._addAttributeConversion(paragraphLikeModelDefinition);\n            evt.stop();\n        });\n    }\n    /**\n     * Checks whether the given view element includes any other block element.\n     */\n    _hasBlockContent(viewElement) {\n        const view = this.editor.editing.view;\n        const blockElements = view.domConverter.blockElements;\n        // Traversing the viewElement subtree looking for block elements.\n        // Especially for the cases like <div><a href=\"#\"><p>foo</p></a></div>.\n        // https://github.com/ckeditor/ckeditor5/issues/11513\n        for (const viewItem of view.createRangeIn(viewElement).getItems()) {\n            if (viewItem.is('element') && blockElements.includes(viewItem.name)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Adds attribute filtering conversion for the given data schema.\n     */\n    _addAttributeConversion(definition) {\n        const editor = this.editor;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        editor.model.schema.extend(definition.model, {\n            allowAttributes: getHtmlAttributeName(definition.view)\n        });\n        conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n        conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/heading\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport DataSchema from '../dataschema.js';\n/**\n * Provides the General HTML Support integration with {@link module:heading/heading~Heading Heading} feature.\n */\nexport default class HeadingElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataSchema, Enter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HeadingElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('HeadingEditing')) {\n            return;\n        }\n        const options = editor.config.get('heading.options');\n        this.registerHeadingElements(editor, options);\n    }\n    /**\n     * Registers all elements supported by HeadingEditing to enable custom attributes for those elements.\n     */\n    registerHeadingElements(editor, options) {\n        const dataSchema = editor.plugins.get(DataSchema);\n        const headerModels = [];\n        for (const option of options) {\n            if ('model' in option && 'view' in option) {\n                dataSchema.registerBlockElement({\n                    view: option.view,\n                    model: option.model\n                });\n                headerModels.push(option.model);\n            }\n        }\n        dataSchema.extendBlockElement({\n            model: 'htmlHgroup',\n            modelSchema: {\n                allowChildren: headerModels\n            }\n        });\n        dataSchema.extendBlockElement({\n            model: 'htmlSummary',\n            modelSchema: {\n                allowChildren: headerModels\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/integrationutils\n */\n/**\n * Returns the first view element descendant matching the given view name.\n * Includes view element itself.\n *\n * @internal\n */\nexport function getDescendantElement(writer, containerElement, elementName) {\n    const range = writer.createRangeOn(containerElement);\n    for (const { item } of range.getWalker()) {\n        if (item.is('element', elementName)) {\n            return item;\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/image\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport DataFilter from '../datafilter.js';\nimport { setViewAttributes, updateViewAttributes } from '../utils.js';\nimport { getDescendantElement } from './integrationutils.js';\n/**\n * Provides the General HTML Support integration with the {@link module:image/image~Image Image} feature.\n */\nexport default class ImageElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ImageElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // At least one image plugin should be loaded for the integration to work properly.\n        if (!editor.plugins.has('ImageInlineEditing') && !editor.plugins.has('ImageBlockEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        dataFilter.on('register:figure', () => {\n            conversion.for('upcast').add(viewToModelFigureAttributeConverter(dataFilter));\n        });\n        dataFilter.on('register:img', (evt, definition) => {\n            if (definition.model !== 'imageBlock' && definition.model !== 'imageInline') {\n                return;\n            }\n            if (schema.isRegistered('imageBlock')) {\n                schema.extend('imageBlock', {\n                    allowAttributes: [\n                        'htmlImgAttributes',\n                        // Figure and Link don't have model counterpart.\n                        // We will preserve attributes on image model element using these attribute keys.\n                        'htmlFigureAttributes',\n                        'htmlLinkAttributes'\n                    ]\n                });\n            }\n            if (schema.isRegistered('imageInline')) {\n                schema.extend('imageInline', {\n                    allowAttributes: [\n                        // `htmlA` is needed for standard GHS link integration.\n                        'htmlA',\n                        'htmlImgAttributes'\n                    ]\n                });\n            }\n            conversion.for('upcast').add(viewToModelImageAttributeConverter(dataFilter));\n            conversion.for('downcast').add(modelToViewImageAttributeConverter());\n            if (editor.plugins.has('LinkImage')) {\n                conversion.for('upcast').add(viewToModelLinkImageAttributeConverter(dataFilter, editor));\n            }\n            evt.stop();\n        });\n    }\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on the {@link module:image/image~Image Image}\n * feature model element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelImageAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:img', (evt, data, conversionApi) => {\n            if (!data.modelRange) {\n                return;\n            }\n            const viewImageElement = data.viewItem;\n            const viewAttributes = dataFilter.processViewAttributes(viewImageElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlImgAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:image/image~Image Image}\n * feature model element from link view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelLinkImageAttributeConverter(dataFilter, editor) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return (dispatcher) => {\n        dispatcher.on('element:a', (evt, data, conversionApi) => {\n            const viewLink = data.viewItem;\n            const viewImage = imageUtils.findViewImgElement(viewLink);\n            if (!viewImage) {\n                return;\n            }\n            const modelImage = data.modelCursor.parent;\n            if (!modelImage.is('element', 'imageBlock')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewLink, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlLinkAttributes', viewAttributes, modelImage);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:image/image~Image Image}\n * feature model element from figure view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelFigureAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            const viewFigureElement = data.viewItem;\n            if (!data.modelRange || !viewFigureElement.hasClass('image')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewFigureElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlFigureAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * A model-to-view conversion helper applying attributes from the {@link module:image/image~Image Image}\n * feature.\n * @returns Returns a conversion callback.\n */\nfunction modelToViewImageAttributeConverter() {\n    return (dispatcher) => {\n        addInlineAttributeConversion('htmlImgAttributes');\n        addBlockAttributeConversion('img', 'htmlImgAttributes');\n        addBlockAttributeConversion('figure', 'htmlFigureAttributes');\n        addBlockAttributeConversion('a', 'htmlLinkAttributes');\n        function addInlineAttributeConversion(attributeName) {\n            dispatcher.on(`attribute:${attributeName}:imageInline`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                    return;\n                }\n                const { attributeOldValue, attributeNewValue } = data;\n                const viewElement = conversionApi.mapper.toViewElement(data.item);\n                updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n            }, { priority: 'low' });\n        }\n        function addBlockAttributeConversion(elementName, attributeName) {\n            dispatcher.on(`attribute:${attributeName}:imageBlock`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                const { attributeOldValue, attributeNewValue } = data;\n                const containerElement = conversionApi.mapper.toViewElement(data.item);\n                const viewElement = getDescendantElement(conversionApi.writer, containerElement, elementName);\n                if (viewElement) {\n                    updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n                    conversionApi.consumable.consume(data.item, evt.name);\n                }\n            }, { priority: 'low' });\n            if (elementName === 'a') {\n                // To have a link element in the view, we need to attach a converter to the `linkHref` attribute as well.\n                dispatcher.on('attribute:linkHref:imageBlock', (evt, data, conversionApi) => {\n                    if (!conversionApi.consumable.consume(data.item, 'attribute:htmlLinkAttributes:imageBlock')) {\n                        return;\n                    }\n                    const containerElement = conversionApi.mapper.toViewElement(data.item);\n                    const viewElement = getDescendantElement(conversionApi.writer, containerElement, 'a');\n                    setViewAttributes(conversionApi.writer, data.item.getAttribute('htmlLinkAttributes'), viewElement);\n                }, { priority: 'low' });\n            }\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/mediaembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport DataFilter from '../datafilter.js';\nimport DataSchema from '../dataschema.js';\nimport { updateViewAttributes, getHtmlAttributeName } from '../utils.js';\nimport { getDescendantElement } from './integrationutils.js';\n/**\n * Provides the General HTML Support integration with {@link module:media-embed/mediaembed~MediaEmbed Media Embed} feature.\n */\nexport default class MediaEmbedElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Stop here if MediaEmbed plugin is not provided or the integrator wants to output markup with previews as\n        // we do not support filtering previews.\n        if (!editor.plugins.has('MediaEmbed') || editor.config.get('mediaEmbed.previewsInData')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        const dataSchema = this.editor.plugins.get(DataSchema);\n        const mediaElementName = editor.config.get('mediaEmbed.elementName');\n        // Overwrite GHS schema definition for a given elementName.\n        dataSchema.registerBlockElement({\n            model: 'media',\n            view: mediaElementName\n        });\n        dataFilter.on('register:figure', () => {\n            conversion.for('upcast').add(viewToModelFigureAttributesConverter(dataFilter));\n        });\n        dataFilter.on(`register:${mediaElementName}`, (evt, definition) => {\n            if (definition.model !== 'media') {\n                return;\n            }\n            schema.extend('media', {\n                allowAttributes: [\n                    getHtmlAttributeName(mediaElementName),\n                    'htmlFigureAttributes'\n                ]\n            });\n            conversion.for('upcast').add(viewToModelMediaAttributesConverter(dataFilter, mediaElementName));\n            conversion.for('dataDowncast').add(modelToViewMediaAttributeConverter(mediaElementName));\n            evt.stop();\n        });\n    }\n}\nfunction viewToModelMediaAttributesConverter(dataFilter, mediaElementName) {\n    const upcastMedia = (evt, data, conversionApi) => {\n        const viewMediaElement = data.viewItem;\n        preserveElementAttributes(viewMediaElement, getHtmlAttributeName(mediaElementName));\n        function preserveElementAttributes(viewElement, attributeName) {\n            const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute(attributeName, viewAttributes, data.modelRange);\n            }\n        }\n    };\n    return (dispatcher) => {\n        dispatcher.on(`element:${mediaElementName}`, upcastMedia, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:media-embed/mediaembed~MediaEmbed MediaEmbed}\n * feature model element from figure view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelFigureAttributesConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            const viewFigureElement = data.viewItem;\n            if (!data.modelRange || !viewFigureElement.hasClass('media')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewFigureElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlFigureAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\nfunction modelToViewMediaAttributeConverter(mediaElementName) {\n    return (dispatcher) => {\n        addAttributeConversionDispatcherHandler(mediaElementName, getHtmlAttributeName(mediaElementName));\n        addAttributeConversionDispatcherHandler('figure', 'htmlFigureAttributes');\n        function addAttributeConversionDispatcherHandler(elementName, attributeName) {\n            dispatcher.on(`attribute:${attributeName}:media`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                    return;\n                }\n                const { attributeOldValue, attributeNewValue } = data;\n                const containerElement = conversionApi.mapper.toViewElement(data.item);\n                const viewElement = getDescendantElement(conversionApi.writer, containerElement, elementName);\n                updateViewAttributes(conversionApi.writer, attributeOldValue, attributeNewValue, viewElement);\n            });\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/script\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createObjectView, modelToViewBlockAttributeConverter, viewToModelBlockAttributeConverter, viewToModelObjectConverter } from '../converters.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support for `script` elements.\n */\nexport default class ScriptElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ScriptElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register:script', (evt, definition) => {\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            schema.register('htmlScript', definition.modelSchema);\n            schema.extend('htmlScript', {\n                allowAttributes: ['htmlScriptAttributes', 'htmlContent'],\n                isContent: true\n            });\n            editor.data.registerRawContentMatcher({\n                name: 'script'\n            });\n            conversion.for('upcast').elementToElement({\n                view: 'script',\n                model: viewToModelObjectConverter(definition)\n            });\n            conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n            conversion.for('downcast').elementToElement({\n                model: 'htmlScript',\n                view: (modelElement, { writer }) => {\n                    return createObjectView('script', modelElement, writer);\n                }\n            });\n            conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n            evt.stop();\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { updateViewAttributes } from '../utils.js';\nimport DataFilter from '../datafilter.js';\nimport { getDescendantElement } from './integrationutils.js';\n/**\n * Provides the General HTML Support integration with {@link module:table/table~Table Table} feature.\n */\nexport default class TableElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('TableEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        const tableUtils = editor.plugins.get('TableUtils');\n        dataFilter.on('register:figure', () => {\n            conversion.for('upcast').add(viewToModelFigureAttributeConverter(dataFilter));\n        });\n        dataFilter.on('register:table', (evt, definition) => {\n            if (definition.model !== 'table') {\n                return;\n            }\n            schema.extend('table', {\n                allowAttributes: [\n                    'htmlTableAttributes',\n                    // Figure, thead and tbody elements don't have model counterparts.\n                    // We will be preserving attributes on table element using these attribute keys.\n                    'htmlFigureAttributes', 'htmlTheadAttributes', 'htmlTbodyAttributes'\n                ]\n            });\n            conversion.for('upcast').add(viewToModelTableAttributeConverter(dataFilter));\n            conversion.for('downcast').add(modelToViewTableAttributeConverter());\n            editor.model.document.registerPostFixer(createHeadingRowsPostFixer(editor.model, tableUtils));\n            evt.stop();\n        });\n    }\n}\n/**\n * Creates a model post-fixer for thead and tbody GHS related attributes.\n */\nfunction createHeadingRowsPostFixer(model, tableUtils) {\n    return writer => {\n        const changes = model.document.differ.getChanges();\n        let wasFixed = false;\n        for (const change of changes) {\n            if (change.type != 'attribute' || change.attributeKey != 'headingRows') {\n                continue;\n            }\n            const table = change.range.start.nodeAfter;\n            const hasTHeadAttributes = table.getAttribute('htmlTheadAttributes');\n            const hasTBodyAttributes = table.getAttribute('htmlTbodyAttributes');\n            if (hasTHeadAttributes && !change.attributeNewValue) {\n                writer.removeAttribute('htmlTheadAttributes', table);\n                wasFixed = true;\n            }\n            else if (hasTBodyAttributes && change.attributeNewValue == tableUtils.getRows(table)) {\n                writer.removeAttribute('htmlTbodyAttributes', table);\n                wasFixed = true;\n            }\n        }\n        return wasFixed;\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:table/table~Table Table}\n * feature model element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelTableAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:table', (evt, data, conversionApi) => {\n            if (!data.modelRange) {\n                return;\n            }\n            const viewTableElement = data.viewItem;\n            preserveElementAttributes(viewTableElement, 'htmlTableAttributes');\n            for (const childNode of viewTableElement.getChildren()) {\n                if (childNode.is('element', 'thead')) {\n                    preserveElementAttributes(childNode, 'htmlTheadAttributes');\n                }\n                if (childNode.is('element', 'tbody')) {\n                    preserveElementAttributes(childNode, 'htmlTbodyAttributes');\n                }\n            }\n            function preserveElementAttributes(viewElement, attributeName) {\n                const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n                if (viewAttributes) {\n                    conversionApi.writer.setAttribute(attributeName, viewAttributes, data.modelRange);\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link module:table/table~Table Table}\n * feature model element from figure view element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelFigureAttributeConverter(dataFilter) {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            const viewFigureElement = data.viewItem;\n            if (!data.modelRange || !viewFigureElement.hasClass('table')) {\n                return;\n            }\n            const viewAttributes = dataFilter.processViewAttributes(viewFigureElement, conversionApi);\n            if (viewAttributes) {\n                conversionApi.writer.setAttribute('htmlFigureAttributes', viewAttributes, data.modelRange);\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Model-to-view conversion helper applying attributes from {@link module:table/table~Table Table}\n * feature.\n *\n * @returns Returns a conversion callback.\n */\nfunction modelToViewTableAttributeConverter() {\n    return (dispatcher) => {\n        addAttributeConversionDispatcherHandler('table', 'htmlTableAttributes');\n        addAttributeConversionDispatcherHandler('figure', 'htmlFigureAttributes');\n        addAttributeConversionDispatcherHandler('thead', 'htmlTheadAttributes');\n        addAttributeConversionDispatcherHandler('tbody', 'htmlTbodyAttributes');\n        function addAttributeConversionDispatcherHandler(elementName, attributeName) {\n            dispatcher.on(`attribute:${attributeName}:table`, (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.test(data.item, evt.name)) {\n                    return;\n                }\n                const containerElement = conversionApi.mapper.toViewElement(data.item);\n                const viewElement = getDescendantElement(conversionApi.writer, containerElement, elementName);\n                if (!viewElement) {\n                    return;\n                }\n                conversionApi.consumable.consume(data.item, evt.name);\n                updateViewAttributes(conversionApi.writer, data.attributeOldValue, data.attributeNewValue, viewElement);\n            });\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/style\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createObjectView, modelToViewBlockAttributeConverter, viewToModelBlockAttributeConverter, viewToModelObjectConverter } from '../converters.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support for `style` elements.\n */\nexport default class StyleElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        dataFilter.on('register:style', (evt, definition) => {\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            schema.register('htmlStyle', definition.modelSchema);\n            schema.extend('htmlStyle', {\n                allowAttributes: ['htmlStyleAttributes', 'htmlContent'],\n                isContent: true\n            });\n            editor.data.registerRawContentMatcher({\n                name: 'style'\n            });\n            conversion.for('upcast').elementToElement({\n                view: 'style',\n                model: viewToModelObjectConverter(definition)\n            });\n            conversion.for('upcast').add(viewToModelBlockAttributeConverter(definition, dataFilter));\n            conversion.for('downcast').elementToElement({\n                model: 'htmlStyle',\n                view: (modelElement, { writer }) => {\n                    return createObjectView('style', modelElement, writer);\n                }\n            });\n            conversion.for('downcast').add(modelToViewBlockAttributeConverter(definition));\n            evt.stop();\n        });\n    }\n}\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/list\n */\nimport { isEqual } from 'lodash-es';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getHtmlAttributeName, setViewAttributes } from '../utils.js';\nimport DataFilter from '../datafilter.js';\n/**\n * Provides the General HTML Support integration with the {@link module:list/list~List List} feature.\n */\nexport default class ListElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('ListEditing')) {\n            return;\n        }\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        const dataFilter = editor.plugins.get(DataFilter);\n        const listEditing = editor.plugins.get('ListEditing');\n        const listUtils = editor.plugins.get('ListUtils');\n        const viewElements = ['ul', 'ol', 'li'];\n        // Register downcast strategy.\n        // Note that this must be done before document list editing registers conversion in afterInit.\n        listEditing.registerDowncastStrategy({\n            scope: 'item',\n            attributeName: 'htmlLiAttributes',\n            setAttributeOnDowncast: setViewAttributes\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'list',\n            attributeName: 'htmlUlAttributes',\n            setAttributeOnDowncast: setViewAttributes\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'list',\n            attributeName: 'htmlOlAttributes',\n            setAttributeOnDowncast: setViewAttributes\n        });\n        dataFilter.on('register', (evt, definition) => {\n            if (!viewElements.includes(definition.view)) {\n                return;\n            }\n            evt.stop();\n            // Do not register same converters twice.\n            if (schema.checkAttribute('$block', 'htmlLiAttributes')) {\n                return;\n            }\n            const allowAttributes = viewElements.map(element => getHtmlAttributeName(element));\n            schema.extend('$listItem', { allowAttributes });\n            conversion.for('upcast').add(dispatcher => {\n                dispatcher.on('element:ul', viewToModelListAttributeConverter('htmlUlAttributes', dataFilter), { priority: 'low' });\n                dispatcher.on('element:ol', viewToModelListAttributeConverter('htmlOlAttributes', dataFilter), { priority: 'low' });\n                dispatcher.on('element:li', viewToModelListAttributeConverter('htmlLiAttributes', dataFilter), { priority: 'low' });\n            });\n        });\n        // Make sure that all items in a single list (items at the same level & listType) have the same properties.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node, previousNodeInList } of listNodes) {\n                // This is a first item of a nested list.\n                if (!previousNodeInList) {\n                    continue;\n                }\n                if (previousNodeInList.getAttribute('listType') == node.getAttribute('listType')) {\n                    const attribute = getAttributeFromListType(previousNodeInList.getAttribute('listType'));\n                    const value = previousNodeInList.getAttribute(attribute);\n                    if (!isEqual(node.getAttribute(attribute), value) &&\n                        writer.model.schema.checkAttribute(node, attribute)) {\n                        writer.setAttribute(attribute, value, node);\n                        evt.return = true;\n                    }\n                }\n                if (previousNodeInList.getAttribute('listItemId') == node.getAttribute('listItemId')) {\n                    const value = previousNodeInList.getAttribute('htmlLiAttributes');\n                    if (!isEqual(node.getAttribute('htmlLiAttributes'), value) &&\n                        writer.model.schema.checkAttribute(node, 'htmlLiAttributes')) {\n                        writer.setAttribute('htmlLiAttributes', value, node);\n                        evt.return = true;\n                    }\n                }\n            }\n        });\n        // Remove `ol` attributes from `ul` elements and vice versa.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node } of listNodes) {\n                const listType = node.getAttribute('listType');\n                if (!listUtils.isNumberedListType(listType) && node.getAttribute('htmlOlAttributes')) {\n                    writer.removeAttribute('htmlOlAttributes', node);\n                    evt.return = true;\n                }\n                if (listUtils.isNumberedListType(listType) && node.getAttribute('htmlUlAttributes')) {\n                    writer.removeAttribute('htmlUlAttributes', node);\n                    evt.return = true;\n                }\n            }\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        if (!editor.commands.get('indentList')) {\n            return;\n        }\n        // Reset list attributes after indenting list items.\n        const indentList = editor.commands.get('indentList');\n        this.listenTo(indentList, 'afterExecute', (evt, changedBlocks) => {\n            editor.model.change(writer => {\n                for (const node of changedBlocks) {\n                    const attribute = getAttributeFromListType(node.getAttribute('listType'));\n                    if (!editor.model.schema.checkAttribute(node, attribute)) {\n                        continue;\n                    }\n                    // Just reset the attribute.\n                    // If there is a previous indented list that this node should be merged into,\n                    // the postfixer will unify all the attributes of both sub-lists.\n                    writer.setAttribute(attribute, {}, node);\n                }\n            });\n        });\n    }\n}\n/**\n * View-to-model conversion helper preserving allowed attributes on {@link TODO}\n * feature model element.\n *\n * @returns Returns a conversion callback.\n */\nfunction viewToModelListAttributeConverter(attributeName, dataFilter) {\n    return (evt, data, conversionApi) => {\n        const viewElement = data.viewItem;\n        if (!data.modelRange) {\n            Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n        }\n        const viewAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n        for (const item of data.modelRange.getItems({ shallow: true })) {\n            // Apply only to list item blocks.\n            if (!item.hasAttribute('listItemId')) {\n                continue;\n            }\n            // Set list attributes only on same level items, those nested deeper are already handled\n            // by the recursive conversion.\n            if (item.hasAttribute('htmlUlAttributes') || item.hasAttribute('htmlOlAttributes')) {\n                continue;\n            }\n            if (conversionApi.writer.model.schema.checkAttribute(item, attributeName)) {\n                conversionApi.writer.setAttribute(attributeName, viewAttributes || {}, item);\n            }\n        }\n    };\n}\n/**\n * Returns HTML attribute name based on provided list type.\n */\nfunction getAttributeFromListType(listType) {\n    return listType === 'numbered' || listType == 'customNumbered' ?\n        'htmlOlAttributes' :\n        'htmlUlAttributes';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/integrations/customelement\n */\n/* globals document */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport DataSchema from '../dataschema.js';\nimport DataFilter from '../datafilter.js';\nimport { setViewAttributes } from '../utils.js';\n/**\n * Provides the General HTML Support for custom elements (not registered in the {@link module:html-support/dataschema~DataSchema}).\n */\nexport default class CustomElementSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [DataFilter, DataSchema];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'CustomElementSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const dataFilter = this.editor.plugins.get(DataFilter);\n        const dataSchema = this.editor.plugins.get(DataSchema);\n        dataFilter.on('register:$customElement', (evt, definition) => {\n            evt.stop();\n            const editor = this.editor;\n            const schema = editor.model.schema;\n            const conversion = editor.conversion;\n            const unsafeElements = editor.editing.view.domConverter.unsafeElements;\n            const preLikeElements = editor.data.htmlProcessor.domConverter.preElements;\n            schema.register(definition.model, definition.modelSchema);\n            schema.extend(definition.model, {\n                allowAttributes: ['htmlElementName', 'htmlCustomElementAttributes', 'htmlContent'],\n                isContent: true\n            });\n            // For the `<template>` element we use only raw-content because DOM API exposes its content\n            // only as a document fragment in the `content` property (or innerHTML).\n            editor.data.htmlProcessor.domConverter.registerRawContentMatcher({ name: 'template' });\n            // Being executed on the low priority, it will catch all elements that were not caught by other converters.\n            conversion.for('upcast').elementToElement({\n                view: /.*/,\n                model: (viewElement, conversionApi) => {\n                    // Do not try to convert $comment fake element.\n                    if (viewElement.name == '$comment') {\n                        return null;\n                    }\n                    if (!isValidElementName(viewElement.name)) {\n                        return null;\n                    }\n                    // Allow for fallback only if this element is not defined in data schema to make sure\n                    // that this will handle only custom elements not registered in the data schema.\n                    if (dataSchema.getDefinitionsForView(viewElement.name).size) {\n                        return null;\n                    }\n                    // Make sure that this element will not render in the editing view.\n                    if (!unsafeElements.includes(viewElement.name)) {\n                        unsafeElements.push(viewElement.name);\n                    }\n                    // Make sure that whitespaces will not be trimmed or replaced by nbsps while stringify content.\n                    if (!preLikeElements.includes(viewElement.name)) {\n                        preLikeElements.push(viewElement.name);\n                    }\n                    const modelElement = conversionApi.writer.createElement(definition.model, {\n                        htmlElementName: viewElement.name\n                    });\n                    const htmlAttributes = dataFilter.processViewAttributes(viewElement, conversionApi);\n                    if (htmlAttributes) {\n                        conversionApi.writer.setAttribute('htmlCustomElementAttributes', htmlAttributes, modelElement);\n                    }\n                    let htmlContent;\n                    // For the `<template>` element we use only raw-content because DOM API exposes its content\n                    // only as a document fragment in the `content` property.\n                    if (viewElement.is('element', 'template') && viewElement.getCustomProperty('$rawContent')) {\n                        htmlContent = viewElement.getCustomProperty('$rawContent');\n                    }\n                    else {\n                        // Store the whole element in the attribute so that DomConverter will be able to use the pre like element context.\n                        const viewWriter = new UpcastWriter(viewElement.document);\n                        const documentFragment = viewWriter.createDocumentFragment(viewElement);\n                        const domFragment = editor.data.htmlProcessor.domConverter.viewToDom(documentFragment);\n                        const domElement = domFragment.firstChild;\n                        while (domElement.firstChild) {\n                            domFragment.appendChild(domElement.firstChild);\n                        }\n                        domElement.remove();\n                        htmlContent = editor.data.htmlProcessor.htmlWriter.getHtml(domFragment);\n                    }\n                    conversionApi.writer.setAttribute('htmlContent', htmlContent, modelElement);\n                    // Consume the content of the element.\n                    for (const { item } of editor.editing.view.createRangeIn(viewElement)) {\n                        conversionApi.consumable.consume(item, { name: true });\n                    }\n                    return modelElement;\n                },\n                converterPriority: 'low'\n            });\n            // Because this element is unsafe (DomConverter#unsafeElements), it will render as a transparent <span> but it must\n            // be rendered anyway for the mapping between the model and the view to exist.\n            conversion.for('editingDowncast').elementToElement({\n                model: {\n                    name: definition.model,\n                    attributes: ['htmlElementName', 'htmlCustomElementAttributes', 'htmlContent']\n                },\n                view: (modelElement, { writer }) => {\n                    const viewName = modelElement.getAttribute('htmlElementName');\n                    const viewElement = writer.createRawElement(viewName);\n                    if (modelElement.hasAttribute('htmlCustomElementAttributes')) {\n                        setViewAttributes(writer, modelElement.getAttribute('htmlCustomElementAttributes'), viewElement);\n                    }\n                    return viewElement;\n                }\n            });\n            conversion.for('dataDowncast').elementToElement({\n                model: {\n                    name: definition.model,\n                    attributes: ['htmlElementName', 'htmlCustomElementAttributes', 'htmlContent']\n                },\n                view: (modelElement, { writer }) => {\n                    const viewName = modelElement.getAttribute('htmlElementName');\n                    const htmlContent = modelElement.getAttribute('htmlContent');\n                    const viewElement = writer.createRawElement(viewName, null, (domElement, domConverter) => {\n                        domConverter.setContentOf(domElement, htmlContent);\n                    });\n                    if (modelElement.hasAttribute('htmlCustomElementAttributes')) {\n                        setViewAttributes(writer, modelElement.getAttribute('htmlCustomElementAttributes'), viewElement);\n                    }\n                    return viewElement;\n                }\n            });\n        });\n    }\n}\n/**\n * Returns true if name is valid for a DOM element name.\n */\nfunction isValidElementName(name) {\n    try {\n        document.createElement(name);\n    }\n    catch (error) {\n        return false;\n    }\n    return true;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-support/generalhtmlsupport\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toArray } from 'ckeditor5/src/utils.js';\nimport DataFilter from './datafilter.js';\nimport CodeBlockElementSupport from './integrations/codeblock.js';\nimport DualContentModelElementSupport from './integrations/dualcontent.js';\nimport HeadingElementSupport from './integrations/heading.js';\nimport ImageElementSupport from './integrations/image.js';\nimport MediaEmbedElementSupport from './integrations/mediaembed.js';\nimport ScriptElementSupport from './integrations/script.js';\nimport TableElementSupport from './integrations/table.js';\nimport StyleElementSupport from './integrations/style.js';\nimport ListElementSupport from './integrations/list.js';\nimport CustomElementSupport from './integrations/customelement.js';\nimport { getHtmlAttributeName, modifyGhsAttribute } from './utils.js';\n/**\n * The General HTML Support feature.\n *\n * This is a \"glue\" plugin which initializes the {@link module:html-support/datafilter~DataFilter data filter} configuration\n * and features integration with the General HTML Support.\n */\nexport default class GeneralHtmlSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'GeneralHtmlSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [\n            DataFilter,\n            CodeBlockElementSupport,\n            DualContentModelElementSupport,\n            HeadingElementSupport,\n            ImageElementSupport,\n            MediaEmbedElementSupport,\n            ScriptElementSupport,\n            TableElementSupport,\n            StyleElementSupport,\n            ListElementSupport,\n            CustomElementSupport\n        ];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const dataFilter = editor.plugins.get(DataFilter);\n        // Load the allowed empty inline elements' configuration.\n        // Note that this modifies DataSchema so must be loaded before registering filtering rules.\n        dataFilter.loadAllowedEmptyElementsConfig(editor.config.get('htmlSupport.allowEmpty') || []);\n        // Load the filtering configuration.\n        dataFilter.loadAllowedConfig(editor.config.get('htmlSupport.allow') || []);\n        dataFilter.loadDisallowedConfig(editor.config.get('htmlSupport.disallow') || []);\n    }\n    /**\n     * Returns a GHS model attribute name related to a given view element name.\n     *\n     * @internal\n     * @param viewElementName A view element name.\n     */\n    getGhsAttributeNameForElement(viewElementName) {\n        const dataSchema = this.editor.plugins.get('DataSchema');\n        const definitions = Array.from(dataSchema.getDefinitionsForView(viewElementName, false));\n        const inlineDefinition = definitions.find(definition => (definition.isInline && !definitions[0].isObject));\n        if (inlineDefinition) {\n            return inlineDefinition.model;\n        }\n        return getHtmlAttributeName(viewElementName);\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it includes the given class name.\n     *\n     * @internal\n     * @param viewElementName A view element name.\n     * @param className The css class to add.\n     * @param selectable The selection or element to update.\n     */\n    addModelHtmlClass(viewElementName, className, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'classes', classes => {\n                    for (const value of toArray(className)) {\n                        classes.add(value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it does not include the given class name.\n     *\n     * @internal\n     * @param viewElementName A view element name.\n     * @param className The css class to remove.\n     * @param selectable The selection or element to update.\n     */\n    removeModelHtmlClass(viewElementName, className, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'classes', classes => {\n                    for (const value of toArray(className)) {\n                        classes.delete(value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it includes the given attribute.\n     *\n     * @param viewElementName A view element name.\n     * @param attributes The object with attributes to set.\n     * @param selectable The selection or element to update.\n     */\n    setModelHtmlAttributes(viewElementName, attributes, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'attributes', attributesMap => {\n                    for (const [key, value] of Object.entries(attributes)) {\n                        attributesMap.set(key, value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it does not include the given attribute.\n     *\n     * @param viewElementName A view element name.\n     * @param attributeName The attribute name (or names) to remove.\n     * @param selectable The selection or element to update.\n     */\n    removeModelHtmlAttributes(viewElementName, attributeName, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'attributes', attributesMap => {\n                    for (const key of toArray(attributeName)) {\n                        attributesMap.delete(key);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it includes a given style.\n     *\n     * @param viewElementName A view element name.\n     * @param styles The object with styles to set.\n     * @param selectable The selection or element to update.\n     */\n    setModelHtmlStyles(viewElementName, styles, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'styles', stylesMap => {\n                    for (const [key, value] of Object.entries(styles)) {\n                        stylesMap.set(key, value);\n                    }\n                });\n            }\n        });\n    }\n    /**\n     * Updates GHS model attribute for a specified view element name, so it does not include a given style.\n     *\n     * @param viewElementName A view element name.\n     * @param properties The style (or styles list) to remove.\n     * @param selectable The selection or element to update.\n     */\n    removeModelHtmlStyles(viewElementName, properties, selectable) {\n        const model = this.editor.model;\n        const ghsAttributeName = this.getGhsAttributeNameForElement(viewElementName);\n        model.change(writer => {\n            for (const item of getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName)) {\n                modifyGhsAttribute(writer, item, ghsAttributeName, 'styles', stylesMap => {\n                    for (const key of toArray(properties)) {\n                        stylesMap.delete(key);\n                    }\n                });\n            }\n        });\n    }\n}\n/**\n * Returns an iterator over an items in the selectable that accept given GHS attribute.\n */\nfunction* getItemsToUpdateGhsAttribute(model, selectable, ghsAttributeName) {\n    if (!selectable) {\n        return;\n    }\n    if (!(Symbol.iterator in selectable) && selectable.is('documentSelection') && selectable.isCollapsed) {\n        if (model.schema.checkAttributeInSelection(selectable, ghsAttributeName)) {\n            yield selectable;\n        }\n    }\n    else {\n        for (const range of getValidRangesForSelectable(model, selectable, ghsAttributeName)) {\n            yield* range.getItems({ shallow: true });\n        }\n    }\n}\n/**\n * Translates a given selectable to an iterable of ranges.\n */\nfunction getValidRangesForSelectable(model, selectable, ghsAttributeName) {\n    if (!(Symbol.iterator in selectable) &&\n        (selectable.is('node') ||\n            selectable.is('$text') ||\n            selectable.is('$textProxy'))) {\n        if (model.schema.checkAttribute(selectable, ghsAttributeName)) {\n            return [model.createRangeOn(selectable)];\n        }\n        else {\n            return [];\n        }\n    }\n    else {\n        return model.schema.getValidRanges(model.createSelection(selectable).getRanges(), ghsAttributeName);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { uid } from 'ckeditor5/src/utils.js';\n/**\n * The HTML comment feature. It preserves the HTML comments (`<!-- -->`) in the editor data.\n *\n * For a detailed overview, check the {@glink features/html/html-comments HTML comment feature documentation}.\n */\nexport default class HtmlComment extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlComment';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const loadedCommentsContent = new Map();\n        editor.data.processor.skipComments = false;\n        // Allow storing comment's content as the $root attribute with the name `$comment:<unique id>`.\n        editor.model.schema.addAttributeCheck((context, attributeName) => {\n            if (context.endsWith('$root') && attributeName.startsWith('$comment')) {\n                return true;\n            }\n        });\n        // Convert the `$comment` view element to `$comment:<unique id>` marker and store its content (the comment itself) as a $root\n        // attribute. The comment content is needed in the `dataDowncast` pipeline to re-create the comment node.\n        editor.conversion.for('upcast').elementToMarker({\n            view: '$comment',\n            model: viewElement => {\n                const markerUid = uid();\n                const markerName = `$comment:${markerUid}`;\n                const commentContent = viewElement.getCustomProperty('$rawContent');\n                loadedCommentsContent.set(markerName, commentContent);\n                return markerName;\n            }\n        });\n        // Convert the `$comment` marker to `$comment` UI element with `$rawContent` custom property containing the comment content.\n        editor.conversion.for('dataDowncast').markerToElement({\n            model: '$comment',\n            view: (modelElement, { writer }) => {\n                let root = undefined;\n                for (const rootName of this.editor.model.document.getRootNames()) {\n                    root = this.editor.model.document.getRoot(rootName);\n                    if (root.hasAttribute(modelElement.markerName)) {\n                        break;\n                    }\n                }\n                const markerName = modelElement.markerName;\n                const commentContent = root.getAttribute(markerName);\n                const comment = writer.createUIElement('$comment');\n                writer.setCustomProperty('$rawContent', commentContent, comment);\n                return comment;\n            }\n        });\n        // Remove comments' markers and their corresponding $root attributes, which are moved to the graveyard.\n        editor.model.document.registerPostFixer(writer => {\n            let changed = false;\n            const markers = editor.model.document.differ.getChangedMarkers().filter(marker => marker.name.startsWith('$comment:'));\n            for (const marker of markers) {\n                const { oldRange, newRange } = marker.data;\n                if (oldRange && newRange && oldRange.root == newRange.root) {\n                    // The marker was moved in the same root. Don't do anything.\n                    continue;\n                }\n                if (oldRange) {\n                    // The comment marker was moved from one root to another (most probably to the graveyard).\n                    // Remove the related attribute from the previous root.\n                    const oldRoot = oldRange.root;\n                    if (oldRoot.hasAttribute(marker.name)) {\n                        writer.removeAttribute(marker.name, oldRoot);\n                        changed = true;\n                    }\n                }\n                if (newRange) {\n                    const newRoot = newRange.root;\n                    if (newRoot.rootName == '$graveyard') {\n                        // Comment marker was moved to the graveyard -- remove it entirely.\n                        writer.removeMarker(marker.name);\n                        changed = true;\n                    }\n                    else if (!newRoot.hasAttribute(marker.name)) {\n                        // Comment marker was just added or was moved to another root - updated roots attributes.\n                        //\n                        // Added fallback to `''` for the comment content in case if someone incorrectly added just the marker \"by hand\"\n                        // and forgot to add the root attribute or add them in different change blocks.\n                        //\n                        // It caused an infinite loop in one of the unit tests.\n                        writer.setAttribute(marker.name, loadedCommentsContent.get(marker.name) || '', newRoot);\n                        changed = true;\n                    }\n                }\n            }\n            return changed;\n        });\n        // Delete all comment markers from the document before setting new data.\n        editor.data.on('set', () => {\n            for (const commentMarker of editor.model.markers.getMarkersGroup('$comment')) {\n                this.removeHtmlComment(commentMarker.name);\n            }\n        }, { priority: 'high' });\n        // Delete all comment markers that are within a removed range.\n        // Delete all comment markers at the limit element boundaries if the whole content of the limit element is removed.\n        editor.model.on('deleteContent', (evt, [selection]) => {\n            for (const range of selection.getRanges()) {\n                const limitElement = editor.model.schema.getLimitElement(range);\n                const firstPosition = editor.model.createPositionAt(limitElement, 0);\n                const lastPosition = editor.model.createPositionAt(limitElement, 'end');\n                let affectedCommentIDs;\n                if (firstPosition.isTouching(range.start) && lastPosition.isTouching(range.end)) {\n                    affectedCommentIDs = this.getHtmlCommentsInRange(editor.model.createRange(firstPosition, lastPosition));\n                }\n                else {\n                    affectedCommentIDs = this.getHtmlCommentsInRange(range, { skipBoundaries: true });\n                }\n                for (const commentMarkerID of affectedCommentIDs) {\n                    this.removeHtmlComment(commentMarkerID);\n                }\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Creates an HTML comment on the specified position and returns its ID.\n     *\n     * *Note*: If two comments are created at the same position, the second comment will be inserted before the first one.\n     *\n     * @returns Comment ID. This ID can be later used to e.g. remove the comment from the content.\n     */\n    createHtmlComment(position, content) {\n        const id = uid();\n        const editor = this.editor;\n        const model = editor.model;\n        const root = model.document.getRoot(position.root.rootName);\n        const markerName = `$comment:${id}`;\n        return model.change(writer => {\n            const range = writer.createRange(position);\n            writer.addMarker(markerName, {\n                usingOperation: true,\n                affectsData: true,\n                range\n            });\n            writer.setAttribute(markerName, content, root);\n            return markerName;\n        });\n    }\n    /**\n     * Removes an HTML comment with the given comment ID.\n     *\n     * It does nothing and returns `false` if the comment with the given ID does not exist.\n     * Otherwise it removes the comment and returns `true`.\n     *\n     * Note that a comment can be removed also by removing the content around the comment.\n     *\n     * @param commentID The ID of the comment to be removed.\n     * @returns `true` when the comment with the given ID was removed, `false` otherwise.\n     */\n    removeHtmlComment(commentID) {\n        const editor = this.editor;\n        const marker = editor.model.markers.get(commentID);\n        if (!marker) {\n            return false;\n        }\n        editor.model.change(writer => {\n            writer.removeMarker(marker);\n        });\n        return true;\n    }\n    /**\n     * Gets the HTML comment data for the comment with a given ID.\n     *\n     * Returns `null` if the comment does not exist.\n     */\n    getHtmlCommentData(commentID) {\n        const editor = this.editor;\n        const marker = editor.model.markers.get(commentID);\n        if (!marker) {\n            return null;\n        }\n        let content = '';\n        for (const root of this.editor.model.document.getRoots()) {\n            if (root.hasAttribute(commentID)) {\n                content = root.getAttribute(commentID);\n                break;\n            }\n        }\n        return {\n            content,\n            position: marker.getStart()\n        };\n    }\n    /**\n     * Gets all HTML comments in the given range.\n     *\n     * By default, it includes comments at the range boundaries.\n     *\n     * @param range\n     * @param options.skipBoundaries When set to `true` the range boundaries will be skipped.\n     * @returns HTML comment IDs\n     */\n    getHtmlCommentsInRange(range, { skipBoundaries = false } = {}) {\n        const includeBoundaries = !skipBoundaries;\n        // Unfortunately, MarkerCollection#getMarkersAtPosition() filters out collapsed markers.\n        return Array.from(this.editor.model.markers.getMarkersGroup('$comment'))\n            .filter(marker => isCommentMarkerInRange(marker, range))\n            .map(marker => marker.name);\n        function isCommentMarkerInRange(commentMarker, range) {\n            const position = commentMarker.getRange().start;\n            return ((position.isAfter(range.start) || (includeBoundaries && position.isEqual(range.start))) &&\n                (position.isBefore(range.end) || (includeBoundaries && position.isEqual(range.end))));\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module heading/headingcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The heading command. It is used by the {@link module:heading/heading~Heading heading feature} to apply headings.\n */\nexport default class HeadingCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor Editor instance.\n     * @param modelElements Names of the element which this command can apply in the model.\n     */\n    constructor(editor, modelElements) {\n        super(editor);\n        this.modelElements = modelElements;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const block = first(this.editor.model.document.selection.getSelectedBlocks());\n        this.value = !!block && this.modelElements.includes(block.name) && block.name;\n        this.isEnabled = !!block && this.modelElements.some(heading => checkCanBecomeHeading(block, heading, this.editor.model.schema));\n    }\n    /**\n     * Executes the command. Applies the heading to the selected blocks or, if the first selected\n     * block is a heading already, turns selected headings (of this level only) to paragraphs.\n     *\n     * @param options.value Name of the element which this command will apply in the model.\n     * @fires execute\n     */\n    execute(options) {\n        const model = this.editor.model;\n        const document = model.document;\n        const modelElement = options.value;\n        model.change(writer => {\n            const blocks = Array.from(document.selection.getSelectedBlocks())\n                .filter(block => {\n                return checkCanBecomeHeading(block, modelElement, model.schema);\n            });\n            for (const block of blocks) {\n                if (!block.is('element', modelElement)) {\n                    writer.rename(block, modelElement);\n                }\n            }\n        });\n    }\n}\n/**\n * Checks whether the given block can be replaced by a specific heading.\n *\n * @param block A block to be tested.\n * @param heading Command element name in the model.\n * @param schema The schema of the document.\n */\nfunction checkCanBecomeHeading(block, heading, schema) {\n    return schema.checkChild(block.parent, heading) && !schema.isObject(block);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module heading/headingediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Paragraph } from 'ckeditor5/src/paragraph.js';\nimport { priorities } from 'ckeditor5/src/utils.js';\nimport HeadingCommand from './headingcommand.js';\nconst defaultModelElement = 'paragraph';\n/**\n * The headings engine feature. It handles switching between block formats &ndash; headings and paragraph.\n * This class represents the engine part of the heading feature. See also {@link module:heading/heading~Heading}.\n * It introduces `heading1`-`headingN` commands which allow to convert paragraphs into headings.\n */\nexport default class HeadingEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HeadingEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('heading', {\n            options: [\n                { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },\n                { model: 'heading1', view: 'h2', title: 'Heading 1', class: 'ck-heading_heading1' },\n                { model: 'heading2', view: 'h3', title: 'Heading 2', class: 'ck-heading_heading2' },\n                { model: 'heading3', view: 'h4', title: 'Heading 3', class: 'ck-heading_heading3' }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Paragraph];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const options = editor.config.get('heading.options');\n        const modelElements = [];\n        for (const option of options) {\n            // Skip paragraph - it is defined in required Paragraph feature.\n            if (option.model === 'paragraph') {\n                continue;\n            }\n            // Schema.\n            editor.model.schema.register(option.model, {\n                inheritAllFrom: '$block'\n            });\n            editor.conversion.elementToElement(option);\n            modelElements.push(option.model);\n        }\n        this._addDefaultH1Conversion(editor);\n        // Register the heading command for this option.\n        editor.commands.add('heading', new HeadingCommand(editor, modelElements));\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        // If the enter command is added to the editor, alter its behavior.\n        // Enter at the end of a heading element should create a paragraph.\n        const editor = this.editor;\n        const enterCommand = editor.commands.get('enter');\n        const options = editor.config.get('heading.options');\n        if (enterCommand) {\n            this.listenTo(enterCommand, 'afterExecute', (evt, data) => {\n                const positionParent = editor.model.document.selection.getFirstPosition().parent;\n                const isHeading = options.some(option => positionParent.is('element', option.model));\n                if (isHeading && !positionParent.is('element', defaultModelElement) && positionParent.childCount === 0) {\n                    data.writer.rename(positionParent, defaultModelElement);\n                }\n            });\n        }\n    }\n    /**\n     * Adds default conversion for `h1` -> `heading1` with a low priority.\n     *\n     * @param editor Editor instance on which to add the `h1` conversion.\n     */\n    _addDefaultH1Conversion(editor) {\n        editor.conversion.for('upcast').elementToElement({\n            model: 'heading1',\n            view: 'h1',\n            // With a `low` priority, `paragraph` plugin autoparagraphing mechanism is executed. Make sure\n            // this listener is called before it. If not, `h1` will be transformed into a paragraph.\n            converterPriority: priorities.low + 1\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./heading.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module heading/headingui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ViewModel, createDropdown, addListToDropdown, MenuBarMenuListItemView, MenuBarMenuListView, MenuBarMenuView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { getLocalizedOptions } from './utils.js';\nimport '../theme/heading.css';\n/**\n * The headings UI feature. It introduces the `headings` dropdown.\n */\nexport default class HeadingUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HeadingUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const options = getLocalizedOptions(editor);\n        const defaultTitle = t('Choose heading');\n        const accessibleLabel = t('Heading');\n        // Register UI component.\n        editor.ui.componentFactory.add('heading', locale => {\n            const titles = {};\n            const itemDefinitions = new Collection();\n            const headingCommand = editor.commands.get('heading');\n            const paragraphCommand = editor.commands.get('paragraph');\n            const commands = [headingCommand];\n            for (const option of options) {\n                const def = {\n                    type: 'button',\n                    model: new ViewModel({\n                        label: option.title,\n                        class: option.class,\n                        role: 'menuitemradio',\n                        withText: true\n                    })\n                };\n                if (option.model === 'paragraph') {\n                    def.model.bind('isOn').to(paragraphCommand, 'value');\n                    def.model.set('commandName', 'paragraph');\n                    commands.push(paragraphCommand);\n                }\n                else {\n                    def.model.bind('isOn').to(headingCommand, 'value', value => value === option.model);\n                    def.model.set({\n                        commandName: 'heading',\n                        commandValue: option.model\n                    });\n                }\n                // Add the option to the collection.\n                itemDefinitions.add(def);\n                titles[option.model] = option.title;\n            }\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, itemDefinitions, {\n                ariaLabel: accessibleLabel,\n                role: 'menu'\n            });\n            dropdownView.buttonView.set({\n                ariaLabel: accessibleLabel,\n                ariaLabelledBy: undefined,\n                isOn: false,\n                withText: true,\n                tooltip: accessibleLabel\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: [\n                        'ck-heading-dropdown'\n                    ]\n                }\n            });\n            dropdownView.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => {\n                return areEnabled.some(isEnabled => isEnabled);\n            });\n            dropdownView.buttonView.bind('label').to(headingCommand, 'value', paragraphCommand, 'value', (heading, paragraph) => {\n                const whichModel = paragraph ? 'paragraph' : heading;\n                if (typeof whichModel === 'boolean') {\n                    return defaultTitle;\n                }\n                // If none of the commands is active, display default title.\n                if (!titles[whichModel]) {\n                    return defaultTitle;\n                }\n                return titles[whichModel];\n            });\n            dropdownView.buttonView.bind('ariaLabel').to(headingCommand, 'value', paragraphCommand, 'value', (heading, paragraph) => {\n                const whichModel = paragraph ? 'paragraph' : heading;\n                if (typeof whichModel === 'boolean') {\n                    return accessibleLabel;\n                }\n                // If none of the commands is active, display default title.\n                if (!titles[whichModel]) {\n                    return accessibleLabel;\n                }\n                return `${titles[whichModel]}, ${accessibleLabel}`;\n            });\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                const { commandName, commandValue } = evt.source;\n                editor.execute(commandName, commandValue ? { value: commandValue } : undefined);\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add('menuBar:heading', locale => {\n            const menuView = new MenuBarMenuView(locale);\n            const headingCommand = editor.commands.get('heading');\n            const paragraphCommand = editor.commands.get('paragraph');\n            const commands = [headingCommand];\n            const listView = new MenuBarMenuListView(locale);\n            menuView.set({\n                class: 'ck-heading-dropdown'\n            });\n            listView.set({\n                ariaLabel: t('Heading'),\n                role: 'menu'\n            });\n            menuView.buttonView.set({\n                label: t('Heading')\n            });\n            menuView.panelView.children.add(listView);\n            for (const option of options) {\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n                buttonView.set({\n                    isToggleable: true,\n                    label: option.title,\n                    role: 'menuitemradio',\n                    class: option.class\n                });\n                buttonView.delegate('execute').to(menuView);\n                buttonView.on('execute', () => {\n                    const commandName = option.model === 'paragraph' ? 'paragraph' : 'heading';\n                    editor.execute(commandName, { value: option.model });\n                    editor.editing.view.focus();\n                });\n                if (option.model === 'paragraph') {\n                    buttonView.bind('isOn').to(paragraphCommand, 'value');\n                    commands.push(paragraphCommand);\n                }\n                else {\n                    buttonView.bind('isOn').to(headingCommand, 'value', value => value === option.model);\n                }\n            }\n            menuView.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => {\n                return areEnabled.some(isEnabled => isEnabled);\n            });\n            return menuView;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Returns heading options as defined in `config.heading.options` but processed to consider\n * the editor localization, i.e. to display {@link module:heading/headingconfig~HeadingOption}\n * in the correct language.\n *\n * Note: The reason behind this method is that there is no way to use {@link module:utils/locale~Locale#t}\n * when the user configuration is defined because the editor does not exist yet.\n */\nexport function getLocalizedOptions(editor) {\n    const t = editor.t;\n    const localizedTitles = {\n        'Paragraph': t('Paragraph'),\n        'Heading 1': t('Heading 1'),\n        'Heading 2': t('Heading 2'),\n        'Heading 3': t('Heading 3'),\n        'Heading 4': t('Heading 4'),\n        'Heading 5': t('Heading 5'),\n        'Heading 6': t('Heading 6')\n    };\n    return editor.config.get('heading.options').map(option => {\n        const title = localizedTitles[option.title];\n        if (title && title != option.title) {\n            option.title = title;\n        }\n        return option;\n    });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module heading/heading\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport HeadingEditing from './headingediting.js';\nimport HeadingUI from './headingui.js';\nimport '../theme/heading.css';\n/**\n * The headings feature.\n *\n * For a detailed overview, check the {@glink features/headings Headings feature} guide\n * and the {@glink api/heading package page}.\n *\n * This is a \"glue\" plugin which loads the {@link module:heading/headingediting~HeadingEditing heading editing feature}\n * and {@link module:heading/headingui~HeadingUI heading UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class Heading extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [HeadingEditing, HeadingUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Heading';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module heading/title\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { DowncastWriter, enablePlaceholder, hidePlaceholder, needsPlaceholder, showPlaceholder } from 'ckeditor5/src/engine.js';\n// A list of element names that should be treated by the Title plugin as title-like.\n// This means that an element of a type from this list will be changed to a title element\n// when it is the first element in the root.\nconst titleLikeElements = new Set(['paragraph', 'heading1', 'heading2', 'heading3', 'heading4', 'heading5', 'heading6']);\n/**\n * The Title plugin.\n *\n * It splits the document into `Title` and `Body` sections.\n */\nexport default class Title extends Plugin {\n    constructor() {\n        super(...arguments);\n        /**\n         * A reference to an empty paragraph in the body\n         * created when there is no element in the body for the placeholder purposes.\n         */\n        this._bodyPlaceholder = new Map();\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Title';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return ['Paragraph'];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        // To use the schema for disabling some features when the selection is inside the title element\n        // it is needed to create the following structure:\n        //\n        // <title>\n        //     <title-content>The title text</title-content>\n        // </title>\n        //\n        // See: https://github.com/ckeditor/ckeditor5/issues/2005.\n        model.schema.register('title', { isBlock: true, allowIn: '$root' });\n        model.schema.register('title-content', { isBlock: true, allowIn: 'title', allowAttributes: ['alignment'] });\n        model.schema.extend('$text', { allowIn: 'title-content' });\n        // Disallow all attributes in `title-content`.\n        model.schema.addAttributeCheck(context => {\n            if (context.endsWith('title-content $text')) {\n                return false;\n            }\n        });\n        // Because `title` is represented by two elements in the model\n        // but only one in the view, it is needed to adjust Mapper.\n        editor.editing.mapper.on('modelToViewPosition', mapModelPositionToView(editor.editing.view));\n        editor.data.mapper.on('modelToViewPosition', mapModelPositionToView(editor.editing.view));\n        // Conversion.\n        editor.conversion.for('downcast').elementToElement({ model: 'title-content', view: 'h1' });\n        editor.conversion.for('downcast').add(dispatcher => dispatcher.on('insert:title', (evt, data, conversionApi) => {\n            conversionApi.consumable.consume(data.item, evt.name);\n        }));\n        // Custom converter is used for data v -> m conversion to avoid calling post-fixer when setting data.\n        // See https://github.com/ckeditor/ckeditor5/issues/2036.\n        editor.data.upcastDispatcher.on('element:h1', dataViewModelH1Insertion, { priority: 'high' });\n        editor.data.upcastDispatcher.on('element:h2', dataViewModelH1Insertion, { priority: 'high' });\n        editor.data.upcastDispatcher.on('element:h3', dataViewModelH1Insertion, { priority: 'high' });\n        // Take care about correct `title` element structure.\n        model.document.registerPostFixer(writer => this._fixTitleContent(writer));\n        // Create and take care of correct position of a `title` element.\n        model.document.registerPostFixer(writer => this._fixTitleElement(writer));\n        // Create element for `Body` placeholder if it is missing.\n        model.document.registerPostFixer(writer => this._fixBodyElement(writer));\n        // Prevent from adding extra at the end of the document.\n        model.document.registerPostFixer(writer => this._fixExtraParagraph(writer));\n        // Attach `Title` and `Body` placeholders to the empty title and/or content.\n        this._attachPlaceholders();\n        // Attach Tab handling.\n        this._attachTabPressHandling();\n    }\n    /**\n     * Returns the title of the document. Note that because this plugin does not allow any formatting inside\n     * the title element, the output of this method will be a plain text, with no HTML tags.\n     *\n     * It is not recommended to use this method together with features that insert markers to the\n     * data output, like comments or track changes features. If such markers start in the title and end in the\n     * body, the result of this method might be incorrect.\n     *\n     * @param options Additional configuration passed to the conversion process.\n     * See {@link module:engine/controller/datacontroller~DataController#get `DataController#get`}.\n     * @returns The title of the document.\n     */\n    getTitle(options = {}) {\n        const rootName = options.rootName ? options.rootName : undefined;\n        const titleElement = this._getTitleElement(rootName);\n        const titleContentElement = titleElement.getChild(0);\n        return this.editor.data.stringify(titleContentElement, options);\n    }\n    /**\n     * Returns the body of the document.\n     *\n     * Note that it is not recommended to use this method together with features that insert markers to the\n     * data output, like comments or track changes features. If such markers start in the title and end in the\n     * body, the result of this method might be incorrect.\n     *\n     * @param options Additional configuration passed to the conversion process.\n     * See {@link module:engine/controller/datacontroller~DataController#get `DataController#get`}.\n     * @returns The body of the document.\n     */\n    getBody(options = {}) {\n        const editor = this.editor;\n        const data = editor.data;\n        const model = editor.model;\n        const rootName = options.rootName ? options.rootName : undefined;\n        const root = editor.model.document.getRoot(rootName);\n        const view = editor.editing.view;\n        const viewWriter = new DowncastWriter(view.document);\n        const rootRange = model.createRangeIn(root);\n        const viewDocumentFragment = viewWriter.createDocumentFragment();\n        // Find all markers that intersects with body.\n        const bodyStartPosition = model.createPositionAfter(root.getChild(0));\n        const bodyRange = model.createRange(bodyStartPosition, model.createPositionAt(root, 'end'));\n        const markers = new Map();\n        for (const marker of model.markers) {\n            const intersection = bodyRange.getIntersection(marker.getRange());\n            if (intersection) {\n                markers.set(marker.name, intersection);\n            }\n        }\n        // Convert the entire root to view.\n        data.mapper.clearBindings();\n        data.mapper.bindElements(root, viewDocumentFragment);\n        data.downcastDispatcher.convert(rootRange, markers, viewWriter, options);\n        // Remove title element from view.\n        viewWriter.remove(viewWriter.createRangeOn(viewDocumentFragment.getChild(0)));\n        // view -> data\n        return editor.data.processor.toData(viewDocumentFragment);\n    }\n    /**\n     * Returns the `title` element when it is in the document. Returns `undefined` otherwise.\n     */\n    _getTitleElement(rootName) {\n        const root = this.editor.model.document.getRoot(rootName);\n        for (const child of root.getChildren()) {\n            if (isTitle(child)) {\n                return child;\n            }\n        }\n    }\n    /**\n     * Model post-fixer callback that ensures that `title` has only one `title-content` child.\n     * All additional children should be moved after the `title` element and renamed to a paragraph.\n     */\n    _fixTitleContent(writer) {\n        let changed = false;\n        for (const rootName of this.editor.model.document.getRootNames()) {\n            const title = this._getTitleElement(rootName);\n            // If there is no title in the content it will be created by `_fixTitleElement` post-fixer.\n            // If the title has just one element, then it is correct. No fixing.\n            if (!title || title.maxOffset === 1) {\n                continue;\n            }\n            const titleChildren = Array.from(title.getChildren());\n            // Skip first child because it is an allowed element.\n            titleChildren.shift();\n            for (const titleChild of titleChildren) {\n                writer.move(writer.createRangeOn(titleChild), title, 'after');\n                writer.rename(titleChild, 'paragraph');\n            }\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * Model post-fixer callback that creates a title element when it is missing,\n     * takes care of the correct position of it and removes additional title elements.\n     */\n    _fixTitleElement(writer) {\n        let changed = false;\n        const model = this.editor.model;\n        for (const modelRoot of this.editor.model.document.getRoots()) {\n            const titleElements = Array.from(modelRoot.getChildren()).filter(isTitle);\n            const firstTitleElement = titleElements[0];\n            const firstRootChild = modelRoot.getChild(0);\n            // When title element is at the beginning of the document then try to fix additional title elements (if there are any).\n            if (firstRootChild.is('element', 'title')) {\n                if (titleElements.length > 1) {\n                    fixAdditionalTitleElements(titleElements, writer, model);\n                    changed = true;\n                }\n                continue;\n            }\n            // When there is no title in the document and first element in the document cannot be changed\n            // to the title then create an empty title element at the beginning of the document.\n            if (!firstTitleElement && !titleLikeElements.has(firstRootChild.name)) {\n                const title = writer.createElement('title');\n                writer.insert(title, modelRoot);\n                writer.insertElement('title-content', title);\n                changed = true;\n                continue;\n            }\n            if (titleLikeElements.has(firstRootChild.name)) {\n                // Change the first element in the document to the title if it can be changed (is title-like).\n                changeElementToTitle(firstRootChild, writer, model);\n            }\n            else {\n                // Otherwise, move the first occurrence of the title element to the beginning of the document.\n                writer.move(writer.createRangeOn(firstTitleElement), modelRoot, 0);\n            }\n            fixAdditionalTitleElements(titleElements, writer, model);\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * Model post-fixer callback that adds an empty paragraph at the end of the document\n     * when it is needed for the placeholder purposes.\n     */\n    _fixBodyElement(writer) {\n        let changed = false;\n        for (const rootName of this.editor.model.document.getRootNames()) {\n            const modelRoot = this.editor.model.document.getRoot(rootName);\n            if (modelRoot.childCount < 2) {\n                const placeholder = writer.createElement('paragraph');\n                writer.insert(placeholder, modelRoot, 1);\n                this._bodyPlaceholder.set(rootName, placeholder);\n                changed = true;\n            }\n        }\n        return changed;\n    }\n    /**\n     * Model post-fixer callback that removes a paragraph from the end of the document\n     * if it was created for the placeholder purposes and is not needed anymore.\n     */\n    _fixExtraParagraph(writer) {\n        let changed = false;\n        for (const rootName of this.editor.model.document.getRootNames()) {\n            const root = this.editor.model.document.getRoot(rootName);\n            const placeholder = this._bodyPlaceholder.get(rootName);\n            if (shouldRemoveLastParagraph(placeholder, root)) {\n                this._bodyPlaceholder.delete(rootName);\n                writer.remove(placeholder);\n                changed = true;\n            }\n        }\n        return changed;\n    }\n    /**\n     * Attaches the `Title` and `Body` placeholders to the title and/or content.\n     */\n    _attachPlaceholders() {\n        const editor = this.editor;\n        const t = editor.t;\n        const view = editor.editing.view;\n        const sourceElement = editor.sourceElement;\n        const titlePlaceholder = editor.config.get('title.placeholder') || t('Type your title');\n        const bodyPlaceholder = editor.config.get('placeholder') ||\n            sourceElement && sourceElement.tagName.toLowerCase() === 'textarea' && sourceElement.getAttribute('placeholder') ||\n            t('Type or paste your content here.');\n        // Attach placeholder to the view title element.\n        editor.editing.downcastDispatcher.on('insert:title-content', (evt, data, conversionApi) => {\n            const element = conversionApi.mapper.toViewElement(data.item);\n            element.placeholder = titlePlaceholder;\n            enablePlaceholder({\n                view,\n                element,\n                keepOnFocus: true\n            });\n        });\n        // Attach placeholder to first element after a title element and remove it if it's not needed anymore.\n        // First element after title can change, so we need to observe all changes keep placeholder in sync.\n        const bodyViewElements = new Map();\n        // This post-fixer runs after the model post-fixer, so we can assume that the second child in view root will always exist.\n        view.document.registerPostFixer(writer => {\n            let hasChanged = false;\n            for (const viewRoot of view.document.roots) {\n                // `viewRoot` can be empty despite the model post-fixers if the model root was detached.\n                if (viewRoot.isEmpty) {\n                    continue;\n                }\n                // If `viewRoot` is not empty, then we can expect at least two elements in it.\n                const body = viewRoot.getChild(1);\n                const oldBody = bodyViewElements.get(viewRoot.rootName);\n                // If body element has changed we need to disable placeholder on the previous element and enable on the new one.\n                if (body !== oldBody) {\n                    if (oldBody) {\n                        hidePlaceholder(writer, oldBody);\n                        writer.removeAttribute('data-placeholder', oldBody);\n                    }\n                    writer.setAttribute('data-placeholder', bodyPlaceholder, body);\n                    bodyViewElements.set(viewRoot.rootName, body);\n                    hasChanged = true;\n                }\n                // Then we need to display placeholder if it is needed.\n                // See: https://github.com/ckeditor/ckeditor5/issues/8689.\n                if (needsPlaceholder(body, true) && viewRoot.childCount === 2 && body.name === 'p') {\n                    hasChanged = showPlaceholder(writer, body) ? true : hasChanged;\n                }\n                else {\n                    // Or hide if it is not needed.\n                    hasChanged = hidePlaceholder(writer, body) ? true : hasChanged;\n                }\n            }\n            return hasChanged;\n        });\n    }\n    /**\n     * Creates navigation between the title and body sections using <kbd>Tab</kbd> and <kbd>Shift</kbd>+<kbd>Tab</kbd> keys.\n     */\n    _attachTabPressHandling() {\n        const editor = this.editor;\n        const model = editor.model;\n        // Pressing <kbd>Tab</kbd> inside the title should move the caret to the body.\n        editor.keystrokes.set('TAB', (data, cancel) => {\n            model.change(writer => {\n                const selection = model.document.selection;\n                const selectedElements = Array.from(selection.getSelectedBlocks());\n                if (selectedElements.length === 1 && selectedElements[0].is('element', 'title-content')) {\n                    const root = selection.getFirstPosition().root;\n                    const firstBodyElement = root.getChild(1);\n                    writer.setSelection(firstBodyElement, 0);\n                    cancel();\n                }\n            });\n        });\n        // Pressing <kbd>Shift</kbd>+<kbd>Tab</kbd> at the beginning of the body should move the caret to the title.\n        editor.keystrokes.set('SHIFT + TAB', (data, cancel) => {\n            model.change(writer => {\n                const selection = model.document.selection;\n                if (!selection.isCollapsed) {\n                    return;\n                }\n                const selectedElement = first(selection.getSelectedBlocks());\n                const selectionPosition = selection.getFirstPosition();\n                const root = editor.model.document.getRoot(selectionPosition.root.rootName);\n                const title = root.getChild(0);\n                const body = root.getChild(1);\n                if (selectedElement === body && selectionPosition.isAtStart) {\n                    writer.setSelection(title.getChild(0), 0);\n                    cancel();\n                }\n            });\n        });\n    }\n}\n/**\n * A view-to-model converter for the h1 that appears at the beginning of the document (a title element).\n *\n * @see module:engine/conversion/upcastdispatcher~UpcastDispatcher#event:element\n * @param evt An object containing information about the fired event.\n * @param data An object containing conversion input, a placeholder for conversion output and possibly other values.\n * @param conversionApi Conversion interface to be used by the callback.\n */\nfunction dataViewModelH1Insertion(evt, data, conversionApi) {\n    const modelCursor = data.modelCursor;\n    const viewItem = data.viewItem;\n    if (!modelCursor.isAtStart || !modelCursor.parent.is('element', '$root')) {\n        return;\n    }\n    if (!conversionApi.consumable.consume(viewItem, { name: true })) {\n        return;\n    }\n    const modelWriter = conversionApi.writer;\n    const title = modelWriter.createElement('title');\n    const titleContent = modelWriter.createElement('title-content');\n    modelWriter.append(titleContent, title);\n    modelWriter.insert(title, modelCursor);\n    conversionApi.convertChildren(viewItem, titleContent);\n    conversionApi.updateConversionResult(title, data);\n}\n/**\n * Maps position from the beginning of the model `title` element to the beginning of the view `h1` element.\n *\n * ```html\n * <title>^<title-content>Foo</title-content></title> -> <h1>^Foo</h1>\n * ```\n */\nfunction mapModelPositionToView(editingView) {\n    return (evt, data) => {\n        const positionParent = data.modelPosition.parent;\n        if (!positionParent.is('element', 'title')) {\n            return;\n        }\n        const modelTitleElement = positionParent.parent;\n        const viewElement = data.mapper.toViewElement(modelTitleElement);\n        data.viewPosition = editingView.createPositionAt(viewElement, 0);\n        evt.stop();\n    };\n}\n/**\n * @returns Returns true when given element is a title. Returns false otherwise.\n */\nfunction isTitle(element) {\n    return element.is('element', 'title');\n}\n/**\n * Changes the given element to the title element.\n */\nfunction changeElementToTitle(element, writer, model) {\n    const title = writer.createElement('title');\n    writer.insert(title, element, 'before');\n    writer.insert(element, title, 0);\n    writer.rename(element, 'title-content');\n    model.schema.removeDisallowedAttributes([element], writer);\n}\n/**\n * Loops over the list of title elements and fixes additional ones.\n *\n * @returns Returns true when there was any change. Returns false otherwise.\n */\nfunction fixAdditionalTitleElements(titleElements, writer, model) {\n    let hasChanged = false;\n    for (const title of titleElements) {\n        if (title.index !== 0) {\n            fixTitleElement(title, writer, model);\n            hasChanged = true;\n        }\n    }\n    return hasChanged;\n}\n/**\n * Changes given title element to a paragraph or removes it when it is empty.\n */\nfunction fixTitleElement(title, writer, model) {\n    const child = title.getChild(0);\n    // Empty title should be removed.\n    // It is created as a result of pasting to the title element.\n    if (child.isEmpty) {\n        writer.remove(title);\n        return;\n    }\n    writer.move(writer.createRangeOn(child), title, 'before');\n    writer.rename(child, 'paragraph');\n    writer.remove(title);\n    model.schema.removeDisallowedAttributes([child], writer);\n}\n/**\n * Returns true when the last paragraph in the document was created only for the placeholder\n * purpose and it's not needed anymore. Returns false otherwise.\n */\nfunction shouldRemoveLastParagraph(placeholder, root) {\n    if (!placeholder || !placeholder.is('element', 'paragraph') || placeholder.childCount) {\n        return false;\n    }\n    if (root.childCount <= 2 || root.getChild(root.childCount - 1) !== placeholder) {\n        return false;\n    }\n    return true;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\n/**\n * The horizontal line command.\n *\n * The command is registered by {@link module:horizontal-line/horizontallineediting~HorizontalLineEditing} as `'horizontalLine'`.\n *\n * To insert a horizontal line at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'horizontalLine' );\n * ```\n */\nexport default class HorizontalLineCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        this.isEnabled = isHorizontalLineAllowedInParent(selection, schema, model);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        model.change(writer => {\n            const horizontalElement = writer.createElement('horizontalLine');\n            model.insertObject(horizontalElement, null, null, { setSelection: 'after' });\n        });\n    }\n}\n/**\n * Checks if a horizontal line is allowed by the schema in the optimal insertion parent.\n *\n * @param model Model instance.\n */\nfunction isHorizontalLineAllowedInParent(selection, schema, model) {\n    const parent = getInsertHorizontalLineParent(selection, model);\n    return schema.checkChild(parent, 'horizontalLine');\n}\n/**\n * Returns a node that will be used to insert a horizontal line with `model.insertContent` to check if the horizontal line can be\n * placed there.\n *\n * @param model Model instance.\n */\nfunction getInsertHorizontalLineParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('element', '$root')) {\n        return parent.parent;\n    }\n    return parent;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./horizontalline.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module horizontal-line/horizontallineediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport HorizontalLineCommand from './horizontallinecommand.js';\nimport '../theme/horizontalline.css';\n/**\n * The horizontal line editing feature.\n */\nexport default class HorizontalLineEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLineEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        schema.register('horizontalLine', {\n            inheritAllFrom: '$blockObject'\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: 'horizontalLine',\n            view: (modelElement, { writer }) => {\n                return writer.createEmptyElement('hr');\n            }\n        });\n        conversion.for('editingDowncast').elementToStructure({\n            model: 'horizontalLine',\n            view: (modelElement, { writer }) => {\n                const label = t('Horizontal line');\n                const viewWrapper = writer.createContainerElement('div', null, writer.createEmptyElement('hr'));\n                writer.addClass('ck-horizontal-line', viewWrapper);\n                writer.setCustomProperty('hr', true, viewWrapper);\n                return toHorizontalLineWidget(viewWrapper, writer, label);\n            }\n        });\n        conversion.for('upcast').elementToElement({ view: 'hr', model: 'horizontalLine' });\n        editor.commands.add('horizontalLine', new HorizontalLineCommand(editor));\n    }\n}\n/**\n * Converts a given {@link module:engine/view/element~Element} to a horizontal line widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to\n *   recognize the horizontal line widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param writer An instance of the view writer.\n */\nfunction toHorizontalLineWidget(viewElement, writer, label) {\n    writer.setCustomProperty('horizontalLine', true, viewElement);\n    return toWidget(viewElement, writer, { label });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module horizontal-line/horizontallineui\n */\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * The horizontal line UI plugin.\n */\nexport default class HorizontalLineUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLineUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Add the `horizontalLine` button to feature components.\n        editor.ui.componentFactory.add('horizontalLine', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                tooltip: true\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:horizontalLine', () => {\n            return this._createButton(MenuBarMenuListItemButtonView);\n        });\n    }\n    /**\n     * Creates a button for horizontal line command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('horizontalLine');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Horizontal line'),\n            icon: icons.horizontalLine\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('horizontalLine');\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module horizontal-line/horizontalline\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport HorizontalLineEditing from './horizontallineediting.js';\nimport HorizontalLineUI from './horizontallineui.js';\n/**\n * The horizontal line feature.\n *\n * It provides the possibility to insert a horizontal line into the rich-text editor.\n *\n * For a detailed overview, check the {@glink features/horizontal-line Horizontal line feature} documentation.\n */\nexport default class HorizontalLine extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [HorizontalLineEditing, HorizontalLineUI, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HorizontalLine';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\n/**\n * The insert HTML embed element command.\n *\n * The command is registered by {@link module:html-embed/htmlembedediting~HtmlEmbedEditing} as `'htmlEmbed'`.\n *\n * To insert an empty HTML embed element at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'htmlEmbed' );\n * ```\n *\n * You can specify the initial content of a new HTML embed in the argument:\n *\n * ```ts\n * editor.execute( 'htmlEmbed', '<b>Initial content.</b>' );\n * ```\n *\n * To update the content of the HTML embed, select it in the model and pass the content in the argument:\n *\n * ```ts\n * editor.execute( 'htmlEmbed', '<b>New content of an existing embed.</b>' );\n * ```\n */\nexport default class HtmlEmbedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        const selectedRawHtmlElement = getSelectedRawHtmlModelWidget(selection);\n        this.isEnabled = isHtmlEmbedAllowedInParent(selection, schema, model);\n        this.value = selectedRawHtmlElement ? selectedRawHtmlElement.getAttribute('value') || '' : null;\n    }\n    /**\n     * Executes the command, which either:\n     *\n     * * creates and inserts a new HTML embed element if none was selected,\n     * * updates the content of the HTML embed if one was selected.\n     *\n     * @fires execute\n     * @param value When passed, the value (content) will be set on a new embed or a selected one.\n     */\n    execute(value) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        model.change(writer => {\n            let htmlEmbedElement;\n            // If the command has a non-null value, there must be some HTML embed selected in the model.\n            if (this.value !== null) {\n                htmlEmbedElement = getSelectedRawHtmlModelWidget(selection);\n            }\n            else {\n                htmlEmbedElement = writer.createElement('rawHtml');\n                model.insertObject(htmlEmbedElement, null, null, { setSelection: 'on' });\n            }\n            writer.setAttribute('value', value, htmlEmbedElement);\n        });\n    }\n}\n/**\n * Checks if an HTML embed is allowed by the schema in the optimal insertion parent.\n */\nfunction isHtmlEmbedAllowedInParent(selection, schema, model) {\n    const parent = getInsertHtmlEmbedParent(selection, model);\n    return schema.checkChild(parent, 'rawHtml');\n}\n/**\n * Returns a node that will be used to insert a html embed with `model.insertContent` to check if a html embed element can be placed there.\n */\nfunction getInsertHtmlEmbedParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('rootElement')) {\n        return parent.parent;\n    }\n    return parent;\n}\n/**\n * Returns the selected HTML embed element in the model, if any.\n */\nfunction getSelectedRawHtmlModelWidget(selection) {\n    const selectedElement = selection.getSelectedElement();\n    if (selectedElement && selectedElement.is('element', 'rawHtml')) {\n        return selectedElement;\n    }\n    return null;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./htmlembed.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-embed/htmlembedediting\n */\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport { logWarning, createElement } from 'ckeditor5/src/utils.js';\nimport HtmlEmbedCommand from './htmlembedcommand.js';\nimport '../theme/htmlembed.css';\n/**\n * The HTML embed editing feature.\n */\nexport default class HtmlEmbedEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlEmbedEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        /**\n         * Keeps references to {@link module:ui/button/buttonview~ButtonView edit, save, and cancel} button instances created for\n         * each widget so they can be destroyed if they are no longer in DOM after the editing view was re-rendered.\n         */\n        this._widgetButtonViewReferences = new Set();\n        editor.config.define('htmlEmbed', {\n            showPreviews: false,\n            sanitizeHtml: rawHtml => {\n                /**\n                 * When using the HTML embed feature with the `config.htmlEmbed.showPreviews` set to `true`, it is strongly recommended to\n                 * define a sanitize function that will clean up the input HTML in order to avoid XSS vulnerability.\n                 *\n                 * For a detailed overview, check the {@glink features/html/html-embed HTML embed feature} documentation.\n                 *\n                 * @error html-embed-provide-sanitize-function\n                 */\n                logWarning('html-embed-provide-sanitize-function');\n                return {\n                    html: rawHtml,\n                    hasChanged: false\n                };\n            }\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        schema.register('rawHtml', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['value']\n        });\n        editor.commands.add('htmlEmbed', new HtmlEmbedCommand(editor));\n        this._setupConversion();\n    }\n    /**\n     * Prepares converters for the feature.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const t = editor.t;\n        const view = editor.editing.view;\n        const widgetButtonViewReferences = this._widgetButtonViewReferences;\n        const htmlEmbedConfig = editor.config.get('htmlEmbed');\n        // Destroy UI buttons created for widgets that have been removed from the view document (e.g. in the previous conversion).\n        // This prevents unexpected memory leaks from UI views.\n        this.editor.editing.view.on('render', () => {\n            for (const buttonView of widgetButtonViewReferences) {\n                if (buttonView.element && buttonView.element.isConnected) {\n                    return;\n                }\n                buttonView.destroy();\n                widgetButtonViewReferences.delete(buttonView);\n            }\n        }, { priority: 'lowest' });\n        // Register div.raw-html-embed as a raw content element so all of it's content will be provided\n        // as a view element's custom property while data upcasting.\n        editor.data.registerRawContentMatcher({\n            name: 'div',\n            classes: 'raw-html-embed'\n        });\n        editor.conversion.for('upcast').elementToElement({\n            view: {\n                name: 'div',\n                classes: 'raw-html-embed'\n            },\n            model: (viewElement, { writer }) => {\n                // The div.raw-html-embed is registered as a raw content element,\n                // so all it's content is available in a custom property.\n                return writer.createElement('rawHtml', {\n                    value: viewElement.getCustomProperty('$rawContent')\n                });\n            }\n        });\n        editor.conversion.for('dataDowncast').elementToElement({\n            model: 'rawHtml',\n            view: (modelElement, { writer }) => {\n                return writer.createRawElement('div', { class: 'raw-html-embed' }, function (domElement) {\n                    domElement.innerHTML = modelElement.getAttribute('value') || '';\n                });\n            }\n        });\n        editor.conversion.for('editingDowncast').elementToStructure({\n            model: { name: 'rawHtml', attributes: ['value'] },\n            view: (modelElement, { writer }) => {\n                let domContentWrapper;\n                let state;\n                let props;\n                const viewContentWrapper = writer.createRawElement('div', {\n                    class: 'raw-html-embed__content-wrapper'\n                }, function (domElement) {\n                    domContentWrapper = domElement;\n                    renderContent({ editor, domElement, state, props });\n                    // Since there is a `data-cke-ignore-events` attribute set on the wrapper element in the editable mode,\n                    // the explicit `mousedown` handler on the `capture` phase is needed to move the selection onto the whole\n                    // HTML embed widget.\n                    domContentWrapper.addEventListener('mousedown', () => {\n                        if (state.isEditable) {\n                            const model = editor.model;\n                            const selectedElement = model.document.selection.getSelectedElement();\n                            // Move the selection onto the whole HTML embed widget if it's currently not selected.\n                            if (selectedElement !== modelElement) {\n                                model.change(writer => writer.setSelection(modelElement, 'on'));\n                            }\n                        }\n                    }, true);\n                });\n                // API exposed on each raw HTML embed widget so other features can control a particular widget.\n                const rawHtmlApi = {\n                    makeEditable() {\n                        state = Object.assign({}, state, {\n                            isEditable: true\n                        });\n                        renderContent({ domElement: domContentWrapper, editor, state, props });\n                        view.change(writer => {\n                            writer.setAttribute('data-cke-ignore-events', 'true', viewContentWrapper);\n                        });\n                        // This could be potentially pulled to a separate method called focusTextarea().\n                        domContentWrapper.querySelector('textarea').focus();\n                    },\n                    save(newValue) {\n                        // If the value didn't change, we just cancel. If it changed,\n                        // it's enough to update the model – the entire widget will be reconverted.\n                        if (newValue !== state.getRawHtmlValue()) {\n                            editor.execute('htmlEmbed', newValue);\n                            editor.editing.view.focus();\n                        }\n                        else {\n                            this.cancel();\n                        }\n                    },\n                    cancel() {\n                        state = Object.assign({}, state, {\n                            isEditable: false\n                        });\n                        renderContent({ domElement: domContentWrapper, editor, state, props });\n                        editor.editing.view.focus();\n                        view.change(writer => {\n                            writer.removeAttribute('data-cke-ignore-events', viewContentWrapper);\n                        });\n                    }\n                };\n                state = {\n                    showPreviews: htmlEmbedConfig.showPreviews,\n                    isEditable: false,\n                    getRawHtmlValue: () => modelElement.getAttribute('value') || ''\n                };\n                props = {\n                    sanitizeHtml: htmlEmbedConfig.sanitizeHtml,\n                    textareaPlaceholder: t('Paste raw HTML here...'),\n                    onEditClick() {\n                        rawHtmlApi.makeEditable();\n                    },\n                    onSaveClick(newValue) {\n                        rawHtmlApi.save(newValue);\n                    },\n                    onCancelClick() {\n                        rawHtmlApi.cancel();\n                    }\n                };\n                const viewContainer = writer.createContainerElement('div', {\n                    class: 'raw-html-embed',\n                    'data-html-embed-label': t('HTML snippet'),\n                    dir: editor.locale.uiLanguageDirection\n                }, viewContentWrapper);\n                writer.setCustomProperty('rawHtmlApi', rawHtmlApi, viewContainer);\n                writer.setCustomProperty('rawHtml', true, viewContainer);\n                return toWidget(viewContainer, writer, {\n                    label: t('HTML snippet'),\n                    hasSelectionHandle: true\n                });\n            }\n        });\n        function renderContent({ editor, domElement, state, props }) {\n            // Remove all children;\n            domElement.textContent = '';\n            const domDocument = domElement.ownerDocument;\n            let domTextarea;\n            if (state.isEditable) {\n                const textareaProps = {\n                    isDisabled: false,\n                    placeholder: props.textareaPlaceholder\n                };\n                domTextarea = createDomTextarea({ domDocument, state, props: textareaProps });\n                domElement.append(domTextarea);\n            }\n            else if (state.showPreviews) {\n                const previewContainerProps = {\n                    sanitizeHtml: props.sanitizeHtml\n                };\n                domElement.append(createPreviewContainer({ domDocument, state, props: previewContainerProps, editor }));\n            }\n            else {\n                const textareaProps = {\n                    isDisabled: true,\n                    placeholder: props.textareaPlaceholder\n                };\n                domElement.append(createDomTextarea({ domDocument, state, props: textareaProps }));\n            }\n            const buttonsWrapperProps = {\n                onEditClick: props.onEditClick,\n                onSaveClick: () => {\n                    props.onSaveClick(domTextarea.value);\n                },\n                onCancelClick: props.onCancelClick\n            };\n            domElement.prepend(createDomButtonsWrapper({ editor, domDocument, state, props: buttonsWrapperProps }));\n        }\n        function createDomButtonsWrapper({ editor, domDocument, state, props }) {\n            const domButtonsWrapper = createElement(domDocument, 'div', {\n                class: 'raw-html-embed__buttons-wrapper'\n            });\n            if (state.isEditable) {\n                const saveButtonView = createUIButton(editor, 'save', props.onSaveClick);\n                const cancelButtonView = createUIButton(editor, 'cancel', props.onCancelClick);\n                domButtonsWrapper.append(saveButtonView.element, cancelButtonView.element);\n                widgetButtonViewReferences.add(saveButtonView).add(cancelButtonView);\n            }\n            else {\n                const editButtonView = createUIButton(editor, 'edit', props.onEditClick);\n                domButtonsWrapper.append(editButtonView.element);\n                widgetButtonViewReferences.add(editButtonView);\n            }\n            return domButtonsWrapper;\n        }\n        function createDomTextarea({ domDocument, state, props }) {\n            const domTextarea = createElement(domDocument, 'textarea', {\n                placeholder: props.placeholder,\n                class: 'ck ck-reset ck-input ck-input-text raw-html-embed__source'\n            });\n            domTextarea.disabled = props.isDisabled;\n            domTextarea.value = state.getRawHtmlValue();\n            return domTextarea;\n        }\n        function createPreviewContainer({ editor, domDocument, state, props }) {\n            const sanitizedOutput = props.sanitizeHtml(state.getRawHtmlValue());\n            const placeholderText = state.getRawHtmlValue().length > 0 ?\n                t('No preview available') :\n                t('Empty snippet content');\n            const domPreviewPlaceholder = createElement(domDocument, 'div', {\n                class: 'ck ck-reset_all raw-html-embed__preview-placeholder'\n            }, placeholderText);\n            const domPreviewContent = createElement(domDocument, 'div', {\n                class: 'raw-html-embed__preview-content',\n                dir: editor.locale.contentLanguageDirection\n            });\n            // Creating a contextual document fragment allows executing scripts when inserting into the preview element.\n            // See: #8326.\n            const domRange = domDocument.createRange();\n            const domDocumentFragment = domRange.createContextualFragment(sanitizedOutput.html);\n            domPreviewContent.appendChild(domDocumentFragment);\n            const domPreviewContainer = createElement(domDocument, 'div', {\n                class: 'raw-html-embed__preview'\n            }, [\n                domPreviewPlaceholder, domPreviewContent\n            ]);\n            return domPreviewContainer;\n        }\n    }\n}\n/**\n * Returns a UI button view that can be used in conversion.\n */\nfunction createUIButton(editor, type, onClick) {\n    const { t } = editor.locale;\n    const buttonView = new ButtonView(editor.locale);\n    const command = editor.commands.get('htmlEmbed');\n    buttonView.set({\n        class: `raw-html-embed__${type}-button`,\n        icon: icons.pencil,\n        tooltip: true,\n        tooltipPosition: editor.locale.uiLanguageDirection === 'rtl' ? 'e' : 'w'\n    });\n    buttonView.render();\n    if (type === 'edit') {\n        buttonView.set({\n            icon: icons.pencil,\n            label: t('Edit source')\n        });\n        buttonView.bind('isEnabled').to(command);\n    }\n    else if (type === 'save') {\n        buttonView.set({\n            icon: icons.check,\n            label: t('Save changes')\n        });\n        buttonView.bind('isEnabled').to(command);\n    }\n    else {\n        buttonView.set({\n            icon: icons.cancel,\n            label: t('Cancel')\n        });\n    }\n    buttonView.on('execute', onClick);\n    return buttonView;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-embed/htmlembedui\n */\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * The HTML embed UI plugin.\n */\nexport default class HtmlEmbedUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlEmbedUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const t = locale.t;\n        // Add the `htmlEmbed` button to feature components.\n        editor.ui.componentFactory.add('htmlEmbed', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                tooltip: true,\n                label: t('Insert HTML')\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:htmlEmbed', () => {\n            const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n            buttonView.set({\n                label: t('HTML snippet')\n            });\n            return buttonView;\n        });\n    }\n    /**\n     * Creates a button for html embed command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const command = editor.commands.get('htmlEmbed');\n        const view = new ButtonClass(editor.locale);\n        view.set({\n            icon: icons.html\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('htmlEmbed');\n            editor.editing.view.focus();\n            const rawHtmlApi = editor.editing.view.document.selection\n                .getSelectedElement()\n                .getCustomProperty('rawHtmlApi');\n            rawHtmlApi.makeEditable();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module html-embed/htmlembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport HtmlEmbedEditing from './htmlembedediting.js';\nimport HtmlEmbedUI from './htmlembedui.js';\n/**\n * The HTML embed feature.\n *\n * It allows inserting HTML snippets directly into the editor.\n *\n * For a detailed overview, check the {@glink features/html/html-embed HTML embed feature} documentation.\n */\nexport default class HtmlEmbed extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [HtmlEmbedEditing, HtmlEmbedUI, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'HtmlEmbed';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module indent/indentediting\n */\nimport { Plugin, MultiCommand } from 'ckeditor5/src/core.js';\n/**\n * The indent editing feature.\n *\n * This plugin registers the `'indent'` and `'outdent'` commands.\n *\n * **Note**: In order for the commands to work, at least one of the compatible features is required. Read more in the\n * {@link module:indent/indent~Indent indent feature} API documentation.\n */\nexport default class IndentEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'IndentEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.commands.add('indent', new MultiCommand(editor));\n        editor.commands.add('outdent', new MultiCommand(editor));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module indent/indentui\n */\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\n/**\n * The indent UI feature.\n *\n * This plugin registers the `'indent'` and `'outdent'` buttons.\n *\n * **Note**: In order for the commands to work, at least one of the compatible features is required. Read more in\n * the {@link module:indent/indent~Indent indent feature} API documentation.\n */\nexport default class IndentUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'IndentUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const t = editor.t;\n        const localizedIndentIcon = locale.uiLanguageDirection == 'ltr' ? icons.indent : icons.outdent;\n        const localizedOutdentIcon = locale.uiLanguageDirection == 'ltr' ? icons.outdent : icons.indent;\n        this._defineButton('indent', t('Increase indent'), localizedIndentIcon);\n        this._defineButton('outdent', t('Decrease indent'), localizedOutdentIcon);\n    }\n    /**\n     * Defines UI buttons for both toolbar and menu bar.\n     */\n    _defineButton(commandName, label, icon) {\n        const editor = this.editor;\n        editor.ui.componentFactory.add(commandName, () => {\n            const buttonView = this._createButton(ButtonView, commandName, label, icon);\n            buttonView.set({\n                tooltip: true\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:' + commandName, () => {\n            return this._createButton(MenuBarMenuListItemButtonView, commandName, label, icon);\n        });\n    }\n    /**\n     * Creates a button to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass, commandName, label, icon) {\n        const editor = this.editor;\n        const command = editor.commands.get(commandName);\n        const view = new ButtonClass(editor.locale);\n        view.set({\n            label,\n            icon\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute(commandName);\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module indent/indent\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport IndentEditing from './indentediting.js';\nimport IndentUI from './indentui.js';\n/**\n * The indent feature.\n *\n * This plugin acts as a single entry point plugin for other features that implement indentation of elements like lists or paragraphs.\n *\n * The compatible features are:\n *\n * * The {@link module:list/list~List} or {@link module:list/list/listediting~ListEditing} feature for list indentation.\n * * The {@link module:indent/indentblock~IndentBlock} feature for block indentation.\n *\n * This is a \"glue\" plugin that loads the following plugins:\n *\n * * The {@link module:indent/indentediting~IndentEditing indent editing feature}.\n * * The {@link module:indent/indentui~IndentUI indent UI feature}.\n *\n * The dependent plugins register the `'indent'` and `'outdent'` commands and introduce the `'indent'` and `'outdent'` buttons\n * that allow to increase or decrease text indentation of supported elements.\n *\n * **Note**: In order for the commands and buttons to work, at least one of compatible features is required.\n */\nexport default class Indent extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Indent';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [IndentEditing, IndentUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module indent/indentblockcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The indent block command.\n *\n * The command is registered by the {@link module:indent/indentblock~IndentBlock} as `'indentBlock'` for indenting blocks and\n * `'outdentBlock'` for outdenting blocks.\n *\n * To increase block indentation at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'indentBlock' );\n * ```\n *\n * To decrease block indentation at the current selection, execute the command:\n *\n * ```ts\n * editor.execute( 'outdentBlock' );\n * ```\n */\nexport default class IndentBlockCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     */\n    constructor(editor, indentBehavior) {\n        super(editor);\n        this._indentBehavior = indentBehavior;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const model = editor.model;\n        const block = first(model.document.selection.getSelectedBlocks());\n        if (!block || !this._isIndentationChangeAllowed(block)) {\n            this.isEnabled = false;\n            return;\n        }\n        this.isEnabled = this._indentBehavior.checkEnabled(block.getAttribute('blockIndent'));\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const blocksToChange = this._getBlocksToChange();\n        model.change(writer => {\n            for (const block of blocksToChange) {\n                const currentIndent = block.getAttribute('blockIndent');\n                const nextIndent = this._indentBehavior.getNextIndent(currentIndent);\n                if (nextIndent) {\n                    writer.setAttribute('blockIndent', nextIndent, block);\n                }\n                else {\n                    writer.removeAttribute('blockIndent', block);\n                }\n            }\n        });\n    }\n    /**\n     * Returns blocks from selection that should have blockIndent selection set.\n     */\n    _getBlocksToChange() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const blocksInSelection = Array.from(selection.getSelectedBlocks());\n        return blocksInSelection.filter(block => this._isIndentationChangeAllowed(block));\n    }\n    /**\n     * Returns false if indentation cannot be applied, i.e.:\n     * - for blocks disallowed by schema declaration\n     * - for blocks in Document Lists (disallowed forward indentation only). See https://github.com/ckeditor/ckeditor5/issues/14155.\n     * Otherwise returns true.\n     */\n    _isIndentationChangeAllowed(element) {\n        const editor = this.editor;\n        if (!editor.model.schema.checkAttribute(element, 'blockIndent')) {\n            return false;\n        }\n        if (!editor.plugins.has('ListUtils')) {\n            return true;\n        }\n        // Only forward indentation is disallowed in list items. This allows the user to outdent blocks that are already indented.\n        if (!this._indentBehavior.isForward) {\n            return true;\n        }\n        const documentListUtils = editor.plugins.get('ListUtils');\n        return !documentListUtils.isListItemBlock(element);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * The block indentation behavior that uses offsets to set indentation.\n */\nexport default class IndentUsingOffset {\n    /**\n     * Creates an instance of the indentation behavior.\n     *\n     * @param config.direction The direction of indentation.\n     * @param config.offset The offset of the next indentation step.\n     * @param config.unit Indentation unit.\n     */\n    constructor(config) {\n        this.isForward = config.direction === 'forward';\n        this.offset = config.offset;\n        this.unit = config.unit;\n    }\n    /**\n     * @inheritDoc\n     */\n    checkEnabled(indentAttributeValue) {\n        const currentOffset = parseFloat(indentAttributeValue || '0');\n        // The command is always enabled for forward indentation.\n        return this.isForward || currentOffset > 0;\n    }\n    /**\n     * @inheritDoc\n     */\n    getNextIndent(indentAttributeValue) {\n        const currentOffset = parseFloat(indentAttributeValue || '0');\n        const isSameUnit = !indentAttributeValue || indentAttributeValue.endsWith(this.unit);\n        if (!isSameUnit) {\n            return this.isForward ? this.offset + this.unit : undefined;\n        }\n        const nextOffset = this.isForward ? this.offset : -this.offset;\n        const offsetToSet = currentOffset + nextOffset;\n        return offsetToSet > 0 ? offsetToSet + this.unit : undefined;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * The block indentation behavior that uses classes to set indentation.\n */\nexport default class IndentUsingClasses {\n    /**\n     * Creates an instance of the indentation behavior.\n     *\n     * @param config.direction The direction of indentation.\n     * @param config.classes A list of classes used for indentation.\n     */\n    constructor(config) {\n        this.isForward = config.direction === 'forward';\n        this.classes = config.classes;\n    }\n    /**\n     * @inheritDoc\n     */\n    checkEnabled(indentAttributeValue) {\n        const currentIndex = this.classes.indexOf(indentAttributeValue);\n        if (this.isForward) {\n            return currentIndex < this.classes.length - 1;\n        }\n        else {\n            return currentIndex >= 0;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    getNextIndent(indentAttributeValue) {\n        const currentIndex = this.classes.indexOf(indentAttributeValue);\n        const indexStep = this.isForward ? 1 : -1;\n        return this.classes[currentIndex + indexStep];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module indent/indentblock\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addMarginRules } from 'ckeditor5/src/engine.js';\nimport IndentBlockCommand from './indentblockcommand.js';\nimport IndentUsingOffset from './indentcommandbehavior/indentusingoffset.js';\nimport IndentUsingClasses from './indentcommandbehavior/indentusingclasses.js';\nconst DEFAULT_ELEMENTS = ['paragraph', 'heading1', 'heading2', 'heading3', 'heading4', 'heading5', 'heading6'];\n/**\n * The block indentation feature.\n *\n * It registers the `'indentBlock'` and `'outdentBlock'` commands.\n *\n * If the plugin {@link module:indent/indent~Indent} is defined, it also attaches the `'indentBlock'` and `'outdentBlock'` commands to\n * the `'indent'` and `'outdent'` commands.\n */\nexport default class IndentBlock extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('indentBlock', {\n            offset: 40,\n            unit: 'px'\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'IndentBlock';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const configuration = editor.config.get('indentBlock');\n        if (configuration.classes && configuration.classes.length) {\n            this._setupConversionUsingClasses(configuration.classes);\n            editor.commands.add('indentBlock', new IndentBlockCommand(editor, new IndentUsingClasses({\n                direction: 'forward',\n                classes: configuration.classes\n            })));\n            editor.commands.add('outdentBlock', new IndentBlockCommand(editor, new IndentUsingClasses({\n                direction: 'backward',\n                classes: configuration.classes\n            })));\n        }\n        else {\n            editor.data.addStyleProcessorRules(addMarginRules);\n            this._setupConversionUsingOffset();\n            editor.commands.add('indentBlock', new IndentBlockCommand(editor, new IndentUsingOffset({\n                direction: 'forward',\n                offset: configuration.offset,\n                unit: configuration.unit\n            })));\n            editor.commands.add('outdentBlock', new IndentBlockCommand(editor, new IndentUsingOffset({\n                direction: 'backward',\n                offset: configuration.offset,\n                unit: configuration.unit\n            })));\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const indentCommand = editor.commands.get('indent');\n        const outdentCommand = editor.commands.get('outdent');\n        // Enable block indentation to heading configuration options. If it is not defined enable in paragraph and default headings.\n        const options = editor.config.get('heading.options');\n        const configuredElements = options && options.map(option => option.model);\n        const knownElements = configuredElements || DEFAULT_ELEMENTS;\n        knownElements.forEach(elementName => {\n            if (schema.isRegistered(elementName)) {\n                schema.extend(elementName, { allowAttributes: 'blockIndent' });\n            }\n        });\n        schema.setAttributeProperties('blockIndent', { isFormatting: true });\n        indentCommand.registerChildCommand(editor.commands.get('indentBlock'));\n        outdentCommand.registerChildCommand(editor.commands.get('outdentBlock'));\n    }\n    /**\n     * Setups conversion for using offset indents.\n     */\n    _setupConversionUsingOffset() {\n        const conversion = this.editor.conversion;\n        const locale = this.editor.locale;\n        const marginProperty = locale.contentLanguageDirection === 'rtl' ? 'margin-right' : 'margin-left';\n        conversion.for('upcast').attributeToAttribute({\n            view: {\n                styles: {\n                    [marginProperty]: /[\\s\\S]+/\n                }\n            },\n            model: {\n                key: 'blockIndent',\n                value: (viewElement) => {\n                    // Do not indent block elements in Document Lists. See https://github.com/ckeditor/ckeditor5/issues/12466.\n                    if (!viewElement.is('element', 'li')) {\n                        return viewElement.getStyle(marginProperty);\n                    }\n                }\n            }\n        });\n        conversion.for('downcast').attributeToAttribute({\n            model: 'blockIndent',\n            view: modelAttributeValue => {\n                return {\n                    key: 'style',\n                    value: {\n                        [marginProperty]: modelAttributeValue\n                    }\n                };\n            }\n        });\n    }\n    /**\n     * Setups conversion for using classes.\n     */\n    _setupConversionUsingClasses(classes) {\n        const definition = {\n            model: {\n                key: 'blockIndent',\n                values: []\n            },\n            view: {}\n        };\n        for (const className of classes) {\n            definition.model.values.push(className);\n            definition.view[className] = {\n                key: 'class',\n                value: [className]\n            };\n        }\n        this.editor.conversion.attributeToAttribute(definition);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/utils/automaticdecorators\n */\nimport { toMap } from 'ckeditor5/src/utils.js';\n/**\n * Helper class that ties together all {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition} and provides\n * the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement downcast dispatchers} for them.\n */\nexport default class AutomaticDecorators {\n    constructor() {\n        /**\n         * Stores the definition of {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition automatic decorators}.\n         * This data is used as a source for a downcast dispatcher to create a proper conversion to output data.\n         */\n        this._definitions = new Set();\n    }\n    /**\n     * Gives information about the number of decorators stored in the {@link module:link/utils/automaticdecorators~AutomaticDecorators}\n     * instance.\n     */\n    get length() {\n        return this._definitions.size;\n    }\n    /**\n     * Adds automatic decorator objects or an array with them to be used during downcasting.\n     *\n     * @param item A configuration object of automatic rules for decorating links. It might also be an array of such objects.\n     */\n    add(item) {\n        if (Array.isArray(item)) {\n            item.forEach(item => this._definitions.add(item));\n        }\n        else {\n            this._definitions.add(item);\n        }\n    }\n    /**\n     * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method.\n     *\n     * @returns A dispatcher function used as conversion helper in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n     */\n    getDispatcher() {\n        return dispatcher => {\n            dispatcher.on('attribute:linkHref', (evt, data, conversionApi) => {\n                // There is only test as this behavior decorates links and\n                // it is run before dispatcher which actually consumes this node.\n                // This allows on writing own dispatcher with highest priority,\n                // which blocks both native converter and this additional decoration.\n                if (!conversionApi.consumable.test(data.item, 'attribute:linkHref')) {\n                    return;\n                }\n                // Automatic decorators for block links are handled e.g. in LinkImageEditing.\n                if (!(data.item.is('selection') || conversionApi.schema.isInline(data.item))) {\n                    return;\n                }\n                const viewWriter = conversionApi.writer;\n                const viewSelection = viewWriter.document.selection;\n                for (const item of this._definitions) {\n                    const viewElement = viewWriter.createAttributeElement('a', item.attributes, {\n                        priority: 5\n                    });\n                    if (item.classes) {\n                        viewWriter.addClass(item.classes, viewElement);\n                    }\n                    for (const key in item.styles) {\n                        viewWriter.setStyle(key, item.styles[key], viewElement);\n                    }\n                    viewWriter.setCustomProperty('link', true, viewElement);\n                    if (item.callback(data.attributeNewValue)) {\n                        if (data.item.is('selection')) {\n                            viewWriter.wrap(viewSelection.getFirstRange(), viewElement);\n                        }\n                        else {\n                            viewWriter.wrap(conversionApi.mapper.toViewRange(data.range), viewElement);\n                        }\n                    }\n                    else {\n                        viewWriter.unwrap(conversionApi.mapper.toViewRange(data.range), viewElement);\n                    }\n                }\n            }, { priority: 'high' });\n        };\n    }\n    /**\n     * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method\n     * when linking images.\n     *\n     * @returns A dispatcher function used as conversion helper in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n     */\n    getDispatcherForLinkedImage() {\n        return dispatcher => {\n            dispatcher.on('attribute:linkHref:imageBlock', (evt, data, { writer, mapper }) => {\n                const viewFigure = mapper.toViewElement(data.item);\n                const linkInImage = Array.from(viewFigure.getChildren())\n                    .find((child) => child.is('element', 'a'));\n                // It's not guaranteed that the anchor is present in the image block during execution of this dispatcher.\n                // It might have been removed during the execution of unlink command that runs the image link downcast dispatcher\n                // that is executed before this one and removes the anchor from the image block.\n                if (!linkInImage) {\n                    return;\n                }\n                for (const item of this._definitions) {\n                    const attributes = toMap(item.attributes);\n                    if (item.callback(data.attributeNewValue)) {\n                        for (const [key, val] of attributes) {\n                            // Left for backward compatibility. Since v30 decorator should\n                            // accept `classes` and `styles` separately from `attributes`.\n                            if (key === 'class') {\n                                writer.addClass(val, linkInImage);\n                            }\n                            else {\n                                writer.setAttribute(key, val, linkInImage);\n                            }\n                        }\n                        if (item.classes) {\n                            writer.addClass(item.classes, linkInImage);\n                        }\n                        for (const key in item.styles) {\n                            writer.setStyle(key, item.styles[key], linkInImage);\n                        }\n                    }\n                    else {\n                        for (const [key, val] of attributes) {\n                            if (key === 'class') {\n                                writer.removeClass(val, linkInImage);\n                            }\n                            else {\n                                writer.removeAttribute(key, linkInImage);\n                            }\n                        }\n                        if (item.classes) {\n                            writer.removeClass(item.classes, linkInImage);\n                        }\n                        for (const key in item.styles) {\n                            writer.removeStyle(key, linkInImage);\n                        }\n                    }\n                }\n            });\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { upperFirst } from 'lodash-es';\nconst ATTRIBUTE_WHITESPACES = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g; // eslint-disable-line no-control-regex\nconst SAFE_URL_TEMPLATE = '^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))';\n// Simplified email test - should be run over previously found URL.\nconst EMAIL_REG_EXP = /^[\\S]+@((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})$/i;\n// The regex checks for the protocol syntax ('xxxx://' or 'xxxx:')\n// or non-word characters at the beginning of the link ('/', '#' etc.).\nconst PROTOCOL_REG_EXP = /^((\\w+:(\\/{2,})?)|(\\W))/i;\nconst DEFAULT_LINK_PROTOCOLS = [\n    'https?',\n    'ftps?',\n    'mailto'\n];\n/**\n * A keystroke used by the {@link module:link/linkui~LinkUI link UI feature}.\n */\nexport const LINK_KEYSTROKE = 'Ctrl+K';\n/**\n * Returns `true` if a given view node is the link element.\n */\nexport function isLinkElement(node) {\n    return node.is('attributeElement') && !!node.getCustomProperty('link');\n}\n/**\n * Creates a link {@link module:engine/view/attributeelement~AttributeElement} with the provided `href` attribute.\n */\nexport function createLinkElement(href, { writer }) {\n    // Priority 5 - https://github.com/ckeditor/ckeditor5-link/issues/121.\n    const linkElement = writer.createAttributeElement('a', { href }, { priority: 5 });\n    writer.setCustomProperty('link', true, linkElement);\n    return linkElement;\n}\n/**\n * Returns a safe URL based on a given value.\n *\n * A URL is considered safe if it is safe for the user (does not contain any malicious code).\n *\n * If a URL is considered unsafe, a simple `\"#\"` is returned.\n *\n * @internal\n */\nexport function ensureSafeUrl(url, allowedProtocols = DEFAULT_LINK_PROTOCOLS) {\n    const urlString = String(url);\n    const protocolsList = allowedProtocols.join('|');\n    const customSafeRegex = new RegExp(`${SAFE_URL_TEMPLATE.replace('<protocols>', protocolsList)}`, 'i');\n    return isSafeUrl(urlString, customSafeRegex) ? urlString : '#';\n}\n/**\n * Checks whether the given URL is safe for the user (does not contain any malicious code).\n */\nfunction isSafeUrl(url, customRegexp) {\n    const normalizedUrl = url.replace(ATTRIBUTE_WHITESPACES, '');\n    return !!normalizedUrl.match(customRegexp);\n}\n/**\n * Returns the {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`} configuration processed\n * to respect the locale of the editor, i.e. to display the {@link module:link/linkconfig~LinkDecoratorManualDefinition label}\n * in the correct language.\n *\n * **Note**: Only the few most commonly used labels are translated automatically. Other labels should be manually\n * translated in the {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`} configuration.\n *\n * @param t Shorthand for {@link module:utils/locale~Locale#t Locale#t}.\n * @param decorators The decorator reference where the label values should be localized.\n */\nexport function getLocalizedDecorators(t, decorators) {\n    const localizedDecoratorsLabels = {\n        'Open in a new tab': t('Open in a new tab'),\n        'Downloadable': t('Downloadable')\n    };\n    decorators.forEach(decorator => {\n        if ('label' in decorator && localizedDecoratorsLabels[decorator.label]) {\n            decorator.label = localizedDecoratorsLabels[decorator.label];\n        }\n        return decorator;\n    });\n    return decorators;\n}\n/**\n * Converts an object with defined decorators to a normalized array of decorators. The `id` key is added for each decorator and\n * is used as the attribute's name in the model.\n */\nexport function normalizeDecorators(decorators) {\n    const retArray = [];\n    if (decorators) {\n        for (const [key, value] of Object.entries(decorators)) {\n            const decorator = Object.assign({}, value, { id: `link${upperFirst(key)}` });\n            retArray.push(decorator);\n        }\n    }\n    return retArray;\n}\n/**\n * Returns `true` if the specified `element` can be linked (the element allows the `linkHref` attribute).\n */\nexport function isLinkableElement(element, schema) {\n    if (!element) {\n        return false;\n    }\n    return schema.checkAttribute(element.name, 'linkHref');\n}\n/**\n * Returns `true` if the specified `value` is an email.\n */\nexport function isEmail(value) {\n    return EMAIL_REG_EXP.test(value);\n}\n/**\n * Adds the protocol prefix to the specified `link` when:\n *\n * * it does not contain it already, and there is a {@link module:link/linkconfig~LinkConfig#defaultProtocol `defaultProtocol` }\n * configuration value provided,\n * * or the link is an email address.\n */\nexport function addLinkProtocolIfApplicable(link, defaultProtocol) {\n    const protocol = isEmail(link) ? 'mailto:' : defaultProtocol;\n    const isProtocolNeeded = !!protocol && !linkHasProtocol(link);\n    return link && isProtocolNeeded ? protocol + link : link;\n}\n/**\n * Checks if protocol is already included in the link.\n */\nexport function linkHasProtocol(link) {\n    return PROTOCOL_REG_EXP.test(link);\n}\n/**\n * Opens the link in a new browser tab.\n */\nexport function openLink(link) {\n    window.open(link, '_blank', 'noopener');\n}\n/**\n * Creates the bookmark callbacks for handling link opening experience.\n */\nexport function createBookmarkCallbacks(editor) {\n    const bookmarkEditing = editor.plugins.has('BookmarkEditing') ?\n        editor.plugins.get('BookmarkEditing') :\n        null;\n    /**\n     * Returns `true` when bookmark `id` matches the hash from `link`.\n     */\n    function isScrollableToTarget(link) {\n        return !!link &&\n            link.startsWith('#') &&\n            !!bookmarkEditing &&\n            !!bookmarkEditing.getElementForBookmarkId(link.slice(1));\n    }\n    /**\n     * Scrolls the view to the desired bookmark or open a link in new window.\n     */\n    function scrollToTarget(link) {\n        const bookmarkId = link.slice(1);\n        const modelBookmark = bookmarkEditing.getElementForBookmarkId(bookmarkId);\n        editor.model.change(writer => {\n            writer.setSelection(modelBookmark, 'on');\n        });\n        editor.editing.view.scrollToTheSelection({\n            alignToTop: true,\n            forceScroll: true\n        });\n    }\n    return {\n        isScrollableToTarget,\n        scrollToTarget\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/linkcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findAttributeRange } from 'ckeditor5/src/typing.js';\nimport { Collection, first, toMap } from 'ckeditor5/src/utils.js';\nimport AutomaticDecorators from './utils/automaticdecorators.js';\nimport { isLinkableElement } from './utils.js';\n/**\n * The link command. It is used by the {@link module:link/link~Link link feature}.\n */\nexport default class LinkCommand extends Command {\n    constructor() {\n        super(...arguments);\n        /**\n         * A collection of {@link module:link/utils/manualdecorator~ManualDecorator manual decorators}\n         * corresponding to the {@link module:link/linkconfig~LinkConfig#decorators decorator configuration}.\n         *\n         * You can consider it a model with states of manual decorators added to the currently selected link.\n         */\n        this.manualDecorators = new Collection();\n        /**\n         * An instance of the helper that ties together all {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition}\n         * that are used by the {@glink features/link link} and the {@glink features/images/images-linking linking images} features.\n         */\n        this.automaticDecorators = new AutomaticDecorators();\n    }\n    /**\n     * Synchronizes the state of {@link #manualDecorators} with the currently present elements in the model.\n     */\n    restoreManualDecoratorStates() {\n        for (const manualDecorator of this.manualDecorators) {\n            manualDecorator.value = this._getDecoratorStateFromModel(manualDecorator.id);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedElement = selection.getSelectedElement() || first(selection.getSelectedBlocks());\n        // A check for any integration that allows linking elements (e.g. `LinkImage`).\n        // Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n        if (isLinkableElement(selectedElement, model.schema)) {\n            this.value = selectedElement.getAttribute('linkHref');\n            this.isEnabled = model.schema.checkAttribute(selectedElement, 'linkHref');\n        }\n        else {\n            this.value = selection.getAttribute('linkHref');\n            this.isEnabled = model.schema.checkAttributeInSelection(selection, 'linkHref');\n        }\n        for (const manualDecorator of this.manualDecorators) {\n            manualDecorator.value = this._getDecoratorStateFromModel(manualDecorator.id);\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is non-collapsed, the `linkHref` attribute will be applied to nodes inside the selection, but only to\n     * those nodes where the `linkHref` attribute is allowed (disallowed nodes will be omitted).\n     *\n     * When the selection is collapsed and is not inside the text with the `linkHref` attribute, a\n     * new {@link module:engine/model/text~Text text node} with the `linkHref` attribute will be inserted in place of the caret, but\n     * only if such element is allowed in this place. The `_data` of the inserted text will equal the `href` parameter.\n     * The selection will be updated to wrap the just inserted text node.\n     *\n     * When the selection is collapsed and inside the text with the `linkHref` attribute, the attribute value will be updated.\n     *\n     * # Decorators and model attribute management\n     *\n     * There is an optional argument to this command that applies or removes model\n     * {@glink framework/architecture/editing-engine#text-attributes text attributes} brought by\n     * {@link module:link/utils/manualdecorator~ManualDecorator manual link decorators}.\n     *\n     * Text attribute names in the model correspond to the entries in the {@link module:link/linkconfig~LinkConfig#decorators\n     * configuration}.\n     * For every decorator configured, a model text attribute exists with the \"link\" prefix. For example, a `'linkMyDecorator'` attribute\n     * corresponds to `'myDecorator'` in the configuration.\n     *\n     * To learn more about link decorators, check out the {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`}\n     * documentation.\n     *\n     * Here is how to manage decorator attributes with the link command:\n     *\n     * ```ts\n     * const linkCommand = editor.commands.get( 'link' );\n     *\n     * // Adding a new decorator attribute.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: true\n     * } );\n     *\n     * // Removing a decorator attribute from the selection.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: false\n     * } );\n     *\n     * // Adding multiple decorator attributes at the same time.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: true,\n     * \tlinkIsDownloadable: true,\n     * } );\n     *\n     * // Removing and adding decorator attributes at the same time.\n     * linkCommand.execute( 'http://example.com', {\n     * \tlinkIsExternal: false,\n     * \tlinkFoo: true,\n     * \tlinkIsDownloadable: false,\n     * } );\n     * ```\n     *\n     * **Note**: If the decorator attribute name is not specified, its state remains untouched.\n     *\n     * **Note**: {@link module:link/unlinkcommand~UnlinkCommand#execute `UnlinkCommand#execute()`} removes all\n     * decorator attributes.\n     *\n     * @fires execute\n     * @param href Link destination.\n     * @param manualDecoratorIds The information about manual decorator attributes to be applied or removed upon execution.\n     */\n    execute(href, manualDecoratorIds = {}) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        // Stores information about manual decorators to turn them on/off when command is applied.\n        const truthyManualDecorators = [];\n        const falsyManualDecorators = [];\n        for (const name in manualDecoratorIds) {\n            if (manualDecoratorIds[name]) {\n                truthyManualDecorators.push(name);\n            }\n            else {\n                falsyManualDecorators.push(name);\n            }\n        }\n        model.change(writer => {\n            // If selection is collapsed then update selected link or insert new one at the place of caret.\n            if (selection.isCollapsed) {\n                const position = selection.getFirstPosition();\n                // When selection is inside text with `linkHref` attribute.\n                if (selection.hasAttribute('linkHref')) {\n                    const linkText = extractTextFromSelection(selection);\n                    // Then update `linkHref` value.\n                    let linkRange = findAttributeRange(position, 'linkHref', selection.getAttribute('linkHref'), model);\n                    if (selection.getAttribute('linkHref') === linkText) {\n                        linkRange = this._updateLinkContent(model, writer, linkRange, href);\n                    }\n                    writer.setAttribute('linkHref', href, linkRange);\n                    truthyManualDecorators.forEach(item => {\n                        writer.setAttribute(item, true, linkRange);\n                    });\n                    falsyManualDecorators.forEach(item => {\n                        writer.removeAttribute(item, linkRange);\n                    });\n                    // Put the selection at the end of the updated link.\n                    writer.setSelection(writer.createPositionAfter(linkRange.end.nodeBefore));\n                }\n                // If not then insert text node with `linkHref` attribute in place of caret.\n                // However, since selection is collapsed, attribute value will be used as data for text node.\n                // So, if `href` is empty, do not create text node.\n                else if (href !== '') {\n                    const attributes = toMap(selection.getAttributes());\n                    attributes.set('linkHref', href);\n                    truthyManualDecorators.forEach(item => {\n                        attributes.set(item, true);\n                    });\n                    const { end: positionAfter } = model.insertContent(writer.createText(href, attributes), position);\n                    // Put the selection at the end of the inserted link.\n                    // Using end of range returned from insertContent in case nodes with the same attributes got merged.\n                    writer.setSelection(positionAfter);\n                }\n                // Remove the `linkHref` attribute and all link decorators from the selection.\n                // It stops adding a new content into the link element.\n                ['linkHref', ...truthyManualDecorators, ...falsyManualDecorators].forEach(item => {\n                    writer.removeSelectionAttribute(item);\n                });\n            }\n            else {\n                // If selection has non-collapsed ranges, we change attribute on nodes inside those ranges\n                // omitting nodes where the `linkHref` attribute is disallowed.\n                const ranges = model.schema.getValidRanges(selection.getRanges(), 'linkHref');\n                // But for the first, check whether the `linkHref` attribute is allowed on selected blocks (e.g. the \"image\" element).\n                const allowedRanges = [];\n                for (const element of selection.getSelectedBlocks()) {\n                    if (model.schema.checkAttribute(element, 'linkHref')) {\n                        allowedRanges.push(writer.createRangeOn(element));\n                    }\n                }\n                // Ranges that accept the `linkHref` attribute. Since we will iterate over `allowedRanges`, let's clone it.\n                const rangesToUpdate = allowedRanges.slice();\n                // For all selection ranges we want to check whether given range is inside an element that accepts the `linkHref` attribute.\n                // If so, we don't want to propagate applying the attribute to its children.\n                for (const range of ranges) {\n                    if (this._isRangeToUpdate(range, allowedRanges)) {\n                        rangesToUpdate.push(range);\n                    }\n                }\n                for (const range of rangesToUpdate) {\n                    let linkRange = range;\n                    if (rangesToUpdate.length === 1) {\n                        // Current text of the link in the document.\n                        const linkText = extractTextFromSelection(selection);\n                        if (selection.getAttribute('linkHref') === linkText) {\n                            linkRange = this._updateLinkContent(model, writer, range, href);\n                            writer.setSelection(writer.createSelection(linkRange));\n                        }\n                    }\n                    writer.setAttribute('linkHref', href, linkRange);\n                    truthyManualDecorators.forEach(item => {\n                        writer.setAttribute(item, true, linkRange);\n                    });\n                    falsyManualDecorators.forEach(item => {\n                        writer.removeAttribute(item, linkRange);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * Provides information whether a decorator with a given name is present in the currently processed selection.\n     *\n     * @param decoratorName The name of the manual decorator used in the model\n     * @returns The information whether a given decorator is currently present in the selection.\n     */\n    _getDecoratorStateFromModel(decoratorName) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        // A check for the `LinkImage` plugin. If the selection contains an element, get values from the element.\n        // Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n        if (isLinkableElement(selectedElement, model.schema)) {\n            return selectedElement.getAttribute(decoratorName);\n        }\n        return selection.getAttribute(decoratorName);\n    }\n    /**\n     * Checks whether specified `range` is inside an element that accepts the `linkHref` attribute.\n     *\n     * @param range A range to check.\n     * @param allowedRanges An array of ranges created on elements where the attribute is accepted.\n     */\n    _isRangeToUpdate(range, allowedRanges) {\n        for (const allowedRange of allowedRanges) {\n            // A range is inside an element that will have the `linkHref` attribute. Do not modify its nodes.\n            if (allowedRange.containsRange(range)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Updates selected link with a new value as its content and as its href attribute.\n     *\n     * @param model Model is need to insert content.\n     * @param writer Writer is need to create text element in model.\n     * @param range A range where should be inserted content.\n     * @param href A link value which should be in the href attribute and in the content.\n     */\n    _updateLinkContent(model, writer, range, href) {\n        const text = writer.createText(href, { linkHref: href });\n        return model.insertContent(text, range);\n    }\n}\n// Returns a text of a link under the collapsed selection or a selection that contains the entire link.\nfunction extractTextFromSelection(selection) {\n    if (selection.isCollapsed) {\n        const firstPosition = selection.getFirstPosition();\n        return firstPosition.textNode && firstPosition.textNode.data;\n    }\n    else {\n        const rangeItems = Array.from(selection.getFirstRange().getItems());\n        if (rangeItems.length > 1) {\n            return null;\n        }\n        const firstNode = rangeItems[0];\n        if (firstNode.is('$text') || firstNode.is('$textProxy')) {\n            return firstNode.data;\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/unlinkcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findAttributeRange } from 'ckeditor5/src/typing.js';\nimport { isLinkableElement } from './utils.js';\n/**\n * The unlink command. It is used by the {@link module:link/link~Link link plugin}.\n */\nexport default class UnlinkCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        // A check for any integration that allows linking elements (e.g. `LinkImage`).\n        // Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n        if (isLinkableElement(selectedElement, model.schema)) {\n            this.isEnabled = model.schema.checkAttribute(selectedElement, 'linkHref');\n        }\n        else {\n            this.isEnabled = model.schema.checkAttributeInSelection(selection, 'linkHref');\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is collapsed, it removes the `linkHref` attribute from each node with the same `linkHref` attribute value.\n     * When the selection is non-collapsed, it removes the `linkHref` attribute from each node in selected ranges.\n     *\n     * # Decorators\n     *\n     * If {@link module:link/linkconfig~LinkConfig#decorators `config.link.decorators`} is specified,\n     * all configured decorators are removed together with the `linkHref` attribute.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const linkCommand = editor.commands.get('link');\n        model.change(writer => {\n            // Get ranges to unlink.\n            const rangesToUnlink = selection.isCollapsed ?\n                [findAttributeRange(selection.getFirstPosition(), 'linkHref', selection.getAttribute('linkHref'), model)] :\n                model.schema.getValidRanges(selection.getRanges(), 'linkHref');\n            // Remove `linkHref` attribute from specified ranges.\n            for (const range of rangesToUnlink) {\n                writer.removeAttribute('linkHref', range);\n                // If there are registered custom attributes, then remove them during unlink.\n                if (linkCommand) {\n                    for (const manualDecorator of linkCommand.manualDecorators) {\n                        writer.removeAttribute(manualDecorator.id, range);\n                    }\n                }\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/utils/manualdecorator\n */\nimport { ObservableMixin } from 'ckeditor5/src/utils.js';\n/**\n * Helper class that stores manual decorators with observable {@link module:link/utils/manualdecorator~ManualDecorator#value}\n * to support integration with the UI state. An instance of this class is a model with the state of individual manual decorators.\n * These decorators are kept as collections in {@link module:link/linkcommand~LinkCommand#manualDecorators}.\n */\nexport default class ManualDecorator extends /* #__PURE__ */ ObservableMixin() {\n    /**\n     * Creates a new instance of {@link module:link/utils/manualdecorator~ManualDecorator}.\n     *\n     * @param config.id The name of the attribute used in the model that represents a given manual decorator.\n     * For example: `'linkIsExternal'`.\n     * @param config.label The label used in the user interface to toggle the manual decorator.\n     * @param config.attributes A set of attributes added to output data when the decorator is active for a specific link.\n     * Attributes should keep the format of attributes defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n     * @param [config.defaultValue] Controls whether the decorator is \"on\" by default.\n     */\n    constructor({ id, label, attributes, classes, styles, defaultValue }) {\n        super();\n        this.id = id;\n        this.set('value', undefined);\n        this.defaultValue = defaultValue;\n        this.label = label;\n        this.attributes = attributes;\n        this.classes = classes;\n        this.styles = styles;\n    }\n    /**\n     * Returns {@link module:engine/view/matcher~MatcherPattern} with decorator attributes.\n     *\n     * @internal\n     */\n    _createPattern() {\n        return {\n            attributes: this.attributes,\n            classes: this.classes,\n            styles: this.styles\n        };\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./link.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/linkediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Input, TwoStepCaretMovement, inlineHighlight } from 'ckeditor5/src/typing.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport { keyCodes, env } from 'ckeditor5/src/utils.js';\nimport LinkCommand from './linkcommand.js';\nimport UnlinkCommand from './unlinkcommand.js';\nimport ManualDecorator from './utils/manualdecorator.js';\nimport { createLinkElement, ensureSafeUrl, getLocalizedDecorators, normalizeDecorators, addLinkProtocolIfApplicable, createBookmarkCallbacks, openLink } from './utils.js';\nimport '../theme/link.css';\nconst HIGHLIGHT_CLASS = 'ck-link_selected';\nconst DECORATOR_AUTOMATIC = 'automatic';\nconst DECORATOR_MANUAL = 'manual';\nconst EXTERNAL_LINKS_REGEXP = /^(https?:)?\\/\\//;\n/**\n * The link engine feature.\n *\n * It introduces the `linkHref=\"url\"` attribute in the model which renders to the view as a `<a href=\"url\">` element\n * as well as `'link'` and `'unlink'` commands.\n */\nexport default class LinkEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        // Clipboard is required for handling cut and paste events while typing over the link.\n        return [TwoStepCaretMovement, Input, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('link', {\n            allowCreatingEmptyLinks: false,\n            addTargetToExternalLinks: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const allowedProtocols = this.editor.config.get('link.allowedProtocols');\n        // Allow link attribute on all inline nodes.\n        editor.model.schema.extend('$text', { allowAttributes: 'linkHref' });\n        editor.conversion.for('dataDowncast')\n            .attributeToElement({ model: 'linkHref', view: createLinkElement });\n        editor.conversion.for('editingDowncast')\n            .attributeToElement({ model: 'linkHref', view: (href, conversionApi) => {\n                return createLinkElement(ensureSafeUrl(href, allowedProtocols), conversionApi);\n            } });\n        editor.conversion.for('upcast')\n            .elementToAttribute({\n            view: {\n                name: 'a',\n                attributes: {\n                    href: true\n                }\n            },\n            model: {\n                key: 'linkHref',\n                value: (viewElement) => viewElement.getAttribute('href')\n            }\n        });\n        // Create linking commands.\n        editor.commands.add('link', new LinkCommand(editor));\n        editor.commands.add('unlink', new UnlinkCommand(editor));\n        const linkDecorators = getLocalizedDecorators(editor.t, normalizeDecorators(editor.config.get('link.decorators')));\n        this._enableAutomaticDecorators(linkDecorators\n            .filter((item) => item.mode === DECORATOR_AUTOMATIC));\n        this._enableManualDecorators(linkDecorators\n            .filter((item) => item.mode === DECORATOR_MANUAL));\n        // Enable two-step caret movement for `linkHref` attribute.\n        const twoStepCaretMovementPlugin = editor.plugins.get(TwoStepCaretMovement);\n        twoStepCaretMovementPlugin.registerAttribute('linkHref');\n        // Setup highlight over selected link.\n        inlineHighlight(editor, 'linkHref', 'a', HIGHLIGHT_CLASS);\n        // Handle link following by CTRL+click or ALT+ENTER\n        this._enableLinkOpen();\n        // Clears the DocumentSelection decorator attributes if the selection is no longer in a link (for example while using 2-SCM).\n        this._enableSelectionAttributesFixer();\n        // Handle adding default protocol to pasted links.\n        this._enableClipboardIntegration();\n    }\n    /**\n     * Processes an array of configured {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition automatic decorators}\n     * and registers a {@link module:engine/conversion/downcastdispatcher~DowncastDispatcher downcast dispatcher}\n     * for each one of them. Downcast dispatchers are obtained using the\n     * {@link module:link/utils/automaticdecorators~AutomaticDecorators#getDispatcher} method.\n     *\n     * **Note**: This method also activates the automatic external link decorator if enabled with\n     * {@link module:link/linkconfig~LinkConfig#addTargetToExternalLinks `config.link.addTargetToExternalLinks`}.\n     */\n    _enableAutomaticDecorators(automaticDecoratorDefinitions) {\n        const editor = this.editor;\n        // Store automatic decorators in the command instance as we do the same with manual decorators.\n        // Thanks to that, `LinkImageEditing` plugin can re-use the same definitions.\n        const command = editor.commands.get('link');\n        const automaticDecorators = command.automaticDecorators;\n        // Adds a default decorator for external links.\n        if (editor.config.get('link.addTargetToExternalLinks')) {\n            automaticDecorators.add({\n                id: 'linkIsExternal',\n                mode: DECORATOR_AUTOMATIC,\n                callback: url => !!url && EXTERNAL_LINKS_REGEXP.test(url),\n                attributes: {\n                    target: '_blank',\n                    rel: 'noopener noreferrer'\n                }\n            });\n        }\n        automaticDecorators.add(automaticDecoratorDefinitions);\n        if (automaticDecorators.length) {\n            editor.conversion.for('downcast').add(automaticDecorators.getDispatcher());\n        }\n    }\n    /**\n     * Processes an array of configured {@link module:link/linkconfig~LinkDecoratorManualDefinition manual decorators},\n     * transforms them into {@link module:link/utils/manualdecorator~ManualDecorator} instances and stores them in the\n     * {@link module:link/linkcommand~LinkCommand#manualDecorators} collection (a model for manual decorators state).\n     *\n     * Also registers an {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement attribute-to-element}\n     * converter for each manual decorator and extends the {@link module:engine/model/schema~Schema model's schema}\n     * with adequate model attributes.\n     */\n    _enableManualDecorators(manualDecoratorDefinitions) {\n        if (!manualDecoratorDefinitions.length) {\n            return;\n        }\n        const editor = this.editor;\n        const command = editor.commands.get('link');\n        const manualDecorators = command.manualDecorators;\n        manualDecoratorDefinitions.forEach(decoratorDefinition => {\n            editor.model.schema.extend('$text', { allowAttributes: decoratorDefinition.id });\n            // Keeps reference to manual decorator to decode its name to attributes during downcast.\n            const decorator = new ManualDecorator(decoratorDefinition);\n            manualDecorators.add(decorator);\n            editor.conversion.for('downcast').attributeToElement({\n                model: decorator.id,\n                view: (manualDecoratorValue, { writer, schema }, { item }) => {\n                    // Manual decorators for block links are handled e.g. in LinkImageEditing.\n                    if (!(item.is('selection') || schema.isInline(item))) {\n                        return;\n                    }\n                    if (manualDecoratorValue) {\n                        const element = writer.createAttributeElement('a', decorator.attributes, { priority: 5 });\n                        if (decorator.classes) {\n                            writer.addClass(decorator.classes, element);\n                        }\n                        for (const key in decorator.styles) {\n                            writer.setStyle(key, decorator.styles[key], element);\n                        }\n                        writer.setCustomProperty('link', true, element);\n                        return element;\n                    }\n                }\n            });\n            editor.conversion.for('upcast').elementToAttribute({\n                view: {\n                    name: 'a',\n                    ...decorator._createPattern()\n                },\n                model: {\n                    key: decorator.id\n                }\n            });\n        });\n    }\n    /**\n     * Attaches handlers for {@link module:engine/view/document~Document#event:enter} and\n     * {@link module:engine/view/document~Document#event:click} to enable link following.\n     */\n    _enableLinkOpen() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const viewDocument = view.document;\n        const bookmarkCallbacks = createBookmarkCallbacks(editor);\n        function handleLinkOpening(url) {\n            if (bookmarkCallbacks.isScrollableToTarget(url)) {\n                bookmarkCallbacks.scrollToTarget(url);\n            }\n            else {\n                openLink(url);\n            }\n        }\n        this.listenTo(viewDocument, 'click', (evt, data) => {\n            const shouldOpen = env.isMac ? data.domEvent.metaKey : data.domEvent.ctrlKey;\n            if (!shouldOpen) {\n                return;\n            }\n            let clickedElement = data.domTarget;\n            if (clickedElement.tagName.toLowerCase() != 'a') {\n                clickedElement = clickedElement.closest('a');\n            }\n            if (!clickedElement) {\n                return;\n            }\n            const url = clickedElement.getAttribute('href');\n            if (!url) {\n                return;\n            }\n            evt.stop();\n            data.preventDefault();\n            handleLinkOpening(url);\n        }, { context: '$capture' });\n        // Open link on Alt+Enter.\n        this.listenTo(viewDocument, 'keydown', (evt, data) => {\n            const linkCommand = editor.commands.get('link');\n            const url = linkCommand.value;\n            const shouldOpen = !!url && data.keyCode === keyCodes.enter && data.altKey;\n            if (!shouldOpen) {\n                return;\n            }\n            evt.stop();\n            handleLinkOpening(url);\n        });\n    }\n    /**\n     * Watches the DocumentSelection attribute changes and removes link decorator attributes when the linkHref attribute is removed.\n     *\n     * This is to ensure that there is no left-over link decorator attributes on the document selection that is no longer in a link.\n     */\n    _enableSelectionAttributesFixer() {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        this.listenTo(selection, 'change:attribute', (evt, { attributeKeys }) => {\n            if (!attributeKeys.includes('linkHref') || selection.hasAttribute('linkHref')) {\n                return;\n            }\n            model.change(writer => {\n                removeLinkAttributesFromSelection(writer, getLinkAttributesAllowedOnText(model.schema));\n            });\n        });\n    }\n    /**\n     * Enables URL fixing on pasting.\n     */\n    _enableClipboardIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const defaultProtocol = this.editor.config.get('link.defaultProtocol');\n        if (!defaultProtocol) {\n            return;\n        }\n        this.listenTo(editor.plugins.get('ClipboardPipeline'), 'contentInsertion', (evt, data) => {\n            model.change(writer => {\n                const range = writer.createRangeIn(data.content);\n                for (const item of range.getItems()) {\n                    if (item.hasAttribute('linkHref')) {\n                        const newLink = addLinkProtocolIfApplicable(item.getAttribute('linkHref'), defaultProtocol);\n                        writer.setAttribute('linkHref', newLink, item);\n                    }\n                }\n            });\n        });\n    }\n}\n/**\n * Make the selection free of link-related model attributes.\n * All link-related model attributes start with \"link\". That includes not only \"linkHref\"\n * but also all decorator attributes (they have dynamic names), or even custom plugins.\n */\nfunction removeLinkAttributesFromSelection(writer, linkAttributes) {\n    writer.removeSelectionAttribute('linkHref');\n    for (const attribute of linkAttributes) {\n        writer.removeSelectionAttribute(attribute);\n    }\n}\n/**\n * Returns an array containing names of the attributes allowed on `$text` that describes the link item.\n */\nfunction getLinkAttributesAllowedOnText(schema) {\n    const textAttributes = schema.getDefinition('$text').allowAttributes;\n    return textAttributes.filter(attribute => attribute.startsWith('link'));\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/ui/linkformview\n */\nimport { ButtonView, FocusCycler, LabeledFieldView, SwitchButtonView, View, ViewCollection, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { icons } from 'ckeditor5/src/core.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\nimport '../../theme/linkform.css';\n/**\n * The link form view controller class.\n *\n * See {@link module:link/ui/linkformview~LinkFormView}.\n */\nexport default class LinkFormView extends View {\n    /**\n     * Creates an instance of the {@link module:link/ui/linkformview~LinkFormView} class.\n     *\n     * Also see {@link #render}.\n     *\n     * @param locale The localization services instance.\n     * @param linkCommand Reference to {@link module:link/linkcommand~LinkCommand}.\n     * @param validators  Form validators used by {@link #isValid}.\n     */\n    constructor(locale, linkCommand, validators) {\n        super(locale);\n        /**\n         * Tracks information about DOM focus in the form.\n         */\n        this.focusTracker = new FocusTracker();\n        /**\n         * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n         */\n        this.keystrokes = new KeystrokeHandler();\n        /**\n         * A collection of views that can be focused in the form.\n         */\n        this._focusables = new ViewCollection();\n        const t = locale.t;\n        this._validators = validators;\n        this.urlInputView = this._createUrlInput();\n        this.saveButtonView = this._createButton(t('Save'), icons.check, 'ck-button-save');\n        this.saveButtonView.type = 'submit';\n        this.cancelButtonView = this._createButton(t('Cancel'), icons.cancel, 'ck-button-cancel', 'cancel');\n        this._manualDecoratorSwitches = this._createManualDecoratorSwitches(linkCommand);\n        this.children = this._createFormChildren(linkCommand.manualDecorators);\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        const classList = ['ck', 'ck-link-form', 'ck-responsive-form'];\n        if (linkCommand.manualDecorators.length) {\n            classList.push('ck-link-form_layout-vertical', 'ck-vertical-form');\n        }\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: classList,\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * Obtains the state of the {@link module:ui/button/switchbuttonview~SwitchButtonView switch buttons} representing\n     * {@link module:link/linkcommand~LinkCommand#manualDecorators manual link decorators}\n     * in the {@link module:link/ui/linkformview~LinkFormView}.\n     *\n     * @returns Key-value pairs, where the key is the name of the decorator and the value is its state.\n     */\n    getDecoratorSwitchesState() {\n        return Array\n            .from(this._manualDecoratorSwitches)\n            .reduce((accumulator, switchButton) => {\n            accumulator[switchButton.name] = switchButton.isOn;\n            return accumulator;\n        }, {});\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        const childViews = [\n            this.urlInputView,\n            ...this._manualDecoratorSwitches,\n            this.saveButtonView,\n            this.cancelButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist {@link #_focusables} in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Validates the form and returns `false` when some fields are invalid.\n     */\n    isValid() {\n        this.resetFormStatus();\n        for (const validator of this._validators) {\n            const errorText = validator(this);\n            // One error per field is enough.\n            if (errorText) {\n                // Apply updated error.\n                this.urlInputView.errorText = errorText;\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Cleans up the supplementary error and information text of the {@link #urlInputView}\n     * bringing them back to the state when the form has been displayed for the first time.\n     *\n     * See {@link #isValid}.\n     */\n    resetFormStatus() {\n        this.urlInputView.errorText = null;\n    }\n    /**\n     * Creates a labeled input view.\n     *\n     * @returns Labeled field view instance.\n     */\n    _createUrlInput() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        labeledInput.fieldView.inputMode = 'url';\n        labeledInput.label = t('Link URL');\n        return labeledInput;\n    }\n    /**\n     * Creates a button view.\n     *\n     * @param label The button label.\n     * @param icon The button icon.\n     * @param className The additional button CSS class name.\n     * @param eventName An event name that the `ButtonView#execute` event will be delegated to.\n     * @returns The button view instance.\n     */\n    _createButton(label, icon, className, eventName) {\n        const button = new ButtonView(this.locale);\n        button.set({\n            label,\n            icon,\n            tooltip: true\n        });\n        button.extendTemplate({\n            attributes: {\n                class: className\n            }\n        });\n        if (eventName) {\n            button.delegate('execute').to(this, eventName);\n        }\n        return button;\n    }\n    /**\n     * Populates {@link module:ui/viewcollection~ViewCollection} of {@link module:ui/button/switchbuttonview~SwitchButtonView}\n     * made based on {@link module:link/linkcommand~LinkCommand#manualDecorators}.\n     *\n     * @param linkCommand A reference to the link command.\n     * @returns ViewCollection of switch buttons.\n     */\n    _createManualDecoratorSwitches(linkCommand) {\n        const switches = this.createCollection();\n        for (const manualDecorator of linkCommand.manualDecorators) {\n            const switchButton = new SwitchButtonView(this.locale);\n            switchButton.set({\n                name: manualDecorator.id,\n                label: manualDecorator.label,\n                withText: true\n            });\n            switchButton.bind('isOn').toMany([manualDecorator, linkCommand], 'value', (decoratorValue, commandValue) => {\n                return commandValue === undefined && decoratorValue === undefined ? !!manualDecorator.defaultValue : !!decoratorValue;\n            });\n            switchButton.on('execute', () => {\n                manualDecorator.set('value', !switchButton.isOn);\n            });\n            switches.add(switchButton);\n        }\n        return switches;\n    }\n    /**\n     * Populates the {@link #children} collection of the form.\n     *\n     * If {@link module:link/linkcommand~LinkCommand#manualDecorators manual decorators} are configured in the editor, it creates an\n     * additional `View` wrapping all {@link #_manualDecoratorSwitches} switch buttons corresponding\n     * to these decorators.\n     *\n     * @param manualDecorators A reference to\n     * the collection of manual decorators stored in the link command.\n     * @returns The children of link form view.\n     */\n    _createFormChildren(manualDecorators) {\n        const children = this.createCollection();\n        children.add(this.urlInputView);\n        if (manualDecorators.length) {\n            const additionalButtonsView = new View();\n            additionalButtonsView.setTemplate({\n                tag: 'ul',\n                children: this._manualDecoratorSwitches.map(switchButton => ({\n                    tag: 'li',\n                    children: [switchButton],\n                    attributes: {\n                        class: [\n                            'ck',\n                            'ck-list__item'\n                        ]\n                    }\n                })),\n                attributes: {\n                    class: [\n                        'ck',\n                        'ck-reset',\n                        'ck-list'\n                    ]\n                }\n            });\n            children.add(additionalButtonsView);\n        }\n        children.add(this.saveButtonView);\n        children.add(this.cancelButtonView);\n        return children;\n    }\n    /**\n     * The native DOM `value` of the {@link #urlInputView} element.\n     *\n     * **Note**: Do not confuse it with the {@link module:ui/inputtext/inputtextview~InputTextView#value}\n     * which works one way only and may not represent the actual state of the component in the DOM.\n     */\n    get url() {\n        const { element } = this.urlInputView.fieldView;\n        if (!element) {\n            return null;\n        }\n        return element.value.trim();\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkactions.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/ui/linkactionsview\n */\nimport { ButtonView, View, ViewCollection, FocusCycler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { icons } from 'ckeditor5/src/core.js';\nimport { ensureSafeUrl, openLink } from '../utils.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\nimport '../../theme/linkactions.css';\nimport unlinkIcon from '../../theme/icons/unlink.svg';\n/**\n * The link actions view class. This view displays the link preview, allows\n * unlinking or editing the link.\n */\nexport default class LinkActionsView extends View {\n    /**\n     * @inheritDoc\n     */\n    constructor(locale, linkConfig = {}, options) {\n        super(locale);\n        /**\n         * Tracks information about DOM focus in the actions.\n         */\n        this.focusTracker = new FocusTracker();\n        /**\n         * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n         */\n        this.keystrokes = new KeystrokeHandler();\n        /**\n         * A collection of views that can be focused in the view.\n         */\n        this._focusables = new ViewCollection();\n        const t = locale.t;\n        this._options = options;\n        this.previewButtonView = this._createPreviewButton();\n        this.unlinkButtonView = this._createButton(t('Unlink'), unlinkIcon, 'unlink');\n        this.editButtonView = this._createButton(t('Edit link'), icons.pencil, 'edit');\n        this.set('href', undefined);\n        this._linkConfig = linkConfig;\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-link-actions',\n                    'ck-responsive-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: [\n                this.previewButtonView,\n                this.editButtonView,\n                this.unlinkButtonView\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        const childViews = [\n            this.previewButtonView,\n            this.editButtonView,\n            this.unlinkButtonView\n        ];\n        childViews.forEach(v => {\n            // Register the view as focusable.\n            this._focusables.add(v);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(v.element);\n        });\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist {@link #_focusables} in the actions.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates a button view.\n     *\n     * @param label The button label.\n     * @param icon The button icon.\n     * @param eventName An event name that the `ButtonView#execute` event will be delegated to.\n     * @returns The button view instance.\n     */\n    _createButton(label, icon, eventName) {\n        const button = new ButtonView(this.locale);\n        button.set({\n            label,\n            icon,\n            tooltip: true\n        });\n        button.delegate('execute').to(this, eventName);\n        return button;\n    }\n    /**\n     * Creates a link href preview button.\n     *\n     * @returns The button view instance.\n     */\n    _createPreviewButton() {\n        const button = new ButtonView(this.locale);\n        const bind = this.bindTemplate;\n        const t = this.t;\n        button.set({\n            withText: true\n        });\n        button.extendTemplate({\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-link-actions__preview'\n                ],\n                href: bind.to('href', href => href && ensureSafeUrl(href, this._linkConfig.allowedProtocols)),\n                target: '_blank',\n                rel: 'noopener noreferrer'\n            },\n            on: {\n                click: bind.to(evt => {\n                    if (this._options && this._options.isScrollableToTarget(this.href)) {\n                        evt.preventDefault();\n                        this._options.scrollToTarget(this.href);\n                    }\n                    else {\n                        openLink(this.href);\n                    }\n                })\n            }\n        });\n        button.bind('tooltip').to(this, 'href', href => {\n            if (this._options && this._options.isScrollableToTarget(href)) {\n                return t('Scroll to target');\n            }\n            return t('Open link in new tab');\n        });\n        button.bind('label').to(this, 'href', href => {\n            return href || t('This link has no URL');\n        });\n        button.bind('isEnabled').to(this, 'href', href => !!href);\n        button.template.tag = 'a';\n        return button;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/linkui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClickObserver } from 'ckeditor5/src/engine.js';\nimport { ButtonView, ContextualBalloon, clickOutsideHandler, CssTransitionDisablerMixin, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { isWidget } from 'ckeditor5/src/widget.js';\nimport LinkFormView from './ui/linkformview.js';\nimport LinkActionsView from './ui/linkactionsview.js';\nimport { addLinkProtocolIfApplicable, isLinkElement, createBookmarkCallbacks, LINK_KEYSTROKE } from './utils.js';\nimport linkIcon from '../theme/icons/link.svg';\nconst VISUAL_SELECTION_MARKER_NAME = 'link-ui';\n/**\n * The link UI plugin. It introduces the `'link'` and `'unlink'` buttons and support for the <kbd>Ctrl+K</kbd> keystroke.\n *\n * It uses the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n */\nexport default class LinkUI extends Plugin {\n    constructor() {\n        super(...arguments);\n        /**\n         * The actions view displayed inside of the balloon.\n         */\n        this.actionsView = null;\n        /**\n         * The form view displayed inside the balloon.\n         */\n        this.formView = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        editor.editing.view.addObserver(ClickObserver);\n        this._balloon = editor.plugins.get(ContextualBalloon);\n        // Create toolbar buttons.\n        this._createToolbarLinkButton();\n        this._enableBalloonActivators();\n        // Renders a fake visual selection marker on an expanded selection.\n        editor.conversion.for('editingDowncast').markerToHighlight({\n            model: VISUAL_SELECTION_MARKER_NAME,\n            view: {\n                classes: ['ck-fake-link-selection']\n            }\n        });\n        // Renders a fake visual selection marker on a collapsed selection.\n        editor.conversion.for('editingDowncast').markerToElement({\n            model: VISUAL_SELECTION_MARKER_NAME,\n            view: (data, { writer }) => {\n                if (!data.markerRange.isCollapsed) {\n                    return null;\n                }\n                const markerElement = writer.createUIElement('span');\n                writer.addClass(['ck-fake-link-selection', 'ck-fake-link-selection_collapsed'], markerElement);\n                return markerElement;\n            }\n        });\n        // Add the information about the keystrokes to the accessibility database.\n        editor.accessibility.addKeystrokeInfos({\n            keystrokes: [\n                {\n                    label: t('Create link'),\n                    keystroke: LINK_KEYSTROKE\n                },\n                {\n                    label: t('Move out of a link'),\n                    keystroke: [\n                        ['arrowleft', 'arrowleft'],\n                        ['arrowright', 'arrowright']\n                    ]\n                }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed (see ckeditor5#1341).\n        if (this.formView) {\n            this.formView.destroy();\n        }\n        if (this.actionsView) {\n            this.actionsView.destroy();\n        }\n    }\n    /**\n     * Creates views.\n     */\n    _createViews() {\n        this.actionsView = this._createActionsView();\n        this.formView = this._createFormView();\n        // Attach lifecycle actions to the the balloon.\n        this._enableUserBalloonInteractions();\n    }\n    /**\n     * Creates the {@link module:link/ui/linkactionsview~LinkActionsView} instance.\n     */\n    _createActionsView() {\n        const editor = this.editor;\n        const actionsView = new LinkActionsView(editor.locale, editor.config.get('link'), createBookmarkCallbacks(editor));\n        const linkCommand = editor.commands.get('link');\n        const unlinkCommand = editor.commands.get('unlink');\n        actionsView.bind('href').to(linkCommand, 'value');\n        actionsView.editButtonView.bind('isEnabled').to(linkCommand);\n        actionsView.unlinkButtonView.bind('isEnabled').to(unlinkCommand);\n        // Execute unlink command after clicking on the \"Edit\" button.\n        this.listenTo(actionsView, 'edit', () => {\n            this._addFormView();\n        });\n        // Execute unlink command after clicking on the \"Unlink\" button.\n        this.listenTo(actionsView, 'unlink', () => {\n            editor.execute('unlink');\n            this._hideUI();\n        });\n        // Close the panel on esc key press when the **actions have focus**.\n        actionsView.keystrokes.set('Esc', (data, cancel) => {\n            this._hideUI();\n            cancel();\n        });\n        // Open the form view on Ctrl+K when the **actions have focus**..\n        actionsView.keystrokes.set(LINK_KEYSTROKE, (data, cancel) => {\n            this._addFormView();\n            cancel();\n        });\n        return actionsView;\n    }\n    /**\n     * Creates the {@link module:link/ui/linkformview~LinkFormView} instance.\n     */\n    _createFormView() {\n        const editor = this.editor;\n        const linkCommand = editor.commands.get('link');\n        const defaultProtocol = editor.config.get('link.defaultProtocol');\n        const formView = new (CssTransitionDisablerMixin(LinkFormView))(editor.locale, linkCommand, getFormValidators(editor));\n        formView.urlInputView.fieldView.bind('value').to(linkCommand, 'value');\n        // Form elements should be read-only when corresponding commands are disabled.\n        formView.urlInputView.bind('isEnabled').to(linkCommand, 'isEnabled');\n        // Disable the \"save\" button if the command is disabled.\n        formView.saveButtonView.bind('isEnabled').to(linkCommand, 'isEnabled');\n        // Execute link command after clicking the \"Save\" button.\n        this.listenTo(formView, 'submit', () => {\n            if (formView.isValid()) {\n                const { value } = formView.urlInputView.fieldView.element;\n                const parsedUrl = addLinkProtocolIfApplicable(value, defaultProtocol);\n                editor.execute('link', parsedUrl, formView.getDecoratorSwitchesState());\n                this._closeFormView();\n            }\n        });\n        // Update balloon position when form error changes.\n        this.listenTo(formView.urlInputView, 'change:errorText', () => {\n            editor.ui.update();\n        });\n        // Hide the panel after clicking the \"Cancel\" button.\n        this.listenTo(formView, 'cancel', () => {\n            this._closeFormView();\n        });\n        // Close the panel on esc key press when the **form has focus**.\n        formView.keystrokes.set('Esc', (data, cancel) => {\n            this._closeFormView();\n            cancel();\n        });\n        return formView;\n    }\n    /**\n     * Creates a toolbar Link button. Clicking this button will show\n     * a {@link #_balloon} attached to the selection.\n     */\n    _createToolbarLinkButton() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('link', () => {\n            const button = this._createButton(ButtonView);\n            button.set({\n                tooltip: true\n            });\n            return button;\n        });\n        editor.ui.componentFactory.add('menuBar:link', () => {\n            const button = this._createButton(MenuBarMenuListItemButtonView);\n            button.set({\n                role: 'menuitemcheckbox'\n            });\n            return button;\n        });\n    }\n    /**\n     * Creates a button for link command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('link');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Link'),\n            icon: linkIcon,\n            keystroke: LINK_KEYSTROKE,\n            isToggleable: true\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        view.bind('isOn').to(command, 'value', value => !!value);\n        // Show the panel on button click.\n        this.listenTo(view, 'execute', () => this._showUI(true));\n        return view;\n    }\n    /**\n     * Attaches actions that control whether the balloon panel containing the\n     * {@link #formView} should be displayed.\n     */\n    _enableBalloonActivators() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        // Handle click on view document and show panel when selection is placed inside the link element.\n        // Keep panel open until selection will be inside the same link element.\n        this.listenTo(viewDocument, 'click', () => {\n            const parentLink = this._getSelectedLinkElement();\n            if (parentLink) {\n                // Then show panel but keep focus inside editor editable.\n                this._showUI();\n            }\n        });\n        // Handle the `Ctrl+K` keystroke and show the panel.\n        editor.keystrokes.set(LINK_KEYSTROKE, (keyEvtData, cancel) => {\n            // Prevent focusing the search bar in FF, Chrome and Edge. See https://github.com/ckeditor/ckeditor5/issues/4811.\n            cancel();\n            if (editor.commands.get('link').isEnabled) {\n                this._showUI(true);\n            }\n        });\n    }\n    /**\n     * Attaches actions that control whether the balloon panel containing the\n     * {@link #formView} is visible or not.\n     */\n    _enableUserBalloonInteractions() {\n        // Focus the form if the balloon is visible and the Tab key has been pressed.\n        this.editor.keystrokes.set('Tab', (data, cancel) => {\n            if (this._areActionsVisible && !this.actionsView.focusTracker.isFocused) {\n                this.actionsView.focus();\n                cancel();\n            }\n        }, {\n            // Use the high priority because the link UI navigation is more important\n            // than other feature's actions, e.g. list indentation.\n            // https://github.com/ckeditor/ckeditor5-link/issues/146\n            priority: 'high'\n        });\n        // Close the panel on the Esc key press when the editable has focus and the balloon is visible.\n        this.editor.keystrokes.set('Esc', (data, cancel) => {\n            if (this._isUIVisible) {\n                this._hideUI();\n                cancel();\n            }\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: this.formView,\n            activator: () => this._isUIInPanel,\n            contextElements: () => [this._balloon.view.element],\n            callback: () => this._hideUI()\n        });\n    }\n    /**\n     * Adds the {@link #actionsView} to the {@link #_balloon}.\n     *\n     * @internal\n     */\n    _addActionsView() {\n        if (!this.actionsView) {\n            this._createViews();\n        }\n        if (this._areActionsInPanel) {\n            return;\n        }\n        this._balloon.add({\n            view: this.actionsView,\n            position: this._getBalloonPositionData()\n        });\n    }\n    /**\n     * Adds the {@link #formView} to the {@link #_balloon}.\n     */\n    _addFormView() {\n        if (!this.formView) {\n            this._createViews();\n        }\n        if (this._isFormInPanel) {\n            return;\n        }\n        const editor = this.editor;\n        const linkCommand = editor.commands.get('link');\n        this.formView.disableCssTransitions();\n        this.formView.resetFormStatus();\n        this._balloon.add({\n            view: this.formView,\n            position: this._getBalloonPositionData()\n        });\n        // Make sure that each time the panel shows up, the URL field remains in sync with the value of\n        // the command. If the user typed in the input, then canceled the balloon (`urlInputView.fieldView#value` stays\n        // unaltered) and re-opened it without changing the value of the link command (e.g. because they\n        // clicked the same link), they would see the old value instead of the actual value of the command.\n        // https://github.com/ckeditor/ckeditor5-link/issues/78\n        // https://github.com/ckeditor/ckeditor5-link/issues/123\n        this.formView.urlInputView.fieldView.value = linkCommand.value || '';\n        // Select input when form view is currently visible.\n        if (this._balloon.visibleView === this.formView) {\n            this.formView.urlInputView.fieldView.select();\n        }\n        this.formView.enableCssTransitions();\n    }\n    /**\n     * Closes the form view. Decides whether the balloon should be hidden completely or if the action view should be shown. This is\n     * decided upon the link command value (which has a value if the document selection is in the link).\n     *\n     * Additionally, if any {@link module:link/linkconfig~LinkConfig#decorators} are defined in the editor configuration, the state of\n     * switch buttons responsible for manual decorator handling is restored.\n     */\n    _closeFormView() {\n        const linkCommand = this.editor.commands.get('link');\n        // Restore manual decorator states to represent the current model state. This case is important to reset the switch buttons\n        // when the user cancels the editing form.\n        linkCommand.restoreManualDecoratorStates();\n        if (linkCommand.value !== undefined) {\n            this._removeFormView();\n        }\n        else {\n            this._hideUI();\n        }\n    }\n    /**\n     * Removes the {@link #formView} from the {@link #_balloon}.\n     */\n    _removeFormView() {\n        if (this._isFormInPanel) {\n            // Blur the input element before removing it from DOM to prevent issues in some browsers.\n            // See https://github.com/ckeditor/ckeditor5/issues/1501.\n            this.formView.saveButtonView.focus();\n            // Reset the URL field to update the state of the submit button.\n            this.formView.urlInputView.fieldView.reset();\n            this._balloon.remove(this.formView);\n            // Because the form has an input which has focus, the focus must be brought back\n            // to the editor. Otherwise, it would be lost.\n            this.editor.editing.view.focus();\n            this._hideFakeVisualSelection();\n        }\n    }\n    /**\n     * Shows the correct UI type. It is either {@link #formView} or {@link #actionsView}.\n     *\n     * @internal\n     */\n    _showUI(forceVisible = false) {\n        if (!this.formView) {\n            this._createViews();\n        }\n        // When there's no link under the selection, go straight to the editing UI.\n        if (!this._getSelectedLinkElement()) {\n            // Show visual selection on a text without a link when the contextual balloon is displayed.\n            // See https://github.com/ckeditor/ckeditor5/issues/4721.\n            this._showFakeVisualSelection();\n            this._addActionsView();\n            // Be sure panel with link is visible.\n            if (forceVisible) {\n                this._balloon.showStack('main');\n            }\n            this._addFormView();\n        }\n        // If there's a link under the selection...\n        else {\n            // Go to the editing UI if actions are already visible.\n            if (this._areActionsVisible) {\n                this._addFormView();\n            }\n            // Otherwise display just the actions UI.\n            else {\n                this._addActionsView();\n            }\n            // Be sure panel with link is visible.\n            if (forceVisible) {\n                this._balloon.showStack('main');\n            }\n        }\n        // Begin responding to ui#update once the UI is added.\n        this._startUpdatingUI();\n    }\n    /**\n     * Removes the {@link #formView} from the {@link #_balloon}.\n     *\n     * See {@link #_addFormView}, {@link #_addActionsView}.\n     */\n    _hideUI() {\n        if (!this._isUIInPanel) {\n            return;\n        }\n        const editor = this.editor;\n        this.stopListening(editor.ui, 'update');\n        this.stopListening(this._balloon, 'change:visibleView');\n        // Make sure the focus always gets back to the editable _before_ removing the focused form view.\n        // Doing otherwise causes issues in some browsers. See https://github.com/ckeditor/ckeditor5-link/issues/193.\n        editor.editing.view.focus();\n        // Remove form first because it's on top of the stack.\n        this._removeFormView();\n        // Then remove the actions view because it's beneath the form.\n        this._balloon.remove(this.actionsView);\n        this._hideFakeVisualSelection();\n    }\n    /**\n     * Makes the UI react to the {@link module:ui/editorui/editorui~EditorUI#event:update} event to\n     * reposition itself when the editor UI should be refreshed.\n     *\n     * See: {@link #_hideUI} to learn when the UI stops reacting to the `update` event.\n     */\n    _startUpdatingUI() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        let prevSelectedLink = this._getSelectedLinkElement();\n        let prevSelectionParent = getSelectionParent();\n        const update = () => {\n            const selectedLink = this._getSelectedLinkElement();\n            const selectionParent = getSelectionParent();\n            // Hide the panel if:\n            //\n            // * the selection went out of the EXISTING link element. E.g. user moved the caret out\n            //   of the link,\n            // * the selection went to a different parent when creating a NEW link. E.g. someone\n            //   else modified the document.\n            // * the selection has expanded (e.g. displaying link actions then pressing SHIFT+Right arrow).\n            //\n            // Note: #_getSelectedLinkElement will return a link for a non-collapsed selection only\n            // when fully selected.\n            if ((prevSelectedLink && !selectedLink) ||\n                (!prevSelectedLink && selectionParent !== prevSelectionParent)) {\n                this._hideUI();\n            }\n            // Update the position of the panel when:\n            //  * link panel is in the visible stack\n            //  * the selection remains in the original link element,\n            //  * there was no link element in the first place, i.e. creating a new link\n            else if (this._isUIVisible) {\n                // If still in a link element, simply update the position of the balloon.\n                // If there was no link (e.g. inserting one), the balloon must be moved\n                // to the new position in the editing view (a new native DOM range).\n                this._balloon.updatePosition(this._getBalloonPositionData());\n            }\n            prevSelectedLink = selectedLink;\n            prevSelectionParent = selectionParent;\n        };\n        function getSelectionParent() {\n            return viewDocument.selection.focus.getAncestors()\n                .reverse()\n                .find((node) => node.is('element'));\n        }\n        this.listenTo(editor.ui, 'update', update);\n        this.listenTo(this._balloon, 'change:visibleView', update);\n    }\n    /**\n     * Returns `true` when {@link #formView} is in the {@link #_balloon}.\n     */\n    get _isFormInPanel() {\n        return !!this.formView && this._balloon.hasView(this.formView);\n    }\n    /**\n     * Returns `true` when {@link #actionsView} is in the {@link #_balloon}.\n     */\n    get _areActionsInPanel() {\n        return !!this.actionsView && this._balloon.hasView(this.actionsView);\n    }\n    /**\n     * Returns `true` when {@link #actionsView} is in the {@link #_balloon} and it is\n     * currently visible.\n     */\n    get _areActionsVisible() {\n        return !!this.actionsView && this._balloon.visibleView === this.actionsView;\n    }\n    /**\n     * Returns `true` when {@link #actionsView} or {@link #formView} is in the {@link #_balloon}.\n     */\n    get _isUIInPanel() {\n        return this._isFormInPanel || this._areActionsInPanel;\n    }\n    /**\n     * Returns `true` when {@link #actionsView} or {@link #formView} is in the {@link #_balloon} and it is\n     * currently visible.\n     */\n    get _isUIVisible() {\n        const visibleView = this._balloon.visibleView;\n        return !!this.formView && visibleView == this.formView || this._areActionsVisible;\n    }\n    /**\n     * Returns positioning options for the {@link #_balloon}. They control the way the balloon is attached\n     * to the target element or selection.\n     *\n     * If the selection is collapsed and inside a link element, the panel will be attached to the\n     * entire link element. Otherwise, it will be attached to the selection.\n     */\n    _getBalloonPositionData() {\n        const view = this.editor.editing.view;\n        const model = this.editor.model;\n        const viewDocument = view.document;\n        let target;\n        if (model.markers.has(VISUAL_SELECTION_MARKER_NAME)) {\n            // There are cases when we highlight selection using a marker (#7705, #4721).\n            const markerViewElements = Array.from(this.editor.editing.mapper.markerNameToElements(VISUAL_SELECTION_MARKER_NAME));\n            const newRange = view.createRange(view.createPositionBefore(markerViewElements[0]), view.createPositionAfter(markerViewElements[markerViewElements.length - 1]));\n            target = view.domConverter.viewRangeToDom(newRange);\n        }\n        else {\n            // Make sure the target is calculated on demand at the last moment because a cached DOM range\n            // (which is very fragile) can desynchronize with the state of the editing view if there was\n            // any rendering done in the meantime. This can happen, for instance, when an inline widget\n            // gets unlinked.\n            target = () => {\n                const targetLink = this._getSelectedLinkElement();\n                return targetLink ?\n                    // When selection is inside link element, then attach panel to this element.\n                    view.domConverter.mapViewToDom(targetLink) :\n                    // Otherwise attach panel to the selection.\n                    view.domConverter.viewRangeToDom(viewDocument.selection.getFirstRange());\n            };\n        }\n        return { target };\n    }\n    /**\n     * Returns the link {@link module:engine/view/attributeelement~AttributeElement} under\n     * the {@link module:engine/view/document~Document editing view's} selection or `null`\n     * if there is none.\n     *\n     * **Note**: For a non–collapsed selection, the link element is returned when **fully**\n     * selected and the **only** element within the selection boundaries, or when\n     * a linked widget is selected.\n     */\n    _getSelectedLinkElement() {\n        const view = this.editor.editing.view;\n        const selection = view.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        // The selection is collapsed or some widget is selected (especially inline widget).\n        if (selection.isCollapsed || selectedElement && isWidget(selectedElement)) {\n            return findLinkElementAncestor(selection.getFirstPosition());\n        }\n        else {\n            // The range for fully selected link is usually anchored in adjacent text nodes.\n            // Trim it to get closer to the actual link element.\n            const range = selection.getFirstRange().getTrimmed();\n            const startLink = findLinkElementAncestor(range.start);\n            const endLink = findLinkElementAncestor(range.end);\n            if (!startLink || startLink != endLink) {\n                return null;\n            }\n            // Check if the link element is fully selected.\n            if (view.createRangeIn(startLink).getTrimmed().isEqual(range)) {\n                return startLink;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    /**\n     * Displays a fake visual selection when the contextual balloon is displayed.\n     *\n     * This adds a 'link-ui' marker into the document that is rendered as a highlight on selected text fragment.\n     */\n    _showFakeVisualSelection() {\n        const model = this.editor.model;\n        model.change(writer => {\n            const range = model.document.selection.getFirstRange();\n            if (model.markers.has(VISUAL_SELECTION_MARKER_NAME)) {\n                writer.updateMarker(VISUAL_SELECTION_MARKER_NAME, { range });\n            }\n            else {\n                if (range.start.isAtEnd) {\n                    const startPosition = range.start.getLastMatchingPosition(({ item }) => !model.schema.isContent(item), { boundaries: range });\n                    writer.addMarker(VISUAL_SELECTION_MARKER_NAME, {\n                        usingOperation: false,\n                        affectsData: false,\n                        range: writer.createRange(startPosition, range.end)\n                    });\n                }\n                else {\n                    writer.addMarker(VISUAL_SELECTION_MARKER_NAME, {\n                        usingOperation: false,\n                        affectsData: false,\n                        range\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * Hides the fake visual selection created in {@link #_showFakeVisualSelection}.\n     */\n    _hideFakeVisualSelection() {\n        const model = this.editor.model;\n        if (model.markers.has(VISUAL_SELECTION_MARKER_NAME)) {\n            model.change(writer => {\n                writer.removeMarker(VISUAL_SELECTION_MARKER_NAME);\n            });\n        }\n    }\n}\n/**\n * Returns a link element if there's one among the ancestors of the provided `Position`.\n *\n * @param View position to analyze.\n * @returns Link element at the position or null.\n */\nfunction findLinkElementAncestor(position) {\n    return position.getAncestors().find((ancestor) => isLinkElement(ancestor)) || null;\n}\n/**\n * Returns link form validation callbacks.\n *\n * @param editor Editor instance.\n */\nfunction getFormValidators(editor) {\n    const t = editor.t;\n    const allowCreatingEmptyLinks = editor.config.get('link.allowCreatingEmptyLinks');\n    return [\n        form => {\n            if (!allowCreatingEmptyLinks && !form.url.length) {\n                return t('Link URL must not be empty.');\n            }\n        }\n    ];\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/autolink\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Delete, TextWatcher, getLastTextLine, findAttributeRange } from 'ckeditor5/src/typing.js';\nimport { addLinkProtocolIfApplicable, linkHasProtocol } from './utils.js';\nimport LinkEditing from './linkediting.js';\nconst MIN_LINK_LENGTH_WITH_SPACE_AT_END = 4; // Ie: \"t.co \" (length 5).\n// This was a tweak from https://gist.github.com/dperini/729294.\nconst URL_REG_EXP = new RegExp(\n// Group 1: Line start or after a space.\n'(^|\\\\s)' +\n    // Group 2: Detected URL (or e-mail).\n    '(' +\n    // Protocol identifier or short syntax \"//\"\n    // a. Full form http://user@foo.bar.baz:8080/foo/bar.html#baz?foo=bar\n    '(' +\n    '(?:(?:(?:https?|ftp):)?\\\\/\\\\/)' +\n    // BasicAuth using user:pass (optional)\n    '(?:\\\\S+(?::\\\\S*)?@)?' +\n    '(?:' +\n    // IP address dotted notation octets\n    // excludes loopback network 0.0.0.0\n    // excludes reserved space >= 224.0.0.0\n    // excludes network & broadcast addresses\n    // (first & last IP address of each class)\n    '(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])' +\n    '(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}' +\n    '(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))' +\n    '|' +\n    '(' +\n    // Do not allow `www.foo` - see https://github.com/ckeditor/ckeditor5/issues/8050.\n    '((?!www\\\\.)|(www\\\\.))' +\n    // Host & domain names.\n    '(?![-_])(?:[-_a-z0-9\\\\u00a1-\\\\uffff]{1,63}\\\\.)+' +\n    // TLD identifier name.\n    '(?:[a-z\\\\u00a1-\\\\uffff]{2,63})' +\n    ')' +\n    ')' +\n    // port number (optional)\n    '(?::\\\\d{2,5})?' +\n    // resource path (optional)\n    '(?:[/?#]\\\\S*)?' +\n    ')' +\n    '|' +\n    // b. Short form (either www.example.com or example@example.com)\n    '(' +\n    '(www.|(\\\\S+@))' +\n    // Host & domain names.\n    '((?![-_])(?:[-_a-z0-9\\\\u00a1-\\\\uffff]{1,63}\\\\.))+' +\n    // TLD identifier name.\n    '(?:[a-z\\\\u00a1-\\\\uffff]{2,63})' +\n    ')' +\n    ')$', 'i');\nconst URL_GROUP_IN_MATCH = 2;\n/**\n * The autolink plugin.\n */\nexport default class AutoLink extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Delete, LinkEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AutoLink';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        selection.on('change:range', () => {\n            // Disable plugin when selection is inside a code block.\n            this.isEnabled = !selection.anchor.parent.is('element', 'codeBlock');\n        });\n        this._enableTypingHandling();\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        this._enableEnterHandling();\n        this._enableShiftEnterHandling();\n        this._enablePasteLinking();\n    }\n    /**\n     * For given position, returns a range that includes the whole link that contains the position.\n     *\n     * If position is not inside a link, returns `null`.\n     */\n    _expandLinkRange(model, position) {\n        if (position.textNode && position.textNode.hasAttribute('linkHref')) {\n            return findAttributeRange(position, 'linkHref', position.textNode.getAttribute('linkHref'), model);\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Extends the document selection to includes all links that intersects with given `selectedRange`.\n     */\n    _selectEntireLinks(writer, selectedRange) {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const selStart = selection.getFirstPosition();\n        const selEnd = selection.getLastPosition();\n        let updatedSelection = selectedRange.getJoined(this._expandLinkRange(model, selStart) || selectedRange);\n        if (updatedSelection) {\n            updatedSelection = updatedSelection.getJoined(this._expandLinkRange(model, selEnd) || selectedRange);\n        }\n        if (updatedSelection && (updatedSelection.start.isBefore(selStart) || updatedSelection.end.isAfter(selEnd))) {\n            // Only update the selection if it changed.\n            writer.setSelection(updatedSelection);\n        }\n    }\n    /**\n     * Enables autolinking on pasting a URL when some content is selected.\n     */\n    _enablePasteLinking() {\n        const editor = this.editor;\n        const model = editor.model;\n        const selection = model.document.selection;\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        const linkCommand = editor.commands.get('link');\n        clipboardPipeline.on('inputTransformation', (evt, data) => {\n            if (!this.isEnabled || !linkCommand.isEnabled || selection.isCollapsed || data.method !== 'paste') {\n                // Abort if we are disabled or the selection is collapsed.\n                return;\n            }\n            if (selection.rangeCount > 1) {\n                // Abort if there are multiple selection ranges.\n                return;\n            }\n            const selectedRange = selection.getFirstRange();\n            const newLink = data.dataTransfer.getData('text/plain');\n            if (!newLink) {\n                // Abort if there is no plain text on the clipboard.\n                return;\n            }\n            const matches = newLink.match(URL_REG_EXP);\n            // If the text in the clipboard has a URL, and that URL is the whole clipboard.\n            if (matches && matches[2] === newLink) {\n                model.change(writer => {\n                    this._selectEntireLinks(writer, selectedRange);\n                    linkCommand.execute(newLink);\n                });\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Enables autolinking on typing.\n     */\n    _enableTypingHandling() {\n        const editor = this.editor;\n        const watcher = new TextWatcher(editor.model, text => {\n            // 1. Detect <kbd>Space</kbd> after a text with a potential link.\n            if (!isSingleSpaceAtTheEnd(text)) {\n                return;\n            }\n            // 2. Check text before last typed <kbd>Space</kbd>.\n            const url = getUrlAtTextEnd(text.substr(0, text.length - 1));\n            if (url) {\n                return { url };\n            }\n        });\n        watcher.on('matched:data', (evt, data) => {\n            const { batch, range, url } = data;\n            if (!batch.isTyping) {\n                return;\n            }\n            const linkEnd = range.end.getShiftedBy(-1); // Executed after a space character.\n            const linkStart = linkEnd.getShiftedBy(-url.length);\n            const linkRange = editor.model.createRange(linkStart, linkEnd);\n            this._applyAutoLink(url, linkRange);\n        });\n        watcher.bind('isEnabled').to(this);\n    }\n    /**\n     * Enables autolinking on the <kbd>Enter</kbd> key.\n     */\n    _enableEnterHandling() {\n        const editor = this.editor;\n        const model = editor.model;\n        const enterCommand = editor.commands.get('enter');\n        if (!enterCommand) {\n            return;\n        }\n        enterCommand.on('execute', () => {\n            const position = model.document.selection.getFirstPosition();\n            if (!position.parent.previousSibling) {\n                return;\n            }\n            const rangeToCheck = model.createRangeIn(position.parent.previousSibling);\n            this._checkAndApplyAutoLinkOnRange(rangeToCheck);\n        });\n    }\n    /**\n     * Enables autolinking on the <kbd>Shift</kbd>+<kbd>Enter</kbd> keyboard shortcut.\n     */\n    _enableShiftEnterHandling() {\n        const editor = this.editor;\n        const model = editor.model;\n        const shiftEnterCommand = editor.commands.get('shiftEnter');\n        if (!shiftEnterCommand) {\n            return;\n        }\n        shiftEnterCommand.on('execute', () => {\n            const position = model.document.selection.getFirstPosition();\n            const rangeToCheck = model.createRange(model.createPositionAt(position.parent, 0), position.getShiftedBy(-1));\n            this._checkAndApplyAutoLinkOnRange(rangeToCheck);\n        });\n    }\n    /**\n     * Checks if the passed range contains a linkable text.\n     */\n    _checkAndApplyAutoLinkOnRange(rangeToCheck) {\n        const model = this.editor.model;\n        const { text, range } = getLastTextLine(rangeToCheck, model);\n        const url = getUrlAtTextEnd(text);\n        if (url) {\n            const linkRange = model.createRange(range.end.getShiftedBy(-url.length), range.end);\n            this._applyAutoLink(url, linkRange);\n        }\n    }\n    /**\n     * Applies a link on a given range if the link should be applied.\n     *\n     * @param url The URL to link.\n     * @param range The text range to apply the link attribute to.\n     */\n    _applyAutoLink(url, range) {\n        const model = this.editor.model;\n        const defaultProtocol = this.editor.config.get('link.defaultProtocol');\n        const fullUrl = addLinkProtocolIfApplicable(url, defaultProtocol);\n        if (!this.isEnabled || !isLinkAllowedOnRange(range, model) || !linkHasProtocol(fullUrl) || linkIsAlreadySet(range)) {\n            return;\n        }\n        this._persistAutoLink(fullUrl, range);\n    }\n    /**\n     * Enqueues autolink changes in the model.\n     *\n     * @param url The URL to link.\n     * @param range The text range to apply the link attribute to.\n     */\n    _persistAutoLink(url, range) {\n        const model = this.editor.model;\n        const deletePlugin = this.editor.plugins.get('Delete');\n        // Enqueue change to make undo step.\n        model.enqueueChange(writer => {\n            writer.setAttribute('linkHref', url, range);\n            model.enqueueChange(() => {\n                deletePlugin.requestUndoOnBackspace();\n            });\n        });\n    }\n}\n// Check if text should be evaluated by the plugin in order to reduce number of RegExp checks on whole text.\nfunction isSingleSpaceAtTheEnd(text) {\n    return text.length > MIN_LINK_LENGTH_WITH_SPACE_AT_END && text[text.length - 1] === ' ' && text[text.length - 2] !== ' ';\n}\nfunction getUrlAtTextEnd(text) {\n    const match = URL_REG_EXP.exec(text);\n    return match ? match[URL_GROUP_IN_MATCH] : null;\n}\nfunction isLinkAllowedOnRange(range, model) {\n    return model.schema.checkAttributeInSelection(model.createSelection(range), 'linkHref');\n}\nfunction linkIsAlreadySet(range) {\n    const item = range.start.nodeAfter;\n    return !!item && item.hasAttribute('linkHref');\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/linkimageediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Matcher } from 'ckeditor5/src/engine.js';\nimport { toMap } from 'ckeditor5/src/utils.js';\nimport LinkEditing from './linkediting.js';\n/**\n * The link image engine feature.\n *\n * It accepts the `linkHref=\"url\"` attribute in the model for the {@link module:image/image~Image `<imageBlock>`} element\n * which allows linking images.\n */\nexport default class LinkImageEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return ['ImageEditing', 'ImageUtils', LinkEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkImageEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        if (editor.plugins.has('ImageBlockEditing')) {\n            schema.extend('imageBlock', { allowAttributes: ['linkHref'] });\n        }\n        editor.conversion.for('upcast').add(upcastLink(editor));\n        editor.conversion.for('downcast').add(downcastImageLink(editor));\n        // Definitions for decorators are provided by the `link` command and the `LinkEditing` plugin.\n        this._enableAutomaticDecorators();\n        this._enableManualDecorators();\n    }\n    /**\n     * Processes {@link module:link/linkconfig~LinkDecoratorAutomaticDefinition automatic decorators} definitions and\n     * attaches proper converters that will work when linking an image.`\n     */\n    _enableAutomaticDecorators() {\n        const editor = this.editor;\n        const command = editor.commands.get('link');\n        const automaticDecorators = command.automaticDecorators;\n        if (automaticDecorators.length) {\n            editor.conversion.for('downcast').add(automaticDecorators.getDispatcherForLinkedImage());\n        }\n    }\n    /**\n     * Processes transformed {@link module:link/utils/manualdecorator~ManualDecorator} instances and attaches proper converters\n     * that will work when linking an image.\n     */\n    _enableManualDecorators() {\n        const editor = this.editor;\n        const command = editor.commands.get('link');\n        for (const decorator of command.manualDecorators) {\n            if (editor.plugins.has('ImageBlockEditing')) {\n                editor.model.schema.extend('imageBlock', { allowAttributes: decorator.id });\n            }\n            if (editor.plugins.has('ImageInlineEditing')) {\n                editor.model.schema.extend('imageInline', { allowAttributes: decorator.id });\n            }\n            editor.conversion.for('downcast').add(downcastImageLinkManualDecorator(decorator));\n            editor.conversion.for('upcast').add(upcastImageLinkManualDecorator(editor, decorator));\n        }\n    }\n}\n/**\n * Returns a converter for linked block images that consumes the \"href\" attribute\n * if a link contains an image.\n *\n * @param editor The editor instance.\n */\nfunction upcastLink(editor) {\n    const isImageInlinePluginLoaded = editor.plugins.has('ImageInlineEditing');\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return dispatcher => {\n        dispatcher.on('element:a', (evt, data, conversionApi) => {\n            const viewLink = data.viewItem;\n            const imageInLink = imageUtils.findViewImgElement(viewLink);\n            if (!imageInLink) {\n                return;\n            }\n            const blockImageView = imageInLink.findAncestor(element => imageUtils.isBlockImageView(element));\n            // There are four possible cases to consider here\n            //\n            // 1. A \"root > ... > figure.image > a > img\" structure.\n            // 2. A \"root > ... > figure.image > a > picture > img\" structure.\n            // 3. A \"root > ... > block > a > img\" structure.\n            // 4. A \"root > ... > block > a > picture > img\" structure.\n            //\n            // but the last 2 cases should only be considered by this converter when the inline image plugin\n            // is NOT loaded in the editor (because otherwise, that would be a plain, linked inline image).\n            if (isImageInlinePluginLoaded && !blockImageView) {\n                return;\n            }\n            // There's an image inside an <a> element - we consume it so it won't be picked up by the Link plugin.\n            const consumableAttributes = { attributes: ['href'] };\n            // Consume the `href` attribute so the default one will not convert it to $text attribute.\n            if (!conversionApi.consumable.consume(viewLink, consumableAttributes)) {\n                // Might be consumed by something else - i.e. other converter with priority=highest - a standard check.\n                return;\n            }\n            const linkHref = viewLink.getAttribute('href');\n            // Missing the 'href' attribute.\n            if (!linkHref) {\n                return;\n            }\n            // A full definition of the image feature.\n            // figure > a > img: parent of the view link element is an image element (figure).\n            let modelElement = data.modelCursor.parent;\n            if (!modelElement.is('element', 'imageBlock')) {\n                // a > img: parent of the view link is not the image (figure) element. We need to convert it manually.\n                const conversionResult = conversionApi.convertItem(imageInLink, data.modelCursor);\n                // Set image range as conversion result.\n                data.modelRange = conversionResult.modelRange;\n                // Continue conversion where image conversion ends.\n                data.modelCursor = conversionResult.modelCursor;\n                modelElement = data.modelCursor.nodeBefore;\n            }\n            if (modelElement && modelElement.is('element', 'imageBlock')) {\n                // Set the linkHref attribute from link element on model image element.\n                conversionApi.writer.setAttribute('linkHref', linkHref, modelElement);\n            }\n        }, { priority: 'high' });\n        // Using the same priority that `upcastImageLinkManualDecorator()` converter guarantees\n        // that manual decorators will decorate the proper element.\n    };\n}\n/**\n * Creates a converter that adds `<a>` to linked block image view elements.\n */\nfunction downcastImageLink(editor) {\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return dispatcher => {\n        dispatcher.on('attribute:linkHref:imageBlock', (evt, data, conversionApi) => {\n            if (!conversionApi.consumable.consume(data.item, evt.name)) {\n                return;\n            }\n            // The image will be already converted - so it will be present in the view.\n            const viewFigure = conversionApi.mapper.toViewElement(data.item);\n            const writer = conversionApi.writer;\n            // But we need to check whether the link element exists.\n            const linkInImage = Array.from(viewFigure.getChildren())\n                .find((child) => child.is('element', 'a'));\n            const viewImage = imageUtils.findViewImgElement(viewFigure);\n            // <picture>...<img/></picture> or <img/>\n            const viewImgOrPicture = viewImage.parent.is('element', 'picture') ? viewImage.parent : viewImage;\n            // If so, update the attribute if it's defined or remove the entire link if the attribute is empty.\n            if (linkInImage) {\n                if (data.attributeNewValue) {\n                    writer.setAttribute('href', data.attributeNewValue, linkInImage);\n                }\n                else {\n                    writer.move(writer.createRangeOn(viewImgOrPicture), writer.createPositionAt(viewFigure, 0));\n                    writer.remove(linkInImage);\n                }\n            }\n            else {\n                // But if it does not exist. Let's wrap already converted image by newly created link element.\n                // 1. Create an empty link element.\n                const linkElement = writer.createContainerElement('a', { href: data.attributeNewValue });\n                // 2. Insert link inside the associated image.\n                writer.insert(writer.createPositionAt(viewFigure, 0), linkElement);\n                // 3. Move the image to the link.\n                writer.move(writer.createRangeOn(viewImgOrPicture), writer.createPositionAt(linkElement, 0));\n            }\n        }, { priority: 'high' });\n    };\n}\n/**\n * Returns a converter that decorates the `<a>` element when the image is the link label.\n */\nfunction downcastImageLinkManualDecorator(decorator) {\n    return dispatcher => {\n        dispatcher.on(`attribute:${decorator.id}:imageBlock`, (evt, data, conversionApi) => {\n            const viewFigure = conversionApi.mapper.toViewElement(data.item);\n            const linkInImage = Array.from(viewFigure.getChildren())\n                .find((child) => child.is('element', 'a'));\n            // The <a> element was removed by the time this converter is executed.\n            // It may happen when the base `linkHref` and decorator attributes are removed\n            // at the same time (see #8401).\n            if (!linkInImage) {\n                return;\n            }\n            for (const [key, val] of toMap(decorator.attributes)) {\n                conversionApi.writer.setAttribute(key, val, linkInImage);\n            }\n            if (decorator.classes) {\n                conversionApi.writer.addClass(decorator.classes, linkInImage);\n            }\n            for (const key in decorator.styles) {\n                conversionApi.writer.setStyle(key, decorator.styles[key], linkInImage);\n            }\n        });\n    };\n}\n/**\n * Returns a converter that checks whether manual decorators should be applied to the link.\n */\nfunction upcastImageLinkManualDecorator(editor, decorator) {\n    const isImageInlinePluginLoaded = editor.plugins.has('ImageInlineEditing');\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return dispatcher => {\n        dispatcher.on('element:a', (evt, data, conversionApi) => {\n            const viewLink = data.viewItem;\n            const imageInLink = imageUtils.findViewImgElement(viewLink);\n            // We need to check whether an image is inside a link because the converter handles\n            // only manual decorators for linked images. See #7975.\n            if (!imageInLink) {\n                return;\n            }\n            const blockImageView = imageInLink.findAncestor(element => imageUtils.isBlockImageView(element));\n            if (isImageInlinePluginLoaded && !blockImageView) {\n                return;\n            }\n            const matcher = new Matcher(decorator._createPattern());\n            const result = matcher.match(viewLink);\n            // The link element does not have required attributes or/and proper values.\n            if (!result) {\n                return;\n            }\n            // Check whether we can consume those attributes.\n            if (!conversionApi.consumable.consume(viewLink, result.match)) {\n                return;\n            }\n            // At this stage we can assume that we have the `<imageBlock>` element.\n            // `nodeBefore` comes after conversion: `<a><img></a>`.\n            // `parent` comes with full image definition: `<figure><a><img></a></figure>.\n            // See the body of the `upcastLink()` function.\n            const modelElement = data.modelCursor.nodeBefore || data.modelCursor.parent;\n            conversionApi.writer.setAttribute(decorator.id, true, modelElement);\n        }, { priority: 'high' });\n        // Using the same priority that `upcastLink()` converter guarantees that the linked image was properly converted.\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/linkimageui\n */\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport LinkUI from './linkui.js';\nimport LinkEditing from './linkediting.js';\nimport { LINK_KEYSTROKE } from './utils.js';\nimport linkIcon from '../theme/icons/link.svg';\n/**\n * The link image UI plugin.\n *\n * This plugin provides the `'linkImage'` button that can be displayed in the {@link module:image/imagetoolbar~ImageToolbar}.\n * It can be used to wrap images in links.\n */\nexport default class LinkImageUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [LinkEditing, LinkUI, 'ImageBlockEditing'];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkImageUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        this.listenTo(viewDocument, 'click', (evt, data) => {\n            if (this._isSelectedLinkedImage(editor.model.document.selection)) {\n                // Prevent browser navigation when clicking a linked image.\n                data.preventDefault();\n                // Block the `LinkUI` plugin when an image was clicked.\n                // In such a case, we'd like to display the image toolbar.\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this._createToolbarLinkImageButton();\n    }\n    /**\n     * Creates a `LinkImageUI` button view.\n     *\n     * Clicking this button shows a {@link module:link/linkui~LinkUI#_balloon} attached to the selection.\n     * When an image is already linked, the view shows {@link module:link/linkui~LinkUI#actionsView} or\n     * {@link module:link/linkui~LinkUI#formView} if it is not.\n     */\n    _createToolbarLinkImageButton() {\n        const editor = this.editor;\n        const t = editor.t;\n        editor.ui.componentFactory.add('linkImage', locale => {\n            const button = new ButtonView(locale);\n            const plugin = editor.plugins.get('LinkUI');\n            const linkCommand = editor.commands.get('link');\n            button.set({\n                isEnabled: true,\n                label: t('Link image'),\n                icon: linkIcon,\n                keystroke: LINK_KEYSTROKE,\n                tooltip: true,\n                isToggleable: true\n            });\n            // Bind button to the command.\n            button.bind('isEnabled').to(linkCommand, 'isEnabled');\n            button.bind('isOn').to(linkCommand, 'value', value => !!value);\n            // Show the actionsView or formView (both from LinkUI) on button click depending on whether the image is linked already.\n            this.listenTo(button, 'execute', () => {\n                if (this._isSelectedLinkedImage(editor.model.document.selection)) {\n                    plugin._addActionsView();\n                }\n                else {\n                    plugin._showUI(true);\n                }\n            });\n            return button;\n        });\n    }\n    /**\n     * Returns true if a linked image (either block or inline) is the only selected element\n     * in the model document.\n     */\n    _isSelectedLinkedImage(selection) {\n        const selectedModelElement = selection.getSelectedElement();\n        const imageUtils = this.editor.plugins.get('ImageUtils');\n        return imageUtils.isImage(selectedModelElement) && selectedModelElement.hasAttribute('linkHref');\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./linkimage.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module link/linkimage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport LinkImageEditing from './linkimageediting.js';\nimport LinkImageUI from './linkimageui.js';\nimport '../theme/linkimage.css';\n/**\n * The `LinkImage` plugin.\n *\n * This is a \"glue\" plugin that loads the {@link module:link/linkimageediting~LinkImageEditing link image editing feature}\n * and {@link module:link/linkimageui~LinkImageUI link image UI feature}.\n */\nexport default class LinkImage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [LinkImageEditing, LinkImageUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkImage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/list/utils/listwalker\n */\nimport { first, toArray } from 'ckeditor5/src/utils.js';\nimport { isListItemBlock } from './model.js';\n/**\n * Document list blocks iterator.\n */\nexport default class ListWalker {\n    /**\n     * Creates a document list iterator.\n     *\n     * @param startElement The start list item block element.\n     * @param options.direction The iterating direction.\n     * @param options.includeSelf Whether start block should be included in the result (if it's matching other criteria).\n     * @param options.sameAttributes Additional attributes that must be the same for each block.\n     * @param options.sameIndent Whether blocks with the same indent level as the start block should be included\n     * in the result.\n     * @param options.lowerIndent Whether blocks with a lower indent level than the start block should be included\n     * in the result.\n     * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included\n     * in the result.\n     */\n    constructor(startElement, options) {\n        this._startElement = startElement;\n        this._referenceIndent = startElement.getAttribute('listIndent');\n        this._isForward = options.direction == 'forward';\n        this._includeSelf = !!options.includeSelf;\n        this._sameAttributes = toArray(options.sameAttributes || []);\n        this._sameIndent = !!options.sameIndent;\n        this._lowerIndent = !!options.lowerIndent;\n        this._higherIndent = !!options.higherIndent;\n    }\n    /**\n     * Performs only first step of iteration and returns the result.\n     *\n     * @param startElement The start list item block element.\n     * @param options.direction The iterating direction.\n     * @param options.includeSelf Whether start block should be included in the result (if it's matching other criteria).\n     * @param options.sameAttributes Additional attributes that must be the same for each block.\n     * @param options.sameIndent Whether blocks with the same indent level as the start block should be included\n     * in the result.\n     * @param options.lowerIndent Whether blocks with a lower indent level than the start block should be included\n     * in the result.\n     * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included\n     * in the result.\n     */\n    static first(startElement, options) {\n        const walker = new this(startElement, options);\n        const iterator = walker[Symbol.iterator]();\n        return first(iterator);\n    }\n    /**\n     * Iterable interface.\n     */\n    *[Symbol.iterator]() {\n        const nestedItems = [];\n        for (const { node } of iterateSiblingListBlocks(this._getStartNode(), this._isForward ? 'forward' : 'backward')) {\n            const indent = node.getAttribute('listIndent');\n            // Leaving a nested list.\n            if (indent < this._referenceIndent) {\n                // Abort searching blocks.\n                if (!this._lowerIndent) {\n                    break;\n                }\n                // While searching for lower indents, update the reference indent to find another parent in the next step.\n                this._referenceIndent = indent;\n            }\n            // Entering a nested list.\n            else if (indent > this._referenceIndent) {\n                // Ignore nested blocks.\n                if (!this._higherIndent) {\n                    continue;\n                }\n                // Collect nested blocks to verify if they are really nested, or it's a different item.\n                if (!this._isForward) {\n                    nestedItems.push(node);\n                    continue;\n                }\n            }\n            // Same indent level block.\n            else {\n                // Ignore same indent block.\n                if (!this._sameIndent) {\n                    // While looking for nested blocks, stop iterating while encountering first same indent block.\n                    if (this._higherIndent) {\n                        // No more nested blocks so yield nested items.\n                        if (nestedItems.length) {\n                            yield* nestedItems;\n                            nestedItems.length = 0;\n                        }\n                        break;\n                    }\n                    continue;\n                }\n                // Abort if item has any additionally specified attribute different.\n                if (this._sameAttributes.some(attr => node.getAttribute(attr) !== this._startElement.getAttribute(attr))) {\n                    break;\n                }\n            }\n            // There is another block for the same list item so the nested items were in the same list item.\n            if (nestedItems.length) {\n                yield* nestedItems;\n                nestedItems.length = 0;\n            }\n            yield node;\n        }\n    }\n    /**\n     * Returns the model element to start iterating.\n     */\n    _getStartNode() {\n        if (this._includeSelf) {\n            return this._startElement;\n        }\n        return this._isForward ?\n            this._startElement.nextSibling :\n            this._startElement.previousSibling;\n    }\n}\n/**\n * Iterates sibling list blocks starting from the given node.\n *\n * @internal\n * @param node The model node.\n * @param direction Iteration direction.\n * @returns The object with `node` and `previous` {@link module:engine/model/element~Element blocks}.\n */\nexport function* iterateSiblingListBlocks(node, direction = 'forward') {\n    const isForward = direction == 'forward';\n    const previousNodesByIndent = []; // Last seen nodes of lower indented lists.\n    let previous = null;\n    while (isListItemBlock(node)) {\n        let previousNodeInList = null; // It's like `previous` but has the same indent as current node.\n        if (previous) {\n            const nodeIndent = node.getAttribute('listIndent');\n            const previousNodeIndent = previous.getAttribute('listIndent');\n            // Let's find previous node for the same indent.\n            // We're going to need that when we get back to previous indent.\n            if (nodeIndent > previousNodeIndent) {\n                previousNodesByIndent[previousNodeIndent] = previous;\n            }\n            // Restore the one for given indent.\n            else if (nodeIndent < previousNodeIndent) {\n                previousNodeInList = previousNodesByIndent[nodeIndent];\n                previousNodesByIndent.length = nodeIndent;\n            }\n            // Same indent.\n            else {\n                previousNodeInList = previous;\n            }\n        }\n        yield { node, previous, previousNodeInList };\n        previous = node;\n        node = isForward ? node.nextSibling : node.previousSibling;\n    }\n}\n/**\n * The iterable protocol over the list elements.\n *\n * @internal\n */\nexport class ListBlocksIterable {\n    /**\n     * @param listHead The head element of a list.\n     */\n    constructor(listHead) {\n        this._listHead = listHead;\n    }\n    /**\n     * List blocks iterator.\n     *\n     * Iterates over all blocks of a list.\n     */\n    [Symbol.iterator]() {\n        return iterateSiblingListBlocks(this._listHead, 'forward');\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { uid, toArray } from 'ckeditor5/src/utils.js';\nimport ListWalker, { iterateSiblingListBlocks } from './listwalker.js';\n/**\n * The list item ID generator.\n *\n * @internal\n */\nexport class ListItemUid {\n    /**\n     * Returns the next ID.\n     *\n     * @internal\n     */\n    /* istanbul ignore next: static function definition -- @preserve */\n    static next() {\n        return uid();\n    }\n}\n/**\n * Returns true if the given model node is a list item block.\n *\n * @internal\n */\nexport function isListItemBlock(node) {\n    return !!node && node.is('element') && node.hasAttribute('listItemId');\n}\n/**\n * Returns an array with all elements that represents the same list item.\n *\n * It means that values for `listIndent`, and `listItemId` for all items are equal.\n *\n * @internal\n * @param listItem Starting list item element.\n * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included\n * in the result.\n */\nexport function getAllListItemBlocks(listItem, options = {}) {\n    return [\n        ...getListItemBlocks(listItem, { ...options, direction: 'backward' }),\n        ...getListItemBlocks(listItem, { ...options, direction: 'forward' })\n    ];\n}\n/**\n * Returns an array with elements that represents the same list item in the specified direction.\n *\n * It means that values for `listIndent` and `listItemId` for all items are equal.\n *\n * **Note**: For backward search the provided item is not included, but for forward search it is included in the result.\n *\n * @internal\n * @param listItem Starting list item element.\n * @param options.direction Walking direction.\n * @param options.higherIndent Whether blocks with a higher indent level than the start block should be included in the result.\n */\nexport function getListItemBlocks(listItem, options = {}) {\n    const isForward = options.direction == 'forward';\n    const items = Array.from(new ListWalker(listItem, {\n        ...options,\n        includeSelf: isForward,\n        sameIndent: true,\n        sameAttributes: 'listItemId'\n    }));\n    return isForward ? items : items.reverse();\n}\n/**\n * Returns a list items nested inside the given list item.\n *\n * @internal\n */\nexport function getNestedListBlocks(listItem) {\n    return Array.from(new ListWalker(listItem, {\n        direction: 'forward',\n        higherIndent: true\n    }));\n}\n/**\n * Returns array of all blocks/items of the same list as given block (same indent, same type and properties).\n *\n * @internal\n * @param listItem Starting list item element.\n * @param options Additional list walker options to modify the range of returned list items.\n */\nexport function getListItems(listItem, options) {\n    const backwardBlocks = new ListWalker(listItem, {\n        sameIndent: true,\n        sameAttributes: 'listType',\n        ...options\n    });\n    const forwardBlocks = new ListWalker(listItem, {\n        sameIndent: true,\n        sameAttributes: 'listType',\n        includeSelf: true,\n        direction: 'forward',\n        ...options\n    });\n    return [\n        ...Array.from(backwardBlocks).reverse(),\n        ...forwardBlocks\n    ];\n}\n/**\n * Check if the given block is the first in the list item.\n *\n * @internal\n * @param listBlock The list block element.\n */\nexport function isFirstBlockOfListItem(listBlock) {\n    const previousSibling = ListWalker.first(listBlock, {\n        sameIndent: true,\n        sameAttributes: 'listItemId'\n    });\n    if (!previousSibling) {\n        return true;\n    }\n    return false;\n}\n/**\n * Check if the given block is the last in the list item.\n *\n * @internal\n */\nexport function isLastBlockOfListItem(listBlock) {\n    const nextSibling = ListWalker.first(listBlock, {\n        direction: 'forward',\n        sameIndent: true,\n        sameAttributes: 'listItemId'\n    });\n    if (!nextSibling) {\n        return true;\n    }\n    return false;\n}\n/**\n * Expands the given list of selected blocks to include the leading and tailing blocks of partially selected list items.\n *\n * @internal\n * @param blocks The list of selected blocks.\n * @param options.withNested Whether should include nested list items.\n */\nexport function expandListBlocksToCompleteItems(blocks, options = {}) {\n    blocks = toArray(blocks);\n    const higherIndent = options.withNested !== false;\n    const allBlocks = new Set();\n    for (const block of blocks) {\n        for (const itemBlock of getAllListItemBlocks(block, { higherIndent })) {\n            allBlocks.add(itemBlock);\n        }\n    }\n    return sortBlocks(allBlocks);\n}\n/**\n * Expands the given list of selected blocks to include all the items of the lists they're in.\n *\n * @internal\n * @param blocks The list of selected blocks.\n */\nexport function expandListBlocksToCompleteList(blocks) {\n    blocks = toArray(blocks);\n    const allBlocks = new Set();\n    for (const block of blocks) {\n        for (const itemBlock of getListItems(block)) {\n            allBlocks.add(itemBlock);\n        }\n    }\n    return sortBlocks(allBlocks);\n}\n/**\n * Splits the list item just before the provided list block.\n *\n * @internal\n * @param listBlock The list block element.\n * @param writer The model writer.\n * @returns The array of updated blocks.\n */\nexport function splitListItemBefore(listBlock, writer) {\n    const blocks = getListItemBlocks(listBlock, { direction: 'forward' });\n    const id = ListItemUid.next();\n    for (const block of blocks) {\n        writer.setAttribute('listItemId', id, block);\n    }\n    return blocks;\n}\n/**\n * Merges the list item with the parent list item.\n *\n * @internal\n * @param listBlock The list block element.\n * @param parentBlock The list block element to merge with.\n * @param writer The model writer.\n * @returns The array of updated blocks.\n */\nexport function mergeListItemBefore(listBlock, parentBlock, writer) {\n    const attributes = {};\n    for (const [key, value] of parentBlock.getAttributes()) {\n        if (key.startsWith('list')) {\n            attributes[key] = value;\n        }\n    }\n    const blocks = getListItemBlocks(listBlock, { direction: 'forward' });\n    for (const block of blocks) {\n        writer.setAttributes(attributes, block);\n    }\n    return blocks;\n}\n/**\n * Increases indentation of given list blocks.\n *\n * @internal\n * @param blocks The block or iterable of blocks.\n * @param writer The model writer.\n * @param options.expand Whether should expand the list of blocks to include complete list items.\n * @param options.indentBy The number of levels the indentation should change (could be negative).\n */\nexport function indentBlocks(blocks, writer, { expand, indentBy = 1 } = {}) {\n    blocks = toArray(blocks);\n    // Expand the selected blocks to contain the whole list items.\n    const allBlocks = expand ? expandListBlocksToCompleteItems(blocks) : blocks;\n    for (const block of allBlocks) {\n        const blockIndent = block.getAttribute('listIndent') + indentBy;\n        if (blockIndent < 0) {\n            removeListAttributes(block, writer);\n        }\n        else {\n            writer.setAttribute('listIndent', blockIndent, block);\n        }\n    }\n    return allBlocks;\n}\n/**\n * Decreases indentation of given list of blocks. If the indentation of some blocks matches the indentation\n * of surrounding blocks, they get merged together.\n *\n * @internal\n * @param blocks The block or iterable of blocks.\n * @param writer The model writer.\n */\nexport function outdentBlocksWithMerge(blocks, writer) {\n    blocks = toArray(blocks);\n    // Expand the selected blocks to contain the whole list items.\n    const allBlocks = expandListBlocksToCompleteItems(blocks);\n    const visited = new Set();\n    const referenceIndent = Math.min(...allBlocks.map(block => block.getAttribute('listIndent')));\n    const parentBlocks = new Map();\n    // Collect parent blocks before the list structure gets altered.\n    for (const block of allBlocks) {\n        parentBlocks.set(block, ListWalker.first(block, { lowerIndent: true }));\n    }\n    for (const block of allBlocks) {\n        if (visited.has(block)) {\n            continue;\n        }\n        visited.add(block);\n        const blockIndent = block.getAttribute('listIndent') - 1;\n        if (blockIndent < 0) {\n            removeListAttributes(block, writer);\n            continue;\n        }\n        // Merge with parent list item while outdenting and indent matches reference indent.\n        if (block.getAttribute('listIndent') == referenceIndent) {\n            const mergedBlocks = mergeListItemIfNotLast(block, parentBlocks.get(block), writer);\n            // All list item blocks are updated while merging so add those to visited set.\n            for (const mergedBlock of mergedBlocks) {\n                visited.add(mergedBlock);\n            }\n            // The indent level was updated while merging so continue to next block.\n            if (mergedBlocks.length) {\n                continue;\n            }\n        }\n        writer.setAttribute('listIndent', blockIndent, block);\n    }\n    return sortBlocks(visited);\n}\n/**\n * Removes all list attributes from the given blocks.\n *\n * @internal\n * @param blocks The block or iterable of blocks.\n * @param writer The model writer.\n * @returns Array of altered blocks.\n */\nexport function removeListAttributes(blocks, writer) {\n    blocks = toArray(blocks);\n    // Convert simple list items to plain paragraphs.\n    for (const block of blocks) {\n        if (block.is('element', 'listItem')) {\n            writer.rename(block, 'paragraph');\n        }\n    }\n    // Remove list attributes.\n    for (const block of blocks) {\n        for (const attributeKey of block.getAttributeKeys()) {\n            if (attributeKey.startsWith('list')) {\n                writer.removeAttribute(attributeKey, block);\n            }\n        }\n    }\n    return blocks;\n}\n/**\n * Checks whether the given blocks are related to a single list item.\n *\n * @internal\n * @param blocks The list block elements.\n */\nexport function isSingleListItem(blocks) {\n    if (!blocks.length) {\n        return false;\n    }\n    const firstItemId = blocks[0].getAttribute('listItemId');\n    if (!firstItemId) {\n        return false;\n    }\n    return !blocks.some(item => item.getAttribute('listItemId') != firstItemId);\n}\n/**\n * Modifies the indents of list blocks following the given list block so the indentation is valid after\n * the given block is no longer a list item.\n *\n * @internal\n * @param lastBlock The last list block that has become a non-list element.\n * @param writer The model writer.\n * @returns Array of altered blocks.\n */\nexport function outdentFollowingItems(lastBlock, writer) {\n    const changedBlocks = [];\n    // Start from the model item that is just after the last turned-off item.\n    let currentIndent = Number.POSITIVE_INFINITY;\n    // Correct indent of all items after the last turned off item.\n    // Rules that should be followed:\n    // 1. All direct sub-items of turned-off item should become indent 0, because the first item after it\n    //    will be the first item of a new list. Other items are at the same level, so should have same 0 index.\n    // 2. All items with indent lower than indent of turned-off item should become indent 0, because they\n    //    should not end up as a child of any of list items that they were not children of before.\n    // 3. All other items should have their indent changed relatively to it's parent.\n    //\n    // For example:\n    // 1  * --------\n    // 2     * --------\n    // 3        * --------\t\t\t<-- this is turned off.\n    // 4           * --------\t\t<-- this has to become indent = 0, because it will be first item on a new list.\n    // 5              * --------\t<-- this should be still be a child of item above, so indent = 1.\n    // 6        * --------\t\t\t<-- this has to become indent = 0, because it should not be a child of any of items above.\n    // 7           * --------\t\t<-- this should be still be a child of item above, so indent = 1.\n    // 8     * --------\t\t\t\t<-- this has to become indent = 0.\n    // 9        * --------\t\t\t<-- this should still be a child of item above, so indent = 1.\n    // 10          * --------\t\t<-- this should still be a child of item above, so indent = 2.\n    // 11          * --------\t\t<-- this should still be at the same level as item above, so indent = 2.\n    // 12 * --------\t\t\t\t<-- this and all below are left unchanged.\n    // 13    * --------\n    // 14       * --------\n    //\n    // After turning off 3 the list becomes:\n    //\n    // 1  * --------\n    // 2     * --------\n    //\n    // 3  --------\n    //\n    // 4  * --------\n    // 5     * --------\n    // 6  * --------\n    // 7     * --------\n    // 8  * --------\n    // 9     * --------\n    // 10       * --------\n    // 11       * --------\n    // 12 * --------\n    // 13    * --------\n    // 14       * --------\n    //\n    // Thanks to this algorithm no lists are mismatched and no items get unexpected children/parent, while\n    // those parent-child connection which are possible to maintain are still maintained. It's worth noting\n    // that this is the same effect that we would be get by multiple use of outdent command. However doing\n    // it like this is much more efficient because it's less operation (less memory usage, easier OT) and\n    // less conversion (faster).\n    for (const { node } of iterateSiblingListBlocks(lastBlock.nextSibling, 'forward')) {\n        // Check each next list item, as long as its indent is higher than 0.\n        const indent = node.getAttribute('listIndent');\n        // If the indent is 0 we are not going to change anything anyway.\n        if (indent == 0) {\n            break;\n        }\n        // We check if that's item indent is lower than current relative indent.\n        if (indent < currentIndent) {\n            // If it is, current relative indent becomes that indent.\n            currentIndent = indent;\n        }\n        // Fix indent relatively to current relative indent.\n        // Note, that if we just changed the current relative indent, the newIndent will be equal to 0.\n        const newIndent = indent - currentIndent;\n        writer.setAttribute('listIndent', newIndent, node);\n        changedBlocks.push(node);\n    }\n    return changedBlocks;\n}\n/**\n * Returns the array of given blocks sorted by model indexes (document order).\n *\n * @internal\n */\nexport function sortBlocks(blocks) {\n    return Array.from(blocks)\n        .filter(block => block.root.rootName !== '$graveyard')\n        .sort((a, b) => a.index - b.index);\n}\n/**\n * Returns a selected block object. If a selected object is inline or when there is no selected\n * object, `null` is returned.\n *\n * @internal\n * @param model The instance of editor model.\n * @returns Selected block object or `null`.\n */\nexport function getSelectedBlockObject(model) {\n    const selectedElement = model.document.selection.getSelectedElement();\n    if (!selectedElement) {\n        return null;\n    }\n    if (model.schema.isObject(selectedElement) && model.schema.isBlock(selectedElement)) {\n        return selectedElement;\n    }\n    return null;\n}\n/**\n * Checks whether the given block can be replaced by a listItem.\n *\n * Note that this is possible only when multiBlock = false option is set in feature config.\n *\n * @param block A block to be tested.\n * @param schema The schema of the document.\n */\nexport function canBecomeSimpleListItem(block, schema) {\n    return schema.checkChild(block.parent, 'listItem') && schema.checkChild(block, '$text') && !schema.isObject(block);\n}\n/**\n * Returns true if listType is of type `numbered` or `customNumbered`.\n */\nexport function isNumberedListType(listType) {\n    return listType == 'numbered' || listType == 'customNumbered';\n}\n/**\n * Merges a given block to the given parent block if parent is a list item and there is no more blocks in the same item.\n */\nfunction mergeListItemIfNotLast(block, parentBlock, writer) {\n    const parentItemBlocks = getListItemBlocks(parentBlock, { direction: 'forward' });\n    // Merge with parent only if outdented item wasn't the last one in its parent.\n    // Merge:\n    // * a\t\t\t->\t\t* a\n    //   * [b]\t\t->\t\t  b\n    //   c\t\t\t->\t\t  c\n    // Don't merge:\n    // * a\t\t\t->\t\t* a\n    //   * [b]\t\t-> \t\t* b\n    // * c\t\t\t->\t\t* c\n    if (parentItemBlocks.pop().index > block.index) {\n        return mergeListItemBefore(block, parentBlock, writer);\n    }\n    return [];\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/list/listindentcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { expandListBlocksToCompleteItems, indentBlocks, isFirstBlockOfListItem, isListItemBlock, isSingleListItem, outdentBlocksWithMerge, sortBlocks, splitListItemBefore } from './utils/model.js';\nimport ListWalker from './utils/listwalker.js';\n/**\n * The document list indent command. It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListIndentCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param indentDirection The direction of indent. If it is equal to `backward`, the command\n     * will outdent a list item.\n     */\n    constructor(editor, indentDirection) {\n        super(editor);\n        this._direction = indentDirection;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Indents or outdents (depending on the {@link #constructor}'s `indentDirection` parameter) selected list items.\n     *\n     * @fires execute\n     * @fires afterExecute\n     */\n    execute() {\n        const model = this.editor.model;\n        const blocks = getSelectedListBlocks(model.document.selection);\n        model.change(writer => {\n            const changedBlocks = [];\n            // Handle selection contained in the single list item and starting in the following blocks.\n            if (isSingleListItem(blocks) && !isFirstBlockOfListItem(blocks[0])) {\n                // Allow increasing indent of following list item blocks.\n                if (this._direction == 'forward') {\n                    changedBlocks.push(...indentBlocks(blocks, writer));\n                }\n                // For indent make sure that indented blocks have a new ID.\n                // For outdent just split blocks from the list item (give them a new IDs).\n                changedBlocks.push(...splitListItemBefore(blocks[0], writer));\n            }\n            // More than a single list item is selected, or the first block of list item is selected.\n            else {\n                // Now just update the attributes of blocks.\n                if (this._direction == 'forward') {\n                    changedBlocks.push(...indentBlocks(blocks, writer, { expand: true }));\n                }\n                else {\n                    changedBlocks.push(...outdentBlocksWithMerge(blocks, writer));\n                }\n            }\n            // Align the list item type to match the previous list item (from the same list).\n            for (const block of changedBlocks) {\n                // This block become a plain block (for example a paragraph).\n                if (!block.hasAttribute('listType')) {\n                    continue;\n                }\n                const previousItemBlock = ListWalker.first(block, { sameIndent: true });\n                if (previousItemBlock) {\n                    writer.setAttribute('listType', previousItemBlock.getAttribute('listType'), block);\n                }\n            }\n            this._fireAfterExecute(changedBlocks);\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        // Check whether any of position's ancestor is a list item.\n        let blocks = getSelectedListBlocks(this.editor.model.document.selection);\n        let firstBlock = blocks[0];\n        // If selection is not in a list item, the command is disabled.\n        if (!firstBlock) {\n            return false;\n        }\n        // If we are outdenting it is enough to be in list item. Every list item can always be outdented.\n        if (this._direction == 'backward') {\n            return true;\n        }\n        // A single block of a list item is selected, so it could be indented as a sublist.\n        if (isSingleListItem(blocks) && !isFirstBlockOfListItem(blocks[0])) {\n            return true;\n        }\n        blocks = expandListBlocksToCompleteItems(blocks);\n        firstBlock = blocks[0];\n        // Check if there is any list item before selected items that could become a parent of selected items.\n        const siblingItem = ListWalker.first(firstBlock, { sameIndent: true });\n        if (!siblingItem) {\n            return false;\n        }\n        if (siblingItem.getAttribute('listType') == firstBlock.getAttribute('listType')) {\n            return true;\n        }\n        return false;\n    }\n}\n/**\n * Returns an array of selected blocks truncated to the first non list block element.\n */\nfunction getSelectedListBlocks(selection) {\n    const blocks = Array.from(selection.getSelectedBlocks());\n    const firstNonListBlockIndex = blocks.findIndex(block => !isListItemBlock(block));\n    if (firstNonListBlockIndex != -1) {\n        blocks.length = firstNonListBlockIndex;\n    }\n    return blocks;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { splitListItemBefore, expandListBlocksToCompleteItems, getListItemBlocks, getListItems, removeListAttributes, outdentFollowingItems, ListItemUid, sortBlocks, getSelectedBlockObject, isListItemBlock, canBecomeSimpleListItem } from './utils/model.js';\n/**\n * The list command. It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param type List type that will be handled by this command.\n     */\n    constructor(editor, type, options = {}) {\n        super(editor);\n        this.type = type;\n        this._listWalkerOptions = options.multiLevel ? {\n            higherIndent: true,\n            lowerIndent: true,\n            sameAttributes: []\n        } : undefined;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the list command.\n     *\n     * @fires execute\n     * @fires afterExecute\n     * @param options Command options.\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will try to convert the\n     * selected items and potentially the neighbor elements to the proper list items. If set to `false` it will convert selected elements\n     * to paragraphs. If not set, the command will toggle selected elements to list items or paragraphs, depending on the selection.\n     * @param options.additionalAttributes Additional attributes that are set for list items when the command is executed.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        const selectedBlockObject = getSelectedBlockObject(model);\n        const blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => model.schema.checkAttribute(block, 'listType') || canBecomeSimpleListItem(block, model.schema));\n        // Whether we are turning off some items.\n        const turnOff = options.forceValue !== undefined ? !options.forceValue : this.value;\n        model.change(writer => {\n            if (turnOff) {\n                const lastBlock = blocks[blocks.length - 1];\n                // Split the first block from the list item.\n                const itemBlocks = getListItemBlocks(lastBlock, { direction: 'forward' });\n                const changedBlocks = [];\n                if (itemBlocks.length > 1) {\n                    changedBlocks.push(...splitListItemBefore(itemBlocks[1], writer));\n                }\n                // Strip list attributes.\n                changedBlocks.push(...removeListAttributes(blocks, writer));\n                // Outdent items following the selected list item.\n                changedBlocks.push(...outdentFollowingItems(lastBlock, writer));\n                this._fireAfterExecute(changedBlocks);\n            }\n            // Changing type of list items for a collapsed selection inside a list item.\n            else if ((selectedBlockObject || document.selection.isCollapsed) && isListItemBlock(blocks[0])) {\n                const changedBlocks = getListItems(selectedBlockObject || blocks[0], this._listWalkerOptions);\n                for (const block of changedBlocks) {\n                    writer.setAttributes({\n                        ...options.additionalAttributes,\n                        listType: this.type\n                    }, block);\n                }\n                this._fireAfterExecute(changedBlocks);\n            }\n            // Turning on the list items for a non-collapsed selection.\n            else {\n                const changedBlocks = [];\n                for (const block of blocks) {\n                    // Promote the given block to the list item.\n                    if (!block.hasAttribute('listType')) {\n                        // Rename block to a simple list item if this option is enabled.\n                        if (!block.is('element', 'listItem') && canBecomeSimpleListItem(block, model.schema)) {\n                            writer.rename(block, 'listItem');\n                        }\n                        writer.setAttributes({\n                            ...options.additionalAttributes,\n                            listIndent: 0,\n                            listItemId: ListItemUid.next(),\n                            listType: this.type\n                        }, block);\n                        changedBlocks.push(block);\n                    }\n                    // Change the type of list item.\n                    else {\n                        for (const node of expandListBlocksToCompleteItems(block, { withNested: false })) {\n                            if (node.getAttribute('listType') != this.type) {\n                                writer.setAttributes({\n                                    ...options.additionalAttributes,\n                                    listType: this.type\n                                }, node);\n                                changedBlocks.push(node);\n                            }\n                        }\n                    }\n                }\n                this._fireAfterExecute(changedBlocks);\n            }\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const selection = this.editor.model.document.selection;\n        const blocks = Array.from(selection.getSelectedBlocks());\n        if (!blocks.length) {\n            return false;\n        }\n        for (const block of blocks) {\n            if (block.getAttribute('listType') != this.type) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        const blocks = Array.from(selection.getSelectedBlocks());\n        if (!blocks.length) {\n            return false;\n        }\n        // If command value is true it means that we are in list item, so the command should be enabled.\n        if (this.value) {\n            return true;\n        }\n        for (const block of blocks) {\n            if (schema.checkAttribute(block, 'listType') || canBecomeSimpleListItem(block, schema)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/list/listmergecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getNestedListBlocks, indentBlocks, sortBlocks, isFirstBlockOfListItem, mergeListItemBefore, isSingleListItem, getSelectedBlockObject, isListItemBlock } from './utils/model.js';\nimport ListWalker from './utils/listwalker.js';\n/**\n * The document list merge command. It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListMergeCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param direction Whether list item should be merged before or after the selected block.\n     */\n    constructor(editor, direction) {\n        super(editor);\n        this._direction = direction;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Merges list blocks together (depending on the {@link #constructor}'s `direction` parameter).\n     *\n     * @fires execute\n     * @fires afterExecute\n     * @param options Command options.\n     * @param options.shouldMergeOnBlocksContentLevel When set `true`, merging will be performed together\n     * with {@link module:engine/model/model~Model#deleteContent} to get rid of the inline content in the selection or take advantage\n     * of the heuristics in `deleteContent()` that helps convert lists into paragraphs in certain cases.\n     */\n    execute({ shouldMergeOnBlocksContentLevel = false } = {}) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const changedBlocks = [];\n        model.change(writer => {\n            const { firstElement, lastElement } = this._getMergeSubjectElements(selection, shouldMergeOnBlocksContentLevel);\n            const firstIndent = firstElement.getAttribute('listIndent') || 0;\n            const lastIndent = lastElement.getAttribute('listIndent');\n            const lastElementId = lastElement.getAttribute('listItemId');\n            if (firstIndent != lastIndent) {\n                const nestedLastElementBlocks = getNestedListBlocks(lastElement);\n                changedBlocks.push(...indentBlocks([lastElement, ...nestedLastElementBlocks], writer, {\n                    indentBy: firstIndent - lastIndent,\n                    // If outdenting, the entire sub-tree that follows must be included.\n                    expand: firstIndent < lastIndent\n                }));\n            }\n            if (shouldMergeOnBlocksContentLevel) {\n                let sel = selection;\n                if (selection.isCollapsed) {\n                    sel = writer.createSelection(writer.createRange(writer.createPositionAt(firstElement, 'end'), writer.createPositionAt(lastElement, 0)));\n                }\n                // Delete selected content. Replace entire content only for non-collapsed selection.\n                model.deleteContent(sel, { doNotResetEntireContent: selection.isCollapsed });\n                // Get the last \"touched\" element after deleteContent call (can't use the lastElement because\n                // it could get merged into the firstElement while deleting content).\n                const lastElementAfterDelete = sel.getLastPosition().parent;\n                // Check if the element after it was in the same list item and adjust it if needed.\n                const nextSibling = lastElementAfterDelete.nextSibling;\n                changedBlocks.push(lastElementAfterDelete);\n                if (nextSibling && nextSibling !== lastElement && nextSibling.getAttribute('listItemId') == lastElementId) {\n                    changedBlocks.push(...mergeListItemBefore(nextSibling, lastElementAfterDelete, writer));\n                }\n            }\n            else {\n                changedBlocks.push(...mergeListItemBefore(lastElement, firstElement, writer));\n            }\n            this._fireAfterExecute(changedBlocks);\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedBlockObject = getSelectedBlockObject(model);\n        if (selection.isCollapsed || selectedBlockObject) {\n            const positionParent = selectedBlockObject || selection.getFirstPosition().parent;\n            if (!isListItemBlock(positionParent)) {\n                return false;\n            }\n            const siblingNode = this._direction == 'backward' ?\n                positionParent.previousSibling :\n                positionParent.nextSibling;\n            if (!siblingNode) {\n                return false;\n            }\n            if (isSingleListItem([positionParent, siblingNode])) {\n                return false;\n            }\n        }\n        else {\n            const lastPosition = selection.getLastPosition();\n            const firstPosition = selection.getFirstPosition();\n            // If deleting within a single block of a list item, there's no need to merge anything.\n            // The default delete should be executed instead.\n            if (lastPosition.parent === firstPosition.parent) {\n                return false;\n            }\n            if (!isListItemBlock(lastPosition.parent)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Returns the boundary elements the merge should be executed for. These are not necessarily selection's first\n     * and last position parents but sometimes sibling or even further blocks depending on the context.\n     *\n     * @param selection The selection the merge is executed for.\n     * @param shouldMergeOnBlocksContentLevel When `true`, merge is performed together with\n     * {@link module:engine/model/model~Model#deleteContent} to remove the inline content within the selection.\n     */\n    _getMergeSubjectElements(selection, shouldMergeOnBlocksContentLevel) {\n        const model = this.editor.model;\n        const selectedBlockObject = getSelectedBlockObject(model);\n        let firstElement, lastElement;\n        if (selection.isCollapsed || selectedBlockObject) {\n            const positionParent = selectedBlockObject || selection.getFirstPosition().parent;\n            const isFirstBlock = isFirstBlockOfListItem(positionParent);\n            if (this._direction == 'backward') {\n                lastElement = positionParent;\n                if (isFirstBlock && !shouldMergeOnBlocksContentLevel) {\n                    // For the \"c\" as an anchorElement:\n                    //  * a\n                    //    * b\n                    //  * [c]  <-- this block should be merged with \"a\"\n                    // It should find \"a\" element to merge with:\n                    //  * a\n                    //    * b\n                    //    c\n                    firstElement = ListWalker.first(positionParent, { sameIndent: true, lowerIndent: true });\n                }\n                else {\n                    firstElement = positionParent.previousSibling;\n                }\n            }\n            else {\n                // In case of the forward merge there is no case as above, just merge with next sibling.\n                firstElement = positionParent;\n                lastElement = positionParent.nextSibling;\n            }\n        }\n        else {\n            firstElement = selection.getFirstPosition().parent;\n            lastElement = selection.getLastPosition().parent;\n        }\n        return {\n            firstElement: firstElement,\n            lastElement: lastElement\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { isFirstBlockOfListItem, isListItemBlock, sortBlocks, splitListItemBefore } from './utils/model.js';\n/**\n * The document list split command that splits the list item at the selection.\n *\n * It is used by the {@link module:list/list~List list feature}.\n */\nexport default class ListSplitCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param direction Whether list item should be split before or after the selected block.\n     */\n    constructor(editor, direction) {\n        super(editor);\n        this._direction = direction;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Splits the list item at the selection.\n     *\n     * @fires execute\n     * @fires afterExecute\n     */\n    execute() {\n        const editor = this.editor;\n        editor.model.change(writer => {\n            const changedBlocks = splitListItemBefore(this._getStartBlock(), writer);\n            this._fireAfterExecute(changedBlocks);\n        });\n    }\n    /**\n     * Fires the `afterExecute` event.\n     *\n     * @param changedBlocks The changed list elements.\n     */\n    _fireAfterExecute(changedBlocks) {\n        this.fire('afterExecute', sortBlocks(new Set(changedBlocks)));\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const selection = this.editor.model.document.selection;\n        const block = this._getStartBlock();\n        return selection.isCollapsed &&\n            isListItemBlock(block) &&\n            !isFirstBlockOfListItem(block);\n    }\n    /**\n     * Returns the model element that is the main focus of the command (according to the current selection and command direction).\n     */\n    _getStartBlock() {\n        const doc = this.editor.model.document;\n        const positionParent = doc.selection.getFirstPosition().parent;\n        return (this._direction == 'before' ? positionParent : positionParent.nextSibling);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { expandListBlocksToCompleteItems, expandListBlocksToCompleteList, isFirstBlockOfListItem, isListItemBlock, isNumberedListType } from './utils/model.js';\n/**\n * A set of helpers related to document lists.\n */\nexport default class ListUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Expands the given list of selected blocks to include all the items of the lists they're in.\n     *\n     * @param blocks The list of selected blocks.\n     */\n    expandListBlocksToCompleteList(blocks) {\n        return expandListBlocksToCompleteList(blocks);\n    }\n    /**\n     * Check if the given block is the first in the list item.\n     *\n     * @param listBlock The list block element.\n     */\n    isFirstBlockOfListItem(listBlock) {\n        return isFirstBlockOfListItem(listBlock);\n    }\n    /**\n     * Returns true if the given model node is a list item block.\n     *\n     * @param node A model node.\n     */\n    isListItemBlock(node) {\n        return isListItemBlock(node);\n    }\n    /**\n     * Expands the given list of selected blocks to include the leading and tailing blocks of partially selected list items.\n     *\n     * @param blocks The list of selected blocks.\n     * @param options.withNested Whether should include nested list items.\n     */\n    expandListBlocksToCompleteItems(blocks, options = {}) {\n        return expandListBlocksToCompleteItems(blocks, options);\n    }\n    /**\n     * Returns true if listType is of type `numbered` or `customNumbered`.\n     */\n    isNumberedListType(listType) {\n        return isNumberedListType(listType);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Checks if view element is a list type (ul or ol).\n *\n * @internal\n */\nexport function isListView(viewElement) {\n    return viewElement.is('element', 'ol') || viewElement.is('element', 'ul');\n}\n/**\n * Checks if view element is a list item (li).\n *\n * @internal\n */\nexport function isListItemView(viewElement) {\n    return viewElement.is('element', 'li');\n}\n/**\n * Calculates the indent value for a list item. Handles HTML compliant and non-compliant lists.\n *\n * Also, fixes non HTML compliant lists indents:\n *\n * ```\n * before:                                     fixed list:\n * OL                                          OL\n * |-> LI (parent LIs: 0)                      |-> LI     (indent: 0)\n *     |-> OL                                  |-> OL\n *         |-> OL                                  |\n *         |   |-> OL                              |\n *         |       |-> OL                          |\n *         |           |-> LI (parent LIs: 1)      |-> LI (indent: 1)\n *         |-> LI (parent LIs: 1)                  |-> LI (indent: 1)\n *\n * before:                                     fixed list:\n * OL                                          OL\n * |-> OL                                      |\n *     |-> OL                                  |\n *          |-> OL                             |\n *              |-> LI (parent LIs: 0)         |-> LI        (indent: 0)\n *\n * before:                                     fixed list:\n * OL                                          OL\n * |-> LI (parent LIs: 0)                      |-> LI         (indent: 0)\n * |-> OL                                          |-> OL\n *     |-> LI (parent LIs: 0)                          |-> LI (indent: 1)\n * ```\n *\n * @internal\n */\nexport function getIndent(listItem) {\n    let indent = 0;\n    let parent = listItem.parent;\n    while (parent) {\n        // Each LI in the tree will result in an increased indent for HTML compliant lists.\n        if (isListItemView(parent)) {\n            indent++;\n        }\n        else {\n            // If however the list is nested in other list we should check previous sibling of any of the list elements...\n            const previousSibling = parent.previousSibling;\n            // ...because the we might need increase its indent:\n            //\t\tbefore:                           fixed list:\n            //\t\tOL                                OL\n            //\t\t|-> LI (parent LIs: 0)            |-> LI         (indent: 0)\n            //\t\t|-> OL                                |-> OL\n            //\t\t    |-> LI (parent LIs: 0)                |-> LI (indent: 1)\n            if (previousSibling && isListItemView(previousSibling)) {\n                indent++;\n            }\n        }\n        parent = parent.parent;\n    }\n    return indent;\n}\n/**\n * Creates a list attribute element (ol or ul).\n *\n * @internal\n */\nexport function createListElement(writer, indent, type, id = getViewElementIdForListType(type, indent)) {\n    // Negative priorities so that restricted editing attribute won't wrap lists.\n    return writer.createAttributeElement(getViewElementNameForListType(type), null, {\n        priority: 2 * indent / 100 - 100,\n        id\n    });\n}\n/**\n * Creates a list item attribute element (li).\n *\n * @internal\n */\nexport function createListItemElement(writer, indent, id) {\n    // Negative priorities so that restricted editing attribute won't wrap list items.\n    return writer.createAttributeElement('li', null, {\n        priority: (2 * indent + 1) / 100 - 100,\n        id\n    });\n}\n/**\n * Returns a view element name for the given list type.\n *\n * @internal\n */\nexport function getViewElementNameForListType(type) {\n    return type == 'numbered' || type == 'customNumbered' ? 'ol' : 'ul';\n}\n/**\n * Returns a view element ID for the given list type and indent.\n *\n * @internal\n */\nexport function getViewElementIdForListType(type, indent) {\n    return `list-${type}-${indent}`;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { iterateSiblingListBlocks } from './listwalker.js';\nimport { getListItemBlocks, isListItemBlock, ListItemUid } from './model.js';\n/**\n * Based on the provided positions looks for the list head and stores it in the provided map.\n *\n * @internal\n * @param position The search starting position.\n * @param itemToListHead The map from list item element to the list head element.\n */\nexport function findAndAddListHeadToMap(position, itemToListHead) {\n    const previousNode = position.nodeBefore;\n    if (!isListItemBlock(previousNode)) {\n        const item = position.nodeAfter;\n        if (isListItemBlock(item)) {\n            itemToListHead.set(item, item);\n        }\n    }\n    else {\n        let listHead = previousNode;\n        // Previously, the loop below was defined like this:\n        //\n        // \t\tfor ( { node: listHead } of iterateSiblingListBlocks( listHead, 'backward' ) )\n        //\n        // Unfortunately, such a destructuring is incorrectly transpiled by Babel and the loop never ends.\n        // See: https://github.com/ckeditor/ckeditor5-react/issues/345.\n        for (const { node } of iterateSiblingListBlocks(listHead, 'backward')) {\n            listHead = node;\n            if (itemToListHead.has(listHead)) {\n                return;\n            }\n        }\n        itemToListHead.set(previousNode, listHead);\n    }\n}\n/**\n * Scans the list starting from the given list head element and fixes items' indentation.\n *\n * @internal\n * @param listNodes The iterable of list nodes.\n * @param writer The model writer.\n * @returns Whether the model was modified.\n */\nexport function fixListIndents(listNodes, writer) {\n    let maxIndent = 0; // Guards local sublist max indents that need fixing.\n    let prevIndent = -1; // Previous item indent.\n    let fixBy = null;\n    let applied = false;\n    for (const { node } of listNodes) {\n        const itemIndent = node.getAttribute('listIndent');\n        if (itemIndent > maxIndent) {\n            let newIndent;\n            if (fixBy === null) {\n                fixBy = itemIndent - maxIndent;\n                newIndent = maxIndent;\n            }\n            else {\n                if (fixBy > itemIndent) {\n                    fixBy = itemIndent;\n                }\n                newIndent = itemIndent - fixBy;\n            }\n            if (newIndent > prevIndent + 1) {\n                newIndent = prevIndent + 1;\n            }\n            writer.setAttribute('listIndent', newIndent, node);\n            applied = true;\n            prevIndent = newIndent;\n        }\n        else {\n            fixBy = null;\n            maxIndent = itemIndent + 1;\n            prevIndent = itemIndent;\n        }\n    }\n    return applied;\n}\n/**\n * Scans the list starting from the given list head element and fixes items' types.\n *\n * @internal\n * @param listNodes The iterable of list nodes.\n * @param seenIds The set of already known IDs.\n * @param writer The model writer.\n * @returns Whether the model was modified.\n */\nexport function fixListItemIds(listNodes, seenIds, writer) {\n    const visited = new Set();\n    let applied = false;\n    for (const { node } of listNodes) {\n        if (visited.has(node)) {\n            continue;\n        }\n        let listType = node.getAttribute('listType');\n        let listItemId = node.getAttribute('listItemId');\n        // Use a new ID if this one was spot earlier (even in other list).\n        if (seenIds.has(listItemId)) {\n            listItemId = ListItemUid.next();\n        }\n        seenIds.add(listItemId);\n        // Make sure that all items in a simple list have unique IDs.\n        if (node.is('element', 'listItem')) {\n            if (node.getAttribute('listItemId') != listItemId) {\n                writer.setAttribute('listItemId', listItemId, node);\n                applied = true;\n            }\n            continue;\n        }\n        for (const block of getListItemBlocks(node, { direction: 'forward' })) {\n            visited.add(block);\n            // Use a new ID if a block of a bigger list item has different type.\n            if (block.getAttribute('listType') != listType) {\n                listItemId = ListItemUid.next();\n                listType = block.getAttribute('listType');\n            }\n            if (block.getAttribute('listItemId') != listItemId) {\n                writer.setAttribute('listItemId', listItemId, block);\n                applied = true;\n            }\n        }\n    }\n    return applied;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { getAllListItemBlocks, getListItemBlocks, isListItemBlock, isFirstBlockOfListItem, ListItemUid } from './utils/model.js';\nimport { createListElement, createListItemElement, getIndent, isListView, isListItemView } from './utils/view.js';\nimport ListWalker, { iterateSiblingListBlocks } from './utils/listwalker.js';\nimport { findAndAddListHeadToMap } from './utils/postfixers.js';\n/**\n * Returns the upcast converter for list items. It's supposed to work after the block converters (content inside list items) are converted.\n *\n * @internal\n */\nexport function listItemUpcastConverter() {\n    return (evt, data, conversionApi) => {\n        const { writer, schema } = conversionApi;\n        if (!data.modelRange) {\n            return;\n        }\n        const items = Array.from(data.modelRange.getItems({ shallow: true }))\n            .filter((item) => schema.checkAttribute(item, 'listItemId'));\n        if (!items.length) {\n            return;\n        }\n        const listItemId = ListItemUid.next();\n        const listIndent = getIndent(data.viewItem);\n        let listType = data.viewItem.parent && data.viewItem.parent.is('element', 'ol') ? 'numbered' : 'bulleted';\n        // Preserve list type if was already set (for example by to-do list feature).\n        const firstItemListType = items[0].getAttribute('listType');\n        if (firstItemListType) {\n            listType = firstItemListType;\n        }\n        const attributes = {\n            listItemId,\n            listIndent,\n            listType\n        };\n        for (const item of items) {\n            // Set list attributes only on same level items, those nested deeper are already handled by the recursive conversion.\n            if (!item.hasAttribute('listItemId')) {\n                writer.setAttributes(attributes, item);\n            }\n        }\n        if (items.length > 1) {\n            // Make sure that list item that contain only nested list will preserve paragraph for itself:\n            //\t<ul>\n            //\t\t<li>\n            //\t\t\t<p></p>  <-- this one must be kept\n            //\t\t\t<ul>\n            //\t\t\t\t<li></li>\n            //\t\t\t</ul>\n            //\t\t</li>\n            //\t</ul>\n            if (items[1].getAttribute('listItemId') != attributes.listItemId) {\n                conversionApi.keepEmptyElement(items[0]);\n            }\n        }\n    };\n}\n/**\n * Returns a model document change:data event listener that triggers conversion of related items if needed.\n *\n * @internal\n * @param model The editor model.\n * @param editing The editing controller.\n * @param attributeNames The list of all model list attributes (including registered strategies).\n * @param listEditing The document list editing plugin.\n */\nexport function reconvertItemsOnDataChange(model, editing, attributeNames, listEditing) {\n    return () => {\n        const changes = model.document.differ.getChanges();\n        const itemsToRefresh = [];\n        const itemToListHead = new Map();\n        const changedItems = new Set();\n        for (const entry of changes) {\n            if (entry.type == 'insert' && entry.name != '$text') {\n                findAndAddListHeadToMap(entry.position, itemToListHead);\n                // Insert of a non-list item.\n                if (!entry.attributes.has('listItemId')) {\n                    findAndAddListHeadToMap(entry.position.getShiftedBy(entry.length), itemToListHead);\n                }\n                else {\n                    changedItems.add(entry.position.nodeAfter);\n                }\n            }\n            // Removed list item.\n            else if (entry.type == 'remove' && entry.attributes.has('listItemId')) {\n                findAndAddListHeadToMap(entry.position, itemToListHead);\n            }\n            // Changed list attribute.\n            else if (entry.type == 'attribute') {\n                const item = entry.range.start.nodeAfter;\n                if (attributeNames.includes(entry.attributeKey)) {\n                    findAndAddListHeadToMap(entry.range.start, itemToListHead);\n                    if (entry.attributeNewValue === null) {\n                        findAndAddListHeadToMap(entry.range.start.getShiftedBy(1), itemToListHead);\n                        // Check if paragraph should be converted from bogus to plain paragraph.\n                        if (doesItemBlockRequiresRefresh(item)) {\n                            itemsToRefresh.push(item);\n                        }\n                    }\n                    else {\n                        changedItems.add(item);\n                    }\n                }\n                else if (isListItemBlock(item)) {\n                    // Some other attribute was changed on the list item,\n                    // check if paragraph does not need to be converted to bogus or back.\n                    if (doesItemBlockRequiresRefresh(item)) {\n                        itemsToRefresh.push(item);\n                    }\n                }\n            }\n        }\n        for (const listHead of itemToListHead.values()) {\n            itemsToRefresh.push(...collectListItemsToRefresh(listHead, changedItems));\n        }\n        for (const item of new Set(itemsToRefresh)) {\n            editing.reconvertItem(item);\n        }\n    };\n    function collectListItemsToRefresh(listHead, changedItems) {\n        const itemsToRefresh = [];\n        const visited = new Set();\n        const stack = [];\n        for (const { node, previous } of iterateSiblingListBlocks(listHead, 'forward')) {\n            if (visited.has(node)) {\n                continue;\n            }\n            const itemIndent = node.getAttribute('listIndent');\n            // Current node is at the lower indent so trim the stack.\n            if (previous && itemIndent < previous.getAttribute('listIndent')) {\n                stack.length = itemIndent + 1;\n            }\n            // Update the stack for the current indent level.\n            stack[itemIndent] = Object.fromEntries(Array.from(node.getAttributes())\n                .filter(([key]) => attributeNames.includes(key)));\n            // Find all blocks of the current node.\n            const blocks = getListItemBlocks(node, { direction: 'forward' });\n            for (const block of blocks) {\n                visited.add(block);\n                // Check if bogus vs plain paragraph needs refresh.\n                if (doesItemBlockRequiresRefresh(block, blocks)) {\n                    itemsToRefresh.push(block);\n                }\n                // Check if wrapping with UL, OL, LIs needs refresh.\n                else if (doesItemWrappingRequiresRefresh(block, stack, changedItems)) {\n                    itemsToRefresh.push(block);\n                }\n            }\n        }\n        return itemsToRefresh;\n    }\n    function doesItemBlockRequiresRefresh(item, blocks) {\n        const viewElement = editing.mapper.toViewElement(item);\n        if (!viewElement) {\n            return false;\n        }\n        const needsRefresh = listEditing.fire('checkElement', {\n            modelElement: item,\n            viewElement\n        });\n        if (needsRefresh) {\n            return true;\n        }\n        if (!item.is('element', 'paragraph') && !item.is('element', 'listItem')) {\n            return false;\n        }\n        const useBogus = shouldUseBogusParagraph(item, attributeNames, blocks);\n        if (useBogus && viewElement.is('element', 'p')) {\n            return true;\n        }\n        else if (!useBogus && viewElement.is('element', 'span')) {\n            return true;\n        }\n        return false;\n    }\n    function doesItemWrappingRequiresRefresh(item, stack, changedItems) {\n        // Items directly affected by some \"change\" don't need a refresh, they will be converted by their own changes.\n        if (changedItems.has(item)) {\n            return false;\n        }\n        const viewElement = editing.mapper.toViewElement(item);\n        let indent = stack.length - 1;\n        // Traverse down the stack to the root to verify if all ULs, OLs, and LIs are as expected.\n        for (let element = viewElement.parent; !element.is('editableElement'); element = element.parent) {\n            const isListItemElement = isListItemView(element);\n            const isListElement = isListView(element);\n            if (!isListElement && !isListItemElement) {\n                continue;\n            }\n            const eventName = `checkAttributes:${isListItemElement ? 'item' : 'list'}`;\n            const needsRefresh = listEditing.fire(eventName, {\n                viewElement: element,\n                modelAttributes: stack[indent]\n            });\n            if (needsRefresh) {\n                break;\n            }\n            if (isListElement) {\n                indent--;\n                // Don't need to iterate further if we already know that the item is wrapped appropriately.\n                if (indent < 0) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n/**\n * Returns the list item downcast converter.\n *\n * @internal\n * @param attributeNames A list of attribute names that should be converted if they are set.\n * @param strategies The strategies.\n * @param model The model.\n */\nexport function listItemDowncastConverter(attributeNames, strategies, model, { dataPipeline } = {}) {\n    const consumer = createAttributesConsumer(attributeNames);\n    return (evt, data, conversionApi) => {\n        const { writer, mapper, consumable } = conversionApi;\n        const listItem = data.item;\n        if (!attributeNames.includes(data.attributeKey)) {\n            return;\n        }\n        // Test if attributes on the converted items are not consumed.\n        if (!consumer(listItem, consumable)) {\n            return;\n        }\n        // Use positions mapping instead of mapper.toViewElement( listItem ) to find outermost view element.\n        // This is for cases when mapping is using inner view element like in the code blocks (pre > code).\n        const viewElement = findMappedViewElement(listItem, mapper, model);\n        // Remove custom item marker.\n        removeCustomMarkerElements(viewElement, writer, mapper);\n        // Unwrap element from current list wrappers.\n        unwrapListItemBlock(viewElement, writer);\n        // Insert custom item marker.\n        const viewRange = insertCustomMarkerElements(listItem, viewElement, strategies, writer, { dataPipeline });\n        // Then wrap them with the new list wrappers (UL, OL, LI).\n        wrapListItemBlock(listItem, viewRange, strategies, writer);\n    };\n}\n/**\n * The 'remove' downcast converter for custom markers.\n */\nexport function listItemDowncastRemoveConverter(schema) {\n    return (evt, data, conversionApi) => {\n        const { writer, mapper } = conversionApi;\n        const elementName = evt.name.split(':')[1];\n        // Do not remove marker if the deleted element is some inline object inside paragraph.\n        // See https://github.com/cksource/ckeditor5-internal/issues/3680.\n        if (!schema.checkAttribute(elementName, 'listItemId')) {\n            return;\n        }\n        // Find the view range start position by mapping the model position at which the remove happened.\n        const viewStart = mapper.toViewPosition(data.position);\n        const modelEnd = data.position.getShiftedBy(data.length);\n        const viewEnd = mapper.toViewPosition(modelEnd, { isPhantom: true });\n        // Trim the range to remove in case some UI elements are on the view range boundaries.\n        const viewRange = writer.createRange(viewStart, viewEnd).getTrimmed();\n        // Use positions mapping instead of mapper.toViewElement( listItem ) to find outermost view element.\n        // This is for cases when mapping is using inner view element like in the code blocks (pre > code).\n        const viewElement = viewRange.end.nodeBefore;\n        /* istanbul ignore next -- @preserve */\n        if (!viewElement) {\n            return;\n        }\n        // Remove custom item marker.\n        removeCustomMarkerElements(viewElement, writer, mapper);\n    };\n}\n/**\n * Returns the bogus paragraph view element creator. A bogus paragraph is used if a list item contains only a single block or nested list.\n *\n * @internal\n * @param attributeNames The list of all model list attributes (including registered strategies).\n */\nexport function bogusParagraphCreator(attributeNames, { dataPipeline } = {}) {\n    return (modelElement, { writer }) => {\n        // Convert only if a bogus paragraph should be used.\n        if (!shouldUseBogusParagraph(modelElement, attributeNames)) {\n            return null;\n        }\n        if (!dataPipeline) {\n            return writer.createContainerElement('span', { class: 'ck-list-bogus-paragraph' });\n        }\n        // Using `<p>` in case there are some markers on it and transparentRendering will render it anyway.\n        const viewElement = writer.createContainerElement('p');\n        writer.setCustomProperty('dataPipeline:transparentRendering', true, viewElement);\n        return viewElement;\n    };\n}\n/**\n * Helper for mapping mode to view elements. It's using positions mapping instead of mapper.toViewElement( element )\n * to find outermost view element. This is for cases when mapping is using inner view element like in the code blocks (pre > code).\n *\n * @internal\n * @param element The model element.\n * @param mapper The mapper instance.\n * @param model The model.\n */\nexport function findMappedViewElement(element, mapper, model) {\n    const modelRange = model.createRangeOn(element);\n    const viewRange = mapper.toViewRange(modelRange).getTrimmed();\n    return viewRange.end.nodeBefore;\n}\n/**\n * The model to view custom position mapping for cases when marker is injected at the beginning of a block.\n */\nexport function createModelToViewPositionMapper(strategies, view) {\n    return (evt, data) => {\n        if (data.modelPosition.offset > 0) {\n            return;\n        }\n        const positionParent = data.modelPosition.parent;\n        if (!isListItemBlock(positionParent)) {\n            return;\n        }\n        if (!strategies.some(strategy => (strategy.scope == 'itemMarker' &&\n            strategy.canInjectMarkerIntoElement &&\n            strategy.canInjectMarkerIntoElement(positionParent)))) {\n            return;\n        }\n        const viewElement = data.mapper.toViewElement(positionParent);\n        const viewRange = view.createRangeIn(viewElement);\n        const viewWalker = viewRange.getWalker();\n        let positionAfterLastMarker = viewRange.start;\n        for (const { item } of viewWalker) {\n            // Walk only over the non-mapped elements (UIElements, AttributeElements, $text, or any other element without mapping).\n            if (item.is('element') && data.mapper.toModelElement(item) || item.is('$textProxy')) {\n                break;\n            }\n            if (item.is('element') && item.getCustomProperty('listItemMarker')) {\n                positionAfterLastMarker = view.createPositionAfter(item);\n                // Jump over the content of the marker (this is not needed for UIElement but required for other element types).\n                viewWalker.skip(({ previousPosition }) => !previousPosition.isEqual(positionAfterLastMarker));\n            }\n        }\n        data.viewPosition = positionAfterLastMarker;\n    };\n}\n/**\n * Removes a custom marker elements and item wrappers related to that marker.\n */\nfunction removeCustomMarkerElements(viewElement, viewWriter, mapper) {\n    // Remove item wrapper.\n    while (viewElement.parent.is('attributeElement') && viewElement.parent.getCustomProperty('listItemWrapper')) {\n        viewWriter.unwrap(viewWriter.createRangeOn(viewElement), viewElement.parent);\n    }\n    // Remove custom item markers.\n    const markersToRemove = [];\n    // Markers before a block.\n    collectMarkersToRemove(viewWriter.createPositionBefore(viewElement).getWalker({ direction: 'backward' }));\n    // Markers inside a block.\n    collectMarkersToRemove(viewWriter.createRangeIn(viewElement).getWalker());\n    for (const marker of markersToRemove) {\n        viewWriter.remove(marker);\n    }\n    function collectMarkersToRemove(viewWalker) {\n        for (const { item } of viewWalker) {\n            // Walk only over the non-mapped elements (UIElements, AttributeElements, $text, or any other element without mapping).\n            if (item.is('element') && mapper.toModelElement(item)) {\n                break;\n            }\n            if (item.is('element') && item.getCustomProperty('listItemMarker')) {\n                markersToRemove.push(item);\n            }\n        }\n    }\n}\n/**\n * Inserts a custom marker elements and wraps first block of a list item if marker requires it.\n */\nfunction insertCustomMarkerElements(listItem, viewElement, strategies, writer, { dataPipeline }) {\n    let viewRange = writer.createRangeOn(viewElement);\n    // Marker can be inserted only before the first block of a list item.\n    if (!isFirstBlockOfListItem(listItem)) {\n        return viewRange;\n    }\n    for (const strategy of strategies) {\n        if (strategy.scope != 'itemMarker') {\n            continue;\n        }\n        // Create the custom marker element and inject it before the first block of the list item.\n        const markerElement = strategy.createElement(writer, listItem, { dataPipeline });\n        if (!markerElement) {\n            continue;\n        }\n        writer.setCustomProperty('listItemMarker', true, markerElement);\n        if (strategy.canInjectMarkerIntoElement && strategy.canInjectMarkerIntoElement(listItem)) {\n            writer.insert(writer.createPositionAt(viewElement, 0), markerElement);\n        }\n        else {\n            writer.insert(viewRange.start, markerElement);\n            viewRange = writer.createRange(writer.createPositionBefore(markerElement), writer.createPositionAfter(viewElement));\n        }\n        // Wrap the marker and optionally the first block with an attribute element (label for to-do lists).\n        if (!strategy.createWrapperElement || !strategy.canWrapElement) {\n            continue;\n        }\n        const wrapper = strategy.createWrapperElement(writer, listItem, { dataPipeline });\n        writer.setCustomProperty('listItemWrapper', true, wrapper);\n        // The whole block can be wrapped...\n        if (strategy.canWrapElement(listItem)) {\n            viewRange = writer.wrap(viewRange, wrapper);\n        }\n        else {\n            // ... or only the marker element (if the block is downcasted to heading or block widget).\n            viewRange = writer.wrap(writer.createRangeOn(markerElement), wrapper);\n            viewRange = writer.createRange(viewRange.start, writer.createPositionAfter(viewElement));\n        }\n    }\n    return viewRange;\n}\n/**\n * Unwraps all ol, ul, and li attribute elements that are wrapping the provided view element.\n */\nfunction unwrapListItemBlock(viewElement, viewWriter) {\n    let attributeElement = viewElement.parent;\n    while (attributeElement.is('attributeElement') && ['ul', 'ol', 'li'].includes(attributeElement.name)) {\n        const parentElement = attributeElement.parent;\n        viewWriter.unwrap(viewWriter.createRangeOn(viewElement), attributeElement);\n        attributeElement = parentElement;\n    }\n}\n/**\n * Wraps the given list item with appropriate attribute elements for ul, ol, and li.\n */\nfunction wrapListItemBlock(listItem, viewRange, strategies, writer) {\n    if (!listItem.hasAttribute('listIndent')) {\n        return;\n    }\n    const listItemIndent = listItem.getAttribute('listIndent');\n    let currentListItem = listItem;\n    for (let indent = listItemIndent; indent >= 0; indent--) {\n        const listItemViewElement = createListItemElement(writer, indent, currentListItem.getAttribute('listItemId'));\n        const listViewElement = createListElement(writer, indent, currentListItem.getAttribute('listType'));\n        for (const strategy of strategies) {\n            if ((strategy.scope == 'list' || strategy.scope == 'item') &&\n                currentListItem.hasAttribute(strategy.attributeName)) {\n                strategy.setAttributeOnDowncast(writer, currentListItem.getAttribute(strategy.attributeName), strategy.scope == 'list' ? listViewElement : listItemViewElement);\n            }\n        }\n        viewRange = writer.wrap(viewRange, listItemViewElement);\n        viewRange = writer.wrap(viewRange, listViewElement);\n        if (indent == 0) {\n            break;\n        }\n        currentListItem = ListWalker.first(currentListItem, { lowerIndent: true });\n        // There is no list item with lower indent, this means this is a document fragment containing\n        // only a part of nested list (like copy to clipboard) so we don't need to try to wrap it further.\n        if (!currentListItem) {\n            break;\n        }\n    }\n}\n// Returns the function that is responsible for consuming attributes that are set on the model node.\nfunction createAttributesConsumer(attributeNames) {\n    return (node, consumable) => {\n        const events = [];\n        // Collect all set attributes that are triggering conversion.\n        for (const attributeName of attributeNames) {\n            if (node.hasAttribute(attributeName)) {\n                events.push(`attribute:${attributeName}`);\n            }\n        }\n        if (!events.every(event => consumable.test(node, event) !== false)) {\n            return false;\n        }\n        events.forEach(event => consumable.consume(node, event));\n        return true;\n    };\n}\n// Whether the given item should be rendered as a bogus paragraph.\nfunction shouldUseBogusParagraph(item, attributeNames, blocks = getAllListItemBlocks(item)) {\n    if (!isListItemBlock(item)) {\n        return false;\n    }\n    for (const attributeKey of item.getAttributeKeys()) {\n        // Ignore selection attributes stored on block elements.\n        if (attributeKey.startsWith('selection:')) {\n            continue;\n        }\n        // Don't use bogus paragraph if there are attributes from other features.\n        if (!attributeNames.includes(attributeKey)) {\n            return false;\n        }\n    }\n    return blocks.length < 2;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./documentlist.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./list.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/list/listediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { Enter } from 'ckeditor5/src/enter.js';\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\nimport ListIndentCommand from './listindentcommand.js';\nimport ListCommand from './listcommand.js';\nimport ListMergeCommand from './listmergecommand.js';\nimport ListSplitCommand from './listsplitcommand.js';\nimport ListUtils from './listutils.js';\nimport { bogusParagraphCreator, createModelToViewPositionMapper, listItemDowncastConverter, listItemDowncastRemoveConverter, listItemUpcastConverter, reconvertItemsOnDataChange } from './converters.js';\nimport { findAndAddListHeadToMap, fixListIndents, fixListItemIds } from './utils/postfixers.js';\nimport { getAllListItemBlocks, isFirstBlockOfListItem, isLastBlockOfListItem, isSingleListItem, getSelectedBlockObject, isListItemBlock, removeListAttributes, ListItemUid } from './utils/model.js';\nimport { getViewElementIdForListType, getViewElementNameForListType } from './utils/view.js';\nimport ListWalker, { ListBlocksIterable } from './utils/listwalker.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport '../../theme/documentlist.css';\nimport '../../theme/list.css';\n/**\n * A list of base list model attributes.\n */\nconst LIST_BASE_ATTRIBUTES = ['listType', 'listIndent', 'listItemId'];\n/**\n * The editing part of the document-list feature. It handles creating, editing and removing lists and list items.\n */\nexport default class ListEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Enter, Delete, ListUtils, ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        /**\n         * The list of registered downcast strategies.\n         */\n        this._downcastStrategies = [];\n        editor.config.define('list.multiBlock', true);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const multiBlock = editor.config.get('list.multiBlock');\n        if (editor.plugins.has('LegacyListEditing')) {\n            /**\n             * The `List` feature can not be loaded together with the `LegacyList` plugin.\n             *\n             * @error list-feature-conflict\n             * @param conflictPlugin Name of the plugin.\n             */\n            throw new CKEditorError('list-feature-conflict', this, { conflictPlugin: 'LegacyListEditing' });\n        }\n        model.schema.register('$listItem', { allowAttributes: LIST_BASE_ATTRIBUTES });\n        if (multiBlock) {\n            model.schema.extend('$container', { allowAttributesOf: '$listItem' });\n            model.schema.extend('$block', { allowAttributesOf: '$listItem' });\n            model.schema.extend('$blockObject', { allowAttributesOf: '$listItem' });\n        }\n        else {\n            model.schema.register('listItem', {\n                inheritAllFrom: '$block',\n                allowAttributesOf: '$listItem'\n            });\n        }\n        for (const attribute of LIST_BASE_ATTRIBUTES) {\n            model.schema.setAttributeProperties(attribute, {\n                copyOnReplace: true\n            });\n        }\n        // Register commands.\n        editor.commands.add('numberedList', new ListCommand(editor, 'numbered'));\n        editor.commands.add('bulletedList', new ListCommand(editor, 'bulleted'));\n        editor.commands.add('customNumberedList', new ListCommand(editor, 'customNumbered', { multiLevel: true }));\n        editor.commands.add('customBulletedList', new ListCommand(editor, 'customBulleted', { multiLevel: true }));\n        editor.commands.add('indentList', new ListIndentCommand(editor, 'forward'));\n        editor.commands.add('outdentList', new ListIndentCommand(editor, 'backward'));\n        editor.commands.add('splitListItemBefore', new ListSplitCommand(editor, 'before'));\n        editor.commands.add('splitListItemAfter', new ListSplitCommand(editor, 'after'));\n        if (multiBlock) {\n            editor.commands.add('mergeListItemBackward', new ListMergeCommand(editor, 'backward'));\n            editor.commands.add('mergeListItemForward', new ListMergeCommand(editor, 'forward'));\n        }\n        this._setupDeleteIntegration();\n        this._setupEnterIntegration();\n        this._setupTabIntegration();\n        this._setupClipboardIntegration();\n        this._setupAccessibilityIntegration();\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const commands = editor.commands;\n        const indent = commands.get('indent');\n        const outdent = commands.get('outdent');\n        if (indent) {\n            // Priority is high due to integration with `IndentBlock` plugin. We want to indent list first and if it's not possible\n            // user can indent content with `IndentBlock` plugin.\n            indent.registerChildCommand(commands.get('indentList'), { priority: 'high' });\n        }\n        if (outdent) {\n            // Priority is lowest due to integration with `IndentBlock` and `IndentCode` plugins.\n            // First we want to allow user to outdent all indendations from other features then he can oudent list item.\n            outdent.registerChildCommand(commands.get('outdentList'), { priority: 'lowest' });\n        }\n        // Register conversion and model post-fixer after other plugins had a chance to register their attribute strategies.\n        this._setupModelPostFixing();\n        this._setupConversion();\n    }\n    /**\n     * Registers a downcast strategy.\n     *\n     * **Note**: Strategies must be registered in the `Plugin#init()` phase so that it can be applied\n     * in the `ListEditing#afterInit()`.\n     *\n     * @param strategy The downcast strategy to register.\n     */\n    registerDowncastStrategy(strategy) {\n        this._downcastStrategies.push(strategy);\n    }\n    /**\n     * Returns list of model attribute names that should affect downcast conversion.\n     */\n    getListAttributeNames() {\n        return [\n            ...LIST_BASE_ATTRIBUTES,\n            ...this._downcastStrategies.map(strategy => strategy.attributeName)\n        ];\n    }\n    /**\n     * Attaches the listener to the {@link module:engine/view/document~Document#event:delete} event and handles backspace/delete\n     * keys in and around document lists.\n     */\n    _setupDeleteIntegration() {\n        const editor = this.editor;\n        const mergeBackwardCommand = editor.commands.get('mergeListItemBackward');\n        const mergeForwardCommand = editor.commands.get('mergeListItemForward');\n        this.listenTo(editor.editing.view.document, 'delete', (evt, data) => {\n            const selection = editor.model.document.selection;\n            // Let the Widget plugin take care of block widgets while deleting (https://github.com/ckeditor/ckeditor5/issues/11346).\n            if (getSelectedBlockObject(editor.model)) {\n                return;\n            }\n            editor.model.change(() => {\n                const firstPosition = selection.getFirstPosition();\n                if (selection.isCollapsed && data.direction == 'backward') {\n                    if (!firstPosition.isAtStart) {\n                        return;\n                    }\n                    const positionParent = firstPosition.parent;\n                    if (!isListItemBlock(positionParent)) {\n                        return;\n                    }\n                    const previousBlock = ListWalker.first(positionParent, {\n                        sameAttributes: 'listType',\n                        sameIndent: true\n                    });\n                    // Outdent the first block of a first list item.\n                    if (!previousBlock && positionParent.getAttribute('listIndent') === 0) {\n                        if (!isLastBlockOfListItem(positionParent)) {\n                            editor.execute('splitListItemAfter');\n                        }\n                        editor.execute('outdentList');\n                    }\n                    // Merge block with previous one (on the block level or on the content level).\n                    else {\n                        if (!mergeBackwardCommand || !mergeBackwardCommand.isEnabled) {\n                            return;\n                        }\n                        mergeBackwardCommand.execute({\n                            shouldMergeOnBlocksContentLevel: shouldMergeOnBlocksContentLevel(editor.model, 'backward')\n                        });\n                    }\n                    data.preventDefault();\n                    evt.stop();\n                }\n                // Non-collapsed selection or forward delete.\n                else {\n                    // Collapsed selection should trigger forward merging only if at the end of a block.\n                    if (selection.isCollapsed && !selection.getLastPosition().isAtEnd) {\n                        return;\n                    }\n                    if (!mergeForwardCommand || !mergeForwardCommand.isEnabled) {\n                        return;\n                    }\n                    mergeForwardCommand.execute({\n                        shouldMergeOnBlocksContentLevel: shouldMergeOnBlocksContentLevel(editor.model, 'forward')\n                    });\n                    data.preventDefault();\n                    evt.stop();\n                }\n            });\n        }, { context: 'li' });\n    }\n    /**\n     * Attaches a listener to the {@link module:engine/view/document~Document#event:enter} event and handles enter key press\n     * in document lists.\n     */\n    _setupEnterIntegration() {\n        const editor = this.editor;\n        const model = editor.model;\n        const commands = editor.commands;\n        const enterCommand = commands.get('enter');\n        // Overwrite the default Enter key behavior: outdent or split the list in certain cases.\n        this.listenTo(editor.editing.view.document, 'enter', (evt, data) => {\n            const doc = model.document;\n            const positionParent = doc.selection.getFirstPosition().parent;\n            if (doc.selection.isCollapsed &&\n                isListItemBlock(positionParent) &&\n                positionParent.isEmpty &&\n                !data.isSoft) {\n                const isFirstBlock = isFirstBlockOfListItem(positionParent);\n                const isLastBlock = isLastBlockOfListItem(positionParent);\n                // * a      →      * a\n                // * []     →      []\n                if (isFirstBlock && isLastBlock) {\n                    editor.execute('outdentList');\n                    data.preventDefault();\n                    evt.stop();\n                }\n                // * []     →      * []\n                //   a      →      * a\n                else if (isFirstBlock && !isLastBlock) {\n                    editor.execute('splitListItemAfter');\n                    data.preventDefault();\n                    evt.stop();\n                }\n                // * a      →      * a\n                //   []     →      * []\n                else if (isLastBlock) {\n                    editor.execute('splitListItemBefore');\n                    data.preventDefault();\n                    evt.stop();\n                }\n            }\n        }, { context: 'li' });\n        // In some cases, after the default block splitting, we want to modify the new block to become a new list item\n        // instead of an additional block in the same list item.\n        this.listenTo(enterCommand, 'afterExecute', () => {\n            const splitCommand = commands.get('splitListItemBefore');\n            // The command has not refreshed because the change block related to EnterCommand#execute() is not over yet.\n            // Let's keep it up to date and take advantage of ListSplitCommand#isEnabled.\n            splitCommand.refresh();\n            if (!splitCommand.isEnabled) {\n                return;\n            }\n            const doc = editor.model.document;\n            const positionParent = doc.selection.getLastPosition().parent;\n            const listItemBlocks = getAllListItemBlocks(positionParent);\n            // Keep in mind this split happens after the default enter handler was executed. For instance:\n            //\n            // │       Initial state       │    After default enter    │   Here in #afterExecute   │\n            // ├───────────────────────────┼───────────────────────────┼───────────────────────────┤\n            // │          * a[]            │           * a             │           * a             │\n            // │                           │             []            │           * []            │\n            if (listItemBlocks.length === 2) {\n                splitCommand.execute();\n            }\n        });\n    }\n    /**\n     * Attaches a listener to the {@link module:engine/view/document~Document#event:tab} event and handles tab key and tab+shift keys\n     * presses in document lists.\n     */\n    _setupTabIntegration() {\n        const editor = this.editor;\n        this.listenTo(editor.editing.view.document, 'tab', (evt, data) => {\n            const commandName = data.shiftKey ? 'outdentList' : 'indentList';\n            const command = this.editor.commands.get(commandName);\n            if (command.isEnabled) {\n                editor.execute(commandName);\n                data.stopPropagation();\n                data.preventDefault();\n                evt.stop();\n            }\n        }, { context: 'li' });\n    }\n    /**\n     * Registers the conversion helpers for the document-list feature.\n     */\n    _setupConversion() {\n        const editor = this.editor;\n        const model = editor.model;\n        const attributeNames = this.getListAttributeNames();\n        const multiBlock = editor.config.get('list.multiBlock');\n        const elementName = multiBlock ? 'paragraph' : 'listItem';\n        editor.conversion.for('upcast')\n            // Convert <li> to a generic paragraph (or listItem element) so the content of <li> is always inside a block.\n            // Setting the listType attribute to let other features (to-do list) know that this is part of a list item.\n            // This is also important to properly handle simple lists so that paragraphs inside a list item won't break the list item.\n            // <li>  <-- converted to listItem\n            //   <p></p> <-- should be also converted to listItem, so it won't split and replace the listItem generated from the above li.\n            .elementToElement({\n            view: 'li',\n            model: (viewElement, { writer }) => writer.createElement(elementName, { listType: '' })\n        })\n            // Convert paragraph to the list block (without list type defined yet).\n            // This is important to properly handle bogus paragraph and to-do lists.\n            // Most of the time the bogus paragraph should not appear in the data of to-do list,\n            // but if there is any marker or an attribute on the paragraph then the bogus paragraph\n            // is preserved in the data, and we need to be able to detect this case.\n            .elementToElement({\n            view: 'p',\n            model: (viewElement, { writer }) => {\n                if (viewElement.parent && viewElement.parent.is('element', 'li')) {\n                    return writer.createElement(elementName, { listType: '' });\n                }\n                return null;\n            },\n            converterPriority: 'high'\n        })\n            .add(dispatcher => {\n            dispatcher.on('element:li', listItemUpcastConverter());\n        });\n        if (!multiBlock) {\n            editor.conversion.for('downcast')\n                .elementToElement({\n                model: 'listItem',\n                view: 'p'\n            });\n        }\n        editor.conversion.for('editingDowncast')\n            .elementToElement({\n            model: elementName,\n            view: bogusParagraphCreator(attributeNames),\n            converterPriority: 'high'\n        })\n            .add(dispatcher => {\n            dispatcher.on('attribute', listItemDowncastConverter(attributeNames, this._downcastStrategies, model));\n            dispatcher.on('remove', listItemDowncastRemoveConverter(model.schema));\n        });\n        editor.conversion.for('dataDowncast')\n            .elementToElement({\n            model: elementName,\n            view: bogusParagraphCreator(attributeNames, { dataPipeline: true }),\n            converterPriority: 'high'\n        })\n            .add(dispatcher => {\n            dispatcher.on('attribute', listItemDowncastConverter(attributeNames, this._downcastStrategies, model, { dataPipeline: true }));\n        });\n        const modelToViewPositionMapper = createModelToViewPositionMapper(this._downcastStrategies, editor.editing.view);\n        editor.editing.mapper.on('modelToViewPosition', modelToViewPositionMapper);\n        editor.data.mapper.on('modelToViewPosition', modelToViewPositionMapper);\n        this.listenTo(model.document, 'change:data', reconvertItemsOnDataChange(model, editor.editing, attributeNames, this), { priority: 'high' });\n        // For LI verify if an ID of the attribute element is correct.\n        this.on('checkAttributes:item', (evt, { viewElement, modelAttributes }) => {\n            if (viewElement.id != modelAttributes.listItemId) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n        // For UL and OL check if the name and ID of element is correct.\n        this.on('checkAttributes:list', (evt, { viewElement, modelAttributes }) => {\n            if (viewElement.name != getViewElementNameForListType(modelAttributes.listType) ||\n                viewElement.id != getViewElementIdForListType(modelAttributes.listType, modelAttributes.listIndent)) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n    }\n    /**\n     * Registers model post-fixers.\n     */\n    _setupModelPostFixing() {\n        const model = this.editor.model;\n        const attributeNames = this.getListAttributeNames();\n        // Register list fixing.\n        // First the low level handler.\n        model.document.registerPostFixer(writer => modelChangePostFixer(model, writer, attributeNames, this));\n        // Then the callbacks for the specific lists.\n        // The indentation fixing must be the first one...\n        this.on('postFixer', (evt, { listNodes, writer }) => {\n            evt.return = fixListIndents(listNodes, writer) || evt.return;\n        }, { priority: 'high' });\n        // ...then the item ids... and after that other fixers that rely on the correct indentation and ids.\n        this.on('postFixer', (evt, { listNodes, writer, seenIds }) => {\n            evt.return = fixListItemIds(listNodes, seenIds, writer) || evt.return;\n        }, { priority: 'high' });\n    }\n    /**\n     * Integrates the feature with the clipboard via {@link module:engine/model/model~Model#insertContent} and\n     * {@link module:engine/model/model~Model#getSelectedContent}.\n     */\n    _setupClipboardIntegration() {\n        const model = this.editor.model;\n        const clipboardPipeline = this.editor.plugins.get('ClipboardPipeline');\n        this.listenTo(model, 'insertContent', createModelIndentPasteFixer(model), { priority: 'high' });\n        // To enhance the UX, the editor should not copy list attributes to the clipboard if the selection\n        // started and ended in the same list item.\n        //\n        // If the selection was enclosed in a single list item, there is a good chance the user did not want it\n        // copied as a list item but plain blocks.\n        //\n        // This avoids pasting orphaned list items instead of paragraphs, for instance, straight into the root.\n        //\n        //\t                       ┌─────────────────────┬───────────────────┐\n        //\t                       │ Selection           │ Clipboard content │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ [* <Widget />]      │ <Widget />        │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ [* Foo]             │ Foo               │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ * Foo [bar] baz     │ bar               │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ * Fo[o              │ o                 │\n        //\t                       │   ba]r              │ ba                │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ * Fo[o              │ * o               │\n        //\t                       │ * ba]r              │ * ba              │\n        //\t                       ├─────────────────────┼───────────────────┤\n        //\t                       │ [* Foo              │ * Foo             │\n        //\t                       │  * bar]             │ * bar             │\n        //\t                       └─────────────────────┴───────────────────┘\n        //\n        // See https://github.com/ckeditor/ckeditor5/issues/11608, https://github.com/ckeditor/ckeditor5/issues/14969\n        this.listenTo(clipboardPipeline, 'outputTransformation', (evt, data) => {\n            model.change(writer => {\n                // Remove last block if it's empty.\n                const allContentChildren = Array.from(data.content.getChildren());\n                const lastItem = allContentChildren[allContentChildren.length - 1];\n                if (allContentChildren.length > 1 && lastItem.is('element') && lastItem.isEmpty) {\n                    const contentChildrenExceptLastItem = allContentChildren.slice(0, -1);\n                    if (contentChildrenExceptLastItem.every(isListItemBlock)) {\n                        writer.remove(lastItem);\n                    }\n                }\n                // Copy/cut only content of a list item (for drag-drop move the whole list item).\n                if (data.method == 'copy' || data.method == 'cut') {\n                    const allChildren = Array.from(data.content.getChildren());\n                    const isSingleListItemSelected = isSingleListItem(allChildren);\n                    if (isSingleListItemSelected) {\n                        removeListAttributes(allChildren, writer);\n                    }\n                }\n            });\n        });\n    }\n    /**\n     * Informs editor accessibility features about keystrokes brought by the plugin.\n     */\n    _setupAccessibilityIntegration() {\n        const editor = this.editor;\n        const t = editor.t;\n        editor.accessibility.addKeystrokeInfoGroup({\n            id: 'list',\n            label: t('Keystrokes that can be used in a list'),\n            keystrokes: [\n                {\n                    label: t('Increase list item indent'),\n                    keystroke: 'Tab'\n                },\n                {\n                    label: t('Decrease list item indent'),\n                    keystroke: 'Shift+Tab'\n                }\n            ]\n        });\n    }\n}\n/**\n * Post-fixer that reacts to changes on document and fixes incorrect model states (invalid `listItemId` and `listIndent` values).\n *\n * In the example below, there is a correct list structure.\n * Then the middle element is removed so the list structure will become incorrect:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=0>Item 1</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"b\" listIndent=1>Item 2</paragraph>   <--- this is removed.\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=2>Item 3</paragraph>\n * ```\n *\n * The list structure after the middle element is removed:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=0>Item 1</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=2>Item 3</paragraph>\n * ```\n *\n * Should become:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=0>Item 1</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=1>Item 3</paragraph>   <--- note that indent got post-fixed.\n * ```\n *\n * @param model The data model.\n * @param writer The writer to do changes with.\n * @param attributeNames The list of all model list attributes (including registered strategies).\n * @param ListEditing The document list editing plugin.\n * @returns `true` if any change has been applied, `false` otherwise.\n */\nfunction modelChangePostFixer(model, writer, attributeNames, listEditing) {\n    const changes = model.document.differ.getChanges();\n    const itemToListHead = new Map();\n    const multiBlock = listEditing.editor.config.get('list.multiBlock');\n    let applied = false;\n    for (const entry of changes) {\n        if (entry.type == 'insert' && entry.name != '$text') {\n            const item = entry.position.nodeAfter;\n            // Remove attributes in case of renamed element.\n            if (!model.schema.checkAttribute(item, 'listItemId')) {\n                for (const attributeName of Array.from(item.getAttributeKeys())) {\n                    if (attributeNames.includes(attributeName)) {\n                        writer.removeAttribute(attributeName, item);\n                        applied = true;\n                    }\n                }\n            }\n            findAndAddListHeadToMap(entry.position, itemToListHead);\n            // Insert of a non-list item - check if there is a list after it.\n            if (!entry.attributes.has('listItemId')) {\n                findAndAddListHeadToMap(entry.position.getShiftedBy(entry.length), itemToListHead);\n            }\n            // Check if there is no nested list.\n            for (const { item: innerItem, previousPosition } of model.createRangeIn(item)) {\n                if (isListItemBlock(innerItem)) {\n                    findAndAddListHeadToMap(previousPosition, itemToListHead);\n                }\n            }\n        }\n        // Removed list item or block adjacent to a list.\n        else if (entry.type == 'remove') {\n            findAndAddListHeadToMap(entry.position, itemToListHead);\n        }\n        // Changed list item indent or type.\n        else if (entry.type == 'attribute' && attributeNames.includes(entry.attributeKey)) {\n            findAndAddListHeadToMap(entry.range.start, itemToListHead);\n            if (entry.attributeNewValue === null) {\n                findAndAddListHeadToMap(entry.range.start.getShiftedBy(1), itemToListHead);\n            }\n        }\n        // Make sure that there is no left over listItem element without attributes or a block with list attributes that is not a listItem.\n        if (!multiBlock && entry.type == 'attribute' && LIST_BASE_ATTRIBUTES.includes(entry.attributeKey)) {\n            const element = entry.range.start.nodeAfter;\n            if (entry.attributeNewValue === null && element && element.is('element', 'listItem')) {\n                writer.rename(element, 'paragraph');\n                applied = true;\n            }\n            else if (entry.attributeOldValue === null && element && element.is('element') && element.name != 'listItem') {\n                writer.rename(element, 'listItem');\n                applied = true;\n            }\n        }\n    }\n    // Make sure that IDs are not shared by split list.\n    const seenIds = new Set();\n    for (const listHead of itemToListHead.values()) {\n        applied = listEditing.fire('postFixer', {\n            listNodes: new ListBlocksIterable(listHead),\n            listHead,\n            writer,\n            seenIds\n        }) || applied;\n    }\n    return applied;\n}\n/**\n * A fixer for pasted content that includes list items.\n *\n * It fixes indentation of pasted list items so the pasted items match correctly to the context they are pasted into.\n *\n * Example:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=\"0\">A</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"b\" listIndent=\"1\">B^</paragraph>\n * // At ^ paste:  <paragraph listType=\"numbered\" listItemId=\"x\" listIndent=\"0\">X</paragraph>\n * //              <paragraph listType=\"numbered\" listItemId=\"y\" listIndent=\"1\">Y</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=\"2\">C</paragraph>\n * ```\n *\n * Should become:\n *\n * ```xml\n * <paragraph listType=\"bulleted\" listItemId=\"a\" listIndent=\"0\">A</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"b\" listIndent=\"1\">BX</paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"y\" listIndent=\"2\">Y/paragraph>\n * <paragraph listType=\"bulleted\" listItemId=\"c\" listIndent=\"2\">C</paragraph>\n * ```\n */\nfunction createModelIndentPasteFixer(model) {\n    return (evt, [content, selectable]) => {\n        const items = content.is('documentFragment') ?\n            Array.from(content.getChildren()) :\n            [content];\n        if (!items.length) {\n            return;\n        }\n        const selection = selectable ?\n            model.createSelection(selectable) :\n            model.document.selection;\n        const position = selection.getFirstPosition();\n        // Get a reference list item. Attributes of the inserted list items will be fixed according to that item.\n        let refItem;\n        if (isListItemBlock(position.parent)) {\n            refItem = position.parent;\n        }\n        else if (isListItemBlock(position.nodeBefore) && isListItemBlock(position.nodeAfter)) {\n            refItem = position.nodeBefore;\n        }\n        else {\n            return; // Content is not copied into a list.\n        }\n        model.change(writer => {\n            const refType = refItem.getAttribute('listType');\n            const refIndent = refItem.getAttribute('listIndent');\n            const firstElementIndent = items[0].getAttribute('listIndent') || 0;\n            const indentDiff = Math.max(refIndent - firstElementIndent, 0);\n            for (const item of items) {\n                const isListItem = isListItemBlock(item);\n                if (refItem.is('element', 'listItem') && item.is('element', 'paragraph')) {\n                    /**\n                     * When paragraphs or a plain text list is pasted into a simple list, convert\n                     * the `<paragraphs>' to `<listItem>' to avoid breaking the target list.\n                     *\n                     * See https://github.com/ckeditor/ckeditor5/issues/13826.\n                     */\n                    writer.rename(item, 'listItem');\n                }\n                writer.setAttributes({\n                    listIndent: (isListItem ? item.getAttribute('listIndent') : 0) + indentDiff,\n                    listItemId: isListItem ? item.getAttribute('listItemId') : ListItemUid.next(),\n                    listType: refType\n                }, item);\n            }\n        });\n    };\n}\n/**\n * Decides whether the merge should be accompanied by the model's `deleteContent()`, for instance, to get rid of the inline\n * content in the selection or take advantage of the heuristics in `deleteContent()` that helps convert lists into paragraphs\n * in certain cases.\n */\nfunction shouldMergeOnBlocksContentLevel(model, direction) {\n    const selection = model.document.selection;\n    if (!selection.isCollapsed) {\n        return !getSelectedBlockObject(model);\n    }\n    if (direction === 'forward') {\n        return true;\n    }\n    const firstPosition = selection.getFirstPosition();\n    const positionParent = firstPosition.parent;\n    const previousSibling = positionParent.previousSibling;\n    if (model.schema.isObject(previousSibling)) {\n        return false;\n    }\n    if (previousSibling.isEmpty) {\n        return true;\n    }\n    return isSingleListItem([positionParent, previousSibling]);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\n/**\n * Helper method for creating toolbar and menu buttons and linking them with an appropriate command.\n *\n * @internal\n * @param editor The editor instance to which the UI component will be added.\n * @param commandName The name of the command.\n * @param label The button label.\n * @param icon The source of the icon.\n */\nexport function createUIComponents(editor, commandName, label, icon) {\n    editor.ui.componentFactory.add(commandName, () => {\n        const buttonView = _createButton(ButtonView, editor, commandName, label, icon);\n        buttonView.set({\n            tooltip: true,\n            isToggleable: true\n        });\n        return buttonView;\n    });\n    editor.ui.componentFactory.add(`menuBar:${commandName}`, () => {\n        const buttonView = _createButton(MenuBarMenuListItemButtonView, editor, commandName, label, icon);\n        buttonView.set({\n            role: 'menuitemcheckbox',\n            isToggleable: true\n        });\n        return buttonView;\n    });\n}\n/**\n * Creates a button to use either in toolbar or in menu bar.\n */\nfunction _createButton(ButtonClass, editor, commandName, label, icon) {\n    const command = editor.commands.get(commandName);\n    const view = new ButtonClass(editor.locale);\n    view.set({\n        label,\n        icon\n    });\n    // Bind button model to command.\n    view.bind('isOn', 'isEnabled').to(command, 'value', 'isEnabled');\n    // Execute the command.\n    view.on('execute', () => {\n        editor.execute(commandName);\n        editor.editing.view.focus();\n    });\n    return view;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/list/listui\n */\nimport { createUIComponents } from './utils.js';\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\n/**\n * The list UI feature. It introduces the `'numberedList'` and `'bulletedList'` buttons that\n * allow to convert paragraphs to and from list items and indent or outdent them.\n */\nexport default class ListUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const t = this.editor.t;\n        // Create button numberedList.\n        if (!this.editor.ui.componentFactory.has('numberedList')) {\n            createUIComponents(this.editor, 'numberedList', t('Numbered List'), icons.numberedList);\n        }\n        // Create button bulletedList.\n        if (!this.editor.ui.componentFactory.has('bulletedList')) {\n            createUIComponents(this.editor, 'bulletedList', t('Bulleted List'), icons.bulletedList);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/list\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ListEditing from './list/listediting.js';\nimport ListUI from './list/listui.js';\n/**\n * The list feature.\n *\n * This is a \"glue\" plugin that loads the {@link module:list/list/listediting~ListEditing  list\n * editing feature} and {@link module:list/list/listui~ListUI list UI feature}.\n */\nexport default class List extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListEditing, ListUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'List';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/liststartcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { expandListBlocksToCompleteList, isListItemBlock, isNumberedListType } from '../list/utils/model.js';\n/**\n * The list start index command. It changes the `listStart` attribute of the selected list items,\n * letting the user to choose the starting point of an ordered list.\n * It is used by the {@link module:list/listproperties~ListProperties list properties feature}.\n */\nexport default class ListStartCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const value = this._getValue();\n        this.value = value;\n        this.isEnabled = value != null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.startIndex The list start index.\n     */\n    execute({ startIndex = 1 } = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        let blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => isListItemBlock(block) &&\n            isNumberedListType(block.getAttribute('listType')));\n        blocks = expandListBlocksToCompleteList(blocks);\n        model.change(writer => {\n            for (const block of blocks) {\n                writer.setAttribute('listStart', startIndex >= 0 ? startIndex : 1, block);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const model = this.editor.model;\n        const document = model.document;\n        const block = first(document.selection.getSelectedBlocks());\n        if (block &&\n            isListItemBlock(block) &&\n            isNumberedListType(block.getAttribute('listType'))) {\n            return block.getAttribute('listStart');\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n* @module list/listproperties/utils/style\n*/\nconst LIST_STYLE_TO_LIST_TYPE = {};\nconst LIST_STYLE_TO_TYPE_ATTRIBUTE = {};\nconst TYPE_ATTRIBUTE_TO_LIST_STYLE = {};\nconst LIST_STYLE_TYPES = [\n    { listStyle: 'disc', typeAttribute: 'disc', listType: 'bulleted' },\n    { listStyle: 'circle', typeAttribute: 'circle', listType: 'bulleted' },\n    { listStyle: 'square', typeAttribute: 'square', listType: 'bulleted' },\n    { listStyle: 'decimal', typeAttribute: '1', listType: 'numbered' },\n    { listStyle: 'decimal-leading-zero', typeAttribute: null, listType: 'numbered' },\n    { listStyle: 'lower-roman', typeAttribute: 'i', listType: 'numbered' },\n    { listStyle: 'upper-roman', typeAttribute: 'I', listType: 'numbered' },\n    { listStyle: 'lower-alpha', typeAttribute: 'a', listType: 'numbered' },\n    { listStyle: 'upper-alpha', typeAttribute: 'A', listType: 'numbered' },\n    { listStyle: 'lower-latin', typeAttribute: 'a', listType: 'numbered' },\n    { listStyle: 'upper-latin', typeAttribute: 'A', listType: 'numbered' }\n];\nfor (const { listStyle, typeAttribute, listType } of LIST_STYLE_TYPES) {\n    LIST_STYLE_TO_LIST_TYPE[listStyle] = listType;\n    LIST_STYLE_TO_TYPE_ATTRIBUTE[listStyle] = typeAttribute;\n    if (typeAttribute) {\n        TYPE_ATTRIBUTE_TO_LIST_STYLE[typeAttribute] = listStyle;\n    }\n}\n/**\n * Gets all the style types supported by given list type.\n */\nexport function getAllSupportedStyleTypes() {\n    return LIST_STYLE_TYPES.map(x => x.listStyle);\n}\n/**\n * Checks whether the given list-style-type is supported by numbered or bulleted list.\n */\nexport function getListTypeFromListStyleType(listStyleType) {\n    return LIST_STYLE_TO_LIST_TYPE[listStyleType] || null;\n}\n/**\n * Converts `type` attribute of `<ul>` or `<ol>` elements to `list-style-type` equivalent.\n */\nexport function getListStyleTypeFromTypeAttribute(value) {\n    return TYPE_ATTRIBUTE_TO_LIST_STYLE[value] || null;\n}\n/**\n * Converts `list-style-type` style to `type` attribute of `<ul>` or `<ol>` elements.\n */\nexport function getTypeAttributeFromListStyleType(value) {\n    return LIST_STYLE_TO_TYPE_ATTRIBUTE[value] || null;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/liststylecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { expandListBlocksToCompleteList, isListItemBlock } from '../list/utils/model.js';\nimport { getListTypeFromListStyleType } from './utils/style.js';\n/**\n * The list style command. It changes `listStyle` attribute of the selected list items,\n * letting the user choose styles for the list item markers.\n * It is used by the {@link module:list/listproperties~ListProperties list properties feature}.\n */\nexport default class ListStyleCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor The editor instance.\n     * @param defaultType The list type that will be used by default if the value was not specified during\n     * the command execution.\n     * @param supportedTypes The list of supported style types by this command.\n     */\n    constructor(editor, defaultType, supportedTypes) {\n        super(editor);\n        this.defaultType = defaultType;\n        this._supportedTypes = supportedTypes;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        this.value = this._getValue();\n        this.isEnabled = this._checkEnabled();\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.type The type of the list style, e.g. `'disc'` or `'square'`. If `null` is specified, the default\n     * style will be applied.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        model.change(writer => {\n            this._tryToConvertItemsToList(options);\n            let blocks = Array.from(document.selection.getSelectedBlocks())\n                .filter(block => block.hasAttribute('listType'));\n            if (!blocks.length) {\n                return;\n            }\n            blocks = expandListBlocksToCompleteList(blocks);\n            for (const block of blocks) {\n                writer.setAttribute('listStyle', options.type || this.defaultType, block);\n            }\n        });\n    }\n    /**\n     * Checks if the given style type is supported by this plugin.\n     */\n    isStyleTypeSupported(value) {\n        if (!this._supportedTypes) {\n            return true;\n        }\n        return this._supportedTypes.includes(value);\n    }\n    /**\n     * Checks the command's {@link #value}.\n     *\n     * @returns The current value.\n     */\n    _getValue() {\n        const listItem = first(this.editor.model.document.selection.getSelectedBlocks());\n        if (isListItemBlock(listItem)) {\n            return listItem.getAttribute('listStyle');\n        }\n        return null;\n    }\n    /**\n     * Checks whether the command can be enabled in the current context.\n     *\n     * @returns Whether the command should be enabled.\n     */\n    _checkEnabled() {\n        const editor = this.editor;\n        const numberedList = editor.commands.get('numberedList');\n        const bulletedList = editor.commands.get('bulletedList');\n        return numberedList.isEnabled || bulletedList.isEnabled;\n    }\n    /**\n     * Check if the provided list style is valid. Also change the selection to a list if it's not set yet.\n     *\n     * @param options.type The type of the list style. If `null` is specified, the function does nothing.\n    */\n    _tryToConvertItemsToList(options) {\n        if (!options.type) {\n            return;\n        }\n        const listType = getListTypeFromListStyleType(options.type);\n        if (!listType) {\n            return;\n        }\n        const editor = this.editor;\n        const commandName = `${listType}List`;\n        const command = editor.commands.get(commandName);\n        if (!command.value) {\n            editor.execute(commandName);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/listreversedcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { expandListBlocksToCompleteList, isListItemBlock } from '../list/utils/model.js';\n/**\n * The list reversed command. It changes the `listReversed` attribute of the selected list items,\n * letting the user to choose the order of an ordered list.\n * It is used by the {@link module:list/listproperties~ListProperties list properties feature}.\n */\nexport default class ListReversedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const value = this._getValue();\n        this.value = value;\n        this.isEnabled = value != null;\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.reversed Whether the list should be reversed.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const document = model.document;\n        let blocks = Array.from(document.selection.getSelectedBlocks())\n            .filter(block => isListItemBlock(block) && block.getAttribute('listType') == 'numbered');\n        blocks = expandListBlocksToCompleteList(blocks);\n        model.change(writer => {\n            for (const block of blocks) {\n                writer.setAttribute('listReversed', !!options.reversed, block);\n            }\n        });\n    }\n    /**\n     * Checks the command's {@link #value}.\n     */\n    _getValue() {\n        const model = this.editor.model;\n        const document = model.document;\n        const block = first(document.selection.getSelectedBlocks());\n        if (isListItemBlock(block) && block.getAttribute('listType') == 'numbered') {\n            return block.getAttribute('listReversed');\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Returns a converter that consumes the `style`, `reversed`, and `start` attributes.\n * In `style`, it searches for the `list-style-type` definition.\n * If not found, the `\"default\"` value will be used.\n *\n * @internal\n * @param strategy\n */\nexport function listPropertiesUpcastConverter(strategy) {\n    return (evt, data, conversionApi) => {\n        const { writer, schema, consumable } = conversionApi;\n        // If there is no view consumable to consume, set the default attribute value to be able to reconvert nested lists on parent change.\n        // So abort converting if attribute was directly consumed.\n        if (consumable.test(data.viewItem, strategy.viewConsumables) === false) {\n            return;\n        }\n        if (!data.modelRange) {\n            Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n        }\n        let applied = false;\n        for (const item of data.modelRange.getItems({ shallow: true })) {\n            if (!schema.checkAttribute(item, strategy.attributeName)) {\n                continue;\n            }\n            if (!strategy.appliesToListItem(item)) {\n                continue;\n            }\n            // Set list attributes only on same level items, those nested deeper are already handled by the recursive conversion.\n            if (item.hasAttribute(strategy.attributeName)) {\n                continue;\n            }\n            writer.setAttribute(strategy.attributeName, strategy.getAttributeOnUpcast(data.viewItem), item);\n            applied = true;\n        }\n        if (applied) {\n            consumable.consume(data.viewItem, strategy.viewConsumables);\n        }\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/listpropertiesutils\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getAllSupportedStyleTypes, getListStyleTypeFromTypeAttribute, getListTypeFromListStyleType, getTypeAttributeFromListStyleType } from './utils/style.js';\n/**\n * A set of helpers related to document lists.\n */\nexport default class ListPropertiesUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListPropertiesUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * Gets all the style types supported by given list type.\n     */\n    getAllSupportedStyleTypes() {\n        return getAllSupportedStyleTypes();\n    }\n    /**\n     * Checks whether the given list-style-type is supported by numbered or bulleted list.\n     */\n    getListTypeFromListStyleType(listStyleType) {\n        return getListTypeFromListStyleType(listStyleType);\n    }\n    /**\n     * Converts `type` attribute of `<ul>` or `<ol>` elements to `list-style-type` equivalent.\n     */\n    getListStyleTypeFromTypeAttribute(value) {\n        return getListStyleTypeFromTypeAttribute(value);\n    }\n    /**\n     * Converts `list-style-type` style to `type` attribute of `<ul>` or `<ol>` elements.\n     */\n    getTypeAttributeFromListStyleType(value) {\n        return getTypeAttributeFromListStyleType(value);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/utils/config\n */\nimport { toArray } from 'ckeditor5/src/utils.js';\n/**\n * Normalizes {@link module:list/listconfig~ListPropertiesConfig} in the configuration of the list properties feature.\n * The structure of normalized list properties options looks as follows:\n *\n * ```ts\n * {\n * \tstyles: {\n * \t\tlistTypes: [ 'bulleted', 'numbered' ],\n * \t\tuseAttribute: false\n * \t},\n * \tstartIndex: true,\n * \treversed: true\n * }\n * ```\n *\n * @param config The list properties {@link module:list/listconfig~ListPropertiesConfig config}.\n * @returns An object with normalized list properties options.\n */\nexport function getNormalizedConfig(config) {\n    const { startIndex, reversed, styles } = config;\n    return {\n        styles: getNormalizedStylesConfig(styles),\n        startIndex: startIndex || false,\n        reversed: reversed || false\n    };\n}\n/**\n * Normalizes styles in the configuration of the list properties feature.\n * The structure of normalized list properties options looks as follows:\n *\n * ```ts\n * {\n * \tlistTypes: [ 'bulleted', 'numbered' ],\n * \tuseAttribute: false\n * }\n * ```\n *\n * @param styles The list properties styles.\n * @returns An object with normalized list properties styles.\n */\nfunction getNormalizedStylesConfig(styles) {\n    const normalizedConfig = {\n        listTypes: ['bulleted', 'numbered'],\n        useAttribute: false\n    };\n    if (styles === true) {\n        return normalizedConfig;\n    }\n    if (!styles) {\n        normalizedConfig.listTypes = [];\n    }\n    else if (Array.isArray(styles) || typeof styles == 'string') {\n        normalizedConfig.listTypes = toArray(styles);\n    }\n    else {\n        normalizedConfig.listTypes = styles.listTypes ?\n            toArray(styles.listTypes) :\n            normalizedConfig.listTypes;\n        normalizedConfig.useAttribute = !!styles.useAttribute;\n    }\n    return normalizedConfig;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/listpropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ListEditing from '../list/listediting.js';\nimport ListStartCommand from './liststartcommand.js';\nimport ListStyleCommand from './liststylecommand.js';\nimport ListReversedCommand from './listreversedcommand.js';\nimport { listPropertiesUpcastConverter } from './converters.js';\nimport { getAllSupportedStyleTypes, getListTypeFromListStyleType, getListStyleTypeFromTypeAttribute, getTypeAttributeFromListStyleType } from './utils/style.js';\nimport ListPropertiesUtils from './listpropertiesutils.js';\nimport { isNumberedListType } from '../list/utils/model.js';\nimport { getNormalizedConfig } from './utils/config.js';\nconst DEFAULT_LIST_TYPE = 'default';\n/**\n * The document list properties engine feature.\n *\n * It registers the `'listStyle'`, `'listReversed'` and `'listStart'` commands if they are enabled in the configuration.\n * Read more in {@link module:list/listconfig~ListPropertiesConfig}.\n */\nexport default class ListPropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListEditing, ListPropertiesUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListPropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('list.properties', {\n            styles: true,\n            startIndex: false,\n            reversed: false\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const listEditing = editor.plugins.get(ListEditing);\n        const enabledProperties = editor.config.get('list.properties');\n        const strategies = createAttributeStrategies(enabledProperties);\n        for (const strategy of strategies) {\n            strategy.addCommand(editor);\n            model.schema.extend('$listItem', { allowAttributes: strategy.attributeName });\n            // Register downcast strategy.\n            listEditing.registerDowncastStrategy({\n                scope: 'list',\n                attributeName: strategy.attributeName,\n                setAttributeOnDowncast(writer, attributeValue, viewElement) {\n                    strategy.setAttributeOnDowncast(writer, attributeValue, viewElement);\n                }\n            });\n        }\n        // Set up conversion.\n        editor.conversion.for('upcast').add(dispatcher => {\n            for (const strategy of strategies) {\n                dispatcher.on('element:ol', listPropertiesUpcastConverter(strategy));\n                dispatcher.on('element:ul', listPropertiesUpcastConverter(strategy));\n            }\n        });\n        // Verify if the list view element (ul or ol) requires refreshing.\n        listEditing.on('checkAttributes:list', (evt, { viewElement, modelAttributes }) => {\n            for (const strategy of strategies) {\n                if (strategy.getAttributeOnUpcast(viewElement) != modelAttributes[strategy.attributeName]) {\n                    evt.return = true;\n                    evt.stop();\n                }\n            }\n        });\n        // Reset list properties after indenting list items.\n        this.listenTo(editor.commands.get('indentList'), 'afterExecute', (evt, changedBlocks) => {\n            model.change(writer => {\n                for (const node of changedBlocks) {\n                    for (const strategy of strategies) {\n                        if (strategy.appliesToListItem(node)) {\n                            // Just reset the attribute.\n                            // If there is a previous indented list that this node should be merged into,\n                            // the postfixer will unify all the attributes of both sub-lists.\n                            writer.setAttribute(strategy.attributeName, strategy.defaultValue, node);\n                        }\n                    }\n                }\n            });\n        });\n        // Add or remove list properties attributes depending on the list type.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node } of listNodes) {\n                for (const strategy of strategies) {\n                    // Check if attribute is valid.\n                    if (strategy.hasValidAttribute(node)) {\n                        continue;\n                    }\n                    // Add missing default property attributes...\n                    if (strategy.appliesToListItem(node)) {\n                        writer.setAttribute(strategy.attributeName, strategy.defaultValue, node);\n                    }\n                    // ...or remove invalid property attributes.\n                    else {\n                        writer.removeAttribute(strategy.attributeName, node);\n                    }\n                    evt.return = true;\n                }\n            }\n        });\n        // Make sure that all items in a single list (items at the same level & listType) have the same properties.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node, previousNodeInList } of listNodes) {\n                // This is a first item of a nested list.\n                if (!previousNodeInList) {\n                    continue;\n                }\n                // This is a first block of a list of a different type.\n                if (previousNodeInList.getAttribute('listType') != node.getAttribute('listType')) {\n                    continue;\n                }\n                // Copy properties from the previous one.\n                for (const strategy of strategies) {\n                    const { attributeName } = strategy;\n                    if (!strategy.appliesToListItem(node)) {\n                        continue;\n                    }\n                    const value = previousNodeInList.getAttribute(attributeName);\n                    if (node.getAttribute(attributeName) != value) {\n                        writer.setAttribute(attributeName, value, node);\n                        evt.return = true;\n                    }\n                }\n            }\n        });\n    }\n}\n/**\n * Creates an array of strategies for dealing with enabled listItem attributes.\n */\nfunction createAttributeStrategies(enabledProperties) {\n    const strategies = [];\n    const normalizedConfig = getNormalizedConfig(enabledProperties);\n    if (enabledProperties.styles) {\n        const useAttribute = normalizedConfig.styles.useAttribute;\n        strategies.push({\n            attributeName: 'listStyle',\n            defaultValue: DEFAULT_LIST_TYPE,\n            viewConsumables: { styles: 'list-style-type' },\n            addCommand(editor) {\n                let supportedTypes = getAllSupportedStyleTypes();\n                if (useAttribute) {\n                    supportedTypes = supportedTypes.filter(styleType => !!getTypeAttributeFromListStyleType(styleType));\n                }\n                editor.commands.add('listStyle', new ListStyleCommand(editor, DEFAULT_LIST_TYPE, supportedTypes));\n            },\n            appliesToListItem(item) {\n                return item.getAttribute('listType') == 'numbered' || item.getAttribute('listType') == 'bulleted';\n            },\n            hasValidAttribute(item) {\n                if (!this.appliesToListItem(item)) {\n                    return !item.hasAttribute('listStyle');\n                }\n                if (!item.hasAttribute('listStyle')) {\n                    return false;\n                }\n                const value = item.getAttribute('listStyle');\n                if (value == DEFAULT_LIST_TYPE) {\n                    return true;\n                }\n                return getListTypeFromListStyleType(value) == item.getAttribute('listType');\n            },\n            setAttributeOnDowncast(writer, listStyle, element) {\n                if (listStyle && listStyle !== DEFAULT_LIST_TYPE) {\n                    if (useAttribute) {\n                        const value = getTypeAttributeFromListStyleType(listStyle);\n                        if (value) {\n                            writer.setAttribute('type', value, element);\n                            return;\n                        }\n                    }\n                    else {\n                        writer.setStyle('list-style-type', listStyle, element);\n                        return;\n                    }\n                }\n                writer.removeStyle('list-style-type', element);\n                writer.removeAttribute('type', element);\n            },\n            getAttributeOnUpcast(listParent) {\n                const style = listParent.getStyle('list-style-type');\n                if (style) {\n                    return style;\n                }\n                const attribute = listParent.getAttribute('type');\n                if (attribute) {\n                    return getListStyleTypeFromTypeAttribute(attribute);\n                }\n                return DEFAULT_LIST_TYPE;\n            }\n        });\n    }\n    if (enabledProperties.reversed) {\n        strategies.push({\n            attributeName: 'listReversed',\n            defaultValue: false,\n            viewConsumables: { attributes: 'reversed' },\n            addCommand(editor) {\n                editor.commands.add('listReversed', new ListReversedCommand(editor));\n            },\n            appliesToListItem(item) {\n                return item.getAttribute('listType') == 'numbered';\n            },\n            hasValidAttribute(item) {\n                return this.appliesToListItem(item) == item.hasAttribute('listReversed');\n            },\n            setAttributeOnDowncast(writer, listReversed, element) {\n                if (listReversed) {\n                    writer.setAttribute('reversed', 'reversed', element);\n                }\n                else {\n                    writer.removeAttribute('reversed', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                return listParent.hasAttribute('reversed');\n            }\n        });\n    }\n    if (enabledProperties.startIndex) {\n        strategies.push({\n            attributeName: 'listStart',\n            defaultValue: 1,\n            viewConsumables: { attributes: 'start' },\n            addCommand(editor) {\n                editor.commands.add('listStart', new ListStartCommand(editor));\n            },\n            appliesToListItem(item) {\n                return isNumberedListType(item.getAttribute('listType'));\n            },\n            hasValidAttribute(item) {\n                return this.appliesToListItem(item) == item.hasAttribute('listStart');\n            },\n            setAttributeOnDowncast(writer, listStart, element) {\n                if (listStart == 0 || listStart > 1) {\n                    writer.setAttribute('start', listStart, element);\n                }\n                else {\n                    writer.removeAttribute('start', element);\n                }\n            },\n            getAttributeOnUpcast(listParent) {\n                const startAttributeValue = listParent.getAttribute('start');\n                return startAttributeValue >= 0 ? startAttributeValue : 1;\n            }\n        });\n    }\n    return strategies;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./listproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/ui/listpropertiesview\n */\nimport { View, ViewCollection, FocusCycler, SwitchButtonView, LabeledFieldView, createLabeledInputNumber, addKeyboardHandlingForGrid, CollapsibleView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler, global } from 'ckeditor5/src/utils.js';\nimport '../../../theme/listproperties.css';\n/**\n * The list properties view to be displayed in the list dropdown.\n *\n * Contains a grid of available list styles and, for numbered list, also the list start index and reversed fields.\n *\n * @internal\n */\nexport default class ListPropertiesView extends View {\n    /**\n     * Creates an instance of the list properties view.\n     *\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param options Options of the view.\n     * @param options.enabledProperties An object containing the configuration of enabled list property names.\n     * Allows conditional rendering the sub-components of the properties view.\n     * @param options.styleButtonViews A list of style buttons to be rendered\n     * inside the styles grid. The grid will not be rendered when `enabledProperties` does not include the `'styles'` key.\n     * @param options.styleGridAriaLabel An assistive technologies label set on the grid of styles (if the grid is rendered).\n     */\n    constructor(locale, { enabledProperties, styleButtonViews, styleGridAriaLabel }) {\n        super(locale);\n        /**\n         * A view that renders the grid of list styles.\n         */\n        this.stylesView = null;\n        /**\n         * A collapsible view that hosts additional list property fields ({@link #startIndexFieldView} and\n         * {@link #reversedSwitchButtonView}) to visually separate them from the {@link #stylesView grid of styles}.\n         *\n         * **Note**: Only present when:\n         * * the view represents **numbered** list properties,\n         * * and the {@link #stylesView} is rendered,\n         * * and either {@link #startIndexFieldView} or {@link #reversedSwitchButtonView} is rendered.\n         *\n         * @readonly\n         */\n        this.additionalPropertiesCollapsibleView = null;\n        /**\n         * A labeled number field allowing the user to set the start index of the list.\n         *\n         * **Note**: Only present when the view represents **numbered** list properties.\n         *\n         * @readonly\n         */\n        this.startIndexFieldView = null;\n        /**\n         * A switch button allowing the user to make the edited list reversed.\n         *\n         * **Note**: Only present when the view represents **numbered** list properties.\n         *\n         * @readonly\n         */\n        this.reversedSwitchButtonView = null;\n        /**\n         * Tracks information about the DOM focus in the view.\n         */\n        this.focusTracker = new FocusTracker();\n        /**\n         * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n         */\n        this.keystrokes = new KeystrokeHandler();\n        /**\n         * A collection of views that can be focused in the properties view.\n         */\n        this.focusables = new ViewCollection();\n        const elementCssClasses = [\n            'ck',\n            'ck-list-properties'\n        ];\n        this.children = this.createCollection();\n        this.focusCycler = new FocusCycler({\n            focusables: this.focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate #children backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate #children forwards using the <kbd>Tab</kbd> key.\n                focusNext: 'tab'\n            }\n        });\n        // The rendering of the styles grid is conditional. When there is no styles grid, the view will render without collapsible\n        // for numbered list properties, hence simplifying the layout.\n        if (styleButtonViews && styleButtonViews.length) {\n            this.stylesView = this._createStylesView(styleButtonViews, styleGridAriaLabel);\n            this.children.add(this.stylesView);\n        }\n        else {\n            elementCssClasses.push('ck-list-properties_without-styles');\n        }\n        // The rendering of the numbered list property views is also conditional. It only makes sense for the numbered list\n        // dropdown. The unordered list does not have such properties.\n        if (enabledProperties.startIndex || enabledProperties.reversed) {\n            this._addNumberedListPropertyViews(enabledProperties);\n            elementCssClasses.push('ck-list-properties_with-numbered-properties');\n        }\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: elementCssClasses\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        if (this.stylesView) {\n            this.focusables.add(this.stylesView);\n            this.focusTracker.add(this.stylesView.element);\n            // Register the collapsible toggle button to the focus system.\n            if (this.startIndexFieldView || this.reversedSwitchButtonView) {\n                this.focusables.add(this.children.last.buttonView);\n                this.focusTracker.add(this.children.last.buttonView.element);\n            }\n            for (const item of this.stylesView.children) {\n                this.stylesView.focusTracker.add(item.element);\n            }\n            addKeyboardHandlingForGrid({\n                keystrokeHandler: this.stylesView.keystrokes,\n                focusTracker: this.stylesView.focusTracker,\n                gridItems: this.stylesView.children,\n                // Note: The styles view has a different number of columns depending on whether the other properties\n                // are enabled in the dropdown or not (https://github.com/ckeditor/ckeditor5/issues/12340)\n                numberOfColumns: () => global.window\n                    .getComputedStyle(this.stylesView.element)\n                    .getPropertyValue('grid-template-columns')\n                    .split(' ')\n                    .length,\n                uiLanguageDirection: this.locale && this.locale.uiLanguageDirection\n            });\n        }\n        if (this.startIndexFieldView) {\n            this.focusables.add(this.startIndexFieldView);\n            this.focusTracker.add(this.startIndexFieldView.element);\n            const stopPropagation = (data) => data.stopPropagation();\n            // Since the form is in the dropdown panel which is a child of the toolbar, the toolbar's\n            // keystroke handler would take over the key management in the input. We need to prevent\n            // this ASAP. Otherwise, the basic caret movement using the arrow keys will be impossible.\n            this.keystrokes.set('arrowright', stopPropagation);\n            this.keystrokes.set('arrowleft', stopPropagation);\n            this.keystrokes.set('arrowup', stopPropagation);\n            this.keystrokes.set('arrowdown', stopPropagation);\n        }\n        if (this.reversedSwitchButtonView) {\n            this.focusables.add(this.reversedSwitchButtonView);\n            this.focusTracker.add(this.reversedSwitchButtonView.element);\n        }\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    focus() {\n        this.focusCycler.focusFirst();\n    }\n    /**\n     * @inheritDoc\n     */\n    focusLast() {\n        this.focusCycler.focusLast();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates the list styles grid.\n     *\n     * @param styleButtons Buttons to be placed in the grid.\n     * @param styleGridAriaLabel The assistive technology label of the grid.\n     */\n    _createStylesView(styleButtons, styleGridAriaLabel) {\n        const stylesView = new View(this.locale);\n        stylesView.children = stylesView.createCollection();\n        stylesView.children.addMany(styleButtons);\n        stylesView.setTemplate({\n            tag: 'div',\n            attributes: {\n                'aria-label': styleGridAriaLabel,\n                class: [\n                    'ck',\n                    'ck-list-styles-list'\n                ]\n            },\n            children: stylesView.children\n        });\n        stylesView.children.delegate('execute').to(this);\n        stylesView.focus = function () {\n            this.children.first.focus();\n        };\n        stylesView.focusTracker = new FocusTracker();\n        stylesView.keystrokes = new KeystrokeHandler();\n        stylesView.render();\n        stylesView.keystrokes.listenTo(stylesView.element);\n        return stylesView;\n    }\n    /**\n     * Renders {@link #startIndexFieldView} and/or {@link #reversedSwitchButtonView} depending on the configuration of the properties view.\n     *\n     * @param enabledProperties An object containing the configuration of enabled list property names\n     * (see {@link #constructor}).\n     */\n    _addNumberedListPropertyViews(enabledProperties) {\n        const t = this.locale.t;\n        const numberedPropertyViews = [];\n        if (enabledProperties.startIndex) {\n            this.startIndexFieldView = this._createStartIndexField();\n            numberedPropertyViews.push(this.startIndexFieldView);\n        }\n        if (enabledProperties.reversed) {\n            this.reversedSwitchButtonView = this._createReversedSwitchButton();\n            numberedPropertyViews.push(this.reversedSwitchButtonView);\n        }\n        // When there are some style buttons, pack the numbered list properties into a collapsible to separate them.\n        if (this.stylesView) {\n            this.additionalPropertiesCollapsibleView = new CollapsibleView(this.locale, numberedPropertyViews);\n            this.additionalPropertiesCollapsibleView.set({\n                label: t('List properties'),\n                isCollapsed: true\n            });\n            // Don't enable the collapsible view unless either start index or reversed field is enabled (e.g. when no list is selected).\n            this.additionalPropertiesCollapsibleView.buttonView.bind('isEnabled').toMany(numberedPropertyViews, 'isEnabled', (...areEnabled) => areEnabled.some(isEnabled => isEnabled));\n            // Automatically collapse the additional properties collapsible when either start index or reversed field gets disabled.\n            this.additionalPropertiesCollapsibleView.buttonView.on('change:isEnabled', (evt, data, isEnabled) => {\n                if (!isEnabled) {\n                    this.additionalPropertiesCollapsibleView.isCollapsed = true;\n                }\n            });\n            this.children.add(this.additionalPropertiesCollapsibleView);\n        }\n        else {\n            this.children.addMany(numberedPropertyViews);\n        }\n    }\n    /**\n     * Creates the list start index labeled field.\n     */\n    _createStartIndexField() {\n        const t = this.locale.t;\n        const startIndexFieldView = new LabeledFieldView(this.locale, createLabeledInputNumber);\n        startIndexFieldView.set({\n            label: t('Start at'),\n            class: 'ck-numbered-list-properties__start-index'\n        });\n        startIndexFieldView.fieldView.set({\n            min: 0,\n            step: 1,\n            value: 1,\n            inputMode: 'numeric'\n        });\n        startIndexFieldView.fieldView.on('input', () => {\n            const inputElement = startIndexFieldView.fieldView.element;\n            const startIndex = inputElement.valueAsNumber;\n            if (Number.isNaN(startIndex)) {\n                // Number inputs allow for the entry of characters that may result in NaN,\n                // such as 'e', '+', '123e', '2-'.\n                startIndexFieldView.errorText = t('Invalid start index value.');\n                return;\n            }\n            if (!inputElement.checkValidity()) {\n                startIndexFieldView.errorText = t('Start index must be greater than 0.');\n            }\n            else {\n                this.fire('listStart', { startIndex });\n            }\n        });\n        return startIndexFieldView;\n    }\n    /**\n     * Creates the reversed list switch button.\n     */\n    _createReversedSwitchButton() {\n        const t = this.locale.t;\n        const reversedButtonView = new SwitchButtonView(this.locale);\n        reversedButtonView.set({\n            withText: true,\n            label: t('Reversed order'),\n            class: 'ck-numbered-list-properties__reversed-order'\n        });\n        reversedButtonView.delegate('execute').to(this, 'listReversed');\n        return reversedButtonView;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./liststyles.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties/listpropertiesui\n */\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, SplitButtonView, createDropdown, focusChildOnDropdownOpen, MenuBarMenuView } from 'ckeditor5/src/ui.js';\nimport ListPropertiesView from './ui/listpropertiesview.js';\nimport { getNormalizedConfig } from './utils/config.js';\nimport listStyleDiscIcon from '../../theme/icons/liststyledisc.svg';\nimport listStyleCircleIcon from '../../theme/icons/liststylecircle.svg';\nimport listStyleSquareIcon from '../../theme/icons/liststylesquare.svg';\nimport listStyleDecimalIcon from '../../theme/icons/liststyledecimal.svg';\nimport listStyleDecimalWithLeadingZeroIcon from '../../theme/icons/liststyledecimalleadingzero.svg';\nimport listStyleLowerRomanIcon from '../../theme/icons/liststylelowerroman.svg';\nimport listStyleUpperRomanIcon from '../../theme/icons/liststyleupperroman.svg';\nimport listStyleLowerLatinIcon from '../../theme/icons/liststylelowerlatin.svg';\nimport listStyleUpperLatinIcon from '../../theme/icons/liststyleupperlatin.svg';\nimport '../../theme/liststyles.css';\n/**\n * The list properties UI plugin. It introduces the extended `'bulletedList'` and `'numberedList'` toolbar\n * buttons that allow users to control such aspects of list as the marker, start index or order.\n *\n * **Note**: Buttons introduced by this plugin override implementations from the {@link module:list/list/listui~ListUI}\n * (because they share the same names).\n */\nexport default class ListPropertiesUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListPropertiesUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    init() {\n        const editor = this.editor;\n        const t = editor.locale.t;\n        const propertiesConfig = editor.config.get('list.properties');\n        const normalizedConfig = getNormalizedConfig(propertiesConfig);\n        const stylesListTypes = normalizedConfig.styles.listTypes;\n        // Note: When this plugin does not register the \"bulletedList\" dropdown due to properties configuration,\n        // a simple button will be still registered under the same name by ListUI as a fallback. This should happen\n        // in most editor configuration because the List plugin automatically requires ListUI.\n        if (stylesListTypes.includes('bulleted')) {\n            const styleDefinitions = [\n                {\n                    label: t('Toggle the disc list style'),\n                    tooltip: t('Disc'),\n                    type: 'disc',\n                    icon: listStyleDiscIcon\n                },\n                {\n                    label: t('Toggle the circle list style'),\n                    tooltip: t('Circle'),\n                    type: 'circle',\n                    icon: listStyleCircleIcon\n                },\n                {\n                    label: t('Toggle the square list style'),\n                    tooltip: t('Square'),\n                    type: 'square',\n                    icon: listStyleSquareIcon\n                }\n            ];\n            const buttonLabel = t('Bulleted List');\n            const styleGridAriaLabel = t('Bulleted list styles toolbar');\n            const commandName = 'bulletedList';\n            editor.ui.componentFactory.add(commandName, getDropdownViewCreator({\n                editor,\n                normalizedConfig,\n                parentCommandName: commandName,\n                buttonLabel,\n                buttonIcon: icons.bulletedList,\n                styleGridAriaLabel,\n                styleDefinitions\n            }));\n            // Add the menu bar item for bulleted list.\n            editor.ui.componentFactory.add(`menuBar:${commandName}`, getMenuBarStylesMenuCreator({\n                editor,\n                normalizedConfig,\n                parentCommandName: commandName,\n                buttonLabel,\n                styleGridAriaLabel,\n                styleDefinitions\n            }));\n        }\n        // Note: When this plugin does not register the \"numberedList\" dropdown due to properties configuration,\n        // a simple button will be still registered under the same name by ListUI as a fallback. This should happen\n        // in most editor configuration because the List plugin automatically requires ListUI.\n        if (stylesListTypes.includes('numbered') || propertiesConfig.startIndex || propertiesConfig.reversed) {\n            const styleDefinitions = [\n                {\n                    label: t('Toggle the decimal list style'),\n                    tooltip: t('Decimal'),\n                    type: 'decimal',\n                    icon: listStyleDecimalIcon\n                },\n                {\n                    label: t('Toggle the decimal with leading zero list style'),\n                    tooltip: t('Decimal with leading zero'),\n                    type: 'decimal-leading-zero',\n                    icon: listStyleDecimalWithLeadingZeroIcon\n                },\n                {\n                    label: t('Toggle the lower–roman list style'),\n                    tooltip: t('Lower–roman'),\n                    type: 'lower-roman',\n                    icon: listStyleLowerRomanIcon\n                },\n                {\n                    label: t('Toggle the upper–roman list style'),\n                    tooltip: t('Upper-roman'),\n                    type: 'upper-roman',\n                    icon: listStyleUpperRomanIcon\n                },\n                {\n                    label: t('Toggle the lower–latin list style'),\n                    tooltip: t('Lower-latin'),\n                    type: 'lower-latin',\n                    icon: listStyleLowerLatinIcon\n                },\n                {\n                    label: t('Toggle the upper–latin list style'),\n                    tooltip: t('Upper-latin'),\n                    type: 'upper-latin',\n                    icon: listStyleUpperLatinIcon\n                }\n            ];\n            const buttonLabel = t('Numbered List');\n            const styleGridAriaLabel = t('Numbered list styles toolbar');\n            const commandName = 'numberedList';\n            editor.ui.componentFactory.add(commandName, getDropdownViewCreator({\n                editor,\n                normalizedConfig,\n                parentCommandName: commandName,\n                buttonLabel,\n                buttonIcon: icons.numberedList,\n                styleGridAriaLabel,\n                styleDefinitions\n            }));\n            // Menu bar menu does not display list start index or reverse UI. If there are no styles enabled,\n            // the menu makes no sense and should be omitted.\n            if (stylesListTypes.includes('numbered')) {\n                editor.ui.componentFactory.add(`menuBar:${commandName}`, getMenuBarStylesMenuCreator({\n                    editor,\n                    normalizedConfig,\n                    parentCommandName: commandName,\n                    buttonLabel,\n                    styleGridAriaLabel,\n                    styleDefinitions\n                }));\n            }\n        }\n    }\n}\n/**\n * A helper that returns a function that creates a split button with a toolbar in the dropdown,\n * which in turn contains buttons allowing users to change list styles in the context of the current selection.\n *\n * @param options.editor\n * @param options.normalizedConfig List properties configuration.\n * @param options.parentCommandName The name of the higher-order editor command associated with\n * the set of particular list styles (e.g. \"bulletedList\" for \"disc\", \"circle\", and \"square\" styles).\n * @param options.buttonLabel Label of the main part of the split button.\n * @param options.buttonIcon The SVG string of an icon for the main part of the split button.\n * @param options.styleGridAriaLabel The ARIA label for the styles grid in the split button dropdown.\n * @param options.styleDefinitions Definitions of the style buttons.\n * @returns A function that can be passed straight into {@link module:ui/componentfactory~ComponentFactory#add}.\n */\nfunction getDropdownViewCreator({ editor, normalizedConfig, parentCommandName, buttonLabel, buttonIcon, styleGridAriaLabel, styleDefinitions }) {\n    const parentCommand = editor.commands.get(parentCommandName);\n    return (locale) => {\n        const dropdownView = createDropdown(locale, SplitButtonView);\n        const mainButtonView = dropdownView.buttonView;\n        dropdownView.bind('isEnabled').to(parentCommand);\n        dropdownView.class = 'ck-list-styles-dropdown';\n        // Main button was clicked.\n        mainButtonView.on('execute', () => {\n            editor.execute(parentCommandName);\n            editor.editing.view.focus();\n        });\n        mainButtonView.set({\n            label: buttonLabel,\n            icon: buttonIcon,\n            tooltip: true,\n            isToggleable: true\n        });\n        mainButtonView.bind('isOn').to(parentCommand, 'value', value => !!value);\n        dropdownView.once('change:isOpen', () => {\n            const listPropertiesView = createListPropertiesView({\n                editor,\n                normalizedConfig,\n                dropdownView,\n                parentCommandName,\n                styleGridAriaLabel,\n                styleDefinitions\n            });\n            dropdownView.panelView.children.add(listPropertiesView);\n        });\n        // Focus the editable after executing the command.\n        // Overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n        dropdownView.on('execute', () => {\n            editor.editing.view.focus();\n        });\n        return dropdownView;\n    };\n}\n/**\n * A helper that returns a function (factory) that creates individual buttons used by users to change styles\n * of lists.\n *\n * @param options.editor\n * @param options.listStyleCommand The instance of the `ListStylesCommand` class.\n * @param options.parentCommandName The name of the higher-order command associated with a\n * particular list style (e.g. \"bulletedList\" is associated with \"square\" and \"numberedList\" is associated with \"roman\").\n * @returns A function that can be passed straight into {@link module:ui/componentfactory~ComponentFactory#add}.\n */\nfunction getStyleButtonCreator({ editor, listStyleCommand, parentCommandName }) {\n    const locale = editor.locale;\n    const parentCommand = editor.commands.get(parentCommandName);\n    return ({ label, type, icon, tooltip }) => {\n        const button = new ButtonView(locale);\n        button.set({ label, icon, tooltip });\n        listStyleCommand.on('change:value', () => {\n            button.isOn = listStyleCommand.value === type;\n        });\n        button.on('execute', () => {\n            // If the content the selection is anchored to is a list, let's change its style.\n            if (parentCommand.value) {\n                // Remove the list when the current list style is the same as the one that would normally be applied.\n                if (listStyleCommand.value === type) {\n                    editor.execute(parentCommandName);\n                }\n                // If the current list style is not set in the model or the style is different than the\n                // one to be applied, simply apply the new style.\n                else if (listStyleCommand.value !== type) {\n                    editor.execute('listStyle', { type });\n                }\n            }\n            // Otherwise, leave the creation of the styled list to the `ListStyleCommand`.\n            else {\n                editor.model.change(() => {\n                    editor.execute('listStyle', { type });\n                });\n            }\n        });\n        return button;\n    };\n}\n/**\n * A helper that creates the properties view for the individual style dropdown.\n *\n * @param options.editor Editor instance.\n * @param options.normalizedConfig List properties configuration.\n * @param options.dropdownView Styles dropdown view that hosts the properties view.\n * @param options.parentCommandName The name of the higher-order editor command associated with\n * the set of particular list styles (e.g. \"bulletedList\" for \"disc\", \"circle\", and \"square\" styles).\n * @param options.styleDefinitions Definitions of the style buttons.\n * @param options.styleGridAriaLabel An assistive technologies label set on the grid of styles (if the grid is rendered).\n */\nfunction createListPropertiesView({ editor, normalizedConfig, dropdownView, parentCommandName, styleDefinitions, styleGridAriaLabel }) {\n    const locale = editor.locale;\n    const enabledProperties = {\n        ...normalizedConfig,\n        ...(parentCommandName != 'numberedList' ? {\n            startIndex: false,\n            reversed: false\n        } : null)\n    };\n    const listType = parentCommandName.replace('List', '');\n    let styleButtonViews = null;\n    if (normalizedConfig.styles.listTypes.includes(listType)) {\n        const listStyleCommand = editor.commands.get('listStyle');\n        const styleButtonCreator = getStyleButtonCreator({\n            editor,\n            parentCommandName,\n            listStyleCommand\n        });\n        // The command can be ListStyleCommand or DocumentListStyleCommand.\n        const isStyleTypeSupported = getStyleTypeSupportChecker(listStyleCommand);\n        styleButtonViews = styleDefinitions.filter(isStyleTypeSupported).map(styleButtonCreator);\n    }\n    const listPropertiesView = new ListPropertiesView(locale, {\n        styleGridAriaLabel,\n        enabledProperties,\n        styleButtonViews\n    });\n    if (normalizedConfig.styles.listTypes.includes(listType)) {\n        // Accessibility: focus the first active style when opening the dropdown.\n        focusChildOnDropdownOpen(dropdownView, () => {\n            return listPropertiesView.stylesView.children.find((child) => child.isOn);\n        });\n    }\n    if (enabledProperties.startIndex) {\n        const listStartCommand = editor.commands.get('listStart');\n        listPropertiesView.startIndexFieldView.bind('isEnabled').to(listStartCommand);\n        listPropertiesView.startIndexFieldView.fieldView.bind('value').to(listStartCommand);\n        listPropertiesView.on('listStart', (evt, data) => editor.execute('listStart', data));\n    }\n    if (enabledProperties.reversed) {\n        const listReversedCommand = editor.commands.get('listReversed');\n        listPropertiesView.reversedSwitchButtonView.bind('isEnabled').to(listReversedCommand);\n        listPropertiesView.reversedSwitchButtonView.bind('isOn').to(listReversedCommand, 'value', value => !!value);\n        listPropertiesView.on('listReversed', () => {\n            const isReversed = listReversedCommand.value;\n            editor.execute('listReversed', { reversed: !isReversed });\n        });\n    }\n    // Make sure applying styles closes the dropdown.\n    listPropertiesView.delegate('execute').to(dropdownView);\n    return listPropertiesView;\n}\n/**\n * A helper that creates the list style submenu for menu bar.\n *\n * @param editor Editor instance.\n * @param normalizedConfig List properties configuration.\n * @param parentCommandName Name of the list command.\n * @param buttonLabel Label of the menu button.\n * @param styleGridAriaLabel ARIA label of the styles grid.\n */\nfunction getMenuBarStylesMenuCreator({ editor, normalizedConfig, parentCommandName, buttonLabel, styleGridAriaLabel, styleDefinitions }) {\n    return (locale) => {\n        const menuView = new MenuBarMenuView(locale);\n        const listCommand = editor.commands.get(parentCommandName);\n        const listStyleCommand = editor.commands.get('listStyle');\n        const isStyleTypeSupported = getStyleTypeSupportChecker(listStyleCommand);\n        const styleButtonCreator = getStyleButtonCreator({\n            editor,\n            parentCommandName,\n            listStyleCommand\n        });\n        const styleButtonViews = styleDefinitions.filter(isStyleTypeSupported).map(styleButtonCreator);\n        const listPropertiesView = new ListPropertiesView(locale, {\n            styleGridAriaLabel,\n            enabledProperties: {\n                ...normalizedConfig,\n                // Disable list start index and reversed in the menu bar.\n                startIndex: false,\n                reversed: false\n            },\n            styleButtonViews\n        });\n        listPropertiesView.delegate('execute').to(menuView);\n        menuView.buttonView.set({\n            label: buttonLabel,\n            icon: icons[parentCommandName]\n        });\n        menuView.panelView.children.add(listPropertiesView);\n        menuView.bind('isEnabled').to(listCommand, 'isEnabled');\n        menuView.on('execute', () => {\n            editor.editing.view.focus();\n        });\n        return menuView;\n    };\n}\nfunction getStyleTypeSupportChecker(listStyleCommand) {\n    if (typeof listStyleCommand.isStyleTypeSupported == 'function') {\n        return (styleDefinition) => listStyleCommand.isStyleTypeSupported(styleDefinition.type);\n    }\n    else {\n        return () => true;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 44 44\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z\\\" fill-opacity=\\\".163\\\"/><path d=\\\"m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/listproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport ListPropertiesEditing from './listproperties/listpropertiesediting.js';\nimport ListPropertiesUI from './listproperties/listpropertiesui.js';\n/**\n * The list properties feature.\n *\n * This is a \"glue\" plugin that loads the\n * {@link module:list/listproperties/listpropertiesediting~ListPropertiesEditing list properties\n * editing feature} and the {@link module:list/listproperties/listpropertiesui~ListPropertiesUI list properties UI feature}.\n */\nexport default class ListProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListPropertiesEditing, ListPropertiesUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/todolist/checktodolistcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getAllListItemBlocks } from '../list/utils/model.js';\n/**\n * The check to-do command.\n *\n * The command is registered by the {@link module:list/todolist/todolistediting~TodoListEditing} as\n * the `checkTodoList` editor command.\n */\nexport default class CheckTodoListCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Refresh command before executing to be sure all values are up to date.\n        // It is needed when selection has changed before command execution, in the same change block.\n        this.on('execute', () => {\n            this.refresh();\n        }, { priority: 'highest' });\n    }\n    /**\n     * Updates the command's {@link #value} and {@link #isEnabled} properties based on the current selection.\n     */\n    refresh() {\n        const selectedElements = this._getSelectedItems();\n        this.value = this._getValue(selectedElements);\n        this.isEnabled = !!selectedElements.length;\n    }\n    /**\n     * Executes the command.\n     *\n     * @param options.forceValue If set, it will force the command behavior. If `true`, the command will apply\n     * the attribute. Otherwise, the command will remove the attribute. If not set, the command will look for its current\n     * value to decide what it should do.\n     */\n    execute(options = {}) {\n        this.editor.model.change(writer => {\n            const selectedElements = this._getSelectedItems();\n            const value = (options.forceValue === undefined) ? !this._getValue(selectedElements) : options.forceValue;\n            for (const element of selectedElements) {\n                if (value) {\n                    writer.setAttribute('todoListChecked', true, element);\n                }\n                else {\n                    writer.removeAttribute('todoListChecked', element);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a value for the command.\n     */\n    _getValue(selectedElements) {\n        return selectedElements.every(element => element.getAttribute('todoListChecked'));\n    }\n    /**\n     * Gets all to-do list items selected by the {@link module:engine/model/selection~Selection}.\n     */\n    _getSelectedItems() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selectionRange = model.document.selection.getFirstRange();\n        const startElement = selectionRange.start.parent;\n        const elements = [];\n        if (schema.checkAttribute(startElement, 'todoListChecked')) {\n            elements.push(...getAllListItemBlocks(startElement));\n        }\n        for (const item of selectionRange.getItems({ shallow: true })) {\n            if (schema.checkAttribute(item, 'todoListChecked') && !elements.includes(item)) {\n                elements.push(...getAllListItemBlocks(item));\n            }\n        }\n        return elements;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/todolist/todocheckboxchangeobserver\n */\nimport { DomEventObserver } from 'ckeditor5/src/engine.js';\n/**\n * Observes all to-do list checkboxes state changes.\n *\n * Note that this observer is not available by default. To make it available it needs to be added to\n * {@link module:engine/view/view~View} by {@link module:engine/view/view~View#addObserver} method.\n */\nexport default class TodoCheckboxChangeObserver extends DomEventObserver {\n    constructor() {\n        super(...arguments);\n        /**\n         * @inheritDoc\n         */\n        this.domEventType = ['change'];\n    }\n    /**\n     * @inheritDoc\n     */\n    onDomEvent(domEvent) {\n        if (domEvent.target) {\n            const viewTarget = this.view.domConverter.mapDomToView(domEvent.target);\n            if (viewTarget &&\n                viewTarget.is('element', 'input') &&\n                viewTarget.getAttribute('type') == 'checkbox' &&\n                viewTarget.findAncestor({ classes: 'todo-list__label' })) {\n                this.fire('todoCheckboxChange', domEvent);\n            }\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/todolist/todolistediting\n */\nimport { Matcher } from 'ckeditor5/src/engine.js';\nimport { getCode, parseKeystroke, getLocalizedArrowKeyCodeDirection } from 'ckeditor5/src/utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getAllListItemBlocks, isFirstBlockOfListItem, isListItemBlock } from '../list/utils/model.js';\nimport ListEditing from '../list/listediting.js';\nimport ListCommand from '../list/listcommand.js';\nimport CheckTodoListCommand from './checktodolistcommand.js';\nimport TodoCheckboxChangeObserver from './todocheckboxchangeobserver.js';\nconst ITEM_TOGGLE_KEYSTROKE = /* #__PURE__ */ parseKeystroke('Ctrl+Enter');\n/**\n * The engine of the to-do list feature. It handles creating, editing and removing to-do lists and their items.\n *\n * It registers the entire functionality of the {@link module:list/list/listediting~ListEditing list editing plugin}\n * and extends it with the commands:\n *\n * - `'todoList'`,\n * - `'checkTodoList'`,\n */\nexport default class TodoListEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoListEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ListEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const editing = editor.editing;\n        const listEditing = editor.plugins.get(ListEditing);\n        const multiBlock = editor.config.get('list.multiBlock');\n        const elementName = multiBlock ? 'paragraph' : 'listItem';\n        editor.commands.add('todoList', new ListCommand(editor, 'todo'));\n        editor.commands.add('checkTodoList', new CheckTodoListCommand(editor));\n        editing.view.addObserver(TodoCheckboxChangeObserver);\n        model.schema.extend('$listItem', { allowAttributes: 'todoListChecked' });\n        model.schema.addAttributeCheck(context => {\n            const item = context.last;\n            // Don't allow `todoListChecked` attribute on elements which are not todo list items.\n            if (!item.getAttribute('listItemId') || item.getAttribute('listType') != 'todo') {\n                return false;\n            }\n        }, 'todoListChecked');\n        editor.conversion.for('upcast').add(dispatcher => {\n            // Upcast of to-do list item is based on a checkbox at the beginning of a <li> to keep compatibility with markdown input.\n            dispatcher.on('element:input', todoItemInputConverter());\n            // Priority is set to low to allow generic list item converter to run first.\n            dispatcher.on('element:li', todoListItemUpcastConverter(), {\n                priority: 'low'\n            });\n            // Consume other elements that are normally generated in data downcast, so they won't get captured by GHS.\n            dispatcher.on('element:label', elementUpcastConsumingConverter({ name: 'label', classes: 'todo-list__label' }));\n            dispatcher.on('element:label', elementUpcastConsumingConverter({ name: 'label', classes: ['todo-list__label', 'todo-list__label_without-description'] }));\n            dispatcher.on('element:span', elementUpcastConsumingConverter({ name: 'span', classes: 'todo-list__label__description' }));\n            dispatcher.on('element:ul', attributeUpcastConsumingConverter({ name: 'ul', classes: 'todo-list' }));\n        });\n        editor.conversion.for('downcast').elementToElement({\n            model: elementName,\n            view: (element, { writer }) => {\n                if (isDescriptionBlock(element, listEditing.getListAttributeNames())) {\n                    return writer.createContainerElement('span', { class: 'todo-list__label__description' });\n                }\n            },\n            converterPriority: 'highest'\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'list',\n            attributeName: 'listType',\n            setAttributeOnDowncast(writer, value, element) {\n                if (value == 'todo') {\n                    writer.addClass('todo-list', element);\n                }\n                else {\n                    writer.removeClass('todo-list', element);\n                }\n            }\n        });\n        listEditing.registerDowncastStrategy({\n            scope: 'itemMarker',\n            attributeName: 'todoListChecked',\n            createElement(writer, modelElement, { dataPipeline }) {\n                if (modelElement.getAttribute('listType') != 'todo') {\n                    return null;\n                }\n                const viewElement = writer.createUIElement('input', {\n                    type: 'checkbox',\n                    ...(modelElement.getAttribute('todoListChecked') ?\n                        { checked: 'checked' } :\n                        null),\n                    ...(dataPipeline ?\n                        { disabled: 'disabled' } :\n                        { tabindex: '-1' })\n                });\n                if (dataPipeline) {\n                    return viewElement;\n                }\n                const wrapper = writer.createContainerElement('span', { contenteditable: 'false' }, viewElement);\n                wrapper.getFillerOffset = () => null;\n                return wrapper;\n            },\n            canWrapElement(modelElement) {\n                return isDescriptionBlock(modelElement, listEditing.getListAttributeNames());\n            },\n            createWrapperElement(writer, modelElement, { dataPipeline }) {\n                const classes = ['todo-list__label'];\n                if (!isDescriptionBlock(modelElement, listEditing.getListAttributeNames())) {\n                    classes.push('todo-list__label_without-description');\n                }\n                return writer.createAttributeElement(dataPipeline ? 'label' : 'span', {\n                    class: classes.join(' ')\n                });\n            }\n        });\n        // Verifies if a to-do list block requires reconversion of a first item downcasted as an item description.\n        listEditing.on('checkElement', (evt, { modelElement, viewElement }) => {\n            const isFirstTodoModelParagraphBlock = isDescriptionBlock(modelElement, listEditing.getListAttributeNames());\n            const hasViewClass = viewElement.hasClass('todo-list__label__description');\n            if (hasViewClass != isFirstTodoModelParagraphBlock) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n        // Verifies if a to-do list block requires reconversion of a checkbox element\n        // (for example there is a new paragraph inserted as a first block of a list item).\n        listEditing.on('checkElement', (evt, { modelElement, viewElement }) => {\n            const isFirstTodoModelItemBlock = modelElement.getAttribute('listType') == 'todo' && isFirstBlockOfListItem(modelElement);\n            let hasViewItemMarker = false;\n            const viewWalker = editor.editing.view.createPositionBefore(viewElement).getWalker({ direction: 'backward' });\n            for (const { item } of viewWalker) {\n                if (item.is('element') && editor.editing.mapper.toModelElement(item)) {\n                    break;\n                }\n                if (item.is('element', 'input') && item.getAttribute('type') == 'checkbox') {\n                    hasViewItemMarker = true;\n                }\n            }\n            if (hasViewItemMarker != isFirstTodoModelItemBlock) {\n                evt.return = true;\n                evt.stop();\n            }\n        });\n        // Make sure that all blocks of the same list item have the same todoListChecked attribute.\n        listEditing.on('postFixer', (evt, { listNodes, writer }) => {\n            for (const { node, previousNodeInList } of listNodes) {\n                // This is a first item of a nested list.\n                if (!previousNodeInList) {\n                    continue;\n                }\n                if (previousNodeInList.getAttribute('listItemId') != node.getAttribute('listItemId')) {\n                    continue;\n                }\n                const previousHasAttribute = previousNodeInList.hasAttribute('todoListChecked');\n                const nodeHasAttribute = node.hasAttribute('todoListChecked');\n                if (nodeHasAttribute && !previousHasAttribute) {\n                    writer.removeAttribute('todoListChecked', node);\n                    evt.return = true;\n                }\n                else if (!nodeHasAttribute && previousHasAttribute) {\n                    writer.setAttribute('todoListChecked', true, node);\n                    evt.return = true;\n                }\n            }\n        });\n        // Make sure that todoListChecked attribute is only present for to-do list items.\n        model.document.registerPostFixer(writer => {\n            const changes = model.document.differ.getChanges();\n            let wasFixed = false;\n            for (const change of changes) {\n                if (change.type == 'attribute' && change.attributeKey == 'listType') {\n                    const element = change.range.start.nodeAfter;\n                    if (change.attributeOldValue == 'todo' && element.hasAttribute('todoListChecked')) {\n                        writer.removeAttribute('todoListChecked', element);\n                        wasFixed = true;\n                    }\n                }\n                else if (change.type == 'insert' && change.name != '$text') {\n                    for (const { item } of writer.createRangeOn(change.position.nodeAfter)) {\n                        if (item.is('element') && item.getAttribute('listType') != 'todo' && item.hasAttribute('todoListChecked')) {\n                            writer.removeAttribute('todoListChecked', item);\n                            wasFixed = true;\n                        }\n                    }\n                }\n            }\n            return wasFixed;\n        });\n        // Toggle check state of selected to-do list items on keystroke.\n        this.listenTo(editing.view.document, 'keydown', (evt, data) => {\n            if (getCode(data) === ITEM_TOGGLE_KEYSTROKE) {\n                editor.execute('checkTodoList');\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        // Toggle check state of a to-do list item clicked on the checkbox.\n        this.listenTo(editing.view.document, 'todoCheckboxChange', (evt, data) => {\n            const viewTarget = data.target;\n            if (!viewTarget || !viewTarget.is('element', 'input')) {\n                return;\n            }\n            const viewPositionAfter = editing.view.createPositionAfter(viewTarget);\n            const modelPositionAfter = editing.mapper.toModelPosition(viewPositionAfter);\n            const modelElement = modelPositionAfter.parent;\n            if (modelElement && isListItemBlock(modelElement) && modelElement.getAttribute('listType') == 'todo') {\n                this._handleCheckmarkChange(modelElement);\n            }\n        });\n        // Jump at the start/end of the next node on right arrow key press, when selection is before the checkbox.\n        //\n        // <blockquote><p>Foo{}</p></blockquote>\n        // <ul><li><checkbox/>Bar</li></ul>\n        //\n        // press: `->`\n        //\n        // <blockquote><p>Foo</p></blockquote>\n        // <ul><li><checkbox/>{}Bar</li></ul>\n        //\n        this.listenTo(editing.view.document, 'arrowKey', jumpOverCheckmarkOnSideArrowKeyPress(model, editor.locale), { context: '$text' });\n        // Map view positions inside the checkbox and wrappers to the position in the first block of the list item.\n        this.listenTo(editing.mapper, 'viewToModelPosition', (evt, data) => {\n            const viewParent = data.viewPosition.parent;\n            const isStartOfListItem = viewParent.is('attributeElement', 'li') && data.viewPosition.offset == 0;\n            const isStartOfListLabel = isLabelElement(viewParent) && data.viewPosition.offset <= 1;\n            const isInInputWrapper = viewParent.is('element', 'span') &&\n                viewParent.getAttribute('contenteditable') == 'false' &&\n                isLabelElement(viewParent.parent);\n            if (!isStartOfListItem && !isStartOfListLabel && !isInInputWrapper) {\n                return;\n            }\n            const nodeAfter = data.modelPosition.nodeAfter;\n            if (nodeAfter && nodeAfter.getAttribute('listType') == 'todo') {\n                data.modelPosition = model.createPositionAt(nodeAfter, 0);\n            }\n        }, { priority: 'low' });\n        this._initAriaAnnouncements();\n    }\n    /**\n     * Handles the checkbox element change, moves the selection to the corresponding model item to make it possible\n     * to toggle the `todoListChecked` attribute using the command, and restores the selection position.\n     *\n     * Some say it's a hack :) Moving the selection only for executing the command on a certain node and restoring it after,\n     * is not a clear solution. We need to design an API for using commands beyond the selection range.\n     * See https://github.com/ckeditor/ckeditor5/issues/1954.\n     */\n    _handleCheckmarkChange(listItem) {\n        const editor = this.editor;\n        const model = editor.model;\n        const previousSelectionRanges = Array.from(model.document.selection.getRanges());\n        model.change(writer => {\n            writer.setSelection(listItem, 'end');\n            editor.execute('checkTodoList');\n            writer.setSelection(previousSelectionRanges);\n        });\n    }\n    /**\n     * Observe when user enters or leaves todo list and set proper aria value in global live announcer.\n     * This allows screen readers to indicate when the user has entered and left the specified todo list.\n     *\n     * @internal\n     */\n    _initAriaAnnouncements() {\n        const { model, ui, t } = this.editor;\n        let lastFocusedCodeBlock = null;\n        if (!ui) {\n            return;\n        }\n        model.document.selection.on('change:range', () => {\n            const focusParent = model.document.selection.focus.parent;\n            const lastElementIsTodoList = isTodoListItemElement(lastFocusedCodeBlock);\n            const currentElementIsTodoList = isTodoListItemElement(focusParent);\n            if (lastElementIsTodoList && !currentElementIsTodoList) {\n                ui.ariaLiveAnnouncer.announce(t('Leaving a to-do list'));\n            }\n            else if (!lastElementIsTodoList && currentElementIsTodoList) {\n                ui.ariaLiveAnnouncer.announce(t('Entering a to-do list'));\n            }\n            lastFocusedCodeBlock = focusParent;\n        });\n    }\n}\n/**\n * Returns an upcast converter for to-do list items.\n */\nfunction todoListItemUpcastConverter() {\n    return (evt, data, conversionApi) => {\n        const { writer, schema } = conversionApi;\n        if (!data.modelRange) {\n            return;\n        }\n        // Group to-do list items by their listItemId attribute to ensure that all items of the same list item have the same checked state.\n        const groupedItems = Array\n            .from(data.modelRange.getItems({ shallow: true }))\n            .filter((item) => item.getAttribute('listType') === 'todo' && schema.checkAttribute(item, 'listItemId'))\n            .reduce((acc, item) => {\n            const listItemId = item.getAttribute('listItemId');\n            if (!acc.has(listItemId)) {\n                acc.set(listItemId, getAllListItemBlocks(item));\n            }\n            return acc;\n        }, new Map());\n        // During the upcast, we need to ensure that all items of the same list have the same checked state. From time to time\n        // the checked state of the items can be different when the user pastes content from the clipboard with <input type=\"checkbox\">\n        // that has checked state set to true. In such cases, we need to ensure that all items of the same list have the same checked state.\n        // See more: https://github.com/ckeditor/ckeditor5/issues/15602\n        for (const [, items] of groupedItems.entries()) {\n            if (items.some(item => item.getAttribute('todoListChecked'))) {\n                for (const item of items) {\n                    writer.setAttribute('todoListChecked', true, item);\n                }\n            }\n        }\n    };\n}\n/**\n * Returns an upcast converter that detects a to-do list checkbox and marks the list item as a to-do list.\n */\nfunction todoItemInputConverter() {\n    return (evt, data, conversionApi) => {\n        const modelCursor = data.modelCursor;\n        const modelItem = modelCursor.parent;\n        const viewItem = data.viewItem;\n        if (!conversionApi.consumable.test(viewItem, { name: true })) {\n            return;\n        }\n        if (viewItem.getAttribute('type') != 'checkbox' || !modelCursor.isAtStart || !modelItem.hasAttribute('listType')) {\n            return;\n        }\n        conversionApi.consumable.consume(viewItem, { name: true });\n        const writer = conversionApi.writer;\n        writer.setAttribute('listType', 'todo', modelItem);\n        if (data.viewItem.hasAttribute('checked')) {\n            writer.setAttribute('todoListChecked', true, modelItem);\n        }\n        data.modelRange = writer.createRange(modelCursor);\n    };\n}\n/**\n * Returns an upcast converter that consumes element matching the given matcher pattern.\n */\nfunction elementUpcastConsumingConverter(matcherPattern) {\n    const matcher = new Matcher(matcherPattern);\n    return (evt, data, conversionApi) => {\n        const matcherResult = matcher.match(data.viewItem);\n        if (!matcherResult) {\n            return;\n        }\n        if (!conversionApi.consumable.consume(data.viewItem, matcherResult.match)) {\n            return;\n        }\n        Object.assign(data, conversionApi.convertChildren(data.viewItem, data.modelCursor));\n    };\n}\n/**\n * Returns an upcast converter that consumes attributes matching the given matcher pattern.\n */\nfunction attributeUpcastConsumingConverter(matcherPattern) {\n    const matcher = new Matcher(matcherPattern);\n    return (evt, data, conversionApi) => {\n        const matcherResult = matcher.match(data.viewItem);\n        if (!matcherResult) {\n            return;\n        }\n        const match = matcherResult.match;\n        match.name = false;\n        conversionApi.consumable.consume(data.viewItem, match);\n    };\n}\n/**\n * Returns true if the given list item block should be converted as a description block of a to-do list item.\n */\nfunction isDescriptionBlock(modelElement, listAttributeNames) {\n    return (modelElement.is('element', 'paragraph') || modelElement.is('element', 'listItem')) &&\n        modelElement.getAttribute('listType') == 'todo' &&\n        isFirstBlockOfListItem(modelElement) &&\n        hasOnlyListAttributes(modelElement, listAttributeNames);\n}\n/**\n * Returns true if only attributes from the given list are present on the model element.\n */\nfunction hasOnlyListAttributes(modelElement, attributeNames) {\n    for (const attributeKey of modelElement.getAttributeKeys()) {\n        // Ignore selection attributes stored on block elements.\n        if (attributeKey.startsWith('selection:')) {\n            continue;\n        }\n        if (!attributeNames.includes(attributeKey)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Jump at the start and end of a to-do list item.\n */\nfunction jumpOverCheckmarkOnSideArrowKeyPress(model, locale) {\n    return (eventInfo, domEventData) => {\n        const direction = getLocalizedArrowKeyCodeDirection(domEventData.keyCode, locale.contentLanguageDirection);\n        const schema = model.schema;\n        const selection = model.document.selection;\n        if (!selection.isCollapsed) {\n            return;\n        }\n        const position = selection.getFirstPosition();\n        const parent = position.parent;\n        // Right arrow before a to-do list item.\n        if (direction == 'right' && position.isAtEnd) {\n            const newRange = schema.getNearestSelectionRange(model.createPositionAfter(parent), 'forward');\n            if (!newRange) {\n                return;\n            }\n            const newRangeParent = newRange.start.parent;\n            if (newRangeParent && isListItemBlock(newRangeParent) && newRangeParent.getAttribute('listType') == 'todo') {\n                model.change(writer => writer.setSelection(newRange));\n                domEventData.preventDefault();\n                domEventData.stopPropagation();\n                eventInfo.stop();\n            }\n        }\n        // Left arrow at the beginning of a to-do list item.\n        else if (direction == 'left' && position.isAtStart && isListItemBlock(parent) && parent.getAttribute('listType') == 'todo') {\n            const newRange = schema.getNearestSelectionRange(model.createPositionBefore(parent), 'backward');\n            if (!newRange) {\n                return;\n            }\n            model.change(writer => writer.setSelection(newRange));\n            domEventData.preventDefault();\n            domEventData.stopPropagation();\n            eventInfo.stop();\n        }\n    };\n}\n/**\n * Returns true if the given element is a label element of a to-do list item.\n */\nfunction isLabelElement(viewElement) {\n    return !!viewElement && viewElement.is('attributeElement') && viewElement.hasClass('todo-list__label');\n}\n/**\n * Returns true if the given element is a list item model element of a to-do list.\n */\nfunction isTodoListItemElement(element) {\n    if (!element) {\n        return false;\n    }\n    if (!element.is('element', 'paragraph') && !element.is('element', 'listItem')) {\n        return false;\n    }\n    return element.getAttribute('listType') == 'todo';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/todolist/todolistui\n */\nimport { createUIComponents } from '../list/utils.js';\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\n/**\n * The to-do list UI feature. It introduces the `'todoList'` button that\n * allows to convert elements to and from to-do list items and to indent or outdent them.\n */\nexport default class TodoListUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoListUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const t = this.editor.t;\n        createUIComponents(this.editor, 'todoList', t('To-do List'), icons.todoList);\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./todolist.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module list/todolist\n */\nimport TodoListEditing from './todolist/todolistediting.js';\nimport TodoListUI from './todolist/todolistui.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport '../theme/todolist.css';\n/**\n * The to-do list feature.\n *\n * This is a \"glue\" plugin that loads the {@link module:list/todolist/todolistediting~TodoListEditing to-do list\n * editing feature} and the {@link module:list/todolist/todolistui~TodoListUI to-do list UI feature}.\n */\nexport default class TodoList extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TodoListEditing, TodoListUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TodoList';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Returns a function that converts the model \"url\" attribute to the view representation.\n *\n * Depending on the configuration, the view representation can be \"semantic\" (for the data pipeline):\n *\n * ```html\n * <figure class=\"media\">\n * \t<oembed url=\"foo\"></oembed>\n * </figure>\n * ```\n *\n * or \"non-semantic\" (for the editing view pipeline):\n *\n * ```html\n * <figure class=\"media\">\n * \t<div data-oembed-url=\"foo\">[ non-semantic media preview for \"foo\" ]</div>\n * </figure>\n * ```\n *\n * **Note:** Changing the model \"url\" attribute replaces the entire content of the\n * `<figure>` in the view.\n *\n * @param registry The registry providing\n * the media and their content.\n * @param options options object with following properties:\n * - elementName When set, overrides the default element name for semantic media embeds.\n * - renderMediaPreview When `true`, the converter will create the view in the non-semantic form.\n * - renderForEditingView When `true`, the converter will create a view specific for the\n * editing pipeline (e.g. including CSS classes, content placeholders).\n */\nexport function modelToViewUrlAttributeConverter(registry, options) {\n    const converter = (evt, data, conversionApi) => {\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const url = data.attributeNewValue;\n        const viewWriter = conversionApi.writer;\n        const figure = conversionApi.mapper.toViewElement(data.item);\n        const mediaContentElement = [...figure.getChildren()]\n            .find(child => child.getCustomProperty('media-content'));\n        // TODO: removing the wrapper and creating it from scratch is a hack. We can do better than that.\n        viewWriter.remove(mediaContentElement);\n        const mediaViewElement = registry.getMediaViewElement(viewWriter, url, options);\n        viewWriter.insert(viewWriter.createPositionAt(figure, 0), mediaViewElement);\n    };\n    return dispatcher => {\n        dispatcher.on('attribute:url:media', converter);\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { isWidget, toWidget } from 'ckeditor5/src/widget.js';\n/**\n * Converts a given {@link module:engine/view/element~Element} to a media embed widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the media widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param writer An instance of the view writer.\n * @param label The element's label.\n */\nexport function toMediaWidget(viewElement, writer, label) {\n    writer.setCustomProperty('media', true, viewElement);\n    return toWidget(viewElement, writer, { label });\n}\n/**\n * Returns a media widget editing view element if one is selected.\n */\nexport function getSelectedMediaViewWidget(selection) {\n    const viewElement = selection.getSelectedElement();\n    if (viewElement && isMediaWidget(viewElement)) {\n        return viewElement;\n    }\n    return null;\n}\n/**\n * Checks if a given view element is a media widget.\n */\nexport function isMediaWidget(viewElement) {\n    return !!viewElement.getCustomProperty('media') && isWidget(viewElement);\n}\n/**\n * Creates a view element representing the media. Either a \"semantic\" one for the data pipeline:\n *\n * ```html\n * <figure class=\"media\">\n * \t<oembed url=\"foo\"></oembed>\n * </figure>\n * ```\n *\n * or a \"non-semantic\" (for the editing view pipeline):\n *\n * ```html\n * <figure class=\"media\">\n * \t<div data-oembed-url=\"foo\">[ non-semantic media preview for \"foo\" ]</div>\n * </figure>\n * ```\n */\nexport function createMediaFigureElement(writer, registry, url, options) {\n    return writer.createContainerElement('figure', { class: 'media' }, [\n        registry.getMediaViewElement(writer, url, options),\n        writer.createSlot()\n    ]);\n}\n/**\n * Returns a selected media element in the model, if any.\n */\nexport function getSelectedMediaModelWidget(selection) {\n    const selectedElement = selection.getSelectedElement();\n    if (selectedElement && selectedElement.is('element', 'media')) {\n        return selectedElement;\n    }\n    return null;\n}\n/**\n * Creates a media element and inserts it into the model.\n *\n * **Note**: This method will use {@link module:engine/model/model~Model#insertContent `model.insertContent()`} logic of inserting content\n * if no `insertPosition` is passed.\n *\n * @param url An URL of an embeddable media.\n * @param findOptimalPosition If true it will try to find optimal position to insert media without breaking content\n * in which a selection is.\n */\nexport function insertMedia(model, url, selectable, findOptimalPosition) {\n    model.change(writer => {\n        const mediaElement = writer.createElement('media', { url });\n        model.insertObject(mediaElement, selectable, null, {\n            setSelection: 'on',\n            findOptimalPosition: findOptimalPosition ? 'auto' : undefined\n        });\n    });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\nimport { getSelectedMediaModelWidget, insertMedia } from './utils.js';\n/**\n * The insert media command.\n *\n * The command is registered by the {@link module:media-embed/mediaembedediting~MediaEmbedEditing} as `'mediaEmbed'`.\n *\n * To insert media at the current selection, execute the command and specify the URL:\n *\n * ```ts\n * editor.execute( 'mediaEmbed', 'http://url.to.the/media' );\n * ```\n */\nexport default class MediaEmbedCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedMedia = getSelectedMediaModelWidget(selection);\n        this.value = selectedMedia ? selectedMedia.getAttribute('url') : undefined;\n        this.isEnabled = isMediaSelected(selection) || isAllowedInParent(selection, model);\n    }\n    /**\n     * Executes the command, which either:\n     *\n     * * updates the URL of the selected media,\n     * * inserts the new media into the editor and puts the selection around it.\n     *\n     * @fires execute\n     * @param url The URL of the media.\n     */\n    execute(url) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const selectedMedia = getSelectedMediaModelWidget(selection);\n        if (selectedMedia) {\n            model.change(writer => {\n                writer.setAttribute('url', url, selectedMedia);\n            });\n        }\n        else {\n            insertMedia(model, url, selection, true);\n        }\n    }\n}\n/**\n * Checks if the media embed is allowed in the parent.\n */\nfunction isAllowedInParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    let parent = insertionRange.start.parent;\n    // The model.insertContent() will remove empty parent (unless it is a $root or a limit).\n    if (parent.isEmpty && !model.schema.isLimit(parent)) {\n        parent = parent.parent;\n    }\n    return model.schema.checkChild(parent, 'media');\n}\n/**\n * Checks if the media object is selected.\n */\nfunction isMediaSelected(selection) {\n    const element = selection.getSelectedElement();\n    return !!element && element.name === 'media';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { IconView, Template } from 'ckeditor5/src/ui.js';\nimport { logWarning, toArray } from 'ckeditor5/src/utils.js';\nimport mediaPlaceholderIcon from '../theme/icons/media-placeholder.svg';\nconst mediaPlaceholderIconViewBox = '0 0 64 42';\n/**\n * A bridge between the raw media content provider definitions and the editor view content.\n *\n * It helps translating media URLs to corresponding {@link module:engine/view/element~Element view elements}.\n *\n * Mostly used by the {@link module:media-embed/mediaembedediting~MediaEmbedEditing} plugin.\n */\nexport default class MediaRegistry {\n    /**\n     * Creates an instance of the {@link module:media-embed/mediaregistry~MediaRegistry} class.\n     *\n     * @param locale The localization services instance.\n     * @param config The configuration of the media embed feature.\n     */\n    constructor(locale, config) {\n        const providers = config.providers;\n        const extraProviders = config.extraProviders || [];\n        const removedProviders = new Set(config.removeProviders);\n        const providerDefinitions = providers\n            .concat(extraProviders)\n            .filter(provider => {\n            const name = provider.name;\n            if (!name) {\n                /**\n                 * One of the providers (or extra providers) specified in the media embed configuration\n                 * has no name and will not be used by the editor. In order to get this media\n                 * provider working, double check your editor configuration.\n                 *\n                 * @error media-embed-no-provider-name\n                 */\n                logWarning('media-embed-no-provider-name', { provider });\n                return false;\n            }\n            return !removedProviders.has(name);\n        });\n        this.locale = locale;\n        this.providerDefinitions = providerDefinitions;\n    }\n    /**\n     * Checks whether the passed URL is representing a certain media type allowed in the editor.\n     *\n     * @param url The URL to be checked\n     */\n    hasMedia(url) {\n        return !!this._getMedia(url);\n    }\n    /**\n     * For the given media URL string and options, it returns the {@link module:engine/view/element~Element view element}\n     * representing that media.\n     *\n     * **Note:** If no URL is specified, an empty view element is returned.\n     *\n     * @param writer The view writer used to produce a view element.\n     * @param url The URL to be translated into a view element.\n     */\n    getMediaViewElement(writer, url, options) {\n        return this._getMedia(url).getViewElement(writer, options);\n    }\n    /**\n     * Returns a `Media` instance for the given URL.\n     *\n     * @param url The URL of the media.\n     * @returns The `Media` instance or `null` when there is none.\n     */\n    _getMedia(url) {\n        if (!url) {\n            return new Media(this.locale);\n        }\n        url = url.trim();\n        for (const definition of this.providerDefinitions) {\n            const previewRenderer = definition.html;\n            const pattern = toArray(definition.url);\n            for (const subPattern of pattern) {\n                const match = this._getUrlMatches(url, subPattern);\n                if (match) {\n                    return new Media(this.locale, url, match, previewRenderer);\n                }\n            }\n        }\n        return null;\n    }\n    /**\n     * Tries to match `url` to `pattern`.\n     *\n     * @param url The URL of the media.\n     * @param pattern The pattern that should accept the media URL.\n     */\n    _getUrlMatches(url, pattern) {\n        // 1. Try to match without stripping the protocol and \"www\" subdomain.\n        let match = url.match(pattern);\n        if (match) {\n            return match;\n        }\n        // 2. Try to match after stripping the protocol.\n        let rawUrl = url.replace(/^https?:\\/\\//, '');\n        match = rawUrl.match(pattern);\n        if (match) {\n            return match;\n        }\n        // 3. Try to match after stripping the \"www\" subdomain.\n        rawUrl = rawUrl.replace(/^www\\./, '');\n        match = rawUrl.match(pattern);\n        if (match) {\n            return match;\n        }\n        return null;\n    }\n}\n/**\n * Represents media defined by the provider configuration.\n *\n * It can be rendered to the {@link module:engine/view/element~Element view element} and used in the editing or data pipeline.\n */\nclass Media {\n    constructor(locale, url, match, previewRenderer) {\n        this.url = this._getValidUrl(url);\n        this._locale = locale;\n        this._match = match;\n        this._previewRenderer = previewRenderer;\n    }\n    /**\n     * Returns the view element representation of the media.\n     *\n     * @param writer The view writer used to produce a view element.\n     */\n    getViewElement(writer, options) {\n        const attributes = {};\n        let viewElement;\n        if (options.renderForEditingView || (options.renderMediaPreview && this.url && this._previewRenderer)) {\n            if (this.url) {\n                attributes['data-oembed-url'] = this.url;\n            }\n            if (options.renderForEditingView) {\n                attributes.class = 'ck-media__wrapper';\n            }\n            const mediaHtml = this._getPreviewHtml(options);\n            viewElement = writer.createRawElement('div', attributes, (domElement, domConverter) => {\n                domConverter.setContentOf(domElement, mediaHtml);\n            });\n        }\n        else {\n            if (this.url) {\n                attributes.url = this.url;\n            }\n            viewElement = writer.createEmptyElement(options.elementName, attributes);\n        }\n        writer.setCustomProperty('media-content', true, viewElement);\n        return viewElement;\n    }\n    /**\n     * Returns the HTML string of the media content preview.\n     */\n    _getPreviewHtml(options) {\n        if (this._previewRenderer) {\n            return this._previewRenderer(this._match);\n        }\n        else {\n            // The placeholder only makes sense for editing view and media which have URLs.\n            // Placeholder is never displayed in data and URL-less media have no content.\n            if (this.url && options.renderForEditingView) {\n                return this._getPlaceholderHtml();\n            }\n            return '';\n        }\n    }\n    /**\n     * Returns the placeholder HTML when the media has no content preview.\n     */\n    _getPlaceholderHtml() {\n        const icon = new IconView();\n        const t = this._locale.t;\n        icon.content = mediaPlaceholderIcon;\n        icon.viewBox = mediaPlaceholderIconViewBox;\n        const placeholder = new Template({\n            tag: 'div',\n            attributes: {\n                class: 'ck ck-reset_all ck-media__placeholder'\n            },\n            children: [\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: 'ck-media__placeholder__icon'\n                    },\n                    children: [icon]\n                },\n                {\n                    tag: 'a',\n                    attributes: {\n                        class: 'ck-media__placeholder__url',\n                        target: '_blank',\n                        rel: 'noopener noreferrer',\n                        href: this.url,\n                        'data-cke-tooltip-text': t('Open media in new tab')\n                    },\n                    children: [\n                        {\n                            tag: 'span',\n                            attributes: {\n                                class: 'ck-media__placeholder__url__text'\n                            },\n                            children: [this.url]\n                        }\n                    ]\n                }\n            ]\n        }).render();\n        return placeholder.outerHTML;\n    }\n    /**\n     * Returns the full URL to the specified media.\n     *\n     * @param url The URL of the media.\n     */\n    _getValidUrl(url) {\n        if (!url) {\n            return null;\n        }\n        if (url.match(/^https?/)) {\n            return url;\n        }\n        return 'https://' + url;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 64 42\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./mediaembedediting.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module media-embed/mediaembedediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport { modelToViewUrlAttributeConverter } from './converters.js';\nimport MediaEmbedCommand from './mediaembedcommand.js';\nimport MediaRegistry from './mediaregistry.js';\nimport { toMediaWidget, createMediaFigureElement } from './utils.js';\nimport '../theme/mediaembedediting.css';\n/**\n * The media embed editing feature.\n */\nexport default class MediaEmbedEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('mediaEmbed', {\n            elementName: 'oembed',\n            providers: [\n                {\n                    name: 'dailymotion',\n                    url: [\n                        /^dailymotion\\.com\\/video\\/(\\w+)/,\n                        /^dai.ly\\/(\\w+)/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; \">' +\n                            `<iframe src=\"https://www.dailymotion.com/embed/video/${id}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" width=\"480\" height=\"270\" allowfullscreen allow=\"autoplay\">' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'spotify',\n                    url: [\n                        /^open\\.spotify\\.com\\/(artist\\/\\w+)/,\n                        /^open\\.spotify\\.com\\/(album\\/\\w+)/,\n                        /^open\\.spotify\\.com\\/(track\\/\\w+)/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;\">' +\n                            `<iframe src=\"https://open.spotify.com/embed/${id}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\">' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'youtube',\n                    url: [\n                        /^(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)(?:&t=(\\d+))?/,\n                        /^(?:m\\.)?youtube\\.com\\/shorts\\/([\\w-]+)(?:\\?t=(\\d+))?/,\n                        /^(?:m\\.)?youtube\\.com\\/v\\/([\\w-]+)(?:\\?t=(\\d+))?/,\n                        /^youtube\\.com\\/embed\\/([\\w-]+)(?:\\?start=(\\d+))?/,\n                        /^youtu\\.be\\/([\\w-]+)(?:\\?t=(\\d+))?/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        const time = match[2];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">' +\n                            `<iframe src=\"https://www.youtube.com/embed/${id}${time ? `?start=${time}` : ''}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'vimeo',\n                    url: [\n                        /^vimeo\\.com\\/(\\d+)/,\n                        /^vimeo\\.com\\/[^/]+\\/[^/]+\\/video\\/(\\d+)/,\n                        /^vimeo\\.com\\/album\\/[^/]+\\/video\\/(\\d+)/,\n                        /^vimeo\\.com\\/channels\\/[^/]+\\/(\\d+)/,\n                        /^vimeo\\.com\\/groups\\/[^/]+\\/videos\\/(\\d+)/,\n                        /^vimeo\\.com\\/ondemand\\/[^/]+\\/(\\d+)/,\n                        /^player\\.vimeo\\.com\\/video\\/(\\d+)/\n                    ],\n                    html: match => {\n                        const id = match[1];\n                        return ('<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">' +\n                            `<iframe src=\"https://player.vimeo.com/video/${id}\" ` +\n                            'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n                            'frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen>' +\n                            '</iframe>' +\n                            '</div>');\n                    }\n                },\n                {\n                    name: 'instagram',\n                    url: [\n                        /^instagram\\.com\\/p\\/(\\w+)/,\n                        /^instagram\\.com\\/reel\\/(\\w+)/\n                    ]\n                },\n                {\n                    name: 'twitter',\n                    url: [\n                        /^twitter\\.com/,\n                        /^x\\.com/\n                    ]\n                },\n                {\n                    name: 'googleMaps',\n                    url: [\n                        /^google\\.com\\/maps/,\n                        /^goo\\.gl\\/maps/,\n                        /^maps\\.google\\.com/,\n                        /^maps\\.app\\.goo\\.gl/\n                    ]\n                },\n                {\n                    name: 'flickr',\n                    url: /^flickr\\.com/\n                },\n                {\n                    name: 'facebook',\n                    url: /^facebook\\.com/\n                }\n            ]\n        });\n        this.registry = new MediaRegistry(editor.locale, editor.config.get('mediaEmbed'));\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        const renderMediaPreview = editor.config.get('mediaEmbed.previewsInData');\n        const elementName = editor.config.get('mediaEmbed.elementName');\n        const registry = this.registry;\n        editor.commands.add('mediaEmbed', new MediaEmbedCommand(editor));\n        // Configure the schema.\n        schema.register('media', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['url']\n        });\n        // Model -> Data\n        conversion.for('dataDowncast').elementToStructure({\n            model: 'media',\n            view: (modelElement, { writer }) => {\n                const url = modelElement.getAttribute('url');\n                return createMediaFigureElement(writer, registry, url, {\n                    elementName,\n                    renderMediaPreview: !!url && renderMediaPreview\n                });\n            }\n        });\n        // Model -> Data (url -> data-oembed-url)\n        conversion.for('dataDowncast').add(modelToViewUrlAttributeConverter(registry, {\n            elementName,\n            renderMediaPreview\n        }));\n        // Model -> View (element)\n        conversion.for('editingDowncast').elementToStructure({\n            model: 'media',\n            view: (modelElement, { writer }) => {\n                const url = modelElement.getAttribute('url');\n                const figure = createMediaFigureElement(writer, registry, url, {\n                    elementName,\n                    renderForEditingView: true\n                });\n                return toMediaWidget(figure, writer, t('media widget'));\n            }\n        });\n        // Model -> View (url -> data-oembed-url)\n        conversion.for('editingDowncast').add(modelToViewUrlAttributeConverter(registry, {\n            elementName,\n            renderForEditingView: true\n        }));\n        // View -> Model (data-oembed-url -> url)\n        conversion.for('upcast')\n            // Upcast semantic media.\n            .elementToElement({\n            view: element => ['oembed', elementName].includes(element.name) && element.getAttribute('url') ?\n                { name: true } :\n                null,\n            model: (viewMedia, { writer }) => {\n                const url = viewMedia.getAttribute('url');\n                if (registry.hasMedia(url)) {\n                    return writer.createElement('media', { url });\n                }\n                return null;\n            }\n        })\n            // Upcast non-semantic media.\n            .elementToElement({\n            view: {\n                name: 'div',\n                attributes: {\n                    'data-oembed-url': true\n                }\n            },\n            model: (viewMedia, { writer }) => {\n                const url = viewMedia.getAttribute('data-oembed-url');\n                if (registry.hasMedia(url)) {\n                    return writer.createElement('media', { url });\n                }\n                return null;\n            }\n        })\n            // Consume `<figure class=\"media\">` elements, that were left after upcast.\n            .add(dispatcher => {\n            const converter = (evt, data, conversionApi) => {\n                if (!conversionApi.consumable.consume(data.viewItem, { name: true, classes: 'media' })) {\n                    return;\n                }\n                const { modelRange, modelCursor } = conversionApi.convertChildren(data.viewItem, data.modelCursor);\n                data.modelRange = modelRange;\n                data.modelCursor = modelCursor;\n                const modelElement = first(modelRange.getItems());\n                if (!modelElement) {\n                    // Revert consumed figure so other features can convert it.\n                    conversionApi.consumable.revert(data.viewItem, { name: true, classes: 'media' });\n                }\n            };\n            dispatcher.on('element:figure', converter);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module media-embed/automediaembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { LiveRange, LivePosition } from 'ckeditor5/src/engine.js';\nimport { Clipboard } from 'ckeditor5/src/clipboard.js';\nimport { Delete } from 'ckeditor5/src/typing.js';\nimport { Undo } from 'ckeditor5/src/undo.js';\nimport { global } from 'ckeditor5/src/utils.js';\nimport MediaEmbedEditing from './mediaembedediting.js';\nimport { insertMedia } from './utils.js';\nconst URL_REGEXP = /^(?:http(s)?:\\/\\/)?[\\w-]+\\.[\\w-.~:/?#[\\]@!$&'()*+,;=%]+$/;\n/**\n * The auto-media embed plugin. It recognizes media links in the pasted content and embeds\n * them shortly after they are injected into the document.\n */\nexport default class AutoMediaEmbed extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [Clipboard, Delete, Undo];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'AutoMediaEmbed';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._timeoutId = null;\n        this._positionToInsert = null;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const modelDocument = editor.model.document;\n        // We need to listen on `Clipboard#inputTransformation` because we need to save positions of selection.\n        // After pasting, the content between those positions will be checked for a URL that could be transformed\n        // into media.\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        this.listenTo(clipboardPipeline, 'inputTransformation', () => {\n            const firstRange = modelDocument.selection.getFirstRange();\n            const leftLivePosition = LivePosition.fromPosition(firstRange.start);\n            leftLivePosition.stickiness = 'toPrevious';\n            const rightLivePosition = LivePosition.fromPosition(firstRange.end);\n            rightLivePosition.stickiness = 'toNext';\n            modelDocument.once('change:data', () => {\n                this._embedMediaBetweenPositions(leftLivePosition, rightLivePosition);\n                leftLivePosition.detach();\n                rightLivePosition.detach();\n            }, { priority: 'high' });\n        });\n        const undoCommand = editor.commands.get('undo');\n        undoCommand.on('execute', () => {\n            if (this._timeoutId) {\n                global.window.clearTimeout(this._timeoutId);\n                this._positionToInsert.detach();\n                this._timeoutId = null;\n                this._positionToInsert = null;\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Analyzes the part of the document between provided positions in search for a URL representing media.\n     * When the URL is found, it is automatically converted into media.\n     *\n     * @param leftPosition Left position of the selection.\n     * @param rightPosition Right position of the selection.\n     */\n    _embedMediaBetweenPositions(leftPosition, rightPosition) {\n        const editor = this.editor;\n        const mediaRegistry = editor.plugins.get(MediaEmbedEditing).registry;\n        // TODO: Use marker instead of LiveRange & LivePositions.\n        const urlRange = new LiveRange(leftPosition, rightPosition);\n        const walker = urlRange.getWalker({ ignoreElementEnd: true });\n        let url = '';\n        for (const node of walker) {\n            if (node.item.is('$textProxy')) {\n                url += node.item.data;\n            }\n        }\n        url = url.trim();\n        // If the URL does not match to universal URL regexp, let's skip that.\n        if (!url.match(URL_REGEXP)) {\n            urlRange.detach();\n            return;\n        }\n        // If the URL represents a media, let's use it.\n        if (!mediaRegistry.hasMedia(url)) {\n            urlRange.detach();\n            return;\n        }\n        const mediaEmbedCommand = editor.commands.get('mediaEmbed');\n        // Do not anything if media element cannot be inserted at the current position (#47).\n        if (!mediaEmbedCommand.isEnabled) {\n            urlRange.detach();\n            return;\n        }\n        // Position won't be available in the `setTimeout` function so let's clone it.\n        this._positionToInsert = LivePosition.fromPosition(leftPosition);\n        // This action mustn't be executed if undo was called between pasting and auto-embedding.\n        this._timeoutId = global.window.setTimeout(() => {\n            editor.model.change(writer => {\n                this._timeoutId = null;\n                writer.remove(urlRange);\n                urlRange.detach();\n                let insertionPosition = null;\n                // Check if position where the media element should be inserted is still valid.\n                // Otherwise leave it as undefined to use document.selection - default behavior of model.insertContent().\n                if (this._positionToInsert.root.rootName !== '$graveyard') {\n                    insertionPosition = this._positionToInsert;\n                }\n                insertMedia(editor.model, url, insertionPosition, false);\n                this._positionToInsert.detach();\n                this._positionToInsert = null;\n            });\n            editor.plugins.get(Delete).requestUndoOnBackspace();\n        }, 100);\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./mediaform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module media-embed/ui/mediaformview\n */\nimport { LabeledFieldView, View, createLabeledInputText, submitHandler } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\n// See: #8833.\n// eslint-disable-next-line ckeditor5-rules/ckeditor-imports\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\nimport '../../theme/mediaform.css';\n/**\n * The media form view controller class.\n *\n * See {@link module:media-embed/ui/mediaformview~MediaFormView}.\n */\nexport default class MediaFormView extends View {\n    /**\n     * @param validators Form validators used by {@link #isValid}.\n     * @param locale The localization services instance.\n     */\n    constructor(validators, locale) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.set('mediaURLInputValue', '');\n        this.urlInputView = this._createUrlInput();\n        this._validators = validators;\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-media-form',\n                    'ck-responsive-form'\n                ],\n                tabindex: '-1'\n            },\n            children: [\n                this.urlInputView\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        submitHandler({\n            view: this\n        });\n        // Register the view in the focus tracker.\n        this.focusTracker.add(this.urlInputView.element);\n        // Start listening for the keystrokes coming from #element.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the {@link #urlInputView}.\n     */\n    focus() {\n        this.urlInputView.focus();\n    }\n    /**\n     * The native DOM `value` of the {@link #urlInputView} element.\n     *\n     * **Note**: Do not confuse it with the {@link module:ui/inputtext/inputtextview~InputTextView#value}\n     * which works one way only and may not represent the actual state of the component in the DOM.\n     */\n    get url() {\n        return this.urlInputView.fieldView.element.value.trim();\n    }\n    set url(url) {\n        this.urlInputView.fieldView.value = url.trim();\n    }\n    /**\n     * Validates the form and returns `false` when some fields are invalid.\n     */\n    isValid() {\n        this.resetFormStatus();\n        for (const validator of this._validators) {\n            const errorText = validator(this);\n            // One error per field is enough.\n            if (errorText) {\n                // Apply updated error.\n                this.urlInputView.errorText = errorText;\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Cleans up the supplementary error and information text of the {@link #urlInputView}\n     * bringing them back to the state when the form has been displayed for the first time.\n     *\n     * See {@link #isValid}.\n     */\n    resetFormStatus() {\n        this.urlInputView.errorText = null;\n        this.urlInputView.infoText = this._urlInputViewInfoDefault;\n    }\n    /**\n     * Creates a labeled input view.\n     *\n     * @returns Labeled input view instance.\n     */\n    _createUrlInput() {\n        const t = this.locale.t;\n        const labeledInput = new LabeledFieldView(this.locale, createLabeledInputText);\n        const inputField = labeledInput.fieldView;\n        this._urlInputViewInfoDefault = t('Paste the media URL in the input.');\n        this._urlInputViewInfoTip = t('Tip: Paste the URL into the content to embed faster.');\n        labeledInput.label = t('Media URL');\n        labeledInput.infoText = this._urlInputViewInfoDefault;\n        inputField.inputMode = 'url';\n        inputField.on('input', () => {\n            // Display the tip text only when there is some value. Otherwise fall back to the default info text.\n            labeledInput.infoText = inputField.element.value ? this._urlInputViewInfoTip : this._urlInputViewInfoDefault;\n            this.mediaURLInputValue = inputField.element.value.trim();\n        });\n        return labeledInput;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module media-embed/mediaembedui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, CssTransitionDisablerMixin, MenuBarMenuListItemButtonView, Dialog } from 'ckeditor5/src/ui.js';\nimport MediaFormView from './ui/mediaformview.js';\nimport MediaEmbedEditing from './mediaembedediting.js';\nimport mediaIcon from '../theme/icons/media.svg';\n/**\n * The media embed UI plugin.\n */\nexport default class MediaEmbedUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [MediaEmbedEditing, Dialog];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add('mediaEmbed', () => {\n            const t = this.editor.locale.t;\n            const button = this._createDialogButton(ButtonView);\n            button.tooltip = true;\n            button.label = t('Insert media');\n            return button;\n        });\n        editor.ui.componentFactory.add('menuBar:mediaEmbed', () => {\n            const t = this.editor.locale.t;\n            const button = this._createDialogButton(MenuBarMenuListItemButtonView);\n            button.label = t('Media');\n            return button;\n        });\n    }\n    /**\n     * Creates a button for menu bar that will show media embed dialog.\n     */\n    _createDialogButton(ButtonClass) {\n        const editor = this.editor;\n        const buttonView = new ButtonClass(editor.locale);\n        const command = editor.commands.get('mediaEmbed');\n        const dialogPlugin = this.editor.plugins.get('Dialog');\n        buttonView.icon = mediaIcon;\n        buttonView.bind('isEnabled').to(command, 'isEnabled');\n        buttonView.on('execute', () => {\n            if (dialogPlugin.id === 'mediaEmbed') {\n                dialogPlugin.hide();\n            }\n            else {\n                this._showDialog();\n            }\n        });\n        return buttonView;\n    }\n    _showDialog() {\n        const editor = this.editor;\n        const dialog = editor.plugins.get('Dialog');\n        const command = editor.commands.get('mediaEmbed');\n        const t = editor.locale.t;\n        if (!this._formView) {\n            const registry = editor.plugins.get(MediaEmbedEditing).registry;\n            this._formView = new (CssTransitionDisablerMixin(MediaFormView))(getFormValidators(editor.t, registry), editor.locale);\n            this._formView.on('submit', () => this._handleSubmitForm());\n        }\n        dialog.show({\n            id: 'mediaEmbed',\n            title: t('Insert media'),\n            content: this._formView,\n            isModal: true,\n            onShow: () => {\n                this._formView.url = command.value || '';\n                this._formView.resetFormStatus();\n                this._formView.urlInputView.fieldView.select();\n            },\n            actionButtons: [\n                {\n                    label: t('Cancel'),\n                    withText: true,\n                    onExecute: () => dialog.hide()\n                },\n                {\n                    label: t('Accept'),\n                    class: 'ck-button-action',\n                    withText: true,\n                    onExecute: () => this._handleSubmitForm()\n                }\n            ]\n        });\n    }\n    _handleSubmitForm() {\n        const editor = this.editor;\n        const dialog = editor.plugins.get('Dialog');\n        if (this._formView.isValid()) {\n            editor.execute('mediaEmbed', this._formView.url);\n            dialog.hide();\n            editor.editing.view.focus();\n        }\n    }\n}\nfunction getFormValidators(t, registry) {\n    return [\n        form => {\n            if (!form.url.length) {\n                return t('The URL must not be empty.');\n            }\n        },\n        form => {\n            if (!registry.hasMedia(form.url)) {\n                return t('This media URL is not supported.');\n            }\n        }\n    ];\n}\n","export default \"<svg viewBox=\\\"0 0 22 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z\\\"/><path d=\\\"M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./mediaembed.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module media-embed/mediaembed\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport MediaEmbedEditing from './mediaembedediting.js';\nimport AutoMediaEmbed from './automediaembed.js';\nimport MediaEmbedUI from './mediaembedui.js';\nimport '../theme/mediaembed.css';\n/**\n * The media embed plugin.\n *\n * For a detailed overview, check the {@glink features/media-embed Media Embed feature documentation}.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * The {@link module:media-embed/mediaembedediting~MediaEmbedEditing media embed editing feature},\n * * The {@link module:media-embed/mediaembedui~MediaEmbedUI media embed UI feature} and\n * * The {@link module:media-embed/automediaembed~AutoMediaEmbed auto-media embed feature}.\n */\nexport default class MediaEmbed extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [MediaEmbedEditing, MediaEmbedUI, AutoMediaEmbed, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbed';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module media-embed/mediaembedtoolbar\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { WidgetToolbarRepository } from 'ckeditor5/src/widget.js';\nimport { getSelectedMediaViewWidget } from './utils.js';\nimport './mediaembedconfig.js';\n/**\n * The media embed toolbar plugin. It creates a toolbar for media embed that shows up when the media element is selected.\n *\n * Instances of toolbar components (e.g. buttons) are created based on the\n * {@link module:media-embed/mediaembedconfig~MediaEmbedConfig#toolbar `media.toolbar` configuration option}.\n */\nexport default class MediaEmbedToolbar extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [WidgetToolbarRepository];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'MediaEmbedToolbar';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = editor.t;\n        const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n        widgetToolbarRepository.register('mediaEmbed', {\n            ariaLabel: t('Media toolbar'),\n            items: editor.config.get('mediaEmbed.toolbar') || [],\n            getRelatedElement: getSelectedMediaViewWidget\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module page-break/pagebreakcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { findOptimalInsertionRange } from 'ckeditor5/src/widget.js';\n/**\n * The page break command.\n *\n * The command is registered by {@link module:page-break/pagebreakediting~PageBreakEditing} as `'pageBreak'`.\n *\n * To insert a page break at the current selection, execute the command:\n *\n *\t\teditor.execute( 'pageBreak' );\n */\nexport default class PageBreakCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        this.isEnabled = isPageBreakAllowedInParent(selection, schema, model);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        model.change(writer => {\n            const pageBreakElement = writer.createElement('pageBreak');\n            model.insertObject(pageBreakElement, null, null, {\n                setSelection: 'after'\n            });\n        });\n    }\n}\n/**\n * Checks if a page break is allowed by the schema in the optimal insertion parent.\n */\nfunction isPageBreakAllowedInParent(selection, schema, model) {\n    const parent = getInsertPageBreakParent(selection, model);\n    return schema.checkChild(parent, 'pageBreak');\n}\n/**\n * Returns a node that will be used to insert a page break with `model.insertContent` to check if the page break can be placed there.\n */\nfunction getInsertPageBreakParent(selection, model) {\n    const insertionRange = findOptimalInsertionRange(selection, model);\n    const parent = insertionRange.start.parent;\n    if (parent.isEmpty && !parent.is('element', '$root')) {\n        return parent.parent;\n    }\n    return parent;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./pagebreak.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module page-break/pagebreakediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { toWidget } from 'ckeditor5/src/widget.js';\nimport PageBreakCommand from './pagebreakcommand.js';\nimport '../theme/pagebreak.css';\n/**\n * The page break editing feature.\n */\nexport default class PageBreakEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PageBreakEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const t = editor.t;\n        const conversion = editor.conversion;\n        schema.register('pageBreak', {\n            inheritAllFrom: '$blockObject'\n        });\n        conversion.for('dataDowncast').elementToStructure({\n            model: 'pageBreak',\n            view: (modelElement, { writer }) => {\n                const divElement = writer.createContainerElement('div', {\n                    class: 'page-break',\n                    // If user has no `.ck-content` styles, it should always break a page during print.\n                    style: 'page-break-after: always'\n                }, \n                // For a rationale of using span inside a div see:\n                // https://github.com/ckeditor/ckeditor5-page-break/pull/1#discussion_r328934062.\n                writer.createContainerElement('span', {\n                    style: 'display: none'\n                }));\n                return divElement;\n            }\n        });\n        conversion.for('editingDowncast').elementToStructure({\n            model: 'pageBreak',\n            view: (modelElement, { writer }) => {\n                const label = t('Page break');\n                const viewWrapper = writer.createContainerElement('div');\n                const viewLabelElement = writer.createRawElement('span', { class: 'page-break__label' }, function (domElement) {\n                    domElement.innerText = t('Page break');\n                });\n                writer.addClass('page-break', viewWrapper);\n                writer.insert(writer.createPositionAt(viewWrapper, 0), viewLabelElement);\n                return toPageBreakWidget(viewWrapper, writer, label);\n            }\n        });\n        conversion.for('upcast')\n            .elementToElement({\n            view: element => {\n                // For upcast conversion it's enough if we check for element style and verify if it's empty\n                // or contains only hidden span element.\n                const hasPageBreakBefore = element.getStyle('page-break-before') == 'always';\n                const hasPageBreakAfter = element.getStyle('page-break-after') == 'always';\n                if (!hasPageBreakBefore && !hasPageBreakAfter) {\n                    return null;\n                }\n                // The \"page break\" div accepts only single child or no child at all.\n                if (element.childCount == 1) {\n                    const viewSpan = element.getChild(0);\n                    // The child must be the \"span\" element that is not displayed.\n                    if (!viewSpan.is('element', 'span') || viewSpan.getStyle('display') != 'none') {\n                        return null;\n                    }\n                }\n                else if (element.childCount > 1) {\n                    return null;\n                }\n                return { name: true };\n            },\n            model: 'pageBreak',\n            // This conversion must be checked before <br> conversion because some editors use\n            // <br style=\"page-break-before:always\"> as a page break marker.\n            converterPriority: 'high'\n        });\n        editor.commands.add('pageBreak', new PageBreakCommand(editor));\n    }\n}\n/**\n * Converts a given {@link module:engine/view/element~Element} to a page break widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to\n *   recognize the page break widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n */\nfunction toPageBreakWidget(viewElement, writer, label) {\n    writer.setCustomProperty('pageBreak', true, viewElement);\n    return toWidget(viewElement, writer, { label });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module page-break/pagebreakui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport pageBreakIcon from '../theme/icons/pagebreak.svg';\n/**\n * The page break UI plugin.\n */\nexport default class PageBreakUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PageBreakUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Add pageBreak button to feature components.\n        editor.ui.componentFactory.add('pageBreak', () => {\n            const view = this._createButton(ButtonView);\n            view.set({\n                tooltip: true\n            });\n            return view;\n        });\n        editor.ui.componentFactory.add('menuBar:pageBreak', () => this._createButton(MenuBarMenuListItemButtonView));\n    }\n    /**\n     * Creates a button for page break command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get('pageBreak');\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Page break'),\n            icon: pageBreakIcon\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute('pageBreak');\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M3.598.687h1.5v5h-1.5zm14.5 0h1.5v5h-1.5z\\\"/><path d=\\\"M19.598 4.187v1.5h-16v-1.5zm-16 14.569h1.5v-5h-1.5zm14.5 0h1.5v-5h-1.5z\\\"/><path d=\\\"M19.598 15.256v-1.5h-16v1.5zM5.081 9h6v2h-6zm8 0h6v2h-6zm-9.483 1L0 12.5v-5z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module page-break/pagebreak\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport PageBreakEditing from './pagebreakediting.js';\nimport PageBreakUI from './pagebreakui.js';\n/**\n * The page break feature.\n *\n * It provides the possibility to insert a page break into the rich-text editor.\n *\n * For a detailed overview, check the {@glink features/page-break Page break feature} documentation.\n */\nexport default class PageBreak extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [PageBreakEditing, PageBreakUI, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PageBreak';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/utils\n */\n/**\n * Normalizes CSS length value to 'px'.\n *\n * @internal\n */\nexport function convertCssLengthToPx(value) {\n    const numericValue = parseFloat(value);\n    if (value.endsWith('pt')) {\n        // 1pt = 1in / 72\n        return toPx(numericValue * 96 / 72);\n    }\n    else if (value.endsWith('pc')) {\n        // 1pc = 12pt = 1in / 6.\n        return toPx(numericValue * 12 * 96 / 72);\n    }\n    else if (value.endsWith('in')) {\n        // 1in = 2.54cm = 96px\n        return toPx(numericValue * 96);\n    }\n    else if (value.endsWith('cm')) {\n        // 1cm = 96px / 2.54\n        return toPx(numericValue * 96 / 2.54);\n    }\n    else if (value.endsWith('mm')) {\n        // 1mm = 1cm / 10\n        return toPx(numericValue / 10 * 96 / 2.54);\n    }\n    return value;\n}\n/**\n * Returns true for value with 'px' unit.\n *\n * @internal\n */\nexport function isPx(value) {\n    return value !== undefined && value.endsWith('px');\n}\n/**\n * Returns a rounded 'px' value.\n *\n * @internal\n */\nexport function toPx(value) {\n    return value.toFixed(2).replace(/\\.?0+$/, '') + 'px';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/list\n */\nimport { Matcher, UpcastWriter } from 'ckeditor5/src/engine.js';\nimport { convertCssLengthToPx, isPx, toPx } from './utils.js';\n/**\n * Transforms Word specific list-like elements to the semantic HTML lists.\n *\n * Lists in Word are represented by block elements with special attributes like:\n *\n * ```xml\n * <p class=MsoListParagraphCxSpFirst style='mso-list:l1 level1 lfo1'>...</p> // Paragraph based list.\n * <h1 style='mso-list:l0 level1 lfo1'>...</h1> // Heading 1 based list.\n * ```\n *\n * @param documentFragment The view structure to be transformed.\n * @param stylesString Styles from which list-like elements styling will be extracted.\n */\nexport function transformListItemLikeElementsIntoLists(documentFragment, stylesString, hasMultiLevelListPlugin) {\n    if (!documentFragment.childCount) {\n        return;\n    }\n    const writer = new UpcastWriter(documentFragment.document);\n    const itemLikeElements = findAllItemLikeElements(documentFragment, writer);\n    if (!itemLikeElements.length) {\n        return;\n    }\n    const encounteredLists = {};\n    const stack = [];\n    for (const itemLikeElement of itemLikeElements) {\n        if (itemLikeElement.indent !== undefined) {\n            if (!isListContinuation(itemLikeElement)) {\n                stack.length = 0;\n            }\n            // Combined list ID for addressing encounter lists counters.\n            const originalListId = `${itemLikeElement.id}:${itemLikeElement.indent}`;\n            // Normalized list item indentation.\n            const indent = Math.min(itemLikeElement.indent - 1, stack.length);\n            // Trimming of the list stack on list ID change.\n            if (indent < stack.length && stack[indent].id !== itemLikeElement.id) {\n                stack.length = indent;\n            }\n            // Trimming of the list stack on lower indent list encountered.\n            if (indent < stack.length - 1) {\n                stack.length = indent + 1;\n            }\n            else {\n                const listStyle = detectListStyle(itemLikeElement, stylesString);\n                // Create a new OL/UL if required (greater indent or different list type).\n                if (indent > stack.length - 1 || stack[indent].listElement.name != listStyle.type) {\n                    // Check if there is some start index to set from a previous list.\n                    if (indent == 0 &&\n                        listStyle.type == 'ol' &&\n                        itemLikeElement.id !== undefined &&\n                        encounteredLists[originalListId]) {\n                        listStyle.startIndex = encounteredLists[originalListId];\n                    }\n                    const listElement = createNewEmptyList(listStyle, writer, hasMultiLevelListPlugin);\n                    // Apply list padding only if we have margins for the item and the parent item.\n                    if (isPx(itemLikeElement.marginLeft) &&\n                        (indent == 0 || isPx(stack[indent - 1].marginLeft))) {\n                        let marginLeft = itemLikeElement.marginLeft;\n                        if (indent > 0) {\n                            // Convert the padding from absolute to relative.\n                            marginLeft = toPx(parseFloat(marginLeft) - parseFloat(stack[indent - 1].marginLeft));\n                        }\n                        writer.setStyle('padding-left', marginLeft, listElement);\n                    }\n                    // Insert the new OL/UL.\n                    if (stack.length == 0) {\n                        const parent = itemLikeElement.element.parent;\n                        const index = parent.getChildIndex(itemLikeElement.element) + 1;\n                        writer.insertChild(index, listElement, parent);\n                    }\n                    else {\n                        const parentListItems = stack[indent - 1].listItemElements;\n                        writer.appendChild(listElement, parentListItems[parentListItems.length - 1]);\n                    }\n                    // Update the list stack for other items to reference.\n                    stack[indent] = {\n                        ...itemLikeElement,\n                        listElement,\n                        listItemElements: []\n                    };\n                    // Prepare list counter for start index.\n                    if (indent == 0 && itemLikeElement.id !== undefined) {\n                        encounteredLists[originalListId] = listStyle.startIndex || 1;\n                    }\n                }\n            }\n            // Use LI if it is already it or create a new LI element.\n            // https://github.com/ckeditor/ckeditor5/issues/15964\n            const listItem = itemLikeElement.element.name == 'li' ? itemLikeElement.element : writer.createElement('li');\n            // Append the LI to OL/UL.\n            writer.appendChild(listItem, stack[indent].listElement);\n            stack[indent].listItemElements.push(listItem);\n            // Increment list counter.\n            if (indent == 0 && itemLikeElement.id !== undefined) {\n                encounteredLists[originalListId]++;\n            }\n            // Append list block to LI.\n            if (itemLikeElement.element != listItem) {\n                writer.appendChild(itemLikeElement.element, listItem);\n            }\n            // Clean list block.\n            removeBulletElement(itemLikeElement.element, writer);\n            writer.removeStyle('text-indent', itemLikeElement.element); // #12361\n            writer.removeStyle('margin-left', itemLikeElement.element);\n        }\n        else {\n            // Other blocks in a list item.\n            const stackItem = stack.find(stackItem => stackItem.marginLeft == itemLikeElement.marginLeft);\n            // This might be a paragraph that has known margin, but it is not a real list block.\n            if (stackItem) {\n                const listItems = stackItem.listItemElements;\n                // Append block to LI.\n                writer.appendChild(itemLikeElement.element, listItems[listItems.length - 1]);\n                writer.removeStyle('margin-left', itemLikeElement.element);\n            }\n            else {\n                stack.length = 0;\n            }\n        }\n    }\n}\n/**\n * Removes paragraph wrapping content inside a list item.\n */\nexport function unwrapParagraphInListItem(documentFragment, writer) {\n    for (const value of writer.createRangeIn(documentFragment)) {\n        const element = value.item;\n        if (element.is('element', 'li')) {\n            // Google Docs allows for single paragraph inside LI.\n            const firstChild = element.getChild(0);\n            if (firstChild && firstChild.is('element', 'p')) {\n                writer.unwrapElement(firstChild);\n            }\n        }\n    }\n}\n/**\n * Finds all list-like elements in a given document fragment.\n *\n * @param documentFragment Document fragment in which to look for list-like nodes.\n * @returns Array of found list-like items. Each item is an object containing:\n */\nfunction findAllItemLikeElements(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const itemLikeElements = [];\n    const foundMargins = new Set();\n    for (const item of range.getItems()) {\n        // https://github.com/ckeditor/ckeditor5/issues/15964\n        if (!item.is('element') || !item.name.match(/^(p|h\\d+|li|div)$/)) {\n            continue;\n        }\n        // Try to rely on margin-left style to find paragraphs visually aligned with previously encountered list item.\n        let marginLeft = getMarginLeftNormalized(item);\n        // Ignore margin-left 0 style if there is no MsoList... class.\n        if (marginLeft !== undefined &&\n            parseFloat(marginLeft) == 0 &&\n            !Array.from(item.getClassNames()).find(className => className.startsWith('MsoList'))) {\n            marginLeft = undefined;\n        }\n        // List item or a following list item block.\n        if (item.hasStyle('mso-list') || marginLeft !== undefined && foundMargins.has(marginLeft)) {\n            const itemData = getListItemData(item);\n            itemLikeElements.push({\n                element: item,\n                id: itemData.id,\n                order: itemData.order,\n                indent: itemData.indent,\n                marginLeft\n            });\n            if (marginLeft !== undefined) {\n                foundMargins.add(marginLeft);\n            }\n        }\n        // Clear found margins as we found block after a list.\n        else {\n            foundMargins.clear();\n        }\n    }\n    return itemLikeElements;\n}\n/**\n * Whether the given element is possibly a list continuation. Previous element was wrapped into a list\n * or the current element already is inside a list.\n */\nfunction isListContinuation(currentItem) {\n    const previousSibling = currentItem.element.previousSibling;\n    if (!previousSibling) {\n        // If it's a li inside ul or ol like in here: https://github.com/ckeditor/ckeditor5/issues/15964.\n        return isList(currentItem.element.parent);\n    }\n    // Even with the same id the list does not have to be continuous (#43).\n    return isList(previousSibling);\n}\nfunction isList(element) {\n    return element.is('element', 'ol') || element.is('element', 'ul');\n}\n/**\n * Extracts list item style from the provided CSS.\n *\n * List item style is extracted from the CSS stylesheet. Each list with its specific style attribute\n * value (`mso-list:l1 level1 lfo1`) has its dedicated properties in a CSS stylesheet defined with a selector like:\n *\n * ```css\n * @list l1:level1 { ... }\n * ```\n *\n * It contains `mso-level-number-format` property which defines list numbering/bullet style. If this property\n * is not defined it means default `decimal` numbering.\n *\n * Here CSS string representation is used as `mso-level-number-format` property is an invalid CSS property\n * and will be removed during CSS parsing.\n *\n * @param listLikeItem List-like item for which list style will be searched for. Usually\n * a result of `findAllItemLikeElements()` function.\n * @param stylesString CSS stylesheet.\n * @returns An object with properties:\n *\n * * type - List type, could be `ul` or `ol`.\n * * startIndex - List start index, valid only for ordered lists.\n * * style - List style, for example: `decimal`, `lower-roman`, etc. It is extracted\n *     directly from Word stylesheet and adjusted to represent proper values for the CSS `list-style-type` property.\n *     If it cannot be adjusted, the `null` value is returned.\n */\nfunction detectListStyle(listLikeItem, stylesString) {\n    const listStyleRegexp = new RegExp(`@list l${listLikeItem.id}:level${listLikeItem.indent}\\\\s*({[^}]*)`, 'gi');\n    const listStyleTypeRegex = /mso-level-number-format:([^;]{0,100});/gi;\n    const listStartIndexRegex = /mso-level-start-at:\\s{0,100}([0-9]{0,10})\\s{0,100};/gi;\n    const legalStyleListRegex = new RegExp(`@list\\\\s+l${listLikeItem.id}:level\\\\d\\\\s*{[^{]*mso-level-text:\"%\\\\d\\\\\\\\.`, 'gi');\n    const multiLevelNumberFormatTypeRegex = new RegExp(`@list l${listLikeItem.id}:level\\\\d\\\\s*{[^{]*mso-level-number-format:`, 'gi');\n    const legalStyleListMatch = legalStyleListRegex.exec(stylesString);\n    const multiLevelNumberFormatMatch = multiLevelNumberFormatTypeRegex.exec(stylesString);\n    // Multi level lists in Word have mso-level-number-format attribute except legal lists,\n    // so we used that. If list has legal list match and doesn't has mso-level-number-format\n    // then this is legal-list.\n    const islegalStyleList = legalStyleListMatch && !multiLevelNumberFormatMatch;\n    const listStyleMatch = listStyleRegexp.exec(stylesString);\n    let listStyleType = 'decimal'; // Decimal is default one.\n    let type = 'ol'; // <ol> is default list.\n    let startIndex = null;\n    if (listStyleMatch && listStyleMatch[1]) {\n        const listStyleTypeMatch = listStyleTypeRegex.exec(listStyleMatch[1]);\n        if (listStyleTypeMatch && listStyleTypeMatch[1]) {\n            listStyleType = listStyleTypeMatch[1].trim();\n            type = listStyleType !== 'bullet' && listStyleType !== 'image' ? 'ol' : 'ul';\n        }\n        // Styles for the numbered lists are always defined in the Word CSS stylesheet.\n        // Unordered lists MAY contain a value for the Word CSS definition `mso-level-text` but sometimes\n        // this tag is missing. And because of that, we cannot depend on that. We need to predict the list style value\n        // based on the list style marker element.\n        if (listStyleType === 'bullet') {\n            const bulletedStyle = findBulletedListStyle(listLikeItem.element);\n            if (bulletedStyle) {\n                listStyleType = bulletedStyle;\n            }\n        }\n        else {\n            const listStartIndexMatch = listStartIndexRegex.exec(listStyleMatch[1]);\n            if (listStartIndexMatch && listStartIndexMatch[1]) {\n                startIndex = parseInt(listStartIndexMatch[1]);\n            }\n        }\n        if (islegalStyleList) {\n            type = 'ol';\n        }\n    }\n    return {\n        type,\n        startIndex,\n        style: mapListStyleDefinition(listStyleType),\n        isLegalStyleList: islegalStyleList\n    };\n}\n/**\n * Tries to extract the `list-style-type` value based on the marker element for bulleted list.\n */\nfunction findBulletedListStyle(element) {\n    // https://github.com/ckeditor/ckeditor5/issues/15964\n    if (element.name == 'li' && element.parent.name == 'ul' && element.parent.hasAttribute('type')) {\n        return element.parent.getAttribute('type');\n    }\n    const listMarkerElement = findListMarkerNode(element);\n    if (!listMarkerElement) {\n        return null;\n    }\n    const listMarker = listMarkerElement._data;\n    if (listMarker === 'o') {\n        return 'circle';\n    }\n    else if (listMarker === '·') {\n        return 'disc';\n    }\n    // Word returns '§' instead of '■' for the square list style.\n    else if (listMarker === '§') {\n        return 'square';\n    }\n    return null;\n}\n/**\n * Tries to find a text node that represents the marker element (list-style-type).\n */\nfunction findListMarkerNode(element) {\n    // If the first child is a text node, it is the data for the element.\n    // The list-style marker is not present here.\n    if (element.getChild(0).is('$text')) {\n        return null;\n    }\n    for (const childNode of element.getChildren()) {\n        // The list-style marker will be inside the `<span>` element. Let's ignore all non-span elements.\n        // It may happen that the `<a>` element is added as the first child. Most probably, it's an anchor element.\n        if (!childNode.is('element', 'span')) {\n            continue;\n        }\n        const textNodeOrElement = childNode.getChild(0);\n        if (!textNodeOrElement) {\n            continue;\n        }\n        // If already found the marker element, use it.\n        if (textNodeOrElement.is('$text')) {\n            return textNodeOrElement;\n        }\n        return textNodeOrElement.getChild(0);\n    }\n    /* istanbul ignore next -- @preserve */\n    return null;\n}\n/**\n * Parses the `list-style-type` value extracted directly from the Word CSS stylesheet and returns proper CSS definition.\n */\nfunction mapListStyleDefinition(value) {\n    if (value.startsWith('arabic-leading-zero')) {\n        return 'decimal-leading-zero';\n    }\n    switch (value) {\n        case 'alpha-upper':\n            return 'upper-alpha';\n        case 'alpha-lower':\n            return 'lower-alpha';\n        case 'roman-upper':\n            return 'upper-roman';\n        case 'roman-lower':\n            return 'lower-roman';\n        case 'circle':\n        case 'disc':\n        case 'square':\n            return value;\n        default:\n            return null;\n    }\n}\n/**\n * Creates a new list OL/UL element.\n */\nfunction createNewEmptyList(listStyle, writer, hasMultiLevelListPlugin) {\n    const list = writer.createElement(listStyle.type);\n    // We do not support modifying the marker for a particular list item.\n    // Set the value for the `list-style-type` property directly to the list container.\n    if (listStyle.style) {\n        writer.setStyle('list-style-type', listStyle.style, list);\n    }\n    if (listStyle.startIndex && listStyle.startIndex > 1) {\n        writer.setAttribute('start', listStyle.startIndex, list);\n    }\n    if (listStyle.isLegalStyleList && hasMultiLevelListPlugin) {\n        writer.addClass('legal-list', list);\n    }\n    return list;\n}\n/**\n * Extracts list item information from Word specific list-like element style:\n *\n * ```\n * `style=\"mso-list:l1 level1 lfo1\"`\n * ```\n *\n * where:\n *\n * ```\n * * `l1` is a list id (however it does not mean this is a continuous list - see #43),\n * * `level1` is a list item indentation level,\n * * `lfo1` is a list insertion order in a document.\n * ```\n *\n * @param element Element from which style data is extracted.\n */\nfunction getListItemData(element) {\n    const listStyle = element.getStyle('mso-list');\n    if (listStyle === undefined) {\n        return {};\n    }\n    const idMatch = listStyle.match(/(^|\\s{1,100})l(\\d+)/i);\n    const orderMatch = listStyle.match(/\\s{0,100}lfo(\\d+)/i);\n    const indentMatch = listStyle.match(/\\s{0,100}level(\\d+)/i);\n    if (idMatch && orderMatch && indentMatch) {\n        return {\n            id: idMatch[2],\n            order: orderMatch[1],\n            indent: parseInt(indentMatch[1])\n        };\n    }\n    return {\n        indent: 1 // Handle empty mso-list style as a marked for default list item.\n    };\n}\n/**\n * Removes span with a numbering/bullet from a given element.\n */\nfunction removeBulletElement(element, writer) {\n    // Matcher for finding `span` elements holding lists numbering/bullets.\n    const bulletMatcher = new Matcher({\n        name: 'span',\n        styles: {\n            'mso-list': 'Ignore'\n        }\n    });\n    const range = writer.createRangeIn(element);\n    for (const value of range) {\n        if (value.type === 'elementStart' && bulletMatcher.match(value.item)) {\n            writer.remove(value.item);\n        }\n    }\n}\n/**\n * Returns element left margin normalized to 'px' if possible.\n */\nfunction getMarginLeftNormalized(element) {\n    const value = element.getStyle('margin-left');\n    if (value === undefined || value.endsWith('px')) {\n        return value;\n    }\n    return convertCssLengthToPx(value);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/normalizers/mswordnormalizer\n */\nimport transformBookmarks from '../filters/bookmark.js';\nimport { transformListItemLikeElementsIntoLists } from '../filters/list.js';\nimport { replaceImagesSourceWithBase64 } from '../filters/image.js';\nimport removeMSAttributes from '../filters/removemsattributes.js';\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nconst msWordMatch1 = /<meta\\s*name=\"?generator\"?\\s*content=\"?microsoft\\s*word\\s*\\d+\"?\\/?>/i;\nconst msWordMatch2 = /xmlns:o=\"urn:schemas-microsoft-com/i;\n/**\n * Normalizer for the content pasted from Microsoft Word.\n */\nexport default class MSWordNormalizer {\n    /**\n     * Creates a new `MSWordNormalizer` instance.\n     *\n     * @param document View document.\n     */\n    constructor(document, hasMultiLevelListPlugin = false) {\n        this.document = document;\n        this.hasMultiLevelListPlugin = hasMultiLevelListPlugin;\n    }\n    /**\n     * @inheritDoc\n     */\n    isActive(htmlString) {\n        return msWordMatch1.test(htmlString) || msWordMatch2.test(htmlString);\n    }\n    /**\n     * @inheritDoc\n     */\n    execute(data) {\n        const writer = new UpcastWriter(this.document);\n        const { body: documentFragment, stylesString } = data._parsedData;\n        transformBookmarks(documentFragment, writer);\n        transformListItemLikeElementsIntoLists(documentFragment, stylesString, this.hasMultiLevelListPlugin);\n        replaceImagesSourceWithBase64(documentFragment, data.dataTransfer.getData('text/rtf'));\n        removeMSAttributes(documentFragment);\n        data.content = documentFragment;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Transforms `<a>` elements which are bookmarks by moving their children after the element.\n */\nexport default function transformBookmarks(documentFragment, writer) {\n    const elementsToChange = [];\n    for (const value of writer.createRangeIn(documentFragment)) {\n        const element = value.item;\n        if (element.is('element', 'a') &&\n            !element.hasAttribute('href') &&\n            (element.hasAttribute('id') || element.hasAttribute('name'))) {\n            elementsToChange.push(element);\n        }\n    }\n    for (const element of elementsToChange) {\n        const index = element.parent.getChildIndex(element) + 1;\n        const children = element.getChildren();\n        writer.insertChild(index, children, element.parent);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/image\n */\n/* globals btoa */\nimport { Matcher, UpcastWriter } from 'ckeditor5/src/engine.js';\n/**\n * Replaces source attribute of all `<img>` elements representing regular\n * images (not the Word shapes) with inlined base64 image representation extracted from RTF or Blob data.\n *\n * @param documentFragment Document fragment on which transform images.\n * @param rtfData The RTF data from which images representation will be used.\n */\nexport function replaceImagesSourceWithBase64(documentFragment, rtfData) {\n    if (!documentFragment.childCount) {\n        return;\n    }\n    const upcastWriter = new UpcastWriter(documentFragment.document);\n    const shapesIds = findAllShapesIds(documentFragment, upcastWriter);\n    removeAllImgElementsRepresentingShapes(shapesIds, documentFragment, upcastWriter);\n    insertMissingImgs(shapesIds, documentFragment, upcastWriter);\n    removeAllShapeElements(documentFragment, upcastWriter);\n    const images = findAllImageElementsWithLocalSource(documentFragment, upcastWriter);\n    if (images.length) {\n        replaceImagesFileSourceWithInlineRepresentation(images, extractImageDataFromRtf(rtfData), upcastWriter);\n    }\n}\n/**\n * Converts given HEX string to base64 representation.\n *\n * @internal\n * @param hexString The HEX string to be converted.\n * @returns Base64 representation of a given HEX string.\n */\nexport function _convertHexToBase64(hexString) {\n    return btoa(hexString.match(/\\w{2}/g).map(char => {\n        return String.fromCharCode(parseInt(char, 16));\n    }).join(''));\n}\n/**\n * Finds all shapes (`<v:*>...</v:*>`) ids. Shapes can represent images (canvas)\n * or Word shapes (which does not have RTF or Blob representation).\n *\n * @param documentFragment Document fragment from which to extract shape ids.\n * @returns Array of shape ids.\n */\nfunction findAllShapesIds(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const shapeElementsMatcher = new Matcher({\n        name: /v:(.+)/\n    });\n    const shapesIds = [];\n    for (const value of range) {\n        if (value.type != 'elementStart') {\n            continue;\n        }\n        const el = value.item;\n        const previousSibling = el.previousSibling;\n        const prevSiblingName = previousSibling && previousSibling.is('element') ? previousSibling.name : null;\n        // List of ids which should not be considered as shapes.\n        // https://github.com/ckeditor/ckeditor5/pull/15847#issuecomment-1941543983\n        const exceptionIds = ['Chart'];\n        const isElementAShape = shapeElementsMatcher.match(el);\n        const hasElementGfxdataAttribute = el.getAttribute('o:gfxdata');\n        const isPreviousSiblingAShapeType = prevSiblingName === 'v:shapetype';\n        const isElementIdInExceptionsArray = hasElementGfxdataAttribute &&\n            exceptionIds.some(item => el.getAttribute('id').includes(item));\n        // If shape element has 'o:gfxdata' attribute and is not directly before\n        // `<v:shapetype>` element it means that it represents a Word shape.\n        if (isElementAShape &&\n            hasElementGfxdataAttribute &&\n            !isPreviousSiblingAShapeType &&\n            !isElementIdInExceptionsArray) {\n            shapesIds.push(value.item.getAttribute('id'));\n        }\n    }\n    return shapesIds;\n}\n/**\n * Removes all `<img>` elements which represents Word shapes and not regular images.\n *\n * @param shapesIds Shape ids which will be checked against `<img>` elements.\n * @param documentFragment Document fragment from which to remove `<img>` elements.\n */\nfunction removeAllImgElementsRepresentingShapes(shapesIds, documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const imageElementsMatcher = new Matcher({\n        name: 'img'\n    });\n    const imgs = [];\n    for (const value of range) {\n        if (value.item.is('element') && imageElementsMatcher.match(value.item)) {\n            const el = value.item;\n            const shapes = el.getAttribute('v:shapes') ? el.getAttribute('v:shapes').split(' ') : [];\n            if (shapes.length && shapes.every(shape => shapesIds.indexOf(shape) > -1)) {\n                imgs.push(el);\n                // Shapes may also have empty source while content is paste in some browsers (Safari).\n            }\n            else if (!el.getAttribute('src')) {\n                imgs.push(el);\n            }\n        }\n    }\n    for (const img of imgs) {\n        writer.remove(img);\n    }\n}\n/**\n * Removes all shape elements (`<v:*>...</v:*>`) so they do not pollute the output structure.\n *\n * @param documentFragment Document fragment from which to remove shape elements.\n */\nfunction removeAllShapeElements(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const shapeElementsMatcher = new Matcher({\n        name: /v:(.+)/\n    });\n    const shapes = [];\n    for (const value of range) {\n        if (value.type == 'elementStart' && shapeElementsMatcher.match(value.item)) {\n            shapes.push(value.item);\n        }\n    }\n    for (const shape of shapes) {\n        writer.remove(shape);\n    }\n}\n/**\n * Inserts `img` tags if there is none after a shape.\n */\nfunction insertMissingImgs(shapeIds, documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const shapes = [];\n    for (const value of range) {\n        if (value.type == 'elementStart' && value.item.is('element', 'v:shape')) {\n            const id = value.item.getAttribute('id');\n            if (shapeIds.includes(id)) {\n                continue;\n            }\n            if (!containsMatchingImg(value.item.parent.getChildren(), id)) {\n                shapes.push(value.item);\n            }\n        }\n    }\n    for (const shape of shapes) {\n        const attrs = {\n            src: findSrc(shape)\n        };\n        if (shape.hasAttribute('alt')) {\n            attrs.alt = shape.getAttribute('alt');\n        }\n        const img = writer.createElement('img', attrs);\n        writer.insertChild(shape.index + 1, img, shape.parent);\n    }\n    function containsMatchingImg(nodes, id) {\n        for (const node of nodes) {\n            /* istanbul ignore else -- @preserve */\n            if (node.is('element')) {\n                if (node.name == 'img' && node.getAttribute('v:shapes') == id) {\n                    return true;\n                }\n                if (containsMatchingImg(node.getChildren(), id)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    function findSrc(shape) {\n        for (const child of shape.getChildren()) {\n            /* istanbul ignore else -- @preserve */\n            if (child.is('element') && child.getAttribute('src')) {\n                return child.getAttribute('src');\n            }\n        }\n    }\n}\n/**\n * Finds all `<img>` elements in a given document fragment which have source pointing to local `file://` resource.\n *\n * @param documentFragment Document fragment in which to look for `<img>` elements.\n * @returns result All found images grouped by source type.\n */\nfunction findAllImageElementsWithLocalSource(documentFragment, writer) {\n    const range = writer.createRangeIn(documentFragment);\n    const imageElementsMatcher = new Matcher({\n        name: 'img'\n    });\n    const imgs = [];\n    for (const value of range) {\n        if (value.item.is('element') && imageElementsMatcher.match(value.item)) {\n            if (value.item.getAttribute('src').startsWith('file://')) {\n                imgs.push(value.item);\n            }\n        }\n    }\n    return imgs;\n}\n/**\n * Extracts all images HEX representations from a given RTF data.\n *\n * @param rtfData The RTF data from which to extract images HEX representation.\n * @returns Array of found HEX representations. Each array item is an object containing:\n *\n * * hex Image representation in HEX format.\n * * type Type of image, `image/png` or `image/jpeg`.\n */\nfunction extractImageDataFromRtf(rtfData) {\n    if (!rtfData) {\n        return [];\n    }\n    const regexPictureHeader = /{\\\\pict[\\s\\S]+?\\\\bliptag-?\\d+(\\\\blipupi-?\\d+)?({\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s}]*?/;\n    const regexPicture = new RegExp('(?:(' + regexPictureHeader.source + '))([\\\\da-fA-F\\\\s]+)\\\\}', 'g');\n    const images = rtfData.match(regexPicture);\n    const result = [];\n    if (images) {\n        for (const image of images) {\n            let imageType = false;\n            if (image.includes('\\\\pngblip')) {\n                imageType = 'image/png';\n            }\n            else if (image.includes('\\\\jpegblip')) {\n                imageType = 'image/jpeg';\n            }\n            if (imageType) {\n                result.push({\n                    hex: image.replace(regexPictureHeader, '').replace(/[^\\da-fA-F]/g, ''),\n                    type: imageType\n                });\n            }\n        }\n    }\n    return result;\n}\n/**\n * Replaces `src` attribute value of all given images with the corresponding base64 image representation.\n *\n * @param imageElements Array of image elements which will have its source replaced.\n * @param imagesHexSources Array of images hex sources (usually the result of `extractImageDataFromRtf()` function).\n * The array should be the same length as `imageElements` parameter.\n */\nfunction replaceImagesFileSourceWithInlineRepresentation(imageElements, imagesHexSources, writer) {\n    // Assume there is an equal amount of image elements and images HEX sources so they can be matched accordingly based on existing order.\n    if (imageElements.length === imagesHexSources.length) {\n        for (let i = 0; i < imageElements.length; i++) {\n            const newSrc = `data:${imagesHexSources[i].type};base64,${_convertHexToBase64(imagesHexSources[i].hex)}`;\n            writer.setAttribute('src', newSrc, imageElements[i]);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/removemsattributes\n */\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\n/**\n * Cleanup MS attributes like styles, attributes and elements.\n *\n * @param documentFragment element `data.content` obtained from clipboard.\n */\nexport default function removeMSAttributes(documentFragment) {\n    const elementsToUnwrap = [];\n    const writer = new UpcastWriter(documentFragment.document);\n    for (const { item } of writer.createRangeIn(documentFragment)) {\n        if (!item.is('element')) {\n            continue;\n        }\n        for (const className of item.getClassNames()) {\n            if (/\\bmso/gi.exec(className)) {\n                writer.removeClass(className, item);\n            }\n        }\n        for (const styleName of item.getStyleNames()) {\n            if (/\\bmso/gi.exec(styleName)) {\n                writer.removeStyle(styleName, item);\n            }\n        }\n        if (item.is('element', 'w:sdt') ||\n            item.is('element', 'w:sdtpr') && item.isEmpty ||\n            item.is('element', 'o:p') && item.isEmpty) {\n            elementsToUnwrap.push(item);\n        }\n    }\n    for (const item of elementsToUnwrap) {\n        const itemParent = item.parent;\n        const childIndex = itemParent.getChildIndex(item);\n        writer.insertChild(childIndex, item.getChildren(), itemParent);\n        writer.remove(item);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/br\n */\nimport { DomConverter, ViewDocument } from 'ckeditor5/src/engine.js';\n/**\n * Transforms `<br>` elements that are siblings to some block element into a paragraphs.\n *\n * @param documentFragment The view structure to be transformed.\n */\nexport default function transformBlockBrsToParagraphs(documentFragment, writer) {\n    const viewDocument = new ViewDocument(writer.document.stylesProcessor);\n    const domConverter = new DomConverter(viewDocument, { renderingMode: 'data' });\n    const blockElements = domConverter.blockElements;\n    const inlineObjectElements = domConverter.inlineObjectElements;\n    const elementsToReplace = [];\n    for (const value of writer.createRangeIn(documentFragment)) {\n        const element = value.item;\n        if (element.is('element', 'br')) {\n            const nextSibling = findSibling(element, 'forward', writer, { blockElements, inlineObjectElements });\n            const previousSibling = findSibling(element, 'backward', writer, { blockElements, inlineObjectElements });\n            const nextSiblingIsBlock = isBlockViewElement(nextSibling, blockElements);\n            const previousSiblingIsBlock = isBlockViewElement(previousSibling, blockElements);\n            // If the <br> is surrounded by blocks then convert it to a paragraph:\n            // * <p>foo</p>[<br>]<p>bar</p> -> <p>foo</p>[<p></p>]<p>bar</p>\n            // * <p>foo</p>[<br>] -> <p>foo</p>[<p></p>]\n            // * [<br>]<p>foo</p> -> [<p></p>]<p>foo</p>\n            if (previousSiblingIsBlock || nextSiblingIsBlock) {\n                elementsToReplace.push(element);\n            }\n        }\n    }\n    for (const element of elementsToReplace) {\n        if (element.hasClass('Apple-interchange-newline')) {\n            writer.remove(element);\n        }\n        else {\n            writer.replace(element, writer.createElement('p'));\n        }\n    }\n}\n/**\n * Returns sibling node, threats inline elements as transparent (but should stop on an inline objects).\n */\nfunction findSibling(viewElement, direction, writer, { blockElements, inlineObjectElements }) {\n    let position = writer.createPositionAt(viewElement, direction == 'forward' ? 'after' : 'before');\n    // Find first position that is just before a first:\n    // * text node,\n    // * block element,\n    // * inline object element.\n    // It's ignoring any inline (non-object) elements like span, strong, etc.\n    position = position.getLastMatchingPosition(({ item }) => (item.is('element') &&\n        !blockElements.includes(item.name) &&\n        !inlineObjectElements.includes(item.name)), { direction });\n    return direction == 'forward' ? position.nodeAfter : position.nodeBefore;\n}\n/**\n * Returns true for view elements that are listed as block view elements.\n */\nfunction isBlockViewElement(node, blockElements) {\n    return !!node && node.is('element') && blockElements.includes(node.name);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/normalizers/googledocsnormalizer\n */\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport removeBoldWrapper from '../filters/removeboldwrapper.js';\nimport transformBlockBrsToParagraphs from '../filters/br.js';\nimport { unwrapParagraphInListItem } from '../filters/list.js';\nconst googleDocsMatch = /id=(\"|')docs-internal-guid-[-0-9a-f]+(\"|')/i;\n/**\n * Normalizer for the content pasted from Google Docs.\n */\nexport default class GoogleDocsNormalizer {\n    /**\n     * Creates a new `GoogleDocsNormalizer` instance.\n     *\n     * @param document View document.\n     */\n    constructor(document) {\n        this.document = document;\n    }\n    /**\n     * @inheritDoc\n     */\n    isActive(htmlString) {\n        return googleDocsMatch.test(htmlString);\n    }\n    /**\n     * @inheritDoc\n     */\n    execute(data) {\n        const writer = new UpcastWriter(this.document);\n        const { body: documentFragment } = data._parsedData;\n        removeBoldWrapper(documentFragment, writer);\n        unwrapParagraphInListItem(documentFragment, writer);\n        transformBlockBrsToParagraphs(documentFragment, writer);\n        data.content = documentFragment;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Removes the `<b>` tag wrapper added by Google Docs to a copied content.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeBoldWrapper(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'b') && child.getStyle('font-weight') === 'normal') {\n            const childIndex = documentFragment.getChildIndex(child);\n            writer.remove(child);\n            writer.insertChild(childIndex, child.getChildren(), documentFragment);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/normalizers/googlesheetsnormalizer\n */\nimport { UpcastWriter } from 'ckeditor5/src/engine.js';\nimport removeXmlns from '../filters/removexmlns.js';\nimport removeGoogleSheetsTag from '../filters/removegooglesheetstag.js';\nimport removeInvalidTableWidth from '../filters/removeinvalidtablewidth.js';\nimport removeStyleBlock from '../filters/removestyleblock.js';\nconst googleSheetsMatch = /<google-sheets-html-origin/i;\n/**\n * Normalizer for the content pasted from Google Sheets.\n */\nexport default class GoogleSheetsNormalizer {\n    /**\n     * Creates a new `GoogleSheetsNormalizer` instance.\n     *\n     * @param document View document.\n     */\n    constructor(document) {\n        this.document = document;\n    }\n    /**\n     * @inheritDoc\n     */\n    isActive(htmlString) {\n        return googleSheetsMatch.test(htmlString);\n    }\n    /**\n     * @inheritDoc\n     */\n    execute(data) {\n        const writer = new UpcastWriter(this.document);\n        const { body: documentFragment } = data._parsedData;\n        removeGoogleSheetsTag(documentFragment, writer);\n        removeXmlns(documentFragment, writer);\n        removeInvalidTableWidth(documentFragment, writer);\n        removeStyleBlock(documentFragment, writer);\n        data.content = documentFragment;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Removes the `<google-sheets-html-origin>` tag wrapper added by Google Sheets to a copied content.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeGoogleSheetsTag(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'google-sheets-html-origin')) {\n            const childIndex = documentFragment.getChildIndex(child);\n            writer.remove(child);\n            writer.insertChild(childIndex, child.getChildren(), documentFragment);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Removes the `xmlns` attribute from table pasted from Google Sheets.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeXmlns(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'table') && child.hasAttribute('xmlns')) {\n            writer.removeAttribute('xmlns', child);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Removes the `width:0px` style from table pasted from Google Sheets.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeInvalidTableWidth(documentFragment, writer) {\n    for (const child of documentFragment.getChildren()) {\n        if (child.is('element', 'table') && child.getStyle('width') === '0px') {\n            writer.removeStyle('width', child);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Removes `<style>` block added by Google Sheets to a copied content.\n *\n * @param documentFragment element `data.content` obtained from clipboard\n */\nexport default function removeStyleBlock(documentFragment, writer) {\n    for (const child of Array.from(documentFragment.getChildren())) {\n        if (child.is('element', 'style')) {\n            writer.remove(child);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/space\n */\n/**\n * Replaces last space preceding elements closing tag with `&nbsp;`. Such operation prevents spaces from being removed\n * during further DOM/View processing (see especially {@link module:engine/view/domconverter~DomConverter#_processDomInlineNodes}).\n * This method also takes into account Word specific `<o:p></o:p>` empty tags.\n * Additionally multiline sequences of spaces and new lines between tags are removed (see #39 and #40).\n *\n * @param htmlString HTML string in which spacing should be normalized.\n * @returns Input HTML with spaces normalized.\n */\nexport function normalizeSpacing(htmlString) {\n    // Run normalizeSafariSpaceSpans() two times to cover nested spans.\n    return normalizeSafariSpaceSpans(normalizeSafariSpaceSpans(htmlString))\n        // Remove all \\r\\n from \"spacerun spans\" so the last replace line doesn't strip all whitespaces.\n        .replace(/(<span\\s+style=['\"]mso-spacerun:yes['\"]>[^\\S\\r\\n]*?)[\\r\\n]+([^\\S\\r\\n]*<\\/span>)/g, '$1$2')\n        .replace(/<span\\s+style=['\"]mso-spacerun:yes['\"]><\\/span>/g, '')\n        .replace(/(<span\\s+style=['\"]letter-spacing:[^'\"]+?['\"]>)[\\r\\n]+(<\\/span>)/g, '$1 $2')\n        .replace(/ <\\//g, '\\u00A0</')\n        .replace(/ <o:p><\\/o:p>/g, '\\u00A0<o:p></o:p>')\n        // Remove <o:p> block filler from empty paragraph. Safari uses \\u00A0 instead of &nbsp;.\n        .replace(/<o:p>(&nbsp;|\\u00A0)<\\/o:p>/g, '')\n        // Remove all whitespaces when they contain any \\r or \\n.\n        .replace(/>([^\\S\\r\\n]*[\\r\\n]\\s*)</g, '><');\n}\n/**\n * Normalizes spacing in special Word `spacerun spans` (`<span style='mso-spacerun:yes'>\\s+</span>`) by replacing\n * all spaces with `&nbsp; ` pairs. This prevents spaces from being removed during further DOM/View processing\n * (see especially {@link module:engine/view/domconverter~DomConverter#_processDomInlineNodes}).\n *\n * @param htmlDocument Native `Document` object in which spacing should be normalized.\n */\nexport function normalizeSpacerunSpans(htmlDocument) {\n    htmlDocument.querySelectorAll('span[style*=spacerun]').forEach(el => {\n        const htmlElement = el;\n        const innerTextLength = htmlElement.innerText.length || 0;\n        htmlElement.innerText = Array(innerTextLength + 1).join('\\u00A0 ').substr(0, innerTextLength);\n    });\n}\n/**\n * Normalizes specific spacing generated by Safari when content pasted from Word (`<span class=\"Apple-converted-space\"> </span>`)\n * by replacing all spaces sequences longer than 1 space with `&nbsp; ` pairs. This prevents spaces from being removed during\n * further DOM/View processing (see especially {@link module:engine/view/domconverter~DomConverter#_processDataFromDomText}).\n *\n * This function is similar to {@link module:clipboard/utils/normalizeclipboarddata normalizeClipboardData util} but uses\n * regular spaces / &nbsp; sequence for replacement.\n *\n * @param htmlString HTML string in which spacing should be normalized\n * @returns Input HTML with spaces normalized.\n */\nfunction normalizeSafariSpaceSpans(htmlString) {\n    return htmlString.replace(/<span(?: class=\"Apple-converted-space\"|)>(\\s+)<\\/span>/g, (fullMatch, spaces) => {\n        return spaces.length === 1 ? ' ' : Array(spaces.length + 1).join('\\u00A0 ').substr(0, spaces.length);\n    });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/pastefromoffice\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ClipboardPipeline } from 'ckeditor5/src/clipboard.js';\nimport MSWordNormalizer from './normalizers/mswordnormalizer.js';\nimport GoogleDocsNormalizer from './normalizers/googledocsnormalizer.js';\nimport GoogleSheetsNormalizer from './normalizers/googlesheetsnormalizer.js';\nimport { parseHtml } from './filters/parse.js';\n/**\n * The Paste from Office plugin.\n *\n * This plugin handles content pasted from Office apps and transforms it (if necessary)\n * to a valid structure which can then be understood by the editor features.\n *\n * Transformation is made by a set of predefined {@link module:paste-from-office/normalizer~Normalizer normalizers}.\n * This plugin includes following normalizers:\n * * {@link module:paste-from-office/normalizers/mswordnormalizer~MSWordNormalizer Microsoft Word normalizer}\n * * {@link module:paste-from-office/normalizers/googledocsnormalizer~GoogleDocsNormalizer Google Docs normalizer}\n *\n * For more information about this feature check the {@glink api/paste-from-office package page}.\n */\nexport default class PasteFromOffice extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'PasteFromOffice';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ClipboardPipeline];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const clipboardPipeline = editor.plugins.get('ClipboardPipeline');\n        const viewDocument = editor.editing.view.document;\n        const normalizers = [];\n        const hasMultiLevelListPlugin = this.editor.plugins.has('MultiLevelList');\n        normalizers.push(new MSWordNormalizer(viewDocument, hasMultiLevelListPlugin));\n        normalizers.push(new GoogleDocsNormalizer(viewDocument));\n        normalizers.push(new GoogleSheetsNormalizer(viewDocument));\n        clipboardPipeline.on('inputTransformation', (evt, data) => {\n            if (data._isTransformedWithPasteFromOffice) {\n                return;\n            }\n            const codeBlock = editor.model.document.selection.getFirstPosition().parent;\n            if (codeBlock.is('element', 'codeBlock')) {\n                return;\n            }\n            const htmlString = data.dataTransfer.getData('text/html');\n            const activeNormalizer = normalizers.find(normalizer => normalizer.isActive(htmlString));\n            if (activeNormalizer) {\n                if (!data._parsedData) {\n                    data._parsedData = parseHtml(htmlString, viewDocument.stylesProcessor);\n                }\n                activeNormalizer.execute(data);\n                data._isTransformedWithPasteFromOffice = true;\n            }\n        }, { priority: 'high' });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module paste-from-office/filters/parse\n */\n/* globals DOMParser */\nimport { DomConverter, ViewDocument } from 'ckeditor5/src/engine.js';\nimport { normalizeSpacing, normalizeSpacerunSpans } from './space.js';\n/**\n * Parses the provided HTML extracting contents of `<body>` and `<style>` tags.\n *\n * @param htmlString HTML string to be parsed.\n */\nexport function parseHtml(htmlString, stylesProcessor) {\n    const domParser = new DOMParser();\n    // Remove Word specific \"if comments\" so content inside is not omitted by the parser.\n    htmlString = htmlString.replace(/<!--\\[if gte vml 1]>/g, '');\n    // Clean the <head> section of MS Windows specific tags. See https://github.com/ckeditor/ckeditor5/issues/15333.\n    // The regular expression matches the <o:SmartTagType> tag with optional attributes (with or without values).\n    htmlString = htmlString.replace(/<o:SmartTagType(?:\\s+[^\\s>=]+(?:=\"[^\"]*\")?)*\\s*\\/?>/gi, '');\n    const normalizedHtml = normalizeSpacing(cleanContentAfterBody(htmlString));\n    // Parse htmlString as native Document object.\n    const htmlDocument = domParser.parseFromString(normalizedHtml, 'text/html');\n    normalizeSpacerunSpans(htmlDocument);\n    // Get `innerHTML` first as transforming to View modifies the source document.\n    const bodyString = htmlDocument.body.innerHTML;\n    // Transform document.body to View.\n    const bodyView = documentToView(htmlDocument, stylesProcessor);\n    // Extract stylesheets.\n    const stylesObject = extractStyles(htmlDocument);\n    return {\n        body: bodyView,\n        bodyString,\n        styles: stylesObject.styles,\n        stylesString: stylesObject.stylesString\n    };\n}\n/**\n * Transforms native `Document` object into {@link module:engine/view/documentfragment~DocumentFragment}. Comments are skipped.\n *\n * @param htmlDocument Native `Document` object to be transformed.\n */\nfunction documentToView(htmlDocument, stylesProcessor) {\n    const viewDocument = new ViewDocument(stylesProcessor);\n    const domConverter = new DomConverter(viewDocument, { renderingMode: 'data' });\n    const fragment = htmlDocument.createDocumentFragment();\n    const nodes = htmlDocument.body.childNodes;\n    while (nodes.length > 0) {\n        fragment.appendChild(nodes[0]);\n    }\n    return domConverter.domToView(fragment, { skipComments: true });\n}\n/**\n * Extracts both `CSSStyleSheet` and string representation from all `style` elements available in a provided `htmlDocument`.\n *\n * @param htmlDocument Native `Document` object from which styles will be extracted.\n */\nfunction extractStyles(htmlDocument) {\n    const styles = [];\n    const stylesString = [];\n    const styleTags = Array.from(htmlDocument.getElementsByTagName('style'));\n    for (const style of styleTags) {\n        if (style.sheet && style.sheet.cssRules && style.sheet.cssRules.length) {\n            styles.push(style.sheet);\n            stylesString.push(style.innerHTML);\n        }\n    }\n    return {\n        styles,\n        stylesString: stylesString.join(' ')\n    };\n}\n/**\n * Removes leftover content from between closing </body> and closing </html> tag:\n *\n * ```html\n * <html><body><p>Foo Bar</p></body><span>Fo</span></html> -> <html><body><p>Foo Bar</p></body></html>\n * ```\n *\n * This function is used as specific browsers (Edge) add some random content after `body` tag when pasting from Word.\n * @param htmlString The HTML string to be cleaned.\n * @returns The HTML string with leftover content removed.\n */\nfunction cleanContentAfterBody(htmlString) {\n    const bodyCloseTag = '</body>';\n    const htmlCloseTag = '</html>';\n    const bodyCloseIndex = htmlString.indexOf(bodyCloseTag);\n    if (bodyCloseIndex < 0) {\n        return htmlString;\n    }\n    const htmlCloseIndex = htmlString.indexOf(htmlCloseTag, bodyCloseIndex + bodyCloseTag.length);\n    return htmlString.substring(0, bodyCloseIndex + bodyCloseTag.length) +\n        (htmlCloseIndex >= 0 ? htmlString.substring(htmlCloseIndex) : '');\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module remove-format/removeformatui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport removeFormatIcon from '../theme/icons/remove-format.svg';\nconst REMOVE_FORMAT = 'removeFormat';\n/**\n * The remove format UI plugin. It registers the `'removeFormat'` button which can be\n * used in the toolbar.\n */\nexport default class RemoveFormatUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'RemoveFormatUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.ui.componentFactory.add(REMOVE_FORMAT, () => {\n            const view = this._createButton(ButtonView);\n            view.set({\n                tooltip: true\n            });\n            return view;\n        });\n        editor.ui.componentFactory.add(`menuBar:${REMOVE_FORMAT}`, () => this._createButton(MenuBarMenuListItemButtonView));\n    }\n    /**\n     * Creates a button for remove format command to use either in toolbar or in menu bar.\n     */\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const command = editor.commands.get(REMOVE_FORMAT);\n        const view = new ButtonClass(editor.locale);\n        const t = locale.t;\n        view.set({\n            label: t('Remove Format'),\n            icon: removeFormatIcon\n        });\n        view.bind('isEnabled').to(command, 'isEnabled');\n        // Execute the command.\n        this.listenTo(view, 'execute', () => {\n            editor.execute(REMOVE_FORMAT);\n            editor.editing.view.focus();\n        });\n        return view;\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * The remove format command.\n *\n * It is used by the {@link module:remove-format/removeformat~RemoveFormat remove format feature}\n * to clear the formatting in the selection.\n *\n * ```ts\n * editor.execute( 'removeFormat' );\n * ```\n */\nexport default class RemoveFormatCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        this.isEnabled = !!first(this._getFormattingItems(model.document.selection, model.schema));\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        model.change(writer => {\n            for (const item of this._getFormattingItems(model.document.selection, schema)) {\n                if (item.is('selection')) {\n                    for (const attributeName of this._getFormattingAttributes(item, schema)) {\n                        writer.removeSelectionAttribute(attributeName);\n                    }\n                }\n                else {\n                    // Workaround for items with multiple removable attributes. See\n                    // https://github.com/ckeditor/ckeditor5-remove-format/pull/1#pullrequestreview-220515609\n                    const itemRange = writer.createRangeOn(item);\n                    for (const attributeName of this._getFormattingAttributes(item, schema)) {\n                        writer.removeAttribute(attributeName, itemRange);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Returns an iterable of items in a selection (including the selection itself) that have formatting model\n     * attributes to be removed by the feature.\n     *\n     * @param schema The schema describing the item.\n     */\n    *_getFormattingItems(selection, schema) {\n        const itemHasRemovableFormatting = (item) => {\n            return !!first(this._getFormattingAttributes(item, schema));\n        };\n        // Check formatting on selected items that are not blocks.\n        for (const curRange of selection.getRanges()) {\n            for (const item of curRange.getItems()) {\n                if (!schema.isBlock(item) && itemHasRemovableFormatting(item)) {\n                    yield item;\n                }\n            }\n        }\n        // Check formatting from selected blocks.\n        for (const block of selection.getSelectedBlocks()) {\n            if (itemHasRemovableFormatting(block)) {\n                yield block;\n            }\n        }\n        // Finally the selection might be formatted as well, so make sure to check it.\n        if (itemHasRemovableFormatting(selection)) {\n            yield selection;\n        }\n    }\n    /**\n     * Returns an iterable of formatting attributes of a given model item.\n     *\n     * **Note:** Formatting items have the `isFormatting` property set to `true`.\n     *\n     * @param schema The schema describing the item.\n     * @returns The names of formatting attributes found in a given item.\n     */\n    *_getFormattingAttributes(item, schema) {\n        for (const [attributeName] of item.getAttributes()) {\n            const attributeProperties = schema.getAttributeProperties(attributeName);\n            if (attributeProperties && attributeProperties.isFormatting) {\n                yield attributeName;\n            }\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module remove-format/removeformatediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport RemoveFormatCommand from './removeformatcommand.js';\n/**\n * The remove format editing plugin.\n *\n * It registers the {@link module:remove-format/removeformatcommand~RemoveFormatCommand removeFormat} command.\n */\nexport default class RemoveFormatEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'RemoveFormatEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.commands.add('removeFormat', new RemoveFormatCommand(editor));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module remove-format/removeformat\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport RemoveFormatUI from './removeformatui.js';\nimport RemoveFormatEditing from './removeformatediting.js';\n/**\n * The remove format plugin.\n *\n * This is a \"glue\" plugin which loads the {@link module:remove-format/removeformatediting~RemoveFormatEditing}\n * and {@link module:remove-format/removeformatui~RemoveFormatUI} plugins.\n *\n * For a detailed overview, check out the {@glink features/remove-format remove format} feature documentation.\n */\nexport default class RemoveFormat extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [RemoveFormatEditing, RemoveFormatUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'RemoveFormat';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module source-editing/utils/formathtml\n */\n/**\n * A simple (and naive) HTML code formatter that returns a formatted HTML markup that can be easily\n * parsed by human eyes. It beautifies the HTML code by adding new lines between elements that behave like block elements\n * (https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements\n * and a few more like `tr`, `td`, and similar ones) and inserting indents for nested content.\n *\n * WARNING: This function works only on a text that does not contain any indentations or new lines.\n * Calling this function on the already formatted text will damage the formatting.\n *\n * @param input An HTML string to format.\n */\nexport function formatHtml(input) {\n    // A list of block-like elements around which the new lines should be inserted, and within which\n    // the indentation of their children should be increased.\n    // The list is partially based on https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements that contains\n    // a full list of HTML block-level elements.\n    // A void element is an element that cannot have any child - https://html.spec.whatwg.org/multipage/syntax.html#void-elements.\n    // Note that <pre> element is not listed on this list to avoid breaking whitespace formatting.\n    // Note that <br> element is not listed and handled separately so no additional white spaces are injected.\n    const elementsToFormat = [\n        { name: 'address', isVoid: false },\n        { name: 'article', isVoid: false },\n        { name: 'aside', isVoid: false },\n        { name: 'blockquote', isVoid: false },\n        { name: 'details', isVoid: false },\n        { name: 'dialog', isVoid: false },\n        { name: 'dd', isVoid: false },\n        { name: 'div', isVoid: false },\n        { name: 'dl', isVoid: false },\n        { name: 'dt', isVoid: false },\n        { name: 'fieldset', isVoid: false },\n        { name: 'figcaption', isVoid: false },\n        { name: 'figure', isVoid: false },\n        { name: 'footer', isVoid: false },\n        { name: 'form', isVoid: false },\n        { name: 'h1', isVoid: false },\n        { name: 'h2', isVoid: false },\n        { name: 'h3', isVoid: false },\n        { name: 'h4', isVoid: false },\n        { name: 'h5', isVoid: false },\n        { name: 'h6', isVoid: false },\n        { name: 'header', isVoid: false },\n        { name: 'hgroup', isVoid: false },\n        { name: 'hr', isVoid: true },\n        { name: 'li', isVoid: false },\n        { name: 'main', isVoid: false },\n        { name: 'nav', isVoid: false },\n        { name: 'ol', isVoid: false },\n        { name: 'p', isVoid: false },\n        { name: 'section', isVoid: false },\n        { name: 'table', isVoid: false },\n        { name: 'tbody', isVoid: false },\n        { name: 'td', isVoid: false },\n        { name: 'th', isVoid: false },\n        { name: 'thead', isVoid: false },\n        { name: 'tr', isVoid: false },\n        { name: 'ul', isVoid: false }\n    ];\n    const elementNamesToFormat = elementsToFormat.map(element => element.name).join('|');\n    // It is not the fastest way to format the HTML markup but the performance should be good enough.\n    const lines = input\n        // Add new line before and after `<tag>` and `</tag>`.\n        // It may separate individual elements with two new lines, but this will be fixed below.\n        .replace(new RegExp(`</?(${elementNamesToFormat})( .*?)?>`, 'g'), '\\n$&\\n')\n        // Keep `<br>`s at the end of line to avoid adding additional whitespaces before `<br>`.\n        .replace(/<br[^>]*>/g, '$&\\n')\n        // Divide input string into lines, which start with either an opening tag, a closing tag, or just a text.\n        .split('\\n');\n    let indentCount = 0;\n    let isPreformattedLine = false;\n    return lines\n        .filter(line => line.length)\n        .map(line => {\n        isPreformattedLine = isPreformattedBlockLine(line, isPreformattedLine);\n        if (isNonVoidOpeningTag(line, elementsToFormat)) {\n            return indentLine(line, indentCount++);\n        }\n        if (isClosingTag(line, elementsToFormat)) {\n            return indentLine(line, --indentCount);\n        }\n        if (isPreformattedLine === 'middle' || isPreformattedLine === 'last') {\n            return line;\n        }\n        return indentLine(line, indentCount);\n    })\n        .join('\\n');\n}\n/**\n * Checks, if an argument is an opening tag of a non-void element to be formatted.\n *\n * @param line String to check.\n * @param elementsToFormat Elements to be formatted.\n */\nfunction isNonVoidOpeningTag(line, elementsToFormat) {\n    return elementsToFormat.some(element => {\n        if (element.isVoid) {\n            return false;\n        }\n        if (!new RegExp(`<${element.name}( .*?)?>`).test(line)) {\n            return false;\n        }\n        return true;\n    });\n}\n/**\n * Checks, if an argument is a closing tag.\n *\n * @param line String to check.\n * @param elementsToFormat Elements to be formatted.\n */\nfunction isClosingTag(line, elementsToFormat) {\n    return elementsToFormat.some(element => {\n        return new RegExp(`</${element.name}>`).test(line);\n    });\n}\n/**\n * Indents a line by a specified number of characters.\n *\n * @param line Line to indent.\n * @param indentCount Number of characters to use for indentation.\n * @param indentChar Indentation character(s). 4 spaces by default.\n */\nfunction indentLine(line, indentCount, indentChar = '    ') {\n    // More about Math.max() here in https://github.com/ckeditor/ckeditor5/issues/10698.\n    return `${indentChar.repeat(Math.max(0, indentCount))}${line}`;\n}\n/**\n * Checks whether a line belongs to a preformatted (`<pre>`) block.\n *\n * @param line Line to check.\n * @param isPreviousLinePreFormatted Information on whether the previous line was preformatted (and how).\n */\nfunction isPreformattedBlockLine(line, isPreviousLinePreFormatted) {\n    if (new RegExp('<pre( .*?)?>').test(line)) {\n        return 'first';\n    }\n    else if (new RegExp('</pre>').test(line)) {\n        return 'last';\n    }\n    else if (isPreviousLinePreFormatted === 'first' || isPreviousLinePreFormatted === 'middle') {\n        return 'middle';\n    }\n    else {\n        return false;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./sourceediting.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module source-editing/sourceediting\n */\n/* global console */\nimport { Plugin, PendingActions } from 'ckeditor5/src/core.js';\nimport { ButtonView, MenuBarMenuListItemButtonView } from 'ckeditor5/src/ui.js';\nimport { CKEditorError, createElement, ElementReplacer } from 'ckeditor5/src/utils.js';\nimport { formatHtml } from './utils/formathtml.js';\nimport '../theme/sourceediting.css';\nimport sourceEditingIcon from '../theme/icons/source-editing.svg';\nconst COMMAND_FORCE_DISABLE_ID = 'SourceEditingMode';\n/**\n * The source editing feature.\n *\n * It provides the possibility to view and edit the source of the document.\n *\n * For a detailed overview, check the {@glink features/source-editing source editing feature documentation} and the\n * {@glink api/source-editing package page}.\n */\nexport default class SourceEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'SourceEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [PendingActions];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.set('isSourceEditingMode', false);\n        this._elementReplacer = new ElementReplacer();\n        this._replacedRoots = new Map();\n        this._dataFromRoots = new Map();\n        editor.config.define('sourceEditing.allowCollaborationFeatures', false);\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._checkCompatibility();\n        const editor = this.editor;\n        const t = editor.locale.t;\n        editor.ui.componentFactory.add('sourceEditing', () => {\n            const buttonView = this._createButton(ButtonView);\n            buttonView.set({\n                label: t('Source'),\n                icon: sourceEditingIcon,\n                tooltip: true,\n                class: 'ck-source-editing-button'\n            });\n            return buttonView;\n        });\n        editor.ui.componentFactory.add('menuBar:sourceEditing', () => {\n            const buttonView = this._createButton(MenuBarMenuListItemButtonView);\n            buttonView.set({\n                label: t('Show source'),\n                role: 'menuitemcheckbox'\n            });\n            return buttonView;\n        });\n        // Currently, the plugin handles the source editing mode by itself only for the classic editor. To use this plugin with other\n        // integrations, listen to the `change:isSourceEditingMode` event and act accordingly.\n        if (this._isAllowedToHandleSourceEditingMode()) {\n            this.on('change:isSourceEditingMode', (evt, name, isSourceEditingMode) => {\n                if (isSourceEditingMode) {\n                    this._hideVisibleDialog();\n                    this._showSourceEditing();\n                    this._disableCommands();\n                }\n                else {\n                    this._hideSourceEditing();\n                    this._enableCommands();\n                }\n            });\n            this.on('change:isEnabled', (evt, name, isEnabled) => this._handleReadOnlyMode(!isEnabled));\n            this.listenTo(editor, 'change:isReadOnly', (evt, name, isReadOnly) => this._handleReadOnlyMode(isReadOnly));\n        }\n        // Update the editor data while calling editor.getData() in the source editing mode.\n        editor.data.on('get', () => {\n            if (this.isSourceEditingMode) {\n                this.updateEditorData();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Updates the source data in all hidden editing roots.\n     */\n    updateEditorData() {\n        const editor = this.editor;\n        const data = {};\n        for (const [rootName, domSourceEditingElementWrapper] of this._replacedRoots) {\n            const oldData = this._dataFromRoots.get(rootName);\n            const newData = domSourceEditingElementWrapper.dataset.value;\n            // Do not set the data unless some changes have been made in the meantime.\n            // This prevents empty undo steps after switching to the normal editor.\n            if (oldData !== newData) {\n                data[rootName] = newData;\n                this._dataFromRoots.set(rootName, newData);\n            }\n        }\n        if (Object.keys(data).length) {\n            editor.data.set(data, { batchType: { isUndoable: true }, suppressErrorInCollaboration: true });\n        }\n    }\n    _checkCompatibility() {\n        const editor = this.editor;\n        const allowCollaboration = editor.config.get('sourceEditing.allowCollaborationFeatures');\n        if (!allowCollaboration && editor.plugins.has('RealTimeCollaborativeEditing')) {\n            /**\n             * Source editing feature is not fully compatible with real-time collaboration,\n             * and using it may lead to data loss. Please read\n             * {@glink features/source-editing#limitations-and-incompatibilities source editing feature guide} to learn more.\n             *\n             * If you understand the possible risk of data loss, you can enable the source editing\n             * by setting the\n             * {@link module:source-editing/sourceeditingconfig~SourceEditingConfig#allowCollaborationFeatures}\n             * configuration flag to `true`.\n             *\n             * @error source-editing-incompatible-with-real-time-collaboration\n             */\n            throw new CKEditorError('source-editing-incompatible-with-real-time-collaboration', null);\n        }\n        const collaborationPluginNamesToWarn = [\n            'CommentsEditing',\n            'TrackChangesEditing',\n            'RevisionHistory'\n        ];\n        // Currently, the basic integration with Collaboration Features is to display a warning in the console.\n        //\n        // If `allowCollaboration` flag is set, do not show these warnings. If the flag is set, we assume that the integrator read\n        // appropriate section of the guide so there's no use to spam the console with warnings.\n        //\n        if (!allowCollaboration && collaborationPluginNamesToWarn.some(pluginName => editor.plugins.has(pluginName))) {\n            console.warn('You initialized the editor with the source editing feature and at least one of the collaboration features. ' +\n                'Please be advised that the source editing feature may not work, and be careful when editing document source ' +\n                'that contains markers created by the collaboration features.');\n        }\n        // Restricted Editing integration can also lead to problems. Warn the user accordingly.\n        if (editor.plugins.has('RestrictedEditingModeEditing')) {\n            console.warn('You initialized the editor with the source editing feature and restricted editing feature. ' +\n                'Please be advised that the source editing feature may not work, and be careful when editing document source ' +\n                'that contains markers created by the restricted editing feature.');\n        }\n    }\n    /**\n     * Creates source editing wrappers that replace each editing root. Each wrapper contains the document source from the corresponding\n     * root.\n     *\n     * The wrapper element contains a textarea and it solves the problem, that the textarea element cannot auto expand its height based on\n     * the content it contains. The solution is to make the textarea more like a plain div element, which expands in height as much as it\n     * needs to, in order to display the whole document source without scrolling. The wrapper element is a parent for the textarea and for\n     * the pseudo-element `::after`, that replicates the look, content, and position of the textarea. The pseudo-element replica is hidden,\n     * but it is styled to be an identical visual copy of the textarea with the same content. Then, the wrapper is a grid container and both\n     * of its children (the textarea and the `::after` pseudo-element) are positioned within a CSS grid to occupy the same grid cell. The\n     * content in the pseudo-element `::after` is set in CSS and it stretches the grid to the appropriate size based on the textarea value.\n     * Since both children occupy the same grid cell, both have always the same height.\n     */\n    _showSourceEditing() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const model = editor.model;\n        model.change(writer => {\n            writer.setSelection(null);\n            writer.removeSelectionAttribute(model.document.selection.getAttributeKeys());\n        });\n        // It is not needed to iterate through all editing roots, as currently the plugin supports only the Classic Editor with a single\n        // main root, but this code may help understand and use this feature in external integrations.\n        for (const [rootName, domRootElement] of editingView.domRoots) {\n            const data = formatSource(editor.data.get({ rootName }));\n            const domSourceEditingElementTextarea = createElement(domRootElement.ownerDocument, 'textarea', {\n                rows: '1',\n                'aria-label': 'Source code editing area'\n            });\n            const domSourceEditingElementWrapper = createElement(domRootElement.ownerDocument, 'div', {\n                class: 'ck-source-editing-area',\n                'data-value': data\n            }, [domSourceEditingElementTextarea]);\n            domSourceEditingElementTextarea.value = data;\n            // Setting a value to textarea moves the input cursor to the end. We want the selection at the beginning.\n            domSourceEditingElementTextarea.setSelectionRange(0, 0);\n            // Bind the textarea's value to the wrapper's `data-value` property. Each change of the textarea's value updates the\n            // wrapper's `data-value` property.\n            domSourceEditingElementTextarea.addEventListener('input', () => {\n                domSourceEditingElementWrapper.dataset.value = domSourceEditingElementTextarea.value;\n                editor.ui.update();\n            });\n            editingView.change(writer => {\n                const viewRoot = editingView.document.getRoot(rootName);\n                writer.addClass('ck-hidden', viewRoot);\n            });\n            // Register the element so it becomes available for Alt+F10 and Esc navigation.\n            editor.ui.setEditableElement('sourceEditing:' + rootName, domSourceEditingElementTextarea);\n            this._replacedRoots.set(rootName, domSourceEditingElementWrapper);\n            this._elementReplacer.replace(domRootElement, domSourceEditingElementWrapper);\n            this._dataFromRoots.set(rootName, data);\n        }\n        this._focusSourceEditing();\n    }\n    /**\n     * Restores all hidden editing roots and sets the source data in them.\n     */\n    _hideSourceEditing() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        this.updateEditorData();\n        editingView.change(writer => {\n            for (const [rootName] of this._replacedRoots) {\n                writer.removeClass('ck-hidden', editingView.document.getRoot(rootName));\n            }\n        });\n        this._elementReplacer.restore();\n        this._replacedRoots.clear();\n        this._dataFromRoots.clear();\n        editingView.focus();\n    }\n    /**\n     * Focuses the textarea containing document source from the first editing root.\n     */\n    _focusSourceEditing() {\n        const editor = this.editor;\n        const [domSourceEditingElementWrapper] = this._replacedRoots.values();\n        const textarea = domSourceEditingElementWrapper.querySelector('textarea');\n        // The FocusObserver was disabled by View.render() while the DOM root was getting hidden and the replacer\n        // revealed the textarea. So it couldn't notice that the DOM root got blurred in the process.\n        // Let's sync this state manually here because otherwise Renderer will attempt to render selection\n        // in an invisible DOM root.\n        editor.editing.view.document.isFocused = false;\n        textarea.focus();\n    }\n    /**\n     * Disables all commands.\n     */\n    _disableCommands() {\n        const editor = this.editor;\n        for (const command of editor.commands.commands()) {\n            command.forceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n        // Comments archive UI plugin will be disabled manually too.\n        if (editor.plugins.has('CommentsArchiveUI')) {\n            editor.plugins.get('CommentsArchiveUI').forceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n    }\n    /**\n     * Clears forced disable for all commands, that was previously set through {@link #_disableCommands}.\n     */\n    _enableCommands() {\n        const editor = this.editor;\n        for (const command of editor.commands.commands()) {\n            command.clearForceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n        // Comments archive UI plugin will be enabled manually too.\n        if (editor.plugins.has('CommentsArchiveUI')) {\n            editor.plugins.get('CommentsArchiveUI').clearForceDisabled(COMMAND_FORCE_DISABLE_ID);\n        }\n    }\n    /**\n     * Adds or removes the `readonly` attribute from the textarea from all roots, if document source mode is active.\n     *\n     * @param isReadOnly Indicates whether all textarea elements should be read-only.\n     */\n    _handleReadOnlyMode(isReadOnly) {\n        if (!this.isSourceEditingMode) {\n            return;\n        }\n        for (const [, domSourceEditingElementWrapper] of this._replacedRoots) {\n            domSourceEditingElementWrapper.querySelector('textarea').readOnly = isReadOnly;\n        }\n    }\n    /**\n     * Checks, if the plugin is allowed to handle the source editing mode by itself. Currently, the source editing mode is supported only\n     * for the {@link module:editor-classic/classiceditor~ClassicEditor classic editor}.\n     */\n    _isAllowedToHandleSourceEditingMode() {\n        const editor = this.editor;\n        const editable = editor.ui.view.editable;\n        // Checks, if the editor's editable belongs to the editor's DOM tree.\n        return editable && !editable.hasExternalElement;\n    }\n    /**\n     * If any {@link module:ui/dialog/dialogview~DialogView editor dialog} is currently visible, hide it.\n     */\n    _hideVisibleDialog() {\n        if (this.editor.plugins.has('Dialog')) {\n            const dialogPlugin = this.editor.plugins.get('Dialog');\n            if (dialogPlugin.isOpen) {\n                dialogPlugin.hide();\n            }\n        }\n    }\n    _createButton(ButtonClass) {\n        const editor = this.editor;\n        const buttonView = new ButtonClass(editor.locale);\n        buttonView.set({\n            withText: true,\n            isToggleable: true\n        });\n        buttonView.bind('isOn').to(this, 'isSourceEditingMode');\n        // The button should be disabled if one of the following conditions is met:\n        buttonView.bind('isEnabled').to(this, 'isEnabled', editor, 'isReadOnly', editor.plugins.get(PendingActions), 'hasAny', (isEnabled, isEditorReadOnly, hasAnyPendingActions) => {\n            // (1) The plugin itself is disabled.\n            if (!isEnabled) {\n                return false;\n            }\n            // (2) The editor is in read-only mode.\n            if (isEditorReadOnly) {\n                return false;\n            }\n            // (3) Any pending action is scheduled. It may change the model, so modifying the document source should be prevented\n            // until the model is finally set.\n            if (hasAnyPendingActions) {\n                return false;\n            }\n            return true;\n        });\n        this.listenTo(buttonView, 'execute', () => {\n            this.isSourceEditingMode = !this.isSourceEditingMode;\n        });\n        return buttonView;\n    }\n}\n/**\n * Formats the content for a better readability.\n *\n * For a non-HTML source the unchanged input string is returned.\n *\n * @param input Input string to check.\n */\nfunction formatSource(input) {\n    if (!isHtml(input)) {\n        return input;\n    }\n    return formatHtml(input);\n}\n/**\n * Checks, if the document source is HTML. It is sufficient to just check the first character from the document data.\n *\n * @param input Input string to check.\n */\nfunction isHtml(input) {\n    return input.startsWith('<');\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m12.5 0 5 4.5v15.003h-16V0h11zM3 1.5v3.25l-1.497 1-.003 8 1.5 1v3.254L7.685 18l-.001 1.504H17.5V8.002L16 9.428l-.004-4.22-4.222-3.692L3 1.5z\\\"/><path d=\\\"M4.06 6.64a.75.75 0 0 1 .958 1.15l-.085.07L2.29 9.75l2.646 1.89c.302.216.4.62.232.951l-.058.095a.75.75 0 0 1-.951.232l-.095-.058-3.5-2.5V9.14l3.496-2.5zm4.194 6.22a.75.75 0 0 1-.958-1.149l.085-.07 2.643-1.89-2.646-1.89a.75.75 0 0 1-.232-.952l.058-.095a.75.75 0 0 1 .95-.232l.096.058 3.5 2.5v1.22l-3.496 2.5zm7.644-.836 2.122 2.122-5.825 5.809-2.125-.005.003-2.116zm2.539-1.847 1.414 1.414a.5.5 0 0 1 0 .707l-1.06 1.06-2.122-2.12 1.061-1.061a.5.5 0 0 1 .707 0z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { ButtonView, View } from 'ckeditor5/src/ui.js';\n/**\n * A class representing an individual button (style) in the grid. Renders a rich preview of the style.\n */\nexport default class StyleGridButtonView extends ButtonView {\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegridbuttonview~StyleGridButtonView} class.\n     *\n     * @param locale The localization services instance.\n     * @param styleDefinition Definition of the style.\n     */\n    constructor(locale, styleDefinition) {\n        super(locale);\n        this.styleDefinition = styleDefinition;\n        this.previewView = this._createPreview();\n        this.set({\n            label: styleDefinition.name,\n            class: 'ck-style-grid__button',\n            withText: true\n        });\n        this.extendTemplate({\n            attributes: {\n                role: 'option'\n            }\n        });\n        this.children.add(this.previewView, 0);\n    }\n    /**\n     * Creates the view representing the preview of the style.\n     */\n    _createPreview() {\n        const previewView = new View(this.locale);\n        previewView.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-reset_all-excluded',\n                    'ck-style-grid__button__preview',\n                    'ck-content'\n                ],\n                // The preview \"AaBbCcDdEeFfGgHhIiJj\" should not be read by screen readers because it is purely presentational.\n                'aria-hidden': 'true'\n            },\n            children: [\n                this.styleDefinition.previewTemplate\n            ]\n        });\n        return previewView;\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./stylegrid.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/ui/stylegridview\n */\nimport { View, addKeyboardHandlingForGrid } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport StyleGridButtonView from './stylegridbuttonview.js';\nimport '../../theme/stylegrid.css';\n/**\n * A class representing a grid of styles ({@link module:style/ui/stylegridbuttonview~StyleGridButtonView buttons}).\n * Allows users to select a style.\n */\nexport default class StyleGridView extends View {\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegridview~StyleGridView} class.\n     *\n     * @param locale The localization services instance.\n     * @param styleDefinitions Definitions of the styles.\n     */\n    constructor(locale, styleDefinitions) {\n        super(locale);\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.set('activeStyles', []);\n        this.set('enabledStyles', []);\n        this.children = this.createCollection();\n        this.children.delegate('execute').to(this);\n        for (const definition of styleDefinitions) {\n            const gridTileView = new StyleGridButtonView(locale, definition);\n            this.children.add(gridTileView);\n        }\n        this.on('change:activeStyles', () => {\n            for (const child of this.children) {\n                child.isOn = this.activeStyles.includes(child.styleDefinition.name);\n            }\n        });\n        this.on('change:enabledStyles', () => {\n            for (const child of this.children) {\n                child.isEnabled = this.enabledStyles.includes(child.styleDefinition.name);\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-style-grid'\n                ],\n                role: 'listbox'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        for (const child of this.children) {\n            this.focusTracker.add(child.element);\n        }\n        addKeyboardHandlingForGrid({\n            keystrokeHandler: this.keystrokes,\n            focusTracker: this.focusTracker,\n            gridItems: this.children,\n            numberOfColumns: 3,\n            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection\n        });\n        // Start listening for the keystrokes coming from the grid view.\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Focuses the first style button in the grid.\n     */\n    focus() {\n        this.children.first.focus();\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./stylegroup.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/ui/stylegroupview\n */\nimport { LabelView, View } from 'ckeditor5/src/ui.js';\nimport StyleGridView from './stylegridview.js';\nimport '../../theme/stylegroup.css';\n/**\n * A class representing a group of styles (e.g. \"block\" or \"inline\").\n *\n * Renders a {@link module:style/ui/stylegridview~StyleGridView style grid} and a label.\n */\nexport default class StyleGroupView extends View {\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegroupview~StyleGroupView} class.\n     *\n     * @param locale The localization services instance.\n     * @param label The localized label of the group.\n     * @param styleDefinitions Definitions of the styles in the group.\n     */\n    constructor(locale, label, styleDefinitions) {\n        super(locale);\n        this.labelView = new LabelView(locale);\n        this.labelView.text = label;\n        this.gridView = new StyleGridView(locale, styleDefinitions);\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-style-panel__style-group'\n                ],\n                role: 'group',\n                'aria-labelledby': this.labelView.id\n            },\n            children: [\n                this.labelView,\n                this.gridView\n            ]\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./stylepanel.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/ui/stylepanelview\n */\nimport { FocusCycler, View, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport StyleGroupView from './stylegroupview.js';\nimport '../../theme/stylepanel.css';\n/**\n * A class representing a panel with available content styles. It renders styles in button grids, grouped\n * in categories.\n */\nexport default class StylePanelView extends View {\n    /**\n     * Creates an instance of the {@link module:style/ui/stylegroupview~StyleGroupView} class.\n     *\n     * @param locale The localization services instance.\n     * @param styleDefinitions Normalized definitions of the styles.\n     */\n    constructor(locale, styleDefinitions) {\n        super(locale);\n        const t = locale.t;\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.children = this.createCollection();\n        this.blockStylesGroupView = new StyleGroupView(locale, t('Block styles'), styleDefinitions.block);\n        this.inlineStylesGroupView = new StyleGroupView(locale, t('Text styles'), styleDefinitions.inline);\n        this.set('activeStyles', []);\n        this.set('enabledStyles', []);\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate style groups backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: ['shift + tab'],\n                // Navigate style groups forward using the <kbd>Tab</kbd> key.\n                focusNext: ['tab']\n            }\n        });\n        if (styleDefinitions.block.length) {\n            this.children.add(this.blockStylesGroupView);\n        }\n        if (styleDefinitions.inline.length) {\n            this.children.add(this.inlineStylesGroupView);\n        }\n        this.blockStylesGroupView.gridView.delegate('execute').to(this);\n        this.inlineStylesGroupView.gridView.delegate('execute').to(this);\n        this.blockStylesGroupView.gridView\n            .bind('activeStyles', 'enabledStyles')\n            .to(this, 'activeStyles', 'enabledStyles');\n        this.inlineStylesGroupView.gridView\n            .bind('activeStyles', 'enabledStyles')\n            .to(this, 'activeStyles', 'enabledStyles');\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-style-panel'\n                ]\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        // Register the views as focusable.\n        this._focusables.add(this.blockStylesGroupView.gridView);\n        this._focusables.add(this.inlineStylesGroupView.gridView);\n        // Register the views in the focus tracker.\n        this.focusTracker.add(this.blockStylesGroupView.gridView.element);\n        this.focusTracker.add(this.inlineStylesGroupView.gridView.element);\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Focuses the first focusable element in the panel.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Focuses the last focusable element in the panel.\n     */\n    focusLast() {\n        this._focusCycler.focusLast();\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/styleutils\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { isObject } from 'lodash-es';\n// These are intermediate element names that can't be rendered as style preview because they don't make sense standalone.\nconst NON_PREVIEWABLE_ELEMENT_NAMES = [\n    'caption', 'colgroup', 'dd', 'dt', 'figcaption', 'legend', 'li', 'optgroup', 'option', 'rp',\n    'rt', 'summary', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr'\n];\nexport default class StyleUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.decorate('isStyleEnabledForBlock');\n        this.decorate('isStyleActiveForBlock');\n        this.decorate('getAffectedBlocks');\n        this.decorate('isStyleEnabledForInlineSelection');\n        this.decorate('isStyleActiveForInlineSelection');\n        this.decorate('getAffectedInlineSelectable');\n        this.decorate('getStylePreview');\n        this.decorate('configureGHSDataFilter');\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this._htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n    }\n    /**\n     * Normalizes {@link module:style/styleconfig~StyleConfig#definitions} in the configuration of the styles feature.\n     * The structure of normalized styles looks as follows:\n     *\n     * ```ts\n     * {\n     * \tblock: [\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t...\n     * \t],\n     * \tinline: [\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t<module:style/style~StyleDefinition>,\n     * \t\t...\n     * \t]\n     * }\n     * ```\n     *\n     * @returns An object with normalized style definitions grouped into `block` and `inline` categories (arrays).\n     */\n    normalizeConfig(dataSchema, styleDefinitions = []) {\n        const normalizedDefinitions = {\n            block: [],\n            inline: []\n        };\n        for (const definition of styleDefinitions) {\n            const modelElements = [];\n            const ghsAttributes = [];\n            for (const ghsDefinition of dataSchema.getDefinitionsForView(definition.element)) {\n                const appliesToBlock = 'appliesToBlock' in ghsDefinition ? ghsDefinition.appliesToBlock : false;\n                if (ghsDefinition.isBlock || appliesToBlock) {\n                    if (typeof appliesToBlock == 'string') {\n                        modelElements.push(appliesToBlock);\n                    }\n                    else if (ghsDefinition.isBlock) {\n                        const ghsBlockDefinition = ghsDefinition;\n                        modelElements.push(ghsDefinition.model);\n                        if (ghsBlockDefinition.paragraphLikeModel) {\n                            modelElements.push(ghsBlockDefinition.paragraphLikeModel);\n                        }\n                    }\n                }\n                else {\n                    ghsAttributes.push(ghsDefinition.model);\n                }\n            }\n            const previewTemplate = this.getStylePreview(definition, [\n                { text: 'AaBbCcDdEeFfGgHhIiJj' }\n            ]);\n            if (modelElements.length) {\n                normalizedDefinitions.block.push({\n                    ...definition,\n                    previewTemplate,\n                    modelElements,\n                    isBlock: true\n                });\n            }\n            else {\n                normalizedDefinitions.inline.push({\n                    ...definition,\n                    previewTemplate,\n                    ghsAttributes\n                });\n            }\n        }\n        return normalizedDefinitions;\n    }\n    /**\n     * Verifies if the given style is applicable to the provided block element.\n     *\n     * @internal\n     */\n    isStyleEnabledForBlock(definition, block) {\n        const model = this.editor.model;\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        if (!model.schema.checkAttribute(block, attributeName)) {\n            return false;\n        }\n        return definition.modelElements.includes(block.name);\n    }\n    /**\n     * Returns true if the given style is applied to the specified block element.\n     *\n     * @internal\n     */\n    isStyleActiveForBlock(definition, block) {\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        const ghsAttributeValue = block.getAttribute(attributeName);\n        return this.hasAllClasses(ghsAttributeValue, definition.classes);\n    }\n    /**\n     * Returns an array of block elements that style should be applied to.\n     *\n     * @internal\n     */\n    getAffectedBlocks(definition, block) {\n        if (definition.modelElements.includes(block.name)) {\n            return [block];\n        }\n        return null;\n    }\n    /**\n     * Verifies if the given style is applicable to the provided document selection.\n     *\n     * @internal\n     */\n    isStyleEnabledForInlineSelection(definition, selection) {\n        const model = this.editor.model;\n        for (const ghsAttributeName of definition.ghsAttributes) {\n            if (model.schema.checkAttributeInSelection(selection, ghsAttributeName)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns true if the given style is applied to the specified document selection.\n     *\n     * @internal\n     */\n    isStyleActiveForInlineSelection(definition, selection) {\n        for (const ghsAttributeName of definition.ghsAttributes) {\n            const ghsAttributeValue = this._getValueFromFirstAllowedNode(selection, ghsAttributeName);\n            if (this.hasAllClasses(ghsAttributeValue, definition.classes)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns a selectable that given style should be applied to.\n     *\n     * @internal\n     */\n    getAffectedInlineSelectable(definition, selection) {\n        return selection;\n    }\n    /**\n     * Returns the `TemplateDefinition` used by styles dropdown to render style preview.\n     *\n     * @internal\n     */\n    getStylePreview(definition, children) {\n        const { element, classes } = definition;\n        return {\n            tag: isPreviewable(element) ? element : 'div',\n            attributes: {\n                class: classes\n            },\n            children\n        };\n    }\n    /**\n     * Verifies if all classes are present in the given GHS attribute.\n     *\n     * @internal\n     */\n    hasAllClasses(ghsAttributeValue, classes) {\n        return isObject(ghsAttributeValue) &&\n            hasClassesProperty(ghsAttributeValue) &&\n            classes.every(className => ghsAttributeValue.classes.includes(className));\n    }\n    /**\n     * This is where the styles feature configures the GHS feature. This method translates normalized\n     * {@link module:style/styleconfig~StyleDefinition style definitions} to\n     * {@link module:engine/view/matcher~MatcherObjectPattern matcher patterns} and feeds them to the GHS\n     * {@link module:html-support/datafilter~DataFilter} plugin.\n     *\n     * @internal\n     */\n    configureGHSDataFilter({ block, inline }) {\n        const ghsDataFilter = this.editor.plugins.get('DataFilter');\n        ghsDataFilter.loadAllowedConfig(block.map(normalizedStyleDefinitionToMatcherPattern));\n        ghsDataFilter.loadAllowedConfig(inline.map(normalizedStyleDefinitionToMatcherPattern));\n    }\n    /**\n     * Checks the attribute value of the first node in the selection that allows the attribute.\n     * For the collapsed selection, returns the selection attribute.\n     *\n     * @param selection The document selection.\n     * @param attributeName Name of the GHS attribute.\n     * @returns The attribute value.\n     */\n    _getValueFromFirstAllowedNode(selection, attributeName) {\n        const model = this.editor.model;\n        const schema = model.schema;\n        if (selection.isCollapsed) {\n            return selection.getAttribute(attributeName);\n        }\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if (schema.checkAttribute(item, attributeName)) {\n                    return item.getAttribute(attributeName);\n                }\n            }\n        }\n        return null;\n    }\n}\n/**\n * Checks if given object has `classes` property which is an array.\n *\n * @param obj Object to check.\n */\nfunction hasClassesProperty(obj) {\n    return Boolean(obj.classes) && Array.isArray(obj.classes);\n}\n/**\n * Decides whether an element should be created in the preview or a substitute `<div>` should\n * be used instead. This avoids previewing a standalone `<td>`, `<li>`, etc. without a parent.\n *\n * @param elementName Name of the element\n * @returns Boolean indicating whether the element can be rendered.\n */\nfunction isPreviewable(elementName) {\n    return !NON_PREVIEWABLE_ELEMENT_NAMES.includes(elementName);\n}\n/**\n * Translates a normalized style definition to a view matcher pattern.\n */\nfunction normalizedStyleDefinitionToMatcherPattern({ element, classes }) {\n    return {\n        name: element,\n        classes\n    };\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./style.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/styleui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { createDropdown } from 'ckeditor5/src/ui.js';\nimport StylePanelView from './ui/stylepanelview.js';\nimport StyleUtils from './styleutils.js';\nimport '../theme/style.css';\n/**\n * The UI plugin of the style feature .\n *\n * It registers the `'style'` UI dropdown in the editor's {@link module:ui/componentfactory~ComponentFactory component factory}\n * that displays a grid of styles and allows changing styles of the content.\n */\nexport default class StyleUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const dataSchema = editor.plugins.get('DataSchema');\n        const styleUtils = editor.plugins.get('StyleUtils');\n        const styleDefinitions = editor.config.get('style.definitions');\n        const normalizedStyleDefinitions = styleUtils.normalizeConfig(dataSchema, styleDefinitions);\n        // Add the dropdown to the component factory.\n        editor.ui.componentFactory.add('style', locale => {\n            const t = locale.t;\n            const dropdown = createDropdown(locale);\n            const styleCommand = editor.commands.get('style');\n            dropdown.once('change:isOpen', () => {\n                const panelView = new StylePanelView(locale, normalizedStyleDefinitions);\n                // Put the styles panel is the dropdown.\n                dropdown.panelView.children.add(panelView);\n                // Close the dropdown when a style is selected in the styles panel.\n                panelView.delegate('execute').to(dropdown);\n                // Bind the state of the styles panel to the command.\n                panelView.bind('activeStyles').to(styleCommand, 'value');\n                panelView.bind('enabledStyles').to(styleCommand, 'enabledStyles');\n            });\n            // The entire dropdown will be disabled together with the command (e.g. when the editor goes read-only).\n            dropdown.bind('isEnabled').to(styleCommand);\n            // This dropdown has no icon. It displays text label depending on the selection.\n            dropdown.buttonView.withText = true;\n            // The label of the dropdown is dynamic and depends on how many styles are active at a time.\n            dropdown.buttonView.bind('label').to(styleCommand, 'value', value => {\n                if (value.length > 1) {\n                    return t('Multiple styles');\n                }\n                else if (value.length === 1) {\n                    return value[0];\n                }\n                else {\n                    return t('Styles');\n                }\n            });\n            // The dropdown has a static CSS class for easy customization. There's another CSS class\n            // that gets displayed when multiple styles are active at a time allowing visual customization of\n            // the label.\n            dropdown.bind('class').to(styleCommand, 'value', value => {\n                const classes = [\n                    'ck-style-dropdown'\n                ];\n                if (value.length > 1) {\n                    classes.push('ck-style-dropdown_multiple-active');\n                }\n                return classes.join(' ');\n            });\n            // Execute the command when a style is selected in the styles panel.\n            // Also focus the editable after executing the command.\n            // It overrides a default behaviour where the focus is moved to the dropdown button (#12125).\n            dropdown.on('execute', evt => {\n                editor.execute('style', { styleName: evt.source.styleDefinition.name });\n                editor.editing.view.focus();\n            });\n            return dropdown;\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { logWarning, first } from 'ckeditor5/src/utils.js';\nimport StyleUtils from './styleutils.js';\n/**\n * Style command.\n *\n * Applies and removes styles from selection and elements.\n */\nexport default class StyleCommand extends Command {\n    /**\n     * Creates an instance of the command.\n     *\n     * @param editor Editor on which this command will be used.\n     * @param styleDefinitions Normalized definitions of the styles.\n     */\n    constructor(editor, styleDefinitions) {\n        super(editor);\n        this.set('value', []);\n        this.set('enabledStyles', []);\n        this._styleDefinitions = styleDefinitions;\n        this._styleUtils = this.editor.plugins.get(StyleUtils);\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const value = new Set();\n        const enabledStyles = new Set();\n        // Inline styles.\n        for (const definition of this._styleDefinitions.inline) {\n            // Check if this inline style is enabled.\n            if (this._styleUtils.isStyleEnabledForInlineSelection(definition, selection)) {\n                enabledStyles.add(definition.name);\n            }\n            // Check if this inline style is active.\n            if (this._styleUtils.isStyleActiveForInlineSelection(definition, selection)) {\n                value.add(definition.name);\n            }\n        }\n        // Block styles.\n        const firstBlock = first(selection.getSelectedBlocks()) || selection.getFirstPosition().parent;\n        if (firstBlock) {\n            const ancestorBlocks = firstBlock.getAncestors({ includeSelf: true, parentFirst: true });\n            for (const block of ancestorBlocks) {\n                if (block.is('rootElement')) {\n                    break;\n                }\n                for (const definition of this._styleDefinitions.block) {\n                    // Check if this block style is enabled.\n                    if (!this._styleUtils.isStyleEnabledForBlock(definition, block)) {\n                        continue;\n                    }\n                    enabledStyles.add(definition.name);\n                    // Check if this block style is active.\n                    if (this._styleUtils.isStyleActiveForBlock(definition, block)) {\n                        value.add(definition.name);\n                    }\n                }\n                // E.g. reached a model table when the selection is in a cell. The command should not modify\n                // ancestors of a table.\n                if (model.schema.isObject(block)) {\n                    break;\n                }\n            }\n        }\n        this.enabledStyles = Array.from(enabledStyles).sort();\n        this.isEnabled = this.enabledStyles.length > 0;\n        this.value = this.isEnabled ? Array.from(value).sort() : [];\n    }\n    /**\n     * Executes the command &ndash; applies the style classes to the selection or removes it from the selection.\n     *\n     * If the command value already contains the requested style, it will remove the style classes. Otherwise, it will set it.\n     *\n     * The execution result differs, depending on the {@link module:engine/model/document~Document#selection} and the\n     * style type (inline or block):\n     *\n     * * When applying inline styles:\n     *   * If the selection is on a range, the command applies the style classes to all nodes in that range.\n     *   * If the selection is collapsed in a non-empty node, the command applies the style classes to the\n     * {@link module:engine/model/document~Document#selection}.\n     *\n     * * When applying block styles:\n     *   * If the selection is on a range, the command applies the style classes to the nearest block parent element.\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.styleName Style name matching the one defined in the\n     * {@link module:style/styleconfig~StyleConfig#definitions configuration}.\n     * @param options.forceValue Whether the command should add given style (`true`) or remove it (`false`) from the selection.\n     * If not set (default), the command will toggle the style basing on the first selected node. Note, that this will not force\n     * setting a style on an element that cannot receive given style.\n     */\n    execute({ styleName, forceValue }) {\n        if (!this.enabledStyles.includes(styleName)) {\n            /**\n             * Style command can be executed only with a correct style name.\n             *\n             * This warning may be caused by:\n             *\n             * * passing a name that is not specified in the {@link module:style/styleconfig~StyleConfig#definitions configuration}\n             * (e.g. a CSS class name),\n             * * when trying to apply a style that is not allowed on a given element.\n             *\n             * @error style-command-executed-with-incorrect-style-name\n             */\n            logWarning('style-command-executed-with-incorrect-style-name');\n            return;\n        }\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n        const allDefinitions = [\n            ...this._styleDefinitions.inline,\n            ...this._styleDefinitions.block\n        ];\n        const activeDefinitions = allDefinitions.filter(({ name }) => this.value.includes(name));\n        const definition = allDefinitions.find(({ name }) => name == styleName);\n        const shouldAddStyle = forceValue === undefined ? !this.value.includes(definition.name) : forceValue;\n        model.change(() => {\n            let selectables;\n            if (isBlockStyleDefinition(definition)) {\n                selectables = this._findAffectedBlocks(getBlocksFromSelection(selection), definition);\n            }\n            else {\n                selectables = [this._styleUtils.getAffectedInlineSelectable(definition, selection)];\n            }\n            for (const selectable of selectables) {\n                if (shouldAddStyle) {\n                    htmlSupport.addModelHtmlClass(definition.element, definition.classes, selectable);\n                }\n                else {\n                    htmlSupport.removeModelHtmlClass(definition.element, getDefinitionExclusiveClasses(activeDefinitions, definition), selectable);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a set of elements that should be affected by the block-style change.\n     */\n    _findAffectedBlocks(selectedBlocks, definition) {\n        const blocks = new Set();\n        for (const selectedBlock of selectedBlocks) {\n            const ancestorBlocks = selectedBlock.getAncestors({ includeSelf: true, parentFirst: true });\n            for (const block of ancestorBlocks) {\n                if (block.is('rootElement')) {\n                    break;\n                }\n                const affectedBlocks = this._styleUtils.getAffectedBlocks(definition, block);\n                if (affectedBlocks) {\n                    for (const affectedBlock of affectedBlocks) {\n                        blocks.add(affectedBlock);\n                    }\n                    break;\n                }\n            }\n        }\n        return blocks;\n    }\n}\n/**\n * Returns classes that are defined only in the supplied definition and not in any other active definition. It's used\n * to ensure that classes used by other definitions are preserved when a style is removed. See #11748.\n *\n * @param activeDefinitions All currently active definitions affecting selected element(s).\n * @param definition Definition whose classes will be compared with all other active definition classes.\n * @returns Array of classes exclusive to the supplied definition.\n */\nfunction getDefinitionExclusiveClasses(activeDefinitions, definition) {\n    return activeDefinitions.reduce((classes, currentDefinition) => {\n        if (currentDefinition.name === definition.name) {\n            return classes;\n        }\n        return classes.filter(className => !currentDefinition.classes.includes(className));\n    }, definition.classes);\n}\n/**\n * Checks if provided style definition is of type block.\n */\nfunction isBlockStyleDefinition(definition) {\n    return 'isBlock' in definition;\n}\n/**\n * Gets block elements from selection. If there are none, returns first selected element.\n * @param selection Current document's selection.\n * @returns Selected blocks if there are any, first selected element otherwise.\n */\nfunction getBlocksFromSelection(selection) {\n    const blocks = Array.from(selection.getSelectedBlocks());\n    if (blocks.length) {\n        return blocks;\n    }\n    return [selection.getFirstPosition().parent];\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/integrations/list\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleUtils from '../styleutils.js';\nexport default class ListStyleSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'ListStyleSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils, 'GeneralHtmlSupport'];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('ListEditing')) {\n            return;\n        }\n        this._styleUtils = editor.plugins.get(StyleUtils);\n        this._listUtils = this.editor.plugins.get('ListUtils');\n        this._htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n        this.listenTo(this._styleUtils, 'isStyleEnabledForBlock', (evt, [definition, block]) => {\n            if (this._isStyleEnabledForBlock(definition, block)) {\n                evt.return = true;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'isStyleActiveForBlock', (evt, [definition, block]) => {\n            if (this._isStyleActiveForBlock(definition, block)) {\n                evt.return = true;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getAffectedBlocks', (evt, [definition, block]) => {\n            const blocks = this._getAffectedBlocks(definition, block);\n            if (blocks) {\n                evt.return = blocks;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getStylePreview', (evt, [definition, children]) => {\n            const templateDefinition = this._getStylePreview(definition, children);\n            if (templateDefinition) {\n                evt.return = templateDefinition;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Verifies if the given style is applicable to the provided block element.\n     */\n    _isStyleEnabledForBlock(definition, block) {\n        const model = this.editor.model;\n        if (!['ol', 'ul', 'li'].includes(definition.element)) {\n            return false;\n        }\n        if (!this._listUtils.isListItemBlock(block)) {\n            return false;\n        }\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        if (definition.element == 'ol' || definition.element == 'ul') {\n            if (!model.schema.checkAttribute(block, attributeName)) {\n                return false;\n            }\n            const isNumbered = this._listUtils.isNumberedListType(block.getAttribute('listType'));\n            const viewElementName = isNumbered ? 'ol' : 'ul';\n            return definition.element == viewElementName;\n        }\n        else {\n            return model.schema.checkAttribute(block, attributeName);\n        }\n    }\n    /**\n     * Returns true if the given style is applied to the specified block element.\n     */\n    _isStyleActiveForBlock(definition, block) {\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        const ghsAttributeValue = block.getAttribute(attributeName);\n        return this._styleUtils.hasAllClasses(ghsAttributeValue, definition.classes);\n    }\n    /**\n     * Returns an array of block elements that style should be applied to.\n     */\n    _getAffectedBlocks(definition, block) {\n        if (!this._isStyleEnabledForBlock(definition, block)) {\n            return null;\n        }\n        if (definition.element == 'li') {\n            return this._listUtils.expandListBlocksToCompleteItems(block, { withNested: false });\n        }\n        else {\n            return this._listUtils.expandListBlocksToCompleteList(block);\n        }\n    }\n    /**\n     * Returns a view template definition for the style preview.\n     */\n    _getStylePreview(definition, children) {\n        const { element, classes } = definition;\n        if (element == 'ol' || element == 'ul') {\n            return {\n                tag: element,\n                attributes: {\n                    class: classes\n                },\n                children: [\n                    {\n                        tag: 'li',\n                        children\n                    }\n                ]\n            };\n        }\n        else if (element == 'li') {\n            return {\n                tag: 'ol',\n                children: [\n                    {\n                        tag: element,\n                        attributes: {\n                            class: classes\n                        },\n                        children\n                    }\n                ]\n            };\n        }\n        return null;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/integrations/table\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleUtils from '../styleutils.js';\nexport default class TableStyleSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableStyleSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('TableEditing')) {\n            return;\n        }\n        this._styleUtils = editor.plugins.get(StyleUtils);\n        this._tableUtils = this.editor.plugins.get('TableUtils');\n        this.listenTo(this._styleUtils, 'isStyleEnabledForBlock', (evt, [definition, block]) => {\n            if (this._isApplicable(definition, block)) {\n                evt.return = this._isStyleEnabledForBlock(definition, block);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getAffectedBlocks', (evt, [definition, block]) => {\n            if (this._isApplicable(definition, block)) {\n                evt.return = this._getAffectedBlocks(definition, block);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'configureGHSDataFilter', (evt, [{ block }]) => {\n            const ghsDataFilter = this.editor.plugins.get('DataFilter');\n            ghsDataFilter.loadAllowedConfig(block\n                .filter(definition => definition.element == 'figcaption')\n                .map(definition => ({ name: 'caption', classes: definition.classes })));\n        });\n    }\n    /**\n     * Checks if this plugin's custom logic should be applied for defintion-block pair.\n     *\n     * @param definition Style definition that is being considered.\n     * @param block Block element to check if should be styled.\n     * @returns True if the defintion-block pair meet the plugin criteria, false otherwise.\n     */\n    _isApplicable(definition, block) {\n        if (['td', 'th'].includes(definition.element)) {\n            return block.name == 'tableCell';\n        }\n        if (['thead', 'tbody'].includes(definition.element)) {\n            return block.name == 'table';\n        }\n        return false;\n    }\n    /**\n     * Checks if the style definition should be applied to selected block.\n     *\n     * @param definition Style definition that is being considered.\n     * @param block Block element to check if should be styled.\n     * @returns True if the block should be style with the style description, false otherwise.\n     */\n    _isStyleEnabledForBlock(definition, block) {\n        if (['td', 'th'].includes(definition.element)) {\n            const location = this._tableUtils.getCellLocation(block);\n            const tableRow = block.parent;\n            const table = tableRow.parent;\n            const headingRows = table.getAttribute('headingRows') || 0;\n            const headingColumns = table.getAttribute('headingColumns') || 0;\n            const isHeadingCell = location.row < headingRows || location.column < headingColumns;\n            if (definition.element == 'th') {\n                return isHeadingCell;\n            }\n            else {\n                return !isHeadingCell;\n            }\n        }\n        if (['thead', 'tbody'].includes(definition.element)) {\n            const headingRows = block.getAttribute('headingRows') || 0;\n            if (definition.element == 'thead') {\n                return headingRows > 0;\n            }\n            else {\n                return headingRows < this._tableUtils.getRows(block);\n            }\n        }\n        /* istanbul ignore next -- @preserve */\n        return false;\n    }\n    /**\n     * Gets all blocks that the style should be applied to.\n     *\n     * @param definition Style definition that is being considered.\n     * @param block A block element from selection.\n     * @returns An array with the block that was passed as an argument if meets the criteria, null otherwise.\n     */\n    _getAffectedBlocks(definition, block) {\n        if (!this._isStyleEnabledForBlock(definition, block)) {\n            return null;\n        }\n        return [block];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/integrations/link\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { findAttributeRange, findAttributeRangeBound } from 'ckeditor5/src/typing.js';\nimport StyleUtils from '../styleutils.js';\nexport default class LinkStyleSupport extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'LinkStyleSupport';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleUtils, 'GeneralHtmlSupport'];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        if (!editor.plugins.has('LinkEditing')) {\n            return;\n        }\n        this._styleUtils = editor.plugins.get(StyleUtils);\n        this._htmlSupport = this.editor.plugins.get('GeneralHtmlSupport');\n        this.listenTo(this._styleUtils, 'isStyleEnabledForInlineSelection', (evt, [definition, selection]) => {\n            if (definition.element == 'a') {\n                evt.return = this._isStyleEnabled(definition, selection);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'isStyleActiveForInlineSelection', (evt, [definition, selection]) => {\n            if (definition.element == 'a') {\n                evt.return = this._isStyleActive(definition, selection);\n                evt.stop();\n            }\n        }, { priority: 'high' });\n        this.listenTo(this._styleUtils, 'getAffectedInlineSelectable', (evt, [definition, selection]) => {\n            if (definition.element != 'a') {\n                return;\n            }\n            const selectable = this._getAffectedSelectable(definition, selection);\n            if (selectable) {\n                evt.return = selectable;\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    }\n    /**\n     * Verifies if the given style is applicable to the provided document selection.\n     */\n    _isStyleEnabled(definition, selection) {\n        const model = this.editor.model;\n        // Handle collapsed selection.\n        if (selection.isCollapsed) {\n            return selection.hasAttribute('linkHref');\n        }\n        // Non-collapsed selection.\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if ((item.is('$textProxy') || model.schema.isInline(item)) && item.hasAttribute('linkHref')) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns true if the given style is applied to the specified document selection.\n     */\n    _isStyleActive(definition, selection) {\n        const model = this.editor.model;\n        const attributeName = this._htmlSupport.getGhsAttributeNameForElement(definition.element);\n        // Handle collapsed selection.\n        if (selection.isCollapsed) {\n            if (selection.hasAttribute('linkHref')) {\n                const ghsAttributeValue = selection.getAttribute(attributeName);\n                if (this._styleUtils.hasAllClasses(ghsAttributeValue, definition.classes)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        // Non-collapsed selection.\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if ((item.is('$textProxy') || model.schema.isInline(item)) && item.hasAttribute('linkHref')) {\n                    const ghsAttributeValue = item.getAttribute(attributeName);\n                    return this._styleUtils.hasAllClasses(ghsAttributeValue, definition.classes);\n                }\n            }\n        }\n        return false;\n    }\n    /**\n     * Returns a selectable that given style should be applied to.\n     */\n    _getAffectedSelectable(definition, selection) {\n        const model = this.editor.model;\n        // Handle collapsed selection.\n        if (selection.isCollapsed) {\n            const linkHref = selection.getAttribute('linkHref');\n            return findAttributeRange(selection.getFirstPosition(), 'linkHref', linkHref, model);\n        }\n        // Non-collapsed selection.\n        const ranges = [];\n        for (const range of selection.getRanges()) {\n            // First expand range to include the whole link.\n            const expandedRange = model.createRange(expandAttributePosition(range.start, 'linkHref', true, model), expandAttributePosition(range.end, 'linkHref', false, model));\n            // Pick only ranges on links.\n            for (const item of expandedRange.getItems()) {\n                if ((item.is('$textProxy') || model.schema.isInline(item)) && item.hasAttribute('linkHref')) {\n                    ranges.push(this.editor.model.createRangeOn(item));\n                }\n            }\n        }\n        // Make sure that we have a continuous range on a link\n        // (not split between text nodes with mixed attributes like bold etc.)\n        return normalizeRanges(ranges);\n    }\n}\n/**\n * Walks forward or backward (depends on the `lookBack` flag), node by node, as long as they have the same attribute value\n * and returns a position just before or after (depends on the `lookBack` flag) the last matched node.\n */\nfunction expandAttributePosition(position, attributeName, lookBack, model) {\n    const referenceNode = position.textNode || (lookBack ? position.nodeAfter : position.nodeBefore);\n    if (!referenceNode || !referenceNode.hasAttribute(attributeName)) {\n        return position;\n    }\n    const attributeValue = referenceNode.getAttribute(attributeName);\n    return findAttributeRangeBound(position, attributeName, attributeValue, lookBack, model);\n}\n/**\n * Normalizes list of ranges by joining intersecting or \"touching\" ranges.\n *\n * Note: It assumes that ranges are sorted.\n */\nfunction normalizeRanges(ranges) {\n    for (let i = 1; i < ranges.length; i++) {\n        const joinedRange = ranges[i - 1].getJoined(ranges[i]);\n        if (joinedRange) {\n            // Replace the ranges on the list with the new joined range.\n            ranges.splice(--i, 2, joinedRange);\n        }\n    }\n    return ranges;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/styleediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleCommand from './stylecommand.js';\nimport StyleUtils from './styleutils.js';\nimport ListStyleSupport from './integrations/list.js';\nimport TableStyleSupport from './integrations/table.js';\nimport LinkStyleSupport from './integrations/link.js';\n/**\n * The style engine feature.\n *\n * It configures the {@glink features/html/general-html-support General HTML Support feature} based on\n * {@link module:style/styleconfig~StyleConfig#definitions configured style definitions} and introduces the\n * {@link module:style/stylecommand~StyleCommand style command} that applies styles to the content of the document.\n */\nexport default class StyleEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'StyleEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return ['GeneralHtmlSupport', StyleUtils, ListStyleSupport, TableStyleSupport, LinkStyleSupport];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const dataSchema = editor.plugins.get('DataSchema');\n        const styleUtils = editor.plugins.get('StyleUtils');\n        const styleDefinitions = editor.config.get('style.definitions');\n        const normalizedStyleDefinitions = styleUtils.normalizeConfig(dataSchema, styleDefinitions);\n        editor.commands.add('style', new StyleCommand(editor, normalizedStyleDefinitions));\n        styleUtils.configureGHSDataFilter(normalizedStyleDefinitions);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module style/style\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport StyleUI from './styleui.js';\nimport StyleEditing from './styleediting.js';\n/**\n * The style plugin.\n *\n * This is a \"glue\" plugin that loads the {@link module:style/styleediting~StyleEditing style editing feature}\n * and {@link module:style/styleui~StyleUI style UI feature}.\n */\nexport default class Style extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Style';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [StyleEditing, StyleUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Conversion helper for upcasting attributes using normalized styles.\n *\n * @param options.modelAttribute The attribute to set.\n * @param options.styleName The style name to convert.\n * @param options.viewElement The view element name that should be converted.\n * @param options.defaultValue The default value for the specified `modelAttribute`.\n * @param options.shouldUpcast The function which returns `true` if style should be upcasted from this element.\n */\nexport function upcastStyleToAttribute(conversion, options) {\n    const { modelAttribute, styleName, viewElement, defaultValue, reduceBoxSides = false, shouldUpcast = () => true } = options;\n    conversion.for('upcast').attributeToAttribute({\n        view: {\n            name: viewElement,\n            styles: {\n                [styleName]: /[\\s\\S]+/\n            }\n        },\n        model: {\n            key: modelAttribute,\n            value: (viewElement) => {\n                if (!shouldUpcast(viewElement)) {\n                    return;\n                }\n                const normalized = viewElement.getNormalizedStyle(styleName);\n                const value = reduceBoxSides ? reduceBoxSidesValue(normalized) : normalized;\n                if (defaultValue !== value) {\n                    return value;\n                }\n            }\n        }\n    });\n}\n/**\n * Conversion helper for upcasting border styles for view elements.\n *\n * @param defaultBorder The default border values.\n * @param defaultBorder.color The default `borderColor` value.\n * @param defaultBorder.style The default `borderStyle` value.\n * @param defaultBorder.width The default `borderWidth` value.\n */\nexport function upcastBorderStyles(conversion, viewElementName, modelAttributes, defaultBorder) {\n    conversion.for('upcast').add(dispatcher => dispatcher.on('element:' + viewElementName, (evt, data, conversionApi) => {\n        // If the element was not converted by element-to-element converter,\n        // we should not try to convert the style. See #8393.\n        if (!data.modelRange) {\n            return;\n        }\n        // Check the most detailed properties. These will be always set directly or\n        // when using the \"group\" properties like: `border-(top|right|bottom|left)` or `border`.\n        const stylesToConsume = [\n            'border-top-width',\n            'border-top-color',\n            'border-top-style',\n            'border-bottom-width',\n            'border-bottom-color',\n            'border-bottom-style',\n            'border-right-width',\n            'border-right-color',\n            'border-right-style',\n            'border-left-width',\n            'border-left-color',\n            'border-left-style'\n        ].filter(styleName => data.viewItem.hasStyle(styleName));\n        if (!stylesToConsume.length) {\n            return;\n        }\n        const matcherPattern = {\n            styles: stylesToConsume\n        };\n        // Try to consume appropriate values from consumable values list.\n        if (!conversionApi.consumable.test(data.viewItem, matcherPattern)) {\n            return;\n        }\n        const modelElement = [...data.modelRange.getItems({ shallow: true })].pop();\n        conversionApi.consumable.consume(data.viewItem, matcherPattern);\n        const normalizedBorder = {\n            style: data.viewItem.getNormalizedStyle('border-style'),\n            color: data.viewItem.getNormalizedStyle('border-color'),\n            width: data.viewItem.getNormalizedStyle('border-width')\n        };\n        const reducedBorder = {\n            style: reduceBoxSidesValue(normalizedBorder.style),\n            color: reduceBoxSidesValue(normalizedBorder.color),\n            width: reduceBoxSidesValue(normalizedBorder.width)\n        };\n        if (reducedBorder.style !== defaultBorder.style) {\n            conversionApi.writer.setAttribute(modelAttributes.style, reducedBorder.style, modelElement);\n        }\n        if (reducedBorder.color !== defaultBorder.color) {\n            conversionApi.writer.setAttribute(modelAttributes.color, reducedBorder.color, modelElement);\n        }\n        if (reducedBorder.width !== defaultBorder.width) {\n            conversionApi.writer.setAttribute(modelAttributes.width, reducedBorder.width, modelElement);\n        }\n    }));\n}\n/**\n * Conversion helper for downcasting an attribute to a style.\n */\nexport function downcastAttributeToStyle(conversion, options) {\n    const { modelElement, modelAttribute, styleName } = options;\n    conversion.for('downcast').attributeToAttribute({\n        model: {\n            name: modelElement,\n            key: modelAttribute\n        },\n        view: modelAttributeValue => ({\n            key: 'style',\n            value: {\n                [styleName]: modelAttributeValue\n            }\n        })\n    });\n}\n/**\n * Conversion helper for downcasting attributes from the model table to a view table (not to `<figure>`).\n */\nexport function downcastTableAttribute(conversion, options) {\n    const { modelAttribute, styleName } = options;\n    conversion.for('downcast').add(dispatcher => dispatcher.on(`attribute:${modelAttribute}:table`, (evt, data, conversionApi) => {\n        const { item, attributeNewValue } = data;\n        const { mapper, writer } = conversionApi;\n        if (!conversionApi.consumable.consume(data.item, evt.name)) {\n            return;\n        }\n        const table = [...mapper.toViewElement(item).getChildren()].find(child => child.is('element', 'table'));\n        if (attributeNewValue) {\n            writer.setStyle(styleName, attributeNewValue, table);\n        }\n        else {\n            writer.removeStyle(styleName, table);\n        }\n    }));\n}\n/**\n * Reduces the full top, right, bottom, left object to a single string if all sides are equal.\n * Returns original style otherwise.\n */\nfunction reduceBoxSidesValue(style) {\n    if (!style) {\n        return;\n    }\n    const sides = ['top', 'right', 'bottom', 'left'];\n    const allSidesDefined = sides.every(side => style[side]);\n    if (!allSidesDefined) {\n        return style;\n    }\n    const topSideStyle = style.top;\n    const allSidesEqual = sides.every(side => style[side] === topSideStyle);\n    if (!allSidesEqual) {\n        return style;\n    }\n    return topSideStyle;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { downcastAttributeToStyle, upcastStyleToAttribute } from './../converters/tableproperties.js';\n/**\n * A common method to update the numeric value. If a value is the default one, it will be unset.\n *\n * @param key An attribute key.\n * @param value The new attribute value.\n * @param item A model item on which the attribute will be set.\n * @param defaultValue The default attribute value. If a value is lower or equal, it will be unset.\n */\nexport function updateNumericAttribute(key, value, item, writer, defaultValue = 1) {\n    if (value !== undefined && value !== null && defaultValue !== undefined && defaultValue !== null && value > defaultValue) {\n        writer.setAttribute(key, value, item);\n    }\n    else {\n        writer.removeAttribute(key, item);\n    }\n}\n/**\n * A common method to create an empty table cell. It creates a proper model structure as a table cell must have at least one block inside.\n *\n * @param writer The model writer.\n * @param insertPosition The position at which the table cell should be inserted.\n * @param attributes The element attributes.\n * @returns Created table cell.\n */\nexport function createEmptyTableCell(writer, insertPosition, attributes = {}) {\n    const tableCell = writer.createElement('tableCell', attributes);\n    writer.insertElement('paragraph', tableCell);\n    writer.insert(tableCell, insertPosition);\n    return tableCell;\n}\n/**\n * Checks if a table cell belongs to the heading column section.\n */\nexport function isHeadingColumnCell(tableUtils, tableCell) {\n    const table = tableCell.parent.parent;\n    const headingColumns = parseInt(table.getAttribute('headingColumns') || '0');\n    const { column } = tableUtils.getCellLocation(tableCell);\n    return !!headingColumns && column < headingColumns;\n}\n/**\n * Enables conversion for an attribute for simple view-model mappings.\n *\n * @param options.defaultValue The default value for the specified `modelAttribute`.\n */\nexport function enableProperty(schema, conversion, options) {\n    const { modelAttribute } = options;\n    schema.extend('tableCell', {\n        allowAttributes: [modelAttribute]\n    });\n    upcastStyleToAttribute(conversion, { viewElement: /^(td|th)$/, ...options });\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', ...options });\n}\n/**\n * Depending on the position of the selection we either return the table under cursor or look for the table higher in the hierarchy.\n */\nexport function getSelectionAffectedTable(selection) {\n    const selectedElement = selection.getSelectedElement();\n    // Is the command triggered from the `tableToolbar`?\n    if (selectedElement && selectedElement.is('element', 'table')) {\n        return selectedElement;\n    }\n    return selection.getFirstPosition().findAncestor('table');\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { createEmptyTableCell } from '../utils/common.js';\nimport { first } from 'ckeditor5/src/utils.js';\n/**\n * Returns a function that converts the table view representation:\n *\n * ```xml\n * <figure class=\"table\"><table>...</table></figure>\n * ```\n *\n * to the model representation:\n *\n * ```xml\n * <table></table>\n * ```\n */\nexport function upcastTableFigure() {\n    return (dispatcher) => {\n        dispatcher.on('element:figure', (evt, data, conversionApi) => {\n            // Do not convert if this is not a \"table figure\".\n            if (!conversionApi.consumable.test(data.viewItem, { name: true, classes: 'table' })) {\n                return;\n            }\n            // Find a table element inside the figure element.\n            const viewTable = getViewTableFromFigure(data.viewItem);\n            // Do not convert if table element is absent or was already converted.\n            if (!viewTable || !conversionApi.consumable.test(viewTable, { name: true })) {\n                return;\n            }\n            // Consume the figure to prevent other converters from processing it again.\n            conversionApi.consumable.consume(data.viewItem, { name: true, classes: 'table' });\n            // Convert view table to model table.\n            const conversionResult = conversionApi.convertItem(viewTable, data.modelCursor);\n            // Get table element from conversion result.\n            const modelTable = first(conversionResult.modelRange.getItems());\n            // When table wasn't successfully converted then finish conversion.\n            if (!modelTable) {\n                // Revert consumed figure so other features can convert it.\n                conversionApi.consumable.revert(data.viewItem, { name: true, classes: 'table' });\n                return;\n            }\n            conversionApi.convertChildren(data.viewItem, conversionApi.writer.createPositionAt(modelTable, 'end'));\n            conversionApi.updateConversionResult(modelTable, data);\n        });\n    };\n}\n/**\n * View table element to model table element conversion helper.\n *\n * This conversion helper converts the table element as well as table rows.\n *\n * @returns Conversion helper.\n */\nexport default function upcastTable() {\n    return (dispatcher) => {\n        dispatcher.on('element:table', (evt, data, conversionApi) => {\n            const viewTable = data.viewItem;\n            // When element was already consumed then skip it.\n            if (!conversionApi.consumable.test(viewTable, { name: true })) {\n                return;\n            }\n            const { rows, headingRows, headingColumns } = scanTable(viewTable);\n            // Only set attributes if values is greater then 0.\n            const attributes = {};\n            if (headingColumns) {\n                attributes.headingColumns = headingColumns;\n            }\n            if (headingRows) {\n                attributes.headingRows = headingRows;\n            }\n            const table = conversionApi.writer.createElement('table', attributes);\n            if (!conversionApi.safeInsert(table, data.modelCursor)) {\n                return;\n            }\n            conversionApi.consumable.consume(viewTable, { name: true });\n            // Upcast table rows in proper order (heading rows first).\n            rows.forEach(row => conversionApi.convertItem(row, conversionApi.writer.createPositionAt(table, 'end')));\n            // Convert everything else.\n            conversionApi.convertChildren(viewTable, conversionApi.writer.createPositionAt(table, 'end'));\n            // Create one row and one table cell for empty table.\n            if (table.isEmpty) {\n                const row = conversionApi.writer.createElement('tableRow');\n                conversionApi.writer.insert(row, conversionApi.writer.createPositionAt(table, 'end'));\n                createEmptyTableCell(conversionApi.writer, conversionApi.writer.createPositionAt(row, 'end'));\n            }\n            conversionApi.updateConversionResult(table, data);\n        });\n    };\n}\n/**\n * A conversion helper that skips empty <tr> elements from upcasting at the beginning of the table.\n *\n * An empty row is considered a table model error but when handling clipboard data there could be rows that contain only row-spanned cells\n * and empty TR-s are used to maintain the table structure (also {@link module:table/tablewalker~TableWalker} assumes that there are only\n * rows that have related `tableRow` elements).\n *\n * *Note:* Only the first empty rows are removed because they have no meaning and it solves the issue\n * of an improper table with all empty rows.\n *\n * @returns Conversion helper.\n */\nexport function skipEmptyTableRow() {\n    return (dispatcher) => {\n        dispatcher.on('element:tr', (evt, data) => {\n            if (data.viewItem.isEmpty && data.modelCursor.index == 0) {\n                evt.stop();\n            }\n        }, { priority: 'high' });\n    };\n}\n/**\n * A converter that ensures an empty paragraph is inserted in a table cell if no other content was converted.\n *\n * @returns Conversion helper.\n */\nexport function ensureParagraphInTableCell(elementName) {\n    return (dispatcher) => {\n        dispatcher.on(`element:${elementName}`, (evt, data, { writer }) => {\n            // The default converter will create a model range on converted table cell.\n            if (!data.modelRange) {\n                return;\n            }\n            const tableCell = data.modelRange.start.nodeAfter;\n            const modelCursor = writer.createPositionAt(tableCell, 0);\n            // Ensure a paragraph in the model for empty table cells for converted table cells.\n            if (data.viewItem.isEmpty) {\n                writer.insertElement('paragraph', modelCursor);\n                return;\n            }\n            const childNodes = Array.from(tableCell.getChildren());\n            // In case there are only markers inside the table cell then move them to the paragraph.\n            if (childNodes.every(node => node.is('element', '$marker'))) {\n                const paragraph = writer.createElement('paragraph');\n                writer.insert(paragraph, writer.createPositionAt(tableCell, 0));\n                for (const node of childNodes) {\n                    writer.move(writer.createRangeOn(node), writer.createPositionAt(paragraph, 'end'));\n                }\n            }\n        }, { priority: 'low' });\n    };\n}\n/**\n * Get view `<table>` element from the view widget (`<figure>`).\n */\nfunction getViewTableFromFigure(figureView) {\n    for (const figureChild of figureView.getChildren()) {\n        if (figureChild.is('element', 'table')) {\n            return figureChild;\n        }\n    }\n}\n/**\n * Scans table rows and extracts required metadata from the table:\n *\n * headingRows    - The number of rows that go as table headers.\n * headingColumns - The maximum number of row headings.\n * rows           - Sorted `<tr>` elements as they should go into the model - ie. if `<thead>` is inserted after `<tbody>` in the view.\n */\nfunction scanTable(viewTable) {\n    let headingRows = 0;\n    let headingColumns = undefined;\n    // The `<tbody>` and `<thead>` sections in the DOM do not have to be in order `<thead>` -> `<tbody>` and there might be more than one\n    // of them.\n    // As the model does not have these sections, rows from different sections must be sorted.\n    // For example, below is a valid HTML table:\n    //\n    // <table>\n    //   <tbody><tr><td>2</td></tr></tbody>\n    //   <thead><tr><td>1</td></tr></thead>\n    //   <tbody><tr><td>3</td></tr></tbody>\n    // </table>\n    //\n    // But browsers will render rows in order as: 1 as the heading and 2 and 3 as the body.\n    const headRows = [];\n    const bodyRows = [];\n    // Currently the editor does not support more then one <thead> section.\n    // Only the first <thead> from the view will be used as a heading row and the others will be converted to body rows.\n    let firstTheadElement;\n    for (const tableChild of Array.from(viewTable.getChildren())) {\n        // Only `<thead>`, `<tbody>` & `<tfoot>` from allowed table children can have `<tr>`s.\n        // The else is for future purposes (mainly `<caption>`).\n        if (tableChild.name !== 'tbody' && tableChild.name !== 'thead' && tableChild.name !== 'tfoot') {\n            continue;\n        }\n        // Save the first `<thead>` in the table as table header - all other ones will be converted to table body rows.\n        if (tableChild.name === 'thead' && !firstTheadElement) {\n            firstTheadElement = tableChild;\n        }\n        // There might be some extra empty text nodes between the `<tr>`s.\n        // Make sure further code operates on `tr`s only. (#145)\n        const trs = Array.from(tableChild.getChildren()).filter((el) => el.is('element', 'tr'));\n        for (const tr of trs) {\n            // This <tr> is a child of a first <thead> element.\n            if ((firstTheadElement && tableChild === firstTheadElement) ||\n                (tableChild.name === 'tbody' &&\n                    Array.from(tr.getChildren()).length &&\n                    Array.from(tr.getChildren()).every(e => e.is('element', 'th')))) {\n                headingRows++;\n                headRows.push(tr);\n            }\n            else {\n                bodyRows.push(tr);\n                // For other rows check how many column headings this row has.\n                const headingCols = scanRowForHeadingColumns(tr);\n                if (!headingColumns || headingCols < headingColumns) {\n                    headingColumns = headingCols;\n                }\n            }\n        }\n    }\n    return {\n        headingRows,\n        headingColumns: headingColumns || 0,\n        rows: [...headRows, ...bodyRows]\n    };\n}\n/**\n * Scans a `<tr>` element and its children for metadata:\n * - For heading row:\n *     - Adds this row to either the heading or the body rows.\n *     - Updates the number of heading rows.\n * - For body rows:\n *     - Calculates the number of column headings.\n */\nfunction scanRowForHeadingColumns(tr) {\n    let headingColumns = 0;\n    let index = 0;\n    // Filter out empty text nodes from tr children.\n    const children = Array.from(tr.getChildren())\n        .filter(child => child.name === 'th' || child.name === 'td');\n    // Count starting adjacent <th> elements of a <tr>.\n    while (index < children.length && children[index].name === 'th') {\n        const th = children[index];\n        // Adjust columns calculation by the number of spanned columns.\n        const colspan = parseInt(th.getAttribute('colspan') || '1');\n        headingColumns = headingColumns + colspan;\n        index++;\n    }\n    return headingColumns;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * The table iterator class. It allows to iterate over table cells. For each cell the iterator yields\n * {@link module:table/tablewalker~TableSlot} with proper table cell attributes.\n */\nexport default class TableWalker {\n    /**\n     * Creates an instance of the table walker.\n     *\n     * The table walker iterates internally by traversing the table from row index = 0 and column index = 0.\n     * It walks row by row and column by column in order to output values defined in the constructor.\n     * By default it will output only the locations that are occupied by a cell. To include also spanned rows and columns,\n     * pass the `includeAllSlots` option to the constructor.\n     *\n     * The most important values of the iterator are column and row indexes of a cell.\n     *\n     * See {@link module:table/tablewalker~TableSlot} what values are returned by the table walker.\n     *\n     * To iterate over a given row:\n     *\n     * ```ts\n     * const tableWalker = new TableWalker( table, { startRow: 1, endRow: 2 } );\n     *\n     * for ( const tableSlot of tableWalker ) {\n     *   console.log( 'A cell at row', tableSlot.row, 'and column', tableSlot.column );\n     * }\n     * ```\n     *\n     * For instance the code above for the following table:\n     *\n     *  +----+----+----+----+----+----+\n     *  | 00      | 02 | 03 | 04 | 05 |\n     *  |         +----+----+----+----+\n     *  |         | 12      | 14 | 15 |\n     *  |         +----+----+----+    +\n     *  |         | 22           |    |\n     *  |----+----+----+----+----+    +\n     *  | 30 | 31 | 32 | 33 | 34 |    |\n     *  +----+----+----+----+----+----+\n     *\n     * will log in the console:\n     *\n     *  'A cell at row 1 and column 2'\n     *  'A cell at row 1 and column 4'\n     *  'A cell at row 1 and column 5'\n     *  'A cell at row 2 and column 2'\n     *\n     * To also iterate over spanned cells:\n     *\n     * ```ts\n     * const tableWalker = new TableWalker( table, { row: 1, includeAllSlots: true } );\n     *\n     * for ( const tableSlot of tableWalker ) {\n     *   console.log( 'Slot at', tableSlot.row, 'x', tableSlot.column, ':', tableSlot.isAnchor ? 'is anchored' : 'is spanned' );\n     * }\n     * ```\n     *\n     * will log in the console for the table from the previous example:\n     *\n     *  'Cell at 1 x 0 : is spanned'\n     *  'Cell at 1 x 1 : is spanned'\n     *  'Cell at 1 x 2 : is anchored'\n     *  'Cell at 1 x 3 : is spanned'\n     *  'Cell at 1 x 4 : is anchored'\n     *  'Cell at 1 x 5 : is anchored'\n     *\n     * **Note**: Option `row` is a shortcut that sets both `startRow` and `endRow` to the same row.\n     * (Use either `row` or `startRow` and `endRow` but never together). Similarly the `column` option sets both `startColumn`\n     * and `endColumn` to the same column (Use either `column` or `startColumn` and `endColumn` but never together).\n     *\n     * @param table A table over which the walker iterates.\n     * @param options An object with configuration.\n     * @param options.row A row index for which this iterator will output cells. Can't be used together with `startRow` and `endRow`.\n     * @param options.startRow A row index from which this iterator should start. Can't be used together with `row`. Default value is 0.\n     * @param options.endRow A row index at which this iterator should end. Can't be used together with `row`.\n     * @param options.column A column index for which this iterator will output cells.\n     * Can't be used together with `startColumn` and `endColumn`.\n     * @param options.startColumn A column index from which this iterator should start.\n     * Can't be used together with `column`. Default value is 0.\n     * @param options.endColumn A column index at which this iterator should end. Can't be used together with `column`.\n     * @param options.includeAllSlots Also return values for spanned cells. Default value is \"false\".\n     */\n    constructor(table, options = {}) {\n        /**\n         * Indicates whether the iterator jumped to (or close to) the start row, ignoring rows that don't need to be traversed.\n         */\n        this._jumpedToStartRow = false;\n        this._table = table;\n        this._startRow = options.row !== undefined ? options.row : options.startRow || 0;\n        this._endRow = options.row !== undefined ? options.row : options.endRow;\n        this._startColumn = options.column !== undefined ? options.column : options.startColumn || 0;\n        this._endColumn = options.column !== undefined ? options.column : options.endColumn;\n        this._includeAllSlots = !!options.includeAllSlots;\n        this._skipRows = new Set();\n        this._row = 0;\n        this._rowIndex = 0;\n        this._column = 0;\n        this._cellIndex = 0;\n        this._spannedCells = new Map();\n        this._nextCellAtColumn = -1;\n    }\n    /**\n     * Iterable interface.\n     */\n    [Symbol.iterator]() {\n        return this;\n    }\n    /**\n     * Gets the next table walker's value.\n     *\n     * @returns The next table walker's value.\n     */\n    next() {\n        if (this._canJumpToStartRow()) {\n            this._jumpToNonSpannedRowClosestToStartRow();\n        }\n        const row = this._table.getChild(this._rowIndex);\n        // Iterator is done when there's no row (table ended) or the row is after `endRow` limit.\n        if (!row || this._isOverEndRow()) {\n            return { done: true, value: undefined };\n        }\n        // We step over current element when it is not a tableRow instance.\n        if (!row.is('element', 'tableRow')) {\n            this._rowIndex++;\n            return this.next();\n        }\n        if (this._isOverEndColumn()) {\n            return this._advanceToNextRow();\n        }\n        let outValue = null;\n        const spanData = this._getSpanned();\n        if (spanData) {\n            if (this._includeAllSlots && !this._shouldSkipSlot()) {\n                outValue = this._formatOutValue(spanData.cell, spanData.row, spanData.column);\n            }\n        }\n        else {\n            const cell = row.getChild(this._cellIndex);\n            if (!cell) {\n                // If there are no more cells left in row advance to the next row.\n                return this._advanceToNextRow();\n            }\n            const colspan = parseInt(cell.getAttribute('colspan') || '1');\n            const rowspan = parseInt(cell.getAttribute('rowspan') || '1');\n            // Record this cell spans if it's not 1x1 cell.\n            if (colspan > 1 || rowspan > 1) {\n                this._recordSpans(cell, rowspan, colspan);\n            }\n            if (!this._shouldSkipSlot()) {\n                outValue = this._formatOutValue(cell);\n            }\n            this._nextCellAtColumn = this._column + colspan;\n        }\n        // Advance to the next column before returning value.\n        this._column++;\n        if (this._column == this._nextCellAtColumn) {\n            this._cellIndex++;\n        }\n        // The current value will be returned only if current row and column are not skipped.\n        return outValue || this.next();\n    }\n    /**\n     * Marks a row to skip in the next iteration. It will also skip cells from the current row if there are any cells from the current row\n     * to output.\n     *\n     * @param row The row index to skip.\n     */\n    skipRow(row) {\n        this._skipRows.add(row);\n    }\n    /**\n     * Advances internal cursor to the next row.\n     */\n    _advanceToNextRow() {\n        this._row++;\n        this._rowIndex++;\n        this._column = 0;\n        this._cellIndex = 0;\n        this._nextCellAtColumn = -1;\n        return this.next();\n    }\n    /**\n     * Checks if the current row is over {@link #_endRow}.\n     */\n    _isOverEndRow() {\n        // If #_endRow is defined skip all rows after it.\n        return this._endRow !== undefined && this._row > this._endRow;\n    }\n    /**\n     * Checks if the current cell is over {@link #_endColumn}\n     */\n    _isOverEndColumn() {\n        // If #_endColumn is defined skip all cells after it.\n        return this._endColumn !== undefined && this._column > this._endColumn;\n    }\n    /**\n     * A common method for formatting the iterator's output value.\n     *\n     * @param cell The table cell to output.\n     * @param anchorRow The row index of a cell anchor slot.\n     * @param anchorColumn The column index of a cell anchor slot.\n     */\n    _formatOutValue(cell, anchorRow = this._row, anchorColumn = this._column) {\n        return {\n            done: false,\n            value: new TableSlot(this, cell, anchorRow, anchorColumn)\n        };\n    }\n    /**\n     * Checks if the current slot should be skipped.\n     */\n    _shouldSkipSlot() {\n        const rowIsMarkedAsSkipped = this._skipRows.has(this._row);\n        const rowIsBeforeStartRow = this._row < this._startRow;\n        const columnIsBeforeStartColumn = this._column < this._startColumn;\n        const columnIsAfterEndColumn = this._endColumn !== undefined && this._column > this._endColumn;\n        return rowIsMarkedAsSkipped || rowIsBeforeStartRow || columnIsBeforeStartColumn || columnIsAfterEndColumn;\n    }\n    /**\n     * Returns the cell element that is spanned over the current cell location.\n     */\n    _getSpanned() {\n        const rowMap = this._spannedCells.get(this._row);\n        // No spans for given row.\n        if (!rowMap) {\n            return null;\n        }\n        // If spans for given rows has entry for column it means that this location if spanned by other cell.\n        return rowMap.get(this._column) || null;\n    }\n    /**\n     * Updates spanned cells map relative to the current cell location and its span dimensions.\n     *\n     * @param cell A cell that is spanned.\n     * @param rowspan Cell height.\n     * @param colspan Cell width.\n     */\n    _recordSpans(cell, rowspan, colspan) {\n        const data = {\n            cell,\n            row: this._row,\n            column: this._column\n        };\n        for (let rowToUpdate = this._row; rowToUpdate < this._row + rowspan; rowToUpdate++) {\n            for (let columnToUpdate = this._column; columnToUpdate < this._column + colspan; columnToUpdate++) {\n                if (rowToUpdate != this._row || columnToUpdate != this._column) {\n                    this._markSpannedCell(rowToUpdate, columnToUpdate, data);\n                }\n            }\n        }\n    }\n    /**\n     * Marks the cell location as spanned by another cell.\n     *\n     * @param row The row index of the cell location.\n     * @param column The column index of the cell location.\n     * @param data A spanned cell details (cell element, anchor row and column).\n     */\n    _markSpannedCell(row, column, data) {\n        if (!this._spannedCells.has(row)) {\n            this._spannedCells.set(row, new Map());\n        }\n        const rowSpans = this._spannedCells.get(row);\n        rowSpans.set(column, data);\n    }\n    /**\n     * Checks if part of the table can be skipped.\n     */\n    _canJumpToStartRow() {\n        return !!this._startRow &&\n            this._startRow > 0 &&\n            !this._jumpedToStartRow;\n    }\n    /**\n     * Sets the current row to `this._startRow` or the first row before it that has the number of cells\n     * equal to the number of columns in the table.\n     *\n     * Example:\n     * \t+----+----+----+\n     *  | 00 | 01 | 02 |\n     *  |----+----+----+\n     *  | 10      | 12 |\n     *  |         +----+\n     *  |         | 22 |\n     *  |         +----+\n     *  |         | 32 | <--- Start row\n     *  +----+----+----+\n     *  | 40 | 41 | 42 |\n     *  +----+----+----+\n     *\n     * If the 4th row is a `this._startRow`, this method will:\n     * 1.) Count the number of columns this table has based on the first row (3 columns in this case).\n     * 2.) Check if the 4th row contains 3 cells. It doesn't, so go to the row before it.\n     * 3.) Check if the 3rd row contains 3 cells. It doesn't, so go to the row before it.\n     * 4.) Check if the 2nd row contains 3 cells. It does, so set the current row to that row.\n     *\n     * Setting the current row this way is necessary to let the `next()`  method loop over the cells\n     * spanning multiple rows or columns and update the `this._spannedCells` property.\n     */\n    _jumpToNonSpannedRowClosestToStartRow() {\n        const firstRowLength = this._getRowLength(0);\n        for (let i = this._startRow; !this._jumpedToStartRow; i--) {\n            if (firstRowLength === this._getRowLength(i)) {\n                this._row = i;\n                this._rowIndex = i;\n                this._jumpedToStartRow = true;\n            }\n        }\n    }\n    /**\n     * Returns a number of columns in a row taking `colspan` into consideration.\n     */\n    _getRowLength(rowIndex) {\n        const row = this._table.getChild(rowIndex);\n        return [...row.getChildren()].reduce((cols, row) => {\n            return cols + parseInt(row.getAttribute('colspan') || '1');\n        }, 0);\n    }\n}\n/**\n * An object returned by {@link module:table/tablewalker~TableWalker} when traversing table cells.\n */\nclass TableSlot {\n    /**\n     * Creates an instance of the table walker value.\n     *\n     * @param tableWalker The table walker instance.\n     * @param cell The current table cell.\n     * @param anchorRow The row index of a cell anchor slot.\n     * @param anchorColumn The column index of a cell anchor slot.\n     */\n    constructor(tableWalker, cell, anchorRow, anchorColumn) {\n        this.cell = cell;\n        this.row = tableWalker._row;\n        this.column = tableWalker._column;\n        this.cellAnchorRow = anchorRow;\n        this.cellAnchorColumn = anchorColumn;\n        this._cellIndex = tableWalker._cellIndex;\n        this._rowIndex = tableWalker._rowIndex;\n        this._table = tableWalker._table;\n    }\n    // @if CK_DEBUG // public get isSpanned(): unknown { return throwMissingGetterError( 'isSpanned' ); }\n    // @if CK_DEBUG // public get colspan(): unknown { return throwMissingGetterError( 'colspan' ); }\n    // @if CK_DEBUG // public get rowspan(): unknown { return throwMissingGetterError( 'rowspan' ); }\n    // @if CK_DEBUG // public get cellIndex(): unknown { return throwMissingGetterError( 'cellIndex' ); }\n    /**\n     * Whether the cell is anchored in the current slot.\n     */\n    get isAnchor() {\n        return this.row === this.cellAnchorRow && this.column === this.cellAnchorColumn;\n    }\n    /**\n     * The width of a cell defined by a `colspan` attribute. If the model attribute is not present, it is set to `1`.\n     */\n    get cellWidth() {\n        return parseInt(this.cell.getAttribute('colspan') || '1');\n    }\n    /**\n     * The height of a cell defined by a `rowspan` attribute. If the model attribute is not present, it is set to `1`.\n     */\n    get cellHeight() {\n        return parseInt(this.cell.getAttribute('rowspan') || '1');\n    }\n    /**\n     * The index of the current row element in the table.\n     */\n    get rowIndex() {\n        return this._rowIndex;\n    }\n    /**\n     * Returns the {@link module:engine/model/position~Position} before the table slot.\n     */\n    getPositionBefore() {\n        const model = this._table.root.document.model;\n        return model.createPositionAt(this._table.getChild(this.row), this._cellIndex);\n    }\n}\n/**\n * This `TableSlot`'s getter (property) was removed in CKEditor 5 v20.0.0.\n *\n * Check out the new `TableWalker`'s API in the documentation.\n *\n * @error tableslot-getter-removed\n * @param getterName\n */\n// @if CK_DEBUG // function throwMissingGetterError( getterName: string ): void {\n// @if CK_DEBUG //\t\tthrow new CKEditorError( 'tableslot-getter-removed', null, {\n// @if CK_DEBUG //\t\t\tgetterName\n// @if CK_DEBUG //\t\t} );\n// @if CK_DEBUG // }\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/converters/downcast\n */\nimport { toWidget, toWidgetEditable } from 'ckeditor5/src/widget.js';\nimport TableWalker from './../tablewalker.js';\n/**\n * Model table element to view table element conversion helper.\n */\nexport function downcastTable(tableUtils, options) {\n    return (table, { writer }) => {\n        const headingRows = table.getAttribute('headingRows') || 0;\n        const tableElement = writer.createContainerElement('table', null, []);\n        const figureElement = writer.createContainerElement('figure', { class: 'table' }, tableElement);\n        // Table head slot.\n        if (headingRows > 0) {\n            writer.insert(writer.createPositionAt(tableElement, 'end'), writer.createContainerElement('thead', null, writer.createSlot(element => element.is('element', 'tableRow') && element.index < headingRows)));\n        }\n        // Table body slot.\n        if (headingRows < tableUtils.getRows(table)) {\n            writer.insert(writer.createPositionAt(tableElement, 'end'), writer.createContainerElement('tbody', null, writer.createSlot(element => element.is('element', 'tableRow') && element.index >= headingRows)));\n        }\n        // Dynamic slots.\n        for (const { positionOffset, filter } of options.additionalSlots) {\n            writer.insert(writer.createPositionAt(tableElement, positionOffset), writer.createSlot(filter));\n        }\n        // Create a slot with items that don't fit into the table.\n        writer.insert(writer.createPositionAt(tableElement, 'after'), writer.createSlot(element => {\n            if (element.is('element', 'tableRow')) {\n                return false;\n            }\n            return !options.additionalSlots.some(({ filter }) => filter(element));\n        }));\n        return options.asWidget ? toTableWidget(figureElement, writer) : figureElement;\n    };\n}\n/**\n * Model table row element to view `<tr>` element conversion helper.\n *\n * @returns Element creator.\n */\nexport function downcastRow() {\n    return (tableRow, { writer }) => {\n        return tableRow.isEmpty ?\n            writer.createEmptyElement('tr') :\n            writer.createContainerElement('tr');\n    };\n}\n/**\n * Model table cell element to view `<td>` or `<th>` element conversion helper.\n *\n * This conversion helper will create proper `<th>` elements for table cells that are in the heading section (heading row or column)\n * and `<td>` otherwise.\n *\n * @param options.asWidget If set to `true`, the downcast conversion will produce a widget.\n * @returns Element creator.\n */\nexport function downcastCell(options = {}) {\n    return (tableCell, { writer }) => {\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const rowIndex = table.getChildIndex(tableRow);\n        const tableWalker = new TableWalker(table, { row: rowIndex });\n        const headingRows = table.getAttribute('headingRows') || 0;\n        const headingColumns = table.getAttribute('headingColumns') || 0;\n        let result = null;\n        // We need to iterate over a table in order to get proper row & column values from a walker.\n        for (const tableSlot of tableWalker) {\n            if (tableSlot.cell == tableCell) {\n                const isHeading = tableSlot.row < headingRows || tableSlot.column < headingColumns;\n                const cellElementName = isHeading ? 'th' : 'td';\n                result = options.asWidget ?\n                    toWidgetEditable(writer.createEditableElement(cellElementName), writer) :\n                    writer.createContainerElement(cellElementName);\n                break;\n            }\n        }\n        return result;\n    };\n}\n/**\n * Overrides paragraph inside table cell conversion.\n *\n * This converter:\n * * should be used to override default paragraph conversion.\n * * It will only convert `<paragraph>` placed directly inside `<tableCell>`.\n * * For a single paragraph without attributes it returns `<span>` to simulate data table.\n * * For all other cases it returns `<p>` element.\n *\n * @param options.asWidget If set to `true`, the downcast conversion will produce a widget.\n * @returns Element creator.\n */\nexport function convertParagraphInTableCell(options = {}) {\n    return (modelElement, { writer }) => {\n        if (!modelElement.parent.is('element', 'tableCell')) {\n            return null;\n        }\n        if (!isSingleParagraphWithoutAttributes(modelElement)) {\n            return null;\n        }\n        if (options.asWidget) {\n            return writer.createContainerElement('span', { class: 'ck-table-bogus-paragraph' });\n        }\n        else {\n            // Using `<p>` in case there are some markers on it and transparentRendering will render it anyway.\n            const viewElement = writer.createContainerElement('p');\n            writer.setCustomProperty('dataPipeline:transparentRendering', true, viewElement);\n            return viewElement;\n        }\n    };\n}\n/**\n * Checks if given model `<paragraph>` is an only child of a parent (`<tableCell>`) and if it has any attribute set.\n *\n * The paragraph should be converted in the editing view to:\n *\n * * If returned `true` - to a `<span class=\"ck-table-bogus-paragraph\">`\n * * If returned `false` - to a `<p>`\n */\nexport function isSingleParagraphWithoutAttributes(modelElement) {\n    const tableCell = modelElement.parent;\n    const isSingleParagraph = tableCell.childCount == 1;\n    return isSingleParagraph && !hasAnyAttribute(modelElement);\n}\n/**\n * Converts a given {@link module:engine/view/element~Element} to a table widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the table widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param writer An instance of the view writer.\n * @param label The element's label. It will be concatenated with the table `alt` attribute if one is present.\n */\nfunction toTableWidget(viewElement, writer) {\n    writer.setCustomProperty('table', true, viewElement);\n    return toWidget(viewElement, writer, { hasSelectionHandle: true });\n}\n/**\n * Checks if an element has any attributes set.\n */\nfunction hasAnyAttribute(element) {\n    const iteratorItem = element.getAttributeKeys().next();\n    return !iteratorItem.done;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/inserttablecommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The insert table command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTable'` editor command.\n *\n * To insert a table at the current selection, execute the command and specify the dimensions:\n *\n * ```ts\n * editor.execute( 'insertTable', { rows: 20, columns: 5 } );\n * ```\n */\nexport default class InsertTableCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const schema = model.schema;\n        this.isEnabled = isAllowedInParent(selection, schema);\n    }\n    /**\n     * Executes the command.\n     *\n     * Inserts a table with the given number of rows and columns into the editor.\n     *\n     * @param options.rows The number of rows to create in the inserted table. Default value is 2.\n     * @param options.columns The number of columns to create in the inserted table. Default value is 2.\n     * @param options.headingRows The number of heading rows. If not provided it will default to\n     * {@link module:table/tableconfig~TableConfig#defaultHeadings `config.table.defaultHeadings.rows`} table config.\n     * @param options.headingColumns The number of heading columns. If not provided it will default to\n     * {@link module:table/tableconfig~TableConfig#defaultHeadings `config.table.defaultHeadings.columns`} table config.\n     * @fires execute\n     */\n    execute(options = {}) {\n        const editor = this.editor;\n        const model = editor.model;\n        const tableUtils = editor.plugins.get('TableUtils');\n        const defaultRows = editor.config.get('table.defaultHeadings.rows');\n        const defaultColumns = editor.config.get('table.defaultHeadings.columns');\n        if (options.headingRows === undefined && defaultRows) {\n            options.headingRows = defaultRows;\n        }\n        if (options.headingColumns === undefined && defaultColumns) {\n            options.headingColumns = defaultColumns;\n        }\n        model.change(writer => {\n            const table = tableUtils.createTable(writer, options);\n            model.insertObject(table, null, null, { findOptimalPosition: 'auto' });\n            writer.setSelection(writer.createPositionAt(table.getNodeByPath([0, 0, 0]), 0));\n        });\n    }\n}\n/**\n * Checks if the table is allowed in the parent.\n */\nfunction isAllowedInParent(selection, schema) {\n    const positionParent = selection.getFirstPosition().parent;\n    const validParent = positionParent === positionParent.root ? positionParent : positionParent.parent;\n    return schema.checkChild(validParent, 'table');\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/insertrowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The insert row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTableRowBelow'` and\n * `'insertTableRowAbove'` editor commands.\n *\n * To insert a row below the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableRowBelow' );\n * ```\n *\n * To insert a row above the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableRowAbove' );\n * ```\n */\nexport default class InsertRowCommand extends Command {\n    /**\n     * Creates a new `InsertRowCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param options.order The order of insertion relative to the row in which the caret is located.\n     * Possible values: `\"above\"` and `\"below\"`. Default value is \"below\"\n     */\n    constructor(editor, options = {}) {\n        super(editor);\n        this.order = options.order || 'below';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const selection = this.editor.model.document.selection;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const isAnyCellSelected = !!tableUtils.getSelectionAffectedTableCells(selection).length;\n        this.isEnabled = isAnyCellSelected;\n    }\n    /**\n     * Executes the command.\n     *\n     * Depending on the command's {@link #order} value, it inserts a row `'below'` or `'above'` the row in which selection is set.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const tableUtils = editor.plugins.get('TableUtils');\n        const insertAbove = this.order === 'above';\n        const affectedTableCells = tableUtils.getSelectionAffectedTableCells(selection);\n        const rowIndexes = tableUtils.getRowIndexes(affectedTableCells);\n        const row = insertAbove ? rowIndexes.first : rowIndexes.last;\n        const table = affectedTableCells[0].findAncestor('table');\n        tableUtils.insertRows(table, { at: insertAbove ? row : row + 1, copyStructureFromAbove: !insertAbove });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/insertcolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The insert column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'insertTableColumnLeft'` and\n * `'insertTableColumnRight'` editor commands.\n *\n * To insert a column to the left of the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableColumnLeft' );\n * ```\n *\n * To insert a column to the right of the selected cell, execute the following command:\n *\n * ```ts\n * editor.execute( 'insertTableColumnRight' );\n * ```\n */\nexport default class InsertColumnCommand extends Command {\n    /**\n     * Creates a new `InsertColumnCommand` instance.\n     *\n     * @param editor An editor on which this command will be used.\n     * @param options.order The order of insertion relative to the column in which the caret is located.\n     * Possible values: `\"left\"` and `\"right\"`. Default value is \"right\".\n     */\n    constructor(editor, options = {}) {\n        super(editor);\n        this.order = options.order || 'right';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const selection = this.editor.model.document.selection;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const isAnyCellSelected = !!tableUtils.getSelectionAffectedTableCells(selection).length;\n        this.isEnabled = isAnyCellSelected;\n    }\n    /**\n     * Executes the command.\n     *\n     * Depending on the command's {@link #order} value, it inserts a column to the `'left'` or `'right'` of the column\n     * in which the selection is set.\n     *\n     * @fires execute\n     */\n    execute() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const tableUtils = editor.plugins.get('TableUtils');\n        const insertBefore = this.order === 'left';\n        const affectedTableCells = tableUtils.getSelectionAffectedTableCells(selection);\n        const columnIndexes = tableUtils.getColumnIndexes(affectedTableCells);\n        const column = insertBefore ? columnIndexes.first : columnIndexes.last;\n        const table = affectedTableCells[0].findAncestor('table');\n        tableUtils.insertColumns(table, { columns: 1, at: insertBefore ? column : column + 1 });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/splitcellcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The split cell command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'splitTableCellVertically'`\n * and `'splitTableCellHorizontally'`  editor commands.\n *\n * You can split any cell vertically or horizontally by executing this command. For example, to split the selected table cell vertically:\n *\n * ```ts\n * editor.execute( 'splitTableCellVertically' );\n * ```\n */\nexport default class SplitCellCommand extends Command {\n    /**\n     * Creates a new `SplitCellCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param options.direction Indicates whether the command should split cells `'horizontally'` or `'vertically'`.\n     */\n    constructor(editor, options = {}) {\n        super(editor);\n        this.direction = options.direction || 'horizontally';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = selectedCells.length === 1;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCell = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];\n        const isHorizontal = this.direction === 'horizontally';\n        if (isHorizontal) {\n            tableUtils.splitCellHorizontally(tableCell, 2);\n        }\n        else {\n            tableUtils.splitCellVertically(tableCell, 2);\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { default as TableWalker } from '../tablewalker.js';\nimport { createEmptyTableCell, updateNumericAttribute } from './common.js';\n/**\n * Returns a cropped table according to given dimensions.\n\n * To return a cropped table that starts at first row and first column and end in third row and column:\n *\n * ```ts\n * const croppedTable = cropTableToDimensions( table, {\n *   startRow: 1,\n *   endRow: 3,\n *   startColumn: 1,\n *   endColumn: 3\n * }, writer );\n * ```\n *\n * Calling the code above for the table below:\n *\n *        0   1   2   3   4                      0   1   2\n *      ┌───┬───┬───┬───┬───┐\n *   0  │ a │ b │ c │ d │ e │\n *      ├───┴───┤   ├───┴───┤                  ┌───┬───┬───┐\n *   1  │ f     │   │ g     │                  │   │   │ g │  0\n *      ├───┬───┴───┼───┬───┤   will return:   ├───┴───┼───┤\n *   2  │ h │ i     │ j │ k │                  │ i     │ j │  1\n *      ├───┤       ├───┤   │                  │       ├───┤\n *   3  │ l │       │ m │   │                  │       │ m │  2\n *      ├───┼───┬───┤   ├───┤                  └───────┴───┘\n *   4  │ n │ o │ p │   │ q │\n *      └───┴───┴───┴───┴───┘\n */\nexport function cropTableToDimensions(sourceTable, cropDimensions, writer) {\n    const { startRow, startColumn, endRow, endColumn } = cropDimensions;\n    // Create empty table with empty rows equal to crop height.\n    const croppedTable = writer.createElement('table');\n    const cropHeight = endRow - startRow + 1;\n    for (let i = 0; i < cropHeight; i++) {\n        writer.insertElement('tableRow', croppedTable, 'end');\n    }\n    const tableMap = [...new TableWalker(sourceTable, { startRow, endRow, startColumn, endColumn, includeAllSlots: true })];\n    // Iterate over source table slots (including empty - spanned - ones).\n    for (const { row: sourceRow, column: sourceColumn, cell: tableCell, isAnchor, cellAnchorRow, cellAnchorColumn } of tableMap) {\n        // Row index in cropped table.\n        const rowInCroppedTable = sourceRow - startRow;\n        const row = croppedTable.getChild(rowInCroppedTable);\n        // For empty slots: fill the gap with empty table cell.\n        if (!isAnchor) {\n            // But fill the gap only if the spanning cell is anchored outside cropped area.\n            // In the table from method jsdoc those cells are: \"c\" & \"f\".\n            if (cellAnchorRow < startRow || cellAnchorColumn < startColumn) {\n                createEmptyTableCell(writer, writer.createPositionAt(row, 'end'));\n            }\n        }\n        // Otherwise clone the cell with all children and trim if it exceeds cropped area.\n        else {\n            const tableCellCopy = writer.cloneElement(tableCell);\n            writer.append(tableCellCopy, row);\n            // Trim table if it exceeds cropped area.\n            // In the table from method jsdoc those cells are: \"g\" & \"m\".\n            trimTableCellIfNeeded(tableCellCopy, sourceRow, sourceColumn, endRow, endColumn, writer);\n        }\n    }\n    // Adjust heading rows & columns in cropped table if crop selection includes headings parts.\n    addHeadingsToCroppedTable(croppedTable, sourceTable, startRow, startColumn, writer);\n    return croppedTable;\n}\n/**\n * Returns slot info of cells that starts above and overlaps a given row.\n *\n * In a table below, passing `overlapRow = 3`\n *\n *     ┌───┬───┬───┬───┬───┐\n *  0  │ a │ b │ c │ d │ e │\n *     │   ├───┼───┼───┼───┤\n *  1  │   │ f │ g │ h │ i │\n *     ├───┤   ├───┼───┤   │\n *  2  │ j │   │ k │ l │   │\n *     │   │   │   ├───┼───┤\n *  3  │   │   │   │ m │ n │  <- overlap row to check\n *     ├───┼───┤   │   ├───│\n *  4  │ o │ p │   │   │ q │\n *     └───┴───┴───┴───┴───┘\n *\n * will return slot info for cells: \"j\", \"f\", \"k\".\n *\n * @param table The table to check.\n * @param overlapRow The index of the row to check.\n * @param startRow row to start analysis. Use it when it is known that the cells above that row will not overlap. Default value is 0.\n */\nexport function getVerticallyOverlappingCells(table, overlapRow, startRow = 0) {\n    const cells = [];\n    const tableWalker = new TableWalker(table, { startRow, endRow: overlapRow - 1 });\n    for (const slotInfo of tableWalker) {\n        const { row, cellHeight } = slotInfo;\n        const cellEndRow = row + cellHeight - 1;\n        if (row < overlapRow && overlapRow <= cellEndRow) {\n            cells.push(slotInfo);\n        }\n    }\n    return cells;\n}\n/**\n * Splits the table cell horizontally.\n *\n * @returns Created table cell, if any were created.\n */\nexport function splitHorizontally(tableCell, splitRow, writer) {\n    const tableRow = tableCell.parent;\n    const table = tableRow.parent;\n    const rowIndex = tableRow.index;\n    const rowspan = parseInt(tableCell.getAttribute('rowspan'));\n    const newRowspan = splitRow - rowIndex;\n    const newCellAttributes = {};\n    const newCellRowSpan = rowspan - newRowspan;\n    if (newCellRowSpan > 1) {\n        newCellAttributes.rowspan = newCellRowSpan;\n    }\n    const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n    if (colspan > 1) {\n        newCellAttributes.colspan = colspan;\n    }\n    const startRow = rowIndex;\n    const endRow = startRow + newRowspan;\n    const tableMap = [...new TableWalker(table, { startRow, endRow, includeAllSlots: true })];\n    let newCell = null;\n    let columnIndex;\n    for (const tableSlot of tableMap) {\n        const { row, column, cell } = tableSlot;\n        if (cell === tableCell && columnIndex === undefined) {\n            columnIndex = column;\n        }\n        if (columnIndex !== undefined && columnIndex === column && row === endRow) {\n            newCell = createEmptyTableCell(writer, tableSlot.getPositionBefore(), newCellAttributes);\n        }\n    }\n    // Update the rowspan attribute after updating table.\n    updateNumericAttribute('rowspan', newRowspan, tableCell, writer);\n    return newCell;\n}\n/**\n * Returns slot info of cells that starts before and overlaps a given column.\n *\n * In a table below, passing `overlapColumn = 3`\n *\n *    0   1   2   3   4\n *  ┌───────┬───────┬───┐\n *  │ a     │ b     │ c │\n *  │───┬───┴───────┼───┤\n *  │ d │ e         │ f │\n *  ├───┼───┬───────┴───┤\n *  │ g │ h │ i         │\n *  ├───┼───┼───┬───────┤\n *  │ j │ k │ l │ m     │\n *  ├───┼───┴───┼───┬───┤\n *  │ n │ o     │ p │ q │\n *  └───┴───────┴───┴───┘\n *                ^\n *                Overlap column to check\n *\n * will return slot info for cells: \"b\", \"e\", \"i\".\n *\n * @param table The table to check.\n * @param overlapColumn The index of the column to check.\n */\nexport function getHorizontallyOverlappingCells(table, overlapColumn) {\n    const cellsToSplit = [];\n    const tableWalker = new TableWalker(table);\n    for (const slotInfo of tableWalker) {\n        const { column, cellWidth } = slotInfo;\n        const cellEndColumn = column + cellWidth - 1;\n        if (column < overlapColumn && overlapColumn <= cellEndColumn) {\n            cellsToSplit.push(slotInfo);\n        }\n    }\n    return cellsToSplit;\n}\n/**\n * Splits the table cell vertically.\n *\n * @param columnIndex The table cell column index.\n * @param splitColumn The index of column to split cell on.\n * @returns Created table cell.\n */\nexport function splitVertically(tableCell, columnIndex, splitColumn, writer) {\n    const colspan = parseInt(tableCell.getAttribute('colspan'));\n    const newColspan = splitColumn - columnIndex;\n    const newCellAttributes = {};\n    const newCellColSpan = colspan - newColspan;\n    if (newCellColSpan > 1) {\n        newCellAttributes.colspan = newCellColSpan;\n    }\n    const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    if (rowspan > 1) {\n        newCellAttributes.rowspan = rowspan;\n    }\n    const newCell = createEmptyTableCell(writer, writer.createPositionAfter(tableCell), newCellAttributes);\n    // Update the colspan attribute after updating table.\n    updateNumericAttribute('colspan', newColspan, tableCell, writer);\n    return newCell;\n}\n/**\n * Adjusts table cell dimensions to not exceed limit row and column.\n *\n * If table cell width (or height) covers a column (or row) that is after a limit column (or row)\n * this method will trim \"colspan\" (or \"rowspan\") attribute so the table cell will fit in a defined limits.\n */\nexport function trimTableCellIfNeeded(tableCell, cellRow, cellColumn, limitRow, limitColumn, writer) {\n    const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n    const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    const endColumn = cellColumn + colspan - 1;\n    if (endColumn > limitColumn) {\n        const trimmedSpan = limitColumn - cellColumn + 1;\n        updateNumericAttribute('colspan', trimmedSpan, tableCell, writer, 1);\n    }\n    const endRow = cellRow + rowspan - 1;\n    if (endRow > limitRow) {\n        const trimmedSpan = limitRow - cellRow + 1;\n        updateNumericAttribute('rowspan', trimmedSpan, tableCell, writer, 1);\n    }\n}\n/**\n * Sets proper heading attributes to a cropped table.\n */\nfunction addHeadingsToCroppedTable(croppedTable, sourceTable, startRow, startColumn, writer) {\n    const headingRows = parseInt(sourceTable.getAttribute('headingRows') || '0');\n    if (headingRows > 0) {\n        const headingRowsInCrop = headingRows - startRow;\n        updateNumericAttribute('headingRows', headingRowsInCrop, croppedTable, writer, 0);\n    }\n    const headingColumns = parseInt(sourceTable.getAttribute('headingColumns') || '0');\n    if (headingColumns > 0) {\n        const headingColumnsInCrop = headingColumns - startColumn;\n        updateNumericAttribute('headingColumns', headingColumnsInCrop, croppedTable, writer, 0);\n    }\n}\n/**\n * Removes columns that have no cells anchored.\n *\n * In table below:\n *\n *     +----+----+----+----+----+----+----+\n *     | 00 | 01      | 03 | 04      | 06 |\n *     +----+----+----+----+         +----+\n *     | 10 | 11      | 13 |         | 16 |\n *     +----+----+----+----+----+----+----+\n *     | 20 | 21      | 23 | 24      | 26 |\n *     +----+----+----+----+----+----+----+\n *                  ^--- empty ---^\n *\n * Will remove columns 2 and 5.\n *\n * **Note:** This is a low-level helper method for clearing invalid model state when doing table modifications.\n * To remove a column from a table use {@link module:table/tableutils~TableUtils#removeColumns `TableUtils.removeColumns()`}.\n *\n * @internal\n * @returns True if removed some columns.\n */\nexport function removeEmptyColumns(table, tableUtils) {\n    const width = tableUtils.getColumns(table);\n    const columnsMap = new Array(width).fill(0);\n    for (const { column } of new TableWalker(table)) {\n        columnsMap[column]++;\n    }\n    const emptyColumns = columnsMap.reduce((result, cellsCount, column) => {\n        return cellsCount ? result : [...result, column];\n    }, []);\n    if (emptyColumns.length > 0) {\n        // Remove only last empty column because it will recurrently trigger removing empty rows.\n        const emptyColumn = emptyColumns[emptyColumns.length - 1];\n        // @if CK_DEBUG_TABLE // console.log( `Removing empty column: ${ emptyColumn }.` );\n        tableUtils.removeColumns(table, { at: emptyColumn });\n        return true;\n    }\n    return false;\n}\n/**\n * Removes rows that have no cells anchored.\n *\n * In table below:\n *\n *     +----+----+----+\n *     | 00 | 01 | 02 |\n *     +----+----+----+\n *     | 10 | 11 | 12 |\n *     +    +    +    +\n *     |    |    |    | <-- empty\n *     +----+----+----+\n *     | 30 | 31 | 32 |\n *     +----+----+----+\n *     | 40      | 42 |\n *     +         +    +\n *     |         |    | <-- empty\n *     +----+----+----+\n *     | 60 | 61 | 62 |\n *     +----+----+----+\n *\n * Will remove rows 2 and 5.\n *\n * **Note:** This is a low-level helper method for clearing invalid model state when doing table modifications.\n * To remove a row from a table use {@link module:table/tableutils~TableUtils#removeRows `TableUtils.removeRows()`}.\n *\n * @internal\n * @returns True if removed some rows.\n */\nexport function removeEmptyRows(table, tableUtils) {\n    const emptyRows = [];\n    const tableRowCount = tableUtils.getRows(table);\n    for (let rowIndex = 0; rowIndex < tableRowCount; rowIndex++) {\n        const tableRow = table.getChild(rowIndex);\n        if (tableRow.isEmpty) {\n            emptyRows.push(rowIndex);\n        }\n    }\n    if (emptyRows.length > 0) {\n        // Remove only last empty row because it will recurrently trigger removing empty columns.\n        const emptyRow = emptyRows[emptyRows.length - 1];\n        // @if CK_DEBUG_TABLE // console.log( `Removing empty row: ${ emptyRow }.` );\n        tableUtils.removeRows(table, { at: emptyRow });\n        return true;\n    }\n    return false;\n}\n/**\n * Removes rows and columns that have no cells anchored.\n *\n * In table below:\n *\n *     +----+----+----+----+\n *     | 00      | 02      |\n *     +----+----+         +\n *     | 10      |         |\n *     +----+----+----+----+\n *     | 20      | 22 | 23 |\n *     +         +    +    +\n *     |         |    |    | <-- empty row\n *     +----+----+----+----+\n *             ^--- empty column\n *\n * Will remove row 3 and column 1.\n *\n * **Note:** This is a low-level helper method for clearing invalid model state when doing table modifications.\n * To remove a rows from a table use {@link module:table/tableutils~TableUtils#removeRows `TableUtils.removeRows()`} and\n * {@link module:table/tableutils~TableUtils#removeColumns `TableUtils.removeColumns()`} to remove a column.\n *\n * @internal\n */\nexport function removeEmptyRowsColumns(table, tableUtils) {\n    const removedColumns = removeEmptyColumns(table, tableUtils);\n    // If there was some columns removed then cleaning empty rows was already triggered.\n    if (!removedColumns) {\n        removeEmptyRows(table, tableUtils);\n    }\n}\n/**\n * Returns adjusted last row index if selection covers part of a row with empty slots (spanned by other cells).\n * The `dimensions.lastRow` is equal to last row index but selection might be bigger.\n *\n * This happens *only* on rectangular selection so we analyze a case like this:\n *\n *        +---+---+---+---+\n *      0 | a | b | c | d |\n *        +   +   +---+---+\n *      1 |   | e | f | g |\n *        +   +---+   +---+\n *      2 |   | h |   | i | <- last row, each cell has rowspan = 2,\n *        +   +   +   +   +    so we need to return 3, not 2\n *      3 |   |   |   |   |\n *        +---+---+---+---+\n *\n * @returns Adjusted last row index.\n */\nexport function adjustLastRowIndex(table, dimensions) {\n    const lastRowMap = Array.from(new TableWalker(table, {\n        startColumn: dimensions.firstColumn,\n        endColumn: dimensions.lastColumn,\n        row: dimensions.lastRow\n    }));\n    const everyCellHasSingleRowspan = lastRowMap.every(({ cellHeight }) => cellHeight === 1);\n    // It is a \"flat\" row, so the last row index is OK.\n    if (everyCellHasSingleRowspan) {\n        return dimensions.lastRow;\n    }\n    // Otherwise get any cell's rowspan and adjust the last row index.\n    const rowspanAdjustment = lastRowMap[0].cellHeight - 1;\n    return dimensions.lastRow + rowspanAdjustment;\n}\n/**\n * Returns adjusted last column index if selection covers part of a column with empty slots (spanned by other cells).\n * The `dimensions.lastColumn` is equal to last column index but selection might be bigger.\n *\n * This happens *only* on rectangular selection so we analyze a case like this:\n *\n *       0   1   2   3\n *     +---+---+---+---+\n *     | a             |\n *     +---+---+---+---+\n *     | b | c | d     |\n *     +---+---+---+---+\n *     | e     | f     |\n *     +---+---+---+---+\n *     | g | h         |\n *     +---+---+---+---+\n *               ^\n *              last column, each cell has colspan = 2, so we need to return 3, not 2\n *\n * @returns Adjusted last column index.\n */\nexport function adjustLastColumnIndex(table, dimensions) {\n    const lastColumnMap = Array.from(new TableWalker(table, {\n        startRow: dimensions.firstRow,\n        endRow: dimensions.lastRow,\n        column: dimensions.lastColumn\n    }));\n    const everyCellHasSingleColspan = lastColumnMap.every(({ cellWidth }) => cellWidth === 1);\n    // It is a \"flat\" column, so the last column index is OK.\n    if (everyCellHasSingleColspan) {\n        return dimensions.lastColumn;\n    }\n    // Otherwise get any cell's colspan and adjust the last column index.\n    const colspanAdjustment = lastColumnMap[0].cellWidth - 1;\n    return dimensions.lastColumn + colspanAdjustment;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableWalker from '../tablewalker.js';\nimport { isHeadingColumnCell } from '../utils/common.js';\nimport { removeEmptyRowsColumns } from '../utils/structure.js';\n/**\n * The merge cell command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'mergeTableCellRight'`, `'mergeTableCellLeft'`,\n * `'mergeTableCellUp'` and `'mergeTableCellDown'` editor commands.\n *\n * To merge a table cell at the current selection with another cell, execute the command corresponding with the preferred direction.\n *\n * For example, to merge with a cell to the right:\n *\n * ```ts\n * editor.execute( 'mergeTableCellRight' );\n * ```\n *\n * **Note**: If a table cell has a different [`rowspan`](https://www.w3.org/TR/html50/tabular-data.html#attr-tdth-rowspan)\n * (for `'mergeTableCellRight'` and `'mergeTableCellLeft'`) or [`colspan`](https://www.w3.org/TR/html50/tabular-data.html#attr-tdth-colspan)\n * (for `'mergeTableCellUp'` and `'mergeTableCellDown'`), the command will be disabled.\n */\nexport default class MergeCellCommand extends Command {\n    /**\n     * Creates a new `MergeCellCommand` instance.\n     *\n     * @param editor The editor on which this command will be used.\n     * @param options.direction Indicates which cell to merge with the currently selected one.\n     * Possible values are: `'left'`, `'right'`, `'up'` and `'down'`.\n     */\n    constructor(editor, options) {\n        super(editor);\n        this.direction = options.direction;\n        this.isHorizontal = this.direction == 'right' || this.direction == 'left';\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const cellToMerge = this._getMergeableCell();\n        this.value = cellToMerge;\n        this.isEnabled = !!cellToMerge;\n    }\n    /**\n     * Executes the command.\n     *\n     * Depending on the command's {@link #direction} value, it will merge the cell that is to the `'left'`, `'right'`, `'up'` or `'down'`.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        const doc = model.document;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCell = tableUtils.getTableCellsContainingSelection(doc.selection)[0];\n        const cellToMerge = this.value;\n        const direction = this.direction;\n        model.change(writer => {\n            const isMergeNext = direction == 'right' || direction == 'down';\n            // The merge mechanism is always the same so sort cells to be merged.\n            const cellToExpand = (isMergeNext ? tableCell : cellToMerge);\n            const cellToRemove = (isMergeNext ? cellToMerge : tableCell);\n            // Cache the parent of cell to remove for later check.\n            const removedTableCellRow = cellToRemove.parent;\n            mergeTableCells(cellToRemove, cellToExpand, writer);\n            const spanAttribute = this.isHorizontal ? 'colspan' : 'rowspan';\n            const cellSpan = parseInt(tableCell.getAttribute(spanAttribute) || '1');\n            const cellToMergeSpan = parseInt(cellToMerge.getAttribute(spanAttribute) || '1');\n            // Update table cell span attribute and merge set selection on merged contents.\n            writer.setAttribute(spanAttribute, cellSpan + cellToMergeSpan, cellToExpand);\n            writer.setSelection(writer.createRangeIn(cellToExpand));\n            const tableUtils = this.editor.plugins.get('TableUtils');\n            const table = removedTableCellRow.findAncestor('table');\n            // Remove empty rows and columns after merging.\n            removeEmptyRowsColumns(table, tableUtils);\n        });\n    }\n    /**\n     * Returns a cell that can be merged with the current cell depending on the command's direction.\n     */\n    _getMergeableCell() {\n        const model = this.editor.model;\n        const doc = model.document;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCell = tableUtils.getTableCellsContainingSelection(doc.selection)[0];\n        if (!tableCell) {\n            return;\n        }\n        // First get the cell on proper direction.\n        const cellToMerge = this.isHorizontal ?\n            getHorizontalCell(tableCell, this.direction, tableUtils) :\n            getVerticalCell(tableCell, this.direction, tableUtils);\n        if (!cellToMerge) {\n            return;\n        }\n        // If found check if the span perpendicular to merge direction is equal on both cells.\n        const spanAttribute = this.isHorizontal ? 'rowspan' : 'colspan';\n        const span = parseInt(tableCell.getAttribute(spanAttribute) || '1');\n        const cellToMergeSpan = parseInt(cellToMerge.getAttribute(spanAttribute) || '1');\n        if (cellToMergeSpan === span) {\n            return cellToMerge;\n        }\n    }\n}\n/**\n * Returns the cell that can be merged horizontally.\n */\nfunction getHorizontalCell(tableCell, direction, tableUtils) {\n    const tableRow = tableCell.parent;\n    const table = tableRow.parent;\n    const horizontalCell = direction == 'right' ? tableCell.nextSibling : tableCell.previousSibling;\n    const hasHeadingColumns = (table.getAttribute('headingColumns') || 0) > 0;\n    if (!horizontalCell) {\n        return;\n    }\n    // Sort cells:\n    const cellOnLeft = (direction == 'right' ? tableCell : horizontalCell);\n    const cellOnRight = (direction == 'right' ? horizontalCell : tableCell);\n    // Get their column indexes:\n    const { column: leftCellColumn } = tableUtils.getCellLocation(cellOnLeft);\n    const { column: rightCellColumn } = tableUtils.getCellLocation(cellOnRight);\n    const leftCellSpan = parseInt(cellOnLeft.getAttribute('colspan') || '1');\n    const isCellOnLeftInHeadingColumn = isHeadingColumnCell(tableUtils, cellOnLeft);\n    const isCellOnRightInHeadingColumn = isHeadingColumnCell(tableUtils, cellOnRight);\n    // We cannot merge heading columns cells with regular cells.\n    if (hasHeadingColumns && isCellOnLeftInHeadingColumn != isCellOnRightInHeadingColumn) {\n        return;\n    }\n    // The cell on the right must have index that is distant to the cell on the left by the left cell's width (colspan).\n    const cellsAreTouching = leftCellColumn + leftCellSpan === rightCellColumn;\n    // If the right cell's column index is different it means that there are rowspanned cells between them.\n    return cellsAreTouching ? horizontalCell : undefined;\n}\n/**\n * Returns the cell that can be merged vertically.\n */\nfunction getVerticalCell(tableCell, direction, tableUtils) {\n    const tableRow = tableCell.parent;\n    const table = tableRow.parent;\n    const rowIndex = table.getChildIndex(tableRow);\n    // Don't search for mergeable cell if direction points out of the table.\n    if ((direction == 'down' && rowIndex === tableUtils.getRows(table) - 1) || (direction == 'up' && rowIndex === 0)) {\n        return null;\n    }\n    const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    const headingRows = table.getAttribute('headingRows') || 0;\n    const isMergeWithBodyCell = direction == 'down' && (rowIndex + rowspan) === headingRows;\n    const isMergeWithHeadCell = direction == 'up' && rowIndex === headingRows;\n    // Don't search for mergeable cell if direction points out of the current table section.\n    if (headingRows && (isMergeWithBodyCell || isMergeWithHeadCell)) {\n        return null;\n    }\n    const currentCellRowSpan = parseInt(tableCell.getAttribute('rowspan') || '1');\n    const rowOfCellToMerge = direction == 'down' ? rowIndex + currentCellRowSpan : rowIndex;\n    const tableMap = [...new TableWalker(table, { endRow: rowOfCellToMerge })];\n    const currentCellData = tableMap.find(value => value.cell === tableCell);\n    const mergeColumn = currentCellData.column;\n    const cellToMergeData = tableMap.find(({ row, cellHeight, column }) => {\n        if (column !== mergeColumn) {\n            return false;\n        }\n        if (direction == 'down') {\n            // If merging a cell below the mergeRow is already calculated.\n            return row === rowOfCellToMerge;\n        }\n        else {\n            // If merging a cell above calculate if it spans to mergeRow.\n            return rowOfCellToMerge === row + cellHeight;\n        }\n    });\n    return cellToMergeData && cellToMergeData.cell ? cellToMergeData.cell : null;\n}\n/**\n * Merges two table cells. It will ensure that after merging cells with an empty paragraph, the resulting table cell will only have one\n * paragraph. If one of the merged table cells is empty, the merged table cell will have the contents of the non-empty table cell.\n * If both are empty, the merged table cell will have only one empty paragraph.\n */\nfunction mergeTableCells(cellToRemove, cellToExpand, writer) {\n    if (!isEmpty(cellToRemove)) {\n        if (isEmpty(cellToExpand)) {\n            writer.remove(writer.createRangeIn(cellToExpand));\n        }\n        writer.move(writer.createRangeIn(cellToRemove), writer.createPositionAt(cellToExpand, 'end'));\n    }\n    // Remove merged table cell.\n    writer.remove(cellToRemove);\n}\n/**\n * Checks if the passed table cell contains an empty paragraph.\n */\nfunction isEmpty(tableCell) {\n    const firstTableChild = tableCell.getChild(0);\n    return tableCell.childCount == 1 && firstTableChild.is('element', 'paragraph') && firstTableChild.isEmpty;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/removerowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The remove row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'removeTableRow'` editor command.\n *\n * To remove the row containing the selected cell, execute the command:\n *\n * ```ts\n * editor.execute( 'removeTableRow' );\n * ```\n */\nexport default class RemoveRowCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        const firstCell = selectedCells[0];\n        if (firstCell) {\n            const table = firstCell.findAncestor('table');\n            const tableRowCount = tableUtils.getRows(table);\n            const lastRowIndex = tableRowCount - 1;\n            const selectedRowIndexes = tableUtils.getRowIndexes(selectedCells);\n            const areAllRowsSelected = selectedRowIndexes.first === 0 && selectedRowIndexes.last === lastRowIndex;\n            // Disallow selecting whole table -> delete whole table should be used instead.\n            this.isEnabled = !areAllRowsSelected;\n        }\n        else {\n            this.isEnabled = false;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const referenceCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const removedRowIndexes = tableUtils.getRowIndexes(referenceCells);\n        const firstCell = referenceCells[0];\n        const table = firstCell.findAncestor('table');\n        const columnIndexToFocus = tableUtils.getCellLocation(firstCell).column;\n        model.change(writer => {\n            const rowsToRemove = removedRowIndexes.last - removedRowIndexes.first + 1;\n            tableUtils.removeRows(table, {\n                at: removedRowIndexes.first,\n                rows: rowsToRemove\n            });\n            const cellToFocus = getCellToFocus(table, removedRowIndexes.first, columnIndexToFocus, tableUtils.getRows(table));\n            writer.setSelection(writer.createPositionAt(cellToFocus, 0));\n        });\n    }\n}\n/**\n * Returns a cell that should be focused before removing the row, belonging to the same column as the currently focused cell.\n * - If the row was not the last one, the cell to focus will be in the row that followed it (before removal).\n * - If the row was the last one, the cell to focus will be in the row that preceded it (before removal).\n */\nfunction getCellToFocus(table, removedRowIndex, columnToFocus, tableRowCount) {\n    // Don't go beyond last row's index.\n    const row = table.getChild(Math.min(removedRowIndex, tableRowCount - 1));\n    // Default to first table cell.\n    let cellToFocus = row.getChild(0);\n    let column = 0;\n    for (const tableCell of row.getChildren()) {\n        if (column > columnToFocus) {\n            return cellToFocus;\n        }\n        cellToFocus = tableCell;\n        column += parseInt(tableCell.getAttribute('colspan') || '1');\n    }\n    return cellToFocus;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/removecolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableWalker from '../tablewalker.js';\n/**\n * The remove column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'removeTableColumn'` editor command.\n *\n * To remove the column containing the selected cell, execute the command:\n *\n * ```ts\n * editor.execute( 'removeTableColumn' );\n * ```\n */\nexport default class RemoveColumnCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        const firstCell = selectedCells[0];\n        if (firstCell) {\n            const table = firstCell.findAncestor('table');\n            const tableColumnCount = tableUtils.getColumns(table);\n            const { first, last } = tableUtils.getColumnIndexes(selectedCells);\n            this.isEnabled = last - first < (tableColumnCount - 1);\n        }\n        else {\n            this.isEnabled = false;\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const [firstCell, lastCell] = getBoundaryCells(this.editor.model.document.selection, tableUtils);\n        const table = firstCell.parent.parent;\n        // Cache the table before removing or updating colspans.\n        const tableMap = [...new TableWalker(table)];\n        // Store column indexes of removed columns.\n        const removedColumnIndexes = {\n            first: tableMap.find(value => value.cell === firstCell).column,\n            last: tableMap.find(value => value.cell === lastCell).column\n        };\n        const cellToFocus = getCellToFocus(tableMap, firstCell, lastCell, removedColumnIndexes);\n        this.editor.model.change(writer => {\n            const columnsToRemove = removedColumnIndexes.last - removedColumnIndexes.first + 1;\n            tableUtils.removeColumns(table, {\n                at: removedColumnIndexes.first,\n                columns: columnsToRemove\n            });\n            writer.setSelection(writer.createPositionAt(cellToFocus, 0));\n        });\n    }\n}\n/**\n * Returns a proper table cell to focus after removing a column.\n * - selection is on last table cell it will return previous cell.\n */\nfunction getCellToFocus(tableMap, firstCell, lastCell, removedColumnIndexes) {\n    const colspan = parseInt(lastCell.getAttribute('colspan') || '1');\n    // If the table cell is spanned over 2+ columns - it will be truncated so the selection should\n    // stay in that cell.\n    if (colspan > 1) {\n        return lastCell;\n    }\n    // Normally, look for the cell in the same row that precedes the first cell to put selection there (\"column on the left\").\n    // If the deleted column is the first column of the table, there will be no predecessor: use the cell\n    // from the column that follows then (also in the same row).\n    else if (firstCell.previousSibling || lastCell.nextSibling) {\n        return lastCell.nextSibling || firstCell.previousSibling;\n    }\n    // It can happen that table cells have no siblings in a row, for instance, when there are row spans\n    // in the table (in the previous row). Then just look for the closest cell that is in a column\n    // that will not be removed to put the selection there.\n    else {\n        // Look for any cell in a column that precedes the first removed column.\n        if (removedColumnIndexes.first) {\n            return tableMap.reverse().find(({ column }) => {\n                return column < removedColumnIndexes.first;\n            }).cell;\n        }\n        // If the first removed column is the first column of the table, then\n        // look for any cell that is in a column that follows the last removed column.\n        else {\n            return tableMap.reverse().find(({ column }) => {\n                return column > removedColumnIndexes.last;\n            }).cell;\n        }\n    }\n}\n/**\n * Returns helper object returning the first and the last cell contained in given selection, based on DOM order.\n */\nfunction getBoundaryCells(selection, tableUtils) {\n    const referenceCells = tableUtils.getSelectionAffectedTableCells(selection);\n    const firstCell = referenceCells[0];\n    const lastCell = referenceCells.pop();\n    const returnValue = [firstCell, lastCell];\n    return firstCell.isBefore(lastCell) ? returnValue : returnValue.reverse();\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/setheaderrowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { updateNumericAttribute } from '../utils/common.js';\nimport { getVerticallyOverlappingCells, splitHorizontally } from '../utils/structure.js';\n/**\n * The header row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'setTableColumnHeader'` editor command.\n *\n * You can make the row containing the selected cell a [header](https://www.w3.org/TR/html50/tabular-data.html#the-th-element) by executing:\n *\n * ```ts\n * editor.execute( 'setTableRowHeader' );\n * ```\n *\n * **Note:** All preceding rows will also become headers. If the current row is already a header, executing this command\n * will make it a regular row back again (including the following rows).\n */\nexport default class SetHeaderRowCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const isInTable = selectedCells.length > 0;\n        this.isEnabled = isInTable;\n        this.value = isInTable && selectedCells.every(cell => this._isInHeading(cell, cell.parent.parent));\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is in a non-header row, the command will set the `headingRows` table attribute to cover that row.\n     *\n     * When the selection is already in a header row, it will set `headingRows` so the heading section will end before that row.\n     *\n     * @fires execute\n     * @param options.forceValue If set, the command will set (`true`) or unset (`false`) the header rows according to\n     * the `forceValue` parameter instead of the current model state.\n     */\n    execute(options = {}) {\n        if (options.forceValue === this.value) {\n            return;\n        }\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const table = selectedCells[0].findAncestor('table');\n        const { first, last } = tableUtils.getRowIndexes(selectedCells);\n        const headingRowsToSet = this.value ? first : last + 1;\n        const currentHeadingRows = table.getAttribute('headingRows') || 0;\n        model.change(writer => {\n            if (headingRowsToSet) {\n                // Changing heading rows requires to check if any of a heading cell is overlapping vertically the table head.\n                // Any table cell that has a rowspan attribute > 1 will not exceed the table head so we need to fix it in rows below.\n                const startRow = headingRowsToSet > currentHeadingRows ? currentHeadingRows : 0;\n                const overlappingCells = getVerticallyOverlappingCells(table, headingRowsToSet, startRow);\n                for (const { cell } of overlappingCells) {\n                    splitHorizontally(cell, headingRowsToSet, writer);\n                }\n            }\n            updateNumericAttribute('headingRows', headingRowsToSet, table, writer, 0);\n        });\n    }\n    /**\n     * Checks if a table cell is in the heading section.\n     */\n    _isInHeading(tableCell, table) {\n        const headingRows = parseInt(table.getAttribute('headingRows') || '0');\n        return !!headingRows && tableCell.parent.index < headingRows;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/setheadercolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { isHeadingColumnCell, updateNumericAttribute } from '../utils/common.js';\nimport { getHorizontallyOverlappingCells, splitVertically } from '../utils/structure.js';\n/**\n * The header column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'setTableColumnHeader'` editor command.\n *\n * You can make the column containing the selected cell a [header](https://www.w3.org/TR/html50/tabular-data.html#the-th-element)\n * by executing:\n *\n * ```ts\n * editor.execute( 'setTableColumnHeader' );\n * ```\n *\n * **Note:** All preceding columns will also become headers. If the current column is already a header, executing this command\n * will make it a regular column back again (including the following columns).\n */\nexport default class SetHeaderColumnCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const isInTable = selectedCells.length > 0;\n        this.isEnabled = isInTable;\n        this.value = isInTable && selectedCells.every(cell => isHeadingColumnCell(tableUtils, cell));\n    }\n    /**\n     * Executes the command.\n     *\n     * When the selection is in a non-header column, the command will set the `headingColumns` table attribute to cover that column.\n     *\n     * When the selection is already in a header column, it will set `headingColumns` so the heading section will end before that column.\n     *\n     * @fires execute\n     * @param options.forceValue If set, the command will set (`true`) or unset (`false`) the header columns according to\n     * the `forceValue` parameter instead of the current model state.\n     */\n    execute(options = {}) {\n        if (options.forceValue === this.value) {\n            return;\n        }\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const table = selectedCells[0].findAncestor('table');\n        const { first, last } = tableUtils.getColumnIndexes(selectedCells);\n        const headingColumnsToSet = this.value ? first : last + 1;\n        model.change(writer => {\n            if (headingColumnsToSet) {\n                // Changing heading columns requires to check if any of a heading cell is overlapping horizontally the table head.\n                // Any table cell that has a colspan attribute > 1 will not exceed the table head so we need to fix it in columns before.\n                const overlappingCells = getHorizontallyOverlappingCells(table, headingColumnsToSet);\n                for (const { cell, column } of overlappingCells) {\n                    splitVertically(cell, column, headingColumnsToSet, writer);\n                }\n            }\n            updateNumericAttribute('headingColumns', headingColumnsToSet, table, writer, 0);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { global } from 'ckeditor5/src/utils.js';\nimport { COLUMN_WIDTH_PRECISION, COLUMN_MIN_WIDTH_AS_PERCENTAGE, COLUMN_MIN_WIDTH_IN_PIXELS } from './constants.js';\n/**\n * Returns all the inserted or changed table model elements in a given change set. Only the tables\n * with 'columnsWidth' attribute are taken into account. The returned set may be empty.\n *\n * Most notably if an entire table is removed it will not be included in returned set.\n *\n * @param model The model to collect the affected elements from.\n * @returns A set of table model elements.\n */\nexport function getChangedResizedTables(model) {\n    const affectedTables = new Set();\n    for (const change of model.document.differ.getChanges()) {\n        let referencePosition = null;\n        // Checks if the particular change from the differ is:\n        // - an insertion or removal of a table, a row or a cell,\n        // - an attribute change on a table, a row or a cell.\n        switch (change.type) {\n            case 'insert':\n                referencePosition = ['table', 'tableRow', 'tableCell'].includes(change.name) ?\n                    change.position :\n                    null;\n                break;\n            case 'remove':\n                // If the whole table is removed, there's no need to update its column widths (#12201).\n                referencePosition = ['tableRow', 'tableCell'].includes(change.name) ?\n                    change.position :\n                    null;\n                break;\n            case 'attribute':\n                if (change.range.start.nodeAfter) {\n                    referencePosition = ['table', 'tableRow', 'tableCell'].includes(change.range.start.nodeAfter.name) ?\n                        change.range.start :\n                        null;\n                }\n                break;\n        }\n        if (!referencePosition) {\n            continue;\n        }\n        const tableNode = (referencePosition.nodeAfter && referencePosition.nodeAfter.is('element', 'table')) ?\n            referencePosition.nodeAfter : referencePosition.findAncestor('table');\n        // We iterate over the whole table looking for the nested tables that are also affected.\n        for (const node of model.createRangeOn(tableNode).getItems()) {\n            if (!node.is('element', 'table')) {\n                continue;\n            }\n            if (!getColumnGroupElement(node)) {\n                continue;\n            }\n            affectedTables.add(node);\n        }\n    }\n    return affectedTables;\n}\n/**\n * Calculates the percentage of the minimum column width given in pixels for a given table.\n *\n * @param modelTable A table model element.\n * @param editor The editor instance.\n * @returns The minimal column width in percentage.\n */\nexport function getColumnMinWidthAsPercentage(modelTable, editor) {\n    return COLUMN_MIN_WIDTH_IN_PIXELS * 100 / getTableWidthInPixels(modelTable, editor);\n}\n/**\n * Calculates the table width in pixels.\n *\n * @param modelTable A table model element.\n * @param editor The editor instance.\n * @returns The width of the table in pixels.\n */\nexport function getTableWidthInPixels(modelTable, editor) {\n    // It is possible for a table to not have a <tbody> element - see #11878.\n    const referenceElement = getChildrenViewElement(modelTable, 'tbody', editor) || getChildrenViewElement(modelTable, 'thead', editor);\n    const domReferenceElement = editor.editing.view.domConverter.mapViewToDom(referenceElement);\n    return getElementWidthInPixels(domReferenceElement);\n}\n/**\n * Returns the a view element with a given name that is nested directly in a `<table>` element\n * related to a given `modelTable`.\n *\n * @param elementName Name of a view to be looked for, e.g. `'colgroup`', `'thead`'.\n * @returns Matched view or `undefined` otherwise.\n */\nfunction getChildrenViewElement(modelTable, elementName, editor) {\n    const viewFigure = editor.editing.mapper.toViewElement(modelTable);\n    const viewTable = [...viewFigure.getChildren()]\n        .find((node) => node.is('element', 'table'));\n    return [...viewTable.getChildren()]\n        .find((node) => node.is('element', elementName));\n}\n/**\n * Returns the computed width (in pixels) of the DOM element without padding and borders.\n *\n * @param domElement A DOM element.\n * @returns The width of the DOM element in pixels.\n */\nexport function getElementWidthInPixels(domElement) {\n    const styles = global.window.getComputedStyle(domElement);\n    // In the 'border-box' box sizing algorithm, the element's width\n    // already includes the padding and border width (#12335).\n    if (styles.boxSizing === 'border-box') {\n        return parseFloat(styles.width) -\n            parseFloat(styles.paddingLeft) -\n            parseFloat(styles.paddingRight) -\n            parseFloat(styles.borderLeftWidth) -\n            parseFloat(styles.borderRightWidth);\n    }\n    else {\n        return parseFloat(styles.width);\n    }\n}\n/**\n * Returns the column indexes on the left and right edges of a cell. They differ if the cell spans\n * across multiple columns.\n *\n * @param cell A table cell model element.\n * @param tableUtils The Table Utils plugin instance.\n * @returns An object containing the indexes of the left and right edges of the cell.\n */\nexport function getColumnEdgesIndexes(cell, tableUtils) {\n    const cellColumnIndex = tableUtils.getCellLocation(cell).column;\n    const cellWidth = cell.getAttribute('colspan') || 1;\n    return {\n        leftEdge: cellColumnIndex,\n        rightEdge: cellColumnIndex + cellWidth - 1\n    };\n}\n/**\n * Rounds the provided value to a fixed-point number with defined number of digits after the decimal point.\n *\n * @param value A number to be rounded.\n * @returns The rounded number.\n */\nexport function toPrecision(value) {\n    const multiplier = Math.pow(10, COLUMN_WIDTH_PRECISION);\n    const number = typeof value === 'number' ? value : parseFloat(value);\n    return Math.round(number * multiplier) / multiplier;\n}\n/**\n * Clamps the number within the inclusive lower (min) and upper (max) bounds. Returned number is rounded using the\n * {@link ~toPrecision `toPrecision()`} function.\n *\n * @param number A number to be clamped.\n * @param min A lower bound.\n * @param max An upper bound.\n * @returns The clamped number.\n */\nexport function clamp(number, min, max) {\n    if (number <= min) {\n        return toPrecision(min);\n    }\n    if (number >= max) {\n        return toPrecision(max);\n    }\n    return toPrecision(number);\n}\n/**\n * Creates an array with defined length and fills all elements with defined value.\n *\n * @param length The length of the array.\n * @param value The value to fill the array with.\n * @returns An array with defined length and filled with defined value.\n */\nexport function createFilledArray(length, value) {\n    return Array(length).fill(value);\n}\n/**\n * Sums all array values that can be parsed to a float.\n *\n * @param array An array of numbers.\n * @returns The sum of all array values.\n */\nexport function sumArray(array) {\n    return array\n        .map(value => typeof value === 'number' ? value : parseFloat(value))\n        .filter(value => !Number.isNaN(value))\n        .reduce((result, item) => result + item, 0);\n}\n/**\n * Makes sure that the sum of the widths from all columns is 100%. If the sum of all the widths is not equal 100%, all the widths are\n * changed proportionally so that they all sum back to 100%. If there are columns without specified width, the amount remaining\n * after assigning the known widths will be distributed equally between them.\n *\n * @param columnWidths An array of column widths.\n * @returns An array of column widths guaranteed to sum up to 100%.\n */\nexport function normalizeColumnWidths(columnWidths) {\n    const widths = columnWidths.map(width => {\n        if (width === 'auto') {\n            return width;\n        }\n        return parseFloat(width.replace('%', ''));\n    });\n    let normalizedWidths = calculateMissingColumnWidths(widths);\n    const totalWidth = sumArray(normalizedWidths);\n    if (totalWidth !== 100) {\n        normalizedWidths = normalizedWidths\n            // Adjust all the columns proportionally.\n            .map(width => toPrecision(width * 100 / totalWidth))\n            // Due to rounding of numbers it may happen that the sum of the widths of all columns will not be exactly 100%.\n            // Therefore, the width of the last column is explicitly adjusted (narrowed or expanded), since all the columns\n            // have been proportionally changed already.\n            .map((columnWidth, columnIndex, width) => {\n            const isLastColumn = columnIndex === width.length - 1;\n            if (!isLastColumn) {\n                return columnWidth;\n            }\n            const totalWidth = sumArray(width);\n            return toPrecision(columnWidth + 100 - totalWidth);\n        });\n    }\n    return normalizedWidths.map(width => width + '%');\n}\n/**\n * Initializes the column widths by parsing the attribute value and calculating the uninitialized column widths. The special value 'auto'\n * indicates that width for the column must be calculated. The width of such uninitialized column is calculated as follows:\n * - If there is enough free space in the table for all uninitialized columns to have at least the minimum allowed width for all of them,\n *   then set this width equally for all uninitialized columns.\n * - Otherwise, just set the minimum allowed width for all uninitialized columns. The sum of all column widths will be greater than 100%,\n *   but then it will be adjusted proportionally to 100% in {@link #normalizeColumnWidths `normalizeColumnWidths()`}.\n *\n * @param columnWidths An array of column widths.\n * @returns An array with 'auto' values replaced with calculated widths.\n */\nfunction calculateMissingColumnWidths(columnWidths) {\n    const numberOfUninitializedColumns = columnWidths.filter(columnWidth => columnWidth === 'auto').length;\n    if (numberOfUninitializedColumns === 0) {\n        return columnWidths.map(columnWidth => toPrecision(columnWidth));\n    }\n    const totalWidthOfInitializedColumns = sumArray(columnWidths);\n    const widthForUninitializedColumn = Math.max((100 - totalWidthOfInitializedColumns) / numberOfUninitializedColumns, COLUMN_MIN_WIDTH_AS_PERCENTAGE);\n    return columnWidths\n        .map(columnWidth => columnWidth === 'auto' ? widthForUninitializedColumn : columnWidth)\n        .map(columnWidth => toPrecision(columnWidth));\n}\n/**\n * Calculates the total horizontal space taken by the cell. That includes:\n *  * width,\n *  * left and red padding,\n *  * border width.\n *\n * @param domCell A DOM cell element.\n * @returns Width in pixels without `px` at the end.\n */\nexport function getDomCellOuterWidth(domCell) {\n    const styles = global.window.getComputedStyle(domCell);\n    // In the 'border-box' box sizing algorithm, the element's width\n    // already includes the padding and border width (#12335).\n    if (styles.boxSizing === 'border-box') {\n        return parseInt(styles.width);\n    }\n    else {\n        return parseFloat(styles.width) +\n            parseFloat(styles.paddingLeft) +\n            parseFloat(styles.paddingRight) +\n            parseFloat(styles.borderWidth);\n    }\n}\n/**\n * Updates column elements to match columns widths.\n *\n * @param columns\n * @param tableColumnGroup\n * @param normalizedWidths\n * @param writer\n */\nexport function updateColumnElements(columns, tableColumnGroup, normalizedWidths, writer) {\n    for (let i = 0; i < Math.max(normalizedWidths.length, columns.length); i++) {\n        const column = columns[i];\n        const columnWidth = normalizedWidths[i];\n        if (!columnWidth) {\n            // Number of `<tableColumn>` elements exceeds actual number of columns.\n            writer.remove(column);\n        }\n        else if (!column) {\n            // There is fewer `<tableColumn>` elements than actual columns.\n            writer.appendElement('tableColumn', { columnWidth }, tableColumnGroup);\n        }\n        else {\n            // Update column width.\n            writer.setAttribute('columnWidth', columnWidth, column);\n        }\n    }\n}\n/**\n * Returns a 'tableColumnGroup' element from the 'table'.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @returns A 'tableColumnGroup' element.\n */\nexport function getColumnGroupElement(element) {\n    if (element.is('element', 'tableColumnGroup')) {\n        return element;\n    }\n    const children = element.getChildren();\n    return Array\n        .from(children)\n        .find(element => element.is('element', 'tableColumnGroup'));\n}\n/**\n * Returns an array of 'tableColumn' elements. It may be empty if there's no `tableColumnGroup` element.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @returns An array of 'tableColumn' elements.\n */\nexport function getTableColumnElements(element) {\n    const columnGroupElement = getColumnGroupElement(element);\n    if (!columnGroupElement) {\n        return [];\n    }\n    return Array.from(columnGroupElement.getChildren());\n}\n/**\n * Returns an array of table column widths.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @returns An array of table column widths.\n */\nexport function getTableColumnsWidths(element) {\n    return getTableColumnElements(element).map(column => column.getAttribute('columnWidth'));\n}\n/**\n * Translates the `colSpan` model attribute into additional column widths and returns the resulting array.\n *\n * @internal\n * @param element A 'table' or 'tableColumnGroup' element.\n * @param writer A writer instance.\n * @returns An array of table column widths.\n */\nexport function translateColSpanAttribute(element, writer) {\n    const tableColumnElements = getTableColumnElements(element);\n    return tableColumnElements.reduce((acc, element) => {\n        const columnWidth = element.getAttribute('columnWidth');\n        const colSpan = element.getAttribute('colSpan');\n        if (!colSpan) {\n            acc.push(columnWidth);\n            return acc;\n        }\n        // Translate the `colSpan` model attribute on to the proper number of column widths\n        // and remove it from the element.\n        // See https://github.com/ckeditor/ckeditor5/issues/14521#issuecomment-1662102889 for more details.\n        for (let i = 0; i < colSpan; i++) {\n            acc.push(columnWidth);\n        }\n        writer.removeAttribute('colSpan', element);\n        return acc;\n    }, []);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableutils\n */\nimport { CKEditorError } from 'ckeditor5/src/utils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableWalker from './tablewalker.js';\nimport { createEmptyTableCell, updateNumericAttribute } from './utils/common.js';\nimport { removeEmptyColumns, removeEmptyRows } from './utils/structure.js';\nimport { getTableColumnElements } from './tablecolumnresize/utils.js';\n/**\n * The table utilities plugin.\n */\nexport default class TableUtils extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableUtils';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        this.decorate('insertColumns');\n        this.decorate('insertRows');\n    }\n    /**\n     * Returns the table cell location as an object with table row and table column indexes.\n     *\n     * For instance, in the table below:\n     *\n     *      0   1   2   3\n     *    +---+---+---+---+\n     *  0 | a     | b | c |\n     *    +       +   +---+\n     *  1 |       |   | d |\n     *    +---+---+   +---+\n     *  2 | e     |   | f |\n     *    +---+---+---+---+\n     *\n     * the method will return:\n     *\n     * ```ts\n     * const cellA = table.getNodeByPath( [ 0, 0 ] );\n     * editor.plugins.get( 'TableUtils' ).getCellLocation( cellA );\n     * // will return { row: 0, column: 0 }\n     *\n     * const cellD = table.getNodeByPath( [ 1, 0 ] );\n     * editor.plugins.get( 'TableUtils' ).getCellLocation( cellD );\n     * // will return { row: 1, column: 3 }\n     * ```\n     *\n     * @returns Returns a `{row, column}` object.\n     */\n    getCellLocation(tableCell) {\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const rowIndex = table.getChildIndex(tableRow);\n        const tableWalker = new TableWalker(table, { row: rowIndex });\n        for (const { cell, row, column } of tableWalker) {\n            if (cell === tableCell) {\n                return { row, column };\n            }\n        }\n        // Should be unreachable code.\n        /* istanbul ignore next -- @preserve */\n        return undefined;\n    }\n    /**\n     * Creates an empty table with a proper structure. The table needs to be inserted into the model,\n     * for example, by using the {@link module:engine/model/model~Model#insertContent} function.\n     *\n     * ```ts\n     * model.change( ( writer ) => {\n     *   // Create a table of 2 rows and 7 columns:\n     *   const table = tableUtils.createTable( writer, { rows: 2, columns: 7 } );\n     *\n     *   // Insert a table to the model at the best position taking the current selection:\n     *   model.insertContent( table );\n     * }\n     * ```\n     *\n     * @param writer The model writer.\n     * @param options.rows The number of rows to create. Default value is 2.\n     * @param options.columns The number of columns to create. Default value is 2.\n     * @param options.headingRows The number of heading rows. Default value is 0.\n     * @param options.headingColumns The number of heading columns. Default value is 0.\n     * @returns The created table element.\n     */\n    createTable(writer, options) {\n        const table = writer.createElement('table');\n        const rows = options.rows || 2;\n        const columns = options.columns || 2;\n        createEmptyRows(writer, table, 0, rows, columns);\n        if (options.headingRows) {\n            updateNumericAttribute('headingRows', Math.min(options.headingRows, rows), table, writer, 0);\n        }\n        if (options.headingColumns) {\n            updateNumericAttribute('headingColumns', Math.min(options.headingColumns, columns), table, writer, 0);\n        }\n        return table;\n    }\n    /**\n     * Inserts rows into a table.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).insertRows( table, { at: 1, rows: 2 } );\n     * ```\n     *\n     * Assuming the table on the left, the above code will transform it to the table on the right:\n     *\n     *  row index\n     *    0 +---+---+---+       `at` = 1,      +---+---+---+ 0\n     *      | a | b | c |       `rows` = 2,    | a | b | c |\n     *    1 +   +---+---+   <-- insert here    +   +---+---+ 1\n     *      |   | d | e |                      |   |   |   |\n     *    2 +   +---+---+       will give:     +   +---+---+ 2\n     *      |   | f | g |                      |   |   |   |\n     *    3 +---+---+---+                      +   +---+---+ 3\n     *                                         |   | d | e |\n     *                                         +   +---+---+ 4\n     *                                         +   + f | g |\n     *                                         +---+---+---+ 5\n     *\n     * @param table The table model element where the rows will be inserted.\n     * @param options.at The row index at which the rows will be inserted.  Default value is 0.\n     * @param options.rows The number of rows to insert.  Default value is 1.\n     * @param options.copyStructureFromAbove The flag for copying row structure. Note that\n     * the row structure will not be copied if this option is not provided.\n     */\n    insertRows(table, options = {}) {\n        const model = this.editor.model;\n        const insertAt = options.at || 0;\n        const rowsToInsert = options.rows || 1;\n        const isCopyStructure = options.copyStructureFromAbove !== undefined;\n        const copyStructureFrom = options.copyStructureFromAbove ? insertAt - 1 : insertAt;\n        const rows = this.getRows(table);\n        const columns = this.getColumns(table);\n        if (insertAt > rows) {\n            /**\n             * The `options.at` points at a row position that does not exist.\n             *\n             * @error tableutils-insertrows-insert-out-of-range\n             */\n            throw new CKEditorError('tableutils-insertrows-insert-out-of-range', this, { options });\n        }\n        model.change(writer => {\n            const headingRows = table.getAttribute('headingRows') || 0;\n            // Inserting rows inside heading section requires to update `headingRows` attribute as the heading section will grow.\n            if (headingRows > insertAt) {\n                updateNumericAttribute('headingRows', headingRows + rowsToInsert, table, writer, 0);\n            }\n            // Inserting at the end or at the beginning of a table doesn't require to calculate anything special.\n            if (!isCopyStructure && (insertAt === 0 || insertAt === rows)) {\n                createEmptyRows(writer, table, insertAt, rowsToInsert, columns);\n                return;\n            }\n            // Iterate over all the rows above the inserted rows in order to check for the row-spanned cells.\n            const walkerEndRow = isCopyStructure ? Math.max(insertAt, copyStructureFrom) : insertAt;\n            const tableIterator = new TableWalker(table, { endRow: walkerEndRow });\n            // Store spans of the reference row to reproduce it's structure. This array is column number indexed.\n            const rowColSpansMap = new Array(columns).fill(1);\n            for (const { row, column, cellHeight, cellWidth, cell } of tableIterator) {\n                const lastCellRow = row + cellHeight - 1;\n                const isOverlappingInsertedRow = row < insertAt && insertAt <= lastCellRow;\n                const isReferenceRow = row <= copyStructureFrom && copyStructureFrom <= lastCellRow;\n                // If the cell is row-spanned and overlaps the inserted row, then reserve space for it in the row map.\n                if (isOverlappingInsertedRow) {\n                    // This cell overlaps the inserted rows so we need to expand it further.\n                    writer.setAttribute('rowspan', cellHeight + rowsToInsert, cell);\n                    // Mark this cell with negative number to indicate how many cells should be skipped when adding the new cells.\n                    rowColSpansMap[column] = -cellWidth;\n                }\n                // Store the colspan from reference row.\n                else if (isCopyStructure && isReferenceRow) {\n                    rowColSpansMap[column] = cellWidth;\n                }\n            }\n            for (let rowIndex = 0; rowIndex < rowsToInsert; rowIndex++) {\n                const tableRow = writer.createElement('tableRow');\n                writer.insert(tableRow, table, insertAt);\n                for (let cellIndex = 0; cellIndex < rowColSpansMap.length; cellIndex++) {\n                    const colspan = rowColSpansMap[cellIndex];\n                    const insertPosition = writer.createPositionAt(tableRow, 'end');\n                    // Insert the empty cell only if this slot is not row-spanned from any other cell.\n                    if (colspan > 0) {\n                        createEmptyTableCell(writer, insertPosition, colspan > 1 ? { colspan } : undefined);\n                    }\n                    // Skip the col-spanned slots, there won't be any cells.\n                    cellIndex += Math.abs(colspan) - 1;\n                }\n            }\n        });\n    }\n    /**\n     * Inserts columns into a table.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).insertColumns( table, { at: 1, columns: 2 } );\n     * ```\n     *\n     * Assuming the table on the left, the above code will transform it to the table on the right:\n     *\n     *  0   1   2   3                   0   1   2   3   4   5\n     *  +---+---+---+                   +---+---+---+---+---+\n     *  | a     | b |                   | a             | b |\n     *  +       +---+                   +               +---+\n     *  |       | c |                   |               | c |\n     *  +---+---+---+     will give:    +---+---+---+---+---+\n     *  | d | e | f |                   | d |   |   | e | f |\n     *  +---+   +---+                   +---+---+---+   +---+\n     *  | g |   | h |                   | g |   |   |   | h |\n     *  +---+---+---+                   +---+---+---+---+---+\n     *  | i         |                   | i                 |\n     *  +---+---+---+                   +---+---+---+---+---+\n     *      ^---- insert here, `at` = 1, `columns` = 2\n     *\n     * @param table The table model element where the columns will be inserted.\n     * @param options.at The column index at which the columns will be inserted. Default value is 0.\n     * @param options.columns The number of columns to insert. Default value is 1.\n     */\n    insertColumns(table, options = {}) {\n        const model = this.editor.model;\n        const insertAt = options.at || 0;\n        const columnsToInsert = options.columns || 1;\n        model.change(writer => {\n            const headingColumns = table.getAttribute('headingColumns');\n            // Inserting columns inside heading section requires to update `headingColumns` attribute as the heading section will grow.\n            if (insertAt < headingColumns) {\n                writer.setAttribute('headingColumns', headingColumns + columnsToInsert, table);\n            }\n            const tableColumns = this.getColumns(table);\n            // Inserting at the end and at the beginning of a table doesn't require to calculate anything special.\n            if (insertAt === 0 || tableColumns === insertAt) {\n                for (const tableRow of table.getChildren()) {\n                    // Ignore non-row elements inside the table (e.g. caption).\n                    if (!tableRow.is('element', 'tableRow')) {\n                        continue;\n                    }\n                    createCells(columnsToInsert, writer, writer.createPositionAt(tableRow, insertAt ? 'end' : 0));\n                }\n                return;\n            }\n            const tableWalker = new TableWalker(table, { column: insertAt, includeAllSlots: true });\n            for (const tableSlot of tableWalker) {\n                const { row, cell, cellAnchorColumn, cellAnchorRow, cellWidth, cellHeight } = tableSlot;\n                // When iterating over column the table walker outputs either:\n                // - cells at given column index (cell \"e\" from method docs),\n                // - spanned columns (spanned cell from row between cells \"g\" and \"h\" - spanned by \"e\", only if `includeAllSlots: true`),\n                // - or a cell from the same row which spans over this column (cell \"a\").\n                if (cellAnchorColumn < insertAt) {\n                    // If cell is anchored in previous column, it is a cell that spans over an inserted column (cell \"a\" & \"i\").\n                    // For such cells expand them by a number of columns inserted.\n                    writer.setAttribute('colspan', cellWidth + columnsToInsert, cell);\n                    // This cell will overlap cells in rows below so skip them (because of `includeAllSlots` option) - (cell \"a\")\n                    const lastCellRow = cellAnchorRow + cellHeight - 1;\n                    for (let i = row; i <= lastCellRow; i++) {\n                        tableWalker.skipRow(i);\n                    }\n                }\n                else {\n                    // It's either cell at this column index or spanned cell by a row-spanned cell from row above.\n                    // In table above it's cell \"e\" and a spanned position from row below (empty cell between cells \"g\" and \"h\")\n                    createCells(columnsToInsert, writer, tableSlot.getPositionBefore());\n                }\n            }\n        });\n    }\n    /**\n     * Removes rows from the given `table`.\n     *\n     * This method re-calculates the table geometry including `rowspan` attribute of table cells overlapping removed rows\n     * and table headings values.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).removeRows( table, { at: 1, rows: 2 } );\n     * ```\n     *\n     * Executing the above code in the context of the table on the left will transform its structure as presented on the right:\n     *\n     *  row index\n     *      ┌───┬───┬───┐        `at` = 1        ┌───┬───┬───┐\n     *    0 │ a │ b │ c │        `rows` = 2      │ a │ b │ c │ 0\n     *      │   ├───┼───┤                        │   ├───┼───┤\n     *    1 │   │ d │ e │  <-- remove from here  │   │ d │ g │ 1\n     *      │   │   ├───┤        will give:      ├───┼───┼───┤\n     *    2 │   │   │ f │                        │ h │ i │ j │ 2\n     *      │   │   ├───┤                        └───┴───┴───┘\n     *    3 │   │   │ g │\n     *      ├───┼───┼───┤\n     *    4 │ h │ i │ j │\n     *      └───┴───┴───┘\n     *\n     * @param options.at The row index at which the removing rows will start.\n     * @param options.rows The number of rows to remove. Default value is 1.\n     */\n    removeRows(table, options) {\n        const model = this.editor.model;\n        const rowsToRemove = options.rows || 1;\n        const rowCount = this.getRows(table);\n        const first = options.at;\n        const last = first + rowsToRemove - 1;\n        if (last > rowCount - 1) {\n            /**\n             * The `options.at` param must point at existing row and `options.rows` must not exceed the rows in the table.\n             *\n             * @error tableutils-removerows-row-index-out-of-range\n             */\n            throw new CKEditorError('tableutils-removerows-row-index-out-of-range', this, { table, options });\n        }\n        model.change(writer => {\n            const indexesObject = { first, last };\n            // Removing rows from the table require that most calculations to be done prior to changing table structure.\n            // Preparations must be done in the same enqueueChange callback to use the current table structure.\n            // 1. Preparation - get row-spanned cells that have to be modified after removing rows.\n            const { cellsToMove, cellsToTrim } = getCellsToMoveAndTrimOnRemoveRow(table, indexesObject);\n            // 2. Execution\n            // 2a. Move cells from removed rows that extends over a removed section - must be done before removing rows.\n            // This will fill any gaps in a rows below that previously were empty because of row-spanned cells.\n            if (cellsToMove.size) {\n                const rowAfterRemovedSection = last + 1;\n                moveCellsToRow(table, rowAfterRemovedSection, cellsToMove, writer);\n            }\n            // 2b. Remove all required rows.\n            for (let i = last; i >= first; i--) {\n                writer.remove(table.getChild(i));\n            }\n            // 2c. Update cells from rows above that overlap removed section. Similar to step 2 but does not involve moving cells.\n            for (const { rowspan, cell } of cellsToTrim) {\n                updateNumericAttribute('rowspan', rowspan, cell, writer);\n            }\n            // 2d. Adjust heading rows if removed rows were in a heading section.\n            updateHeadingRows(table, indexesObject, writer);\n            // 2e. Remove empty columns (without anchored cells) if there are any.\n            if (!removeEmptyColumns(table, this)) {\n                // If there wasn't any empty columns then we still need to check if this wasn't called\n                // because of cleaning empty rows and we only removed one of them.\n                removeEmptyRows(table, this);\n            }\n        });\n    }\n    /**\n     * Removes columns from the given `table`.\n     *\n     * This method re-calculates the table geometry including the `colspan` attribute of table cells overlapping removed columns\n     * and table headings values.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).removeColumns( table, { at: 1, columns: 2 } );\n     * ```\n     *\n     * Executing the above code in the context of the table on the left will transform its structure as presented on the right:\n     *\n     *    0   1   2   3   4                       0   1   2\n     *  ┌───────────────┬───┐                   ┌───────┬───┐\n     *  │ a             │ b │                   │ a     │ b │\n     *  │               ├───┤                   │       ├───┤\n     *  │               │ c │                   │       │ c │\n     *  ├───┬───┬───┬───┼───┤     will give:    ├───┬───┼───┤\n     *  │ d │ e │ f │ g │ h │                   │ d │ g │ h │\n     *  ├───┼───┼───┤   ├───┤                   ├───┤   ├───┤\n     *  │ i │ j │ k │   │ l │                   │ i │   │ l │\n     *  ├───┴───┴───┴───┴───┤                   ├───┴───┴───┤\n     *  │ m                 │                   │ m         │\n     *  └───────────────────┘                   └───────────┘\n     *        ^---- remove from here, `at` = 1, `columns` = 2\n     *\n     * @param options.at The row index at which the removing columns will start.\n     * @param options.columns The number of columns to remove.\n     */\n    removeColumns(table, options) {\n        const model = this.editor.model;\n        const first = options.at;\n        const columnsToRemove = options.columns || 1;\n        const last = options.at + columnsToRemove - 1;\n        model.change(writer => {\n            adjustHeadingColumns(table, { first, last }, writer);\n            const tableColumns = getTableColumnElements(table);\n            for (let removedColumnIndex = last; removedColumnIndex >= first; removedColumnIndex--) {\n                for (const { cell, column, cellWidth } of [...new TableWalker(table)]) {\n                    // If colspaned cell overlaps removed column decrease its span.\n                    if (column <= removedColumnIndex && cellWidth > 1 && column + cellWidth > removedColumnIndex) {\n                        updateNumericAttribute('colspan', cellWidth - 1, cell, writer);\n                    }\n                    else if (column === removedColumnIndex) {\n                        // The cell in removed column has colspan of 1.\n                        writer.remove(cell);\n                    }\n                }\n                // If table has `tableColumn` elements, we need to update it manually.\n                // See https://github.com/ckeditor/ckeditor5/issues/14521#issuecomment-1662102889 for details.\n                if (tableColumns[removedColumnIndex]) {\n                    // If the removed column is the first one then we need to add its width to the next column.\n                    // Otherwise we add it to the previous column.\n                    const adjacentColumn = removedColumnIndex === 0 ? tableColumns[1] : tableColumns[removedColumnIndex - 1];\n                    const removedColumnWidth = parseFloat(tableColumns[removedColumnIndex].getAttribute('columnWidth'));\n                    const adjacentColumnWidth = parseFloat(adjacentColumn.getAttribute('columnWidth'));\n                    writer.remove(tableColumns[removedColumnIndex]);\n                    // Add the removed column width (in %) to the adjacent column.\n                    writer.setAttribute('columnWidth', removedColumnWidth + adjacentColumnWidth + '%', adjacentColumn);\n                }\n            }\n            // Remove empty rows that could appear after removing columns.\n            if (!removeEmptyRows(table, this)) {\n                // If there wasn't any empty rows then we still need to check if this wasn't called\n                // because of cleaning empty columns and we only removed one of them.\n                removeEmptyColumns(table, this);\n            }\n        });\n    }\n    /**\n     * Divides a table cell vertically into several ones.\n     *\n     * The cell will be visually split into more cells by updating colspans of other cells in a column\n     * and inserting cells (columns) after that cell.\n     *\n     * In the table below, if cell \"a\" is split into 3 cells:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +---+---+---+\n     *  | d | e | f |\n     *  +---+---+---+\n     *\n     * it will result in the table below:\n     *\n     *  +---+---+---+---+---+\n     *  | a |   |   | b | c |\n     *  +---+---+---+---+---+\n     *  | d         | e | f |\n     *  +---+---+---+---+---+\n     *\n     * So cell \"d\" will get its `colspan` updated to `3` and 2 cells will be added (2 columns will be created).\n     *\n     * Splitting a cell that already has a `colspan` attribute set will distribute the cell `colspan` evenly and the remainder\n     * will be left to the original cell:\n     *\n     *  +---+---+---+\n     *  | a         |\n     *  +---+---+---+\n     *  | b | c | d |\n     *  +---+---+---+\n     *\n     * Splitting cell \"a\" with `colspan=3` into 2 cells will create 1 cell with a `colspan=a` and cell \"a\" that will have `colspan=2`:\n     *\n     *  +---+---+---+\n     *  | a     |   |\n     *  +---+---+---+\n     *  | b | c | d |\n     *  +---+---+---+\n     */\n    splitCellVertically(tableCell, numberOfCells = 2) {\n        const model = this.editor.model;\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n        const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n        model.change(writer => {\n            // First check - the cell spans over multiple rows so before doing anything else just split this cell.\n            if (colspan > 1) {\n                // Get spans of new (inserted) cells and span to update of split cell.\n                const { newCellsSpan, updatedSpan } = breakSpanEvenly(colspan, numberOfCells);\n                updateNumericAttribute('colspan', updatedSpan, tableCell, writer);\n                // Each inserted cell will have the same attributes:\n                const newCellsAttributes = {};\n                // Do not store default value in the model.\n                if (newCellsSpan > 1) {\n                    newCellsAttributes.colspan = newCellsSpan;\n                }\n                // Copy rowspan of split cell.\n                if (rowspan > 1) {\n                    newCellsAttributes.rowspan = rowspan;\n                }\n                const cellsToInsert = colspan > numberOfCells ? numberOfCells - 1 : colspan - 1;\n                createCells(cellsToInsert, writer, writer.createPositionAfter(tableCell), newCellsAttributes);\n            }\n            // Second check - the cell has colspan of 1 or we need to create more cells then the currently one spans over.\n            if (colspan < numberOfCells) {\n                const cellsToInsert = numberOfCells - colspan;\n                // First step: expand cells on the same column as split cell.\n                const tableMap = [...new TableWalker(table)];\n                // Get the column index of split cell.\n                const { column: splitCellColumn } = tableMap.find(({ cell }) => cell === tableCell);\n                // Find cells which needs to be expanded vertically - those on the same column or those that spans over split cell's column.\n                const cellsToUpdate = tableMap.filter(({ cell, cellWidth, column }) => {\n                    const isOnSameColumn = cell !== tableCell && column === splitCellColumn;\n                    const spansOverColumn = (column < splitCellColumn && column + cellWidth > splitCellColumn);\n                    return isOnSameColumn || spansOverColumn;\n                });\n                // Expand cells vertically.\n                for (const { cell, cellWidth } of cellsToUpdate) {\n                    writer.setAttribute('colspan', cellWidth + cellsToInsert, cell);\n                }\n                // Second step: create columns after split cell.\n                // Each inserted cell will have the same attributes:\n                const newCellsAttributes = {};\n                // Do not store default value in the model.\n                // Copy rowspan of split cell.\n                if (rowspan > 1) {\n                    newCellsAttributes.rowspan = rowspan;\n                }\n                createCells(cellsToInsert, writer, writer.createPositionAfter(tableCell), newCellsAttributes);\n                const headingColumns = table.getAttribute('headingColumns') || 0;\n                // Update heading section if split cell is in heading section.\n                if (headingColumns > splitCellColumn) {\n                    updateNumericAttribute('headingColumns', headingColumns + cellsToInsert, table, writer);\n                }\n            }\n        });\n    }\n    /**\n     * Divides a table cell horizontally into several ones.\n     *\n     * The cell will be visually split into more cells by updating rowspans of other cells in the row and inserting rows with a single cell\n     * below.\n     *\n     * If in the table below cell \"b\" is split into 3 cells:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +---+---+---+\n     *  | d | e | f |\n     *  +---+---+---+\n     *\n     * It will result in the table below:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +   +---+   +\n     *  |   |   |   |\n     *  +   +---+   +\n     *  |   |   |   |\n     *  +---+---+---+\n     *  | d | e | f |\n     *  +---+---+---+\n     *\n     * So cells \"a\" and \"b\" will get their `rowspan` updated to `3` and 2 rows with a single cell will be added.\n     *\n     * Splitting a cell that already has a `rowspan` attribute set will distribute the cell `rowspan` evenly and the remainder\n     * will be left to the original cell:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +   +---+---+\n     *  |   | d | e |\n     *  +   +---+---+\n     *  |   | f | g |\n     *  +   +---+---+\n     *  |   | h | i |\n     *  +---+---+---+\n     *\n     * Splitting cell \"a\" with `rowspan=4` into 3 cells will create 2 cells with a `rowspan=1` and cell \"a\" will have `rowspan=2`:\n     *\n     *  +---+---+---+\n     *  | a | b | c |\n     *  +   +---+---+\n     *  |   | d | e |\n     *  +---+---+---+\n     *  |   | f | g |\n     *  +---+---+---+\n     *  |   | h | i |\n     *  +---+---+---+\n     */\n    splitCellHorizontally(tableCell, numberOfCells = 2) {\n        const model = this.editor.model;\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const splitCellRow = table.getChildIndex(tableRow);\n        const rowspan = parseInt(tableCell.getAttribute('rowspan') || '1');\n        const colspan = parseInt(tableCell.getAttribute('colspan') || '1');\n        model.change(writer => {\n            // First check - the cell spans over multiple rows so before doing anything else just split this cell.\n            if (rowspan > 1) {\n                // Cache table map before updating table.\n                const tableMap = [...new TableWalker(table, {\n                        startRow: splitCellRow,\n                        endRow: splitCellRow + rowspan - 1,\n                        includeAllSlots: true\n                    })];\n                // Get spans of new (inserted) cells and span to update of split cell.\n                const { newCellsSpan, updatedSpan } = breakSpanEvenly(rowspan, numberOfCells);\n                updateNumericAttribute('rowspan', updatedSpan, tableCell, writer);\n                const { column: cellColumn } = tableMap.find(({ cell }) => cell === tableCell);\n                // Each inserted cell will have the same attributes:\n                const newCellsAttributes = {};\n                // Do not store default value in the model.\n                if (newCellsSpan > 1) {\n                    newCellsAttributes.rowspan = newCellsSpan;\n                }\n                // Copy colspan of split cell.\n                if (colspan > 1) {\n                    newCellsAttributes.colspan = colspan;\n                }\n                // Accumulator that stores distance from the last inserted cell span.\n                // It helps with evenly splitting larger cell spans (for example 10 cells collapsing into 3 cells).\n                // We split these cells into 3, 3, 4 cells and we have to call `createCells` only when distance between\n                // these cells is equal or greater than the new cells span size.\n                let distanceFromLastCellSpan = 0;\n                for (const tableSlot of tableMap) {\n                    const { column, row } = tableSlot;\n                    // As both newly created cells and the split cell might have rowspan,\n                    // the insertion of new cells must go to appropriate rows:\n                    //\n                    // 1. It's a row after split cell + it's height.\n                    const isAfterSplitCell = row >= splitCellRow + updatedSpan;\n                    // 2. Is on the same column.\n                    const isOnSameColumn = column === cellColumn;\n                    // Reset distance from the last cell span if we are on the same column and we exceeded the new cells span size.\n                    if (distanceFromLastCellSpan >= newCellsSpan && isOnSameColumn) {\n                        distanceFromLastCellSpan = 0;\n                    }\n                    if (isAfterSplitCell && isOnSameColumn) {\n                        // Create new cells only if the distance from the last cell span is equal or greater than the new cells span.\n                        if (!distanceFromLastCellSpan) {\n                            createCells(1, writer, tableSlot.getPositionBefore(), newCellsAttributes);\n                        }\n                        // Increase the distance from the last cell span.\n                        distanceFromLastCellSpan++;\n                    }\n                }\n            }\n            // Second check - the cell has rowspan of 1 or we need to create more cells than the current cell spans over.\n            if (rowspan < numberOfCells) {\n                // We already split the cell in check one so here we split to the remaining number of cells only.\n                const cellsToInsert = numberOfCells - rowspan;\n                // This check is needed since we need to check if there are any cells from previous rows than spans over this cell's row.\n                const tableMap = [...new TableWalker(table, { startRow: 0, endRow: splitCellRow })];\n                // First step: expand cells.\n                for (const { cell, cellHeight, row } of tableMap) {\n                    // Expand rowspan of cells that are either:\n                    // - on the same row as current cell,\n                    // - or are below split cell row and overlaps that row.\n                    if (cell !== tableCell && row + cellHeight > splitCellRow) {\n                        const rowspanToSet = cellHeight + cellsToInsert;\n                        writer.setAttribute('rowspan', rowspanToSet, cell);\n                    }\n                }\n                // Second step: create rows with single cell below split cell.\n                const newCellsAttributes = {};\n                // Copy colspan of split cell.\n                if (colspan > 1) {\n                    newCellsAttributes.colspan = colspan;\n                }\n                createEmptyRows(writer, table, splitCellRow + 1, cellsToInsert, 1, newCellsAttributes);\n                // Update heading section if split cell is in heading section.\n                const headingRows = table.getAttribute('headingRows') || 0;\n                if (headingRows > splitCellRow) {\n                    updateNumericAttribute('headingRows', headingRows + cellsToInsert, table, writer);\n                }\n            }\n        });\n    }\n    /**\n     * Returns the number of columns for a given table.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).getColumns( table );\n     * ```\n     *\n     * @param table The table to analyze.\n     */\n    getColumns(table) {\n        // Analyze first row only as all the rows should have the same width.\n        // Using the first row without checking if it's a tableRow because we expect\n        // that table will have only tableRow model elements at the beginning.\n        const row = table.getChild(0);\n        return [...row.getChildren()]\n            // $marker elements can also be children of a row too (when TrackChanges is on). Don't include them in the count.\n            .filter(node => node.is('element', 'tableCell'))\n            .reduce((columns, row) => {\n            const columnWidth = parseInt(row.getAttribute('colspan') || '1');\n            return columns + columnWidth;\n        }, 0);\n    }\n    /**\n     * Returns the number of rows for a given table. Any other element present in the table model is omitted.\n     *\n     * ```ts\n     * editor.plugins.get( 'TableUtils' ).getRows( table );\n     * ```\n     *\n     * @param table The table to analyze.\n     */\n    getRows(table) {\n        // Rowspan not included due to #6427.\n        return Array.from(table.getChildren())\n            .reduce((rowCount, child) => child.is('element', 'tableRow') ? rowCount + 1 : rowCount, 0);\n    }\n    /**\n     * Creates an instance of the table walker.\n     *\n     * The table walker iterates internally by traversing the table from row index = 0 and column index = 0.\n     * It walks row by row and column by column in order to output values defined in the options.\n     * By default it will output only the locations that are occupied by a cell. To include also spanned rows and columns,\n     * pass the `includeAllSlots` option.\n     *\n     * @internal\n     * @param table A table over which the walker iterates.\n     * @param options An object with configuration.\n     */\n    createTableWalker(table, options = {}) {\n        return new TableWalker(table, options);\n    }\n    /**\n     * Returns all model table cells that are fully selected (from the outside)\n     * within the provided model selection's ranges.\n     *\n     * To obtain the cells selected from the inside, use\n     * {@link #getTableCellsContainingSelection}.\n     */\n    getSelectedTableCells(selection) {\n        const cells = [];\n        for (const range of this.sortRanges(selection.getRanges())) {\n            const element = range.getContainedElement();\n            if (element && element.is('element', 'tableCell')) {\n                cells.push(element);\n            }\n        }\n        return cells;\n    }\n    /**\n     * Returns all model table cells that the provided model selection's ranges\n     * {@link module:engine/model/range~Range#start} inside.\n     *\n     * To obtain the cells selected from the outside, use\n     * {@link #getSelectedTableCells}.\n     */\n    getTableCellsContainingSelection(selection) {\n        const cells = [];\n        for (const range of selection.getRanges()) {\n            const cellWithSelection = range.start.findAncestor('tableCell');\n            if (cellWithSelection) {\n                cells.push(cellWithSelection);\n            }\n        }\n        return cells;\n    }\n    /**\n     * Returns all model table cells that are either completely selected\n     * by selection ranges or host selection range\n     * {@link module:engine/model/range~Range#start start positions} inside them.\n     *\n     * Combines {@link #getTableCellsContainingSelection} and\n     * {@link #getSelectedTableCells}.\n     */\n    getSelectionAffectedTableCells(selection) {\n        const selectedCells = this.getSelectedTableCells(selection);\n        if (selectedCells.length) {\n            return selectedCells;\n        }\n        return this.getTableCellsContainingSelection(selection);\n    }\n    /**\n     * Returns an object with the `first` and `last` row index contained in the given `tableCells`.\n     *\n     * ```ts\n     * const selectedTableCells = getSelectedTableCells( editor.model.document.selection );\n     *\n     * const { first, last } = getRowIndexes( selectedTableCells );\n     *\n     * console.log( `Selected rows: ${ first } to ${ last }` );\n     * ```\n     *\n     * @returns Returns an object with the `first` and `last` table row indexes.\n     */\n    getRowIndexes(tableCells) {\n        const indexes = tableCells.map(cell => cell.parent.index);\n        return this._getFirstLastIndexesObject(indexes);\n    }\n    /**\n     * Returns an object with the `first` and `last` column index contained in the given `tableCells`.\n     *\n     * ```ts\n     * const selectedTableCells = getSelectedTableCells( editor.model.document.selection );\n     *\n     * const { first, last } = getColumnIndexes( selectedTableCells );\n     *\n     * console.log( `Selected columns: ${ first } to ${ last }` );\n     * ```\n     *\n     * @returns Returns an object with the `first` and `last` table column indexes.\n     */\n    getColumnIndexes(tableCells) {\n        const table = tableCells[0].findAncestor('table');\n        const tableMap = [...new TableWalker(table)];\n        const indexes = tableMap\n            .filter(entry => tableCells.includes(entry.cell))\n            .map(entry => entry.column);\n        return this._getFirstLastIndexesObject(indexes);\n    }\n    /**\n     * Checks if the selection contains cells that do not exceed rectangular selection.\n     *\n     * In a table below:\n     *\n     *  ┌───┬───┬───┬───┐\n     *  │ a │ b │ c │ d │\n     *  ├───┴───┼───┤   │\n     *  │ e     │ f │   │\n     *  │       ├───┼───┤\n     *  │       │ g │ h │\n     *  └───────┴───┴───┘\n     *\n     * Valid selections are these which create a solid rectangle (without gaps), such as:\n     *   - a, b (two horizontal cells)\n     *   - c, f (two vertical cells)\n     *   - a, b, e (cell \"e\" spans over four cells)\n     *   - c, d, f (cell d spans over a cell in the row below)\n     *\n     * While an invalid selection would be:\n     *   - a, c (the unselected cell \"b\" creates a gap)\n     *   - f, g, h (cell \"d\" spans over a cell from the row of \"f\" cell - thus creates a gap)\n     */\n    isSelectionRectangular(selectedTableCells) {\n        if (selectedTableCells.length < 2 || !this._areCellInTheSameTableSection(selectedTableCells)) {\n            return false;\n        }\n        // A valid selection is a fully occupied rectangle composed of table cells.\n        // Below we will calculate the area of a selected table cells and the area of valid selection.\n        // The area of a valid selection is defined by top-left and bottom-right cells.\n        const rows = new Set();\n        const columns = new Set();\n        let areaOfSelectedCells = 0;\n        for (const tableCell of selectedTableCells) {\n            const { row, column } = this.getCellLocation(tableCell);\n            const rowspan = parseInt(tableCell.getAttribute('rowspan')) || 1;\n            const colspan = parseInt(tableCell.getAttribute('colspan')) || 1;\n            // Record row & column indexes of current cell.\n            rows.add(row);\n            columns.add(column);\n            // For cells that spans over multiple rows add also the last row that this cell spans over.\n            if (rowspan > 1) {\n                rows.add(row + rowspan - 1);\n            }\n            // For cells that spans over multiple columns add also the last column that this cell spans over.\n            if (colspan > 1) {\n                columns.add(column + colspan - 1);\n            }\n            areaOfSelectedCells += (rowspan * colspan);\n        }\n        // We can only merge table cells that are in adjacent rows...\n        const areaOfValidSelection = getBiggestRectangleArea(rows, columns);\n        return areaOfValidSelection == areaOfSelectedCells;\n    }\n    /**\n     * Returns array of sorted ranges.\n     */\n    sortRanges(ranges) {\n        return Array.from(ranges).sort(compareRangeOrder);\n    }\n    /**\n     * Helper method to get an object with `first` and `last` indexes from an unsorted array of indexes.\n     */\n    _getFirstLastIndexesObject(indexes) {\n        const allIndexesSorted = indexes.sort((indexA, indexB) => indexA - indexB);\n        const first = allIndexesSorted[0];\n        const last = allIndexesSorted[allIndexesSorted.length - 1];\n        return { first, last };\n    }\n    /**\n     * Checks if the selection does not mix a header (column or row) with other cells.\n     *\n     * For instance, in the table below valid selections consist of cells with the same letter only.\n     * So, a-a (same heading row and column) or d-d (body cells) are valid while c-d or a-b are not.\n     *\n     * header columns\n     *    ↓   ↓\n     *  ┌───┬───┬───┬───┐\n     *  │ a │ a │ b │ b │  ← header row\n     *  ├───┼───┼───┼───┤\n     *  │ c │ c │ d │ d │\n     *  ├───┼───┼───┼───┤\n     *  │ c │ c │ d │ d │\n     *  └───┴───┴───┴───┘\n     */\n    _areCellInTheSameTableSection(tableCells) {\n        const table = tableCells[0].findAncestor('table');\n        const rowIndexes = this.getRowIndexes(tableCells);\n        const headingRows = parseInt(table.getAttribute('headingRows')) || 0;\n        // Calculating row indexes is a bit cheaper so if this check fails we can't merge.\n        if (!this._areIndexesInSameSection(rowIndexes, headingRows)) {\n            return false;\n        }\n        const columnIndexes = this.getColumnIndexes(tableCells);\n        const headingColumns = parseInt(table.getAttribute('headingColumns')) || 0;\n        // Similarly cells must be in same column section.\n        return this._areIndexesInSameSection(columnIndexes, headingColumns);\n    }\n    /**\n     * Unified check if table rows/columns indexes are in the same heading/body section.\n     */\n    _areIndexesInSameSection({ first, last }, headingSectionSize) {\n        const firstCellIsInHeading = first < headingSectionSize;\n        const lastCellIsInHeading = last < headingSectionSize;\n        return firstCellIsInHeading === lastCellIsInHeading;\n    }\n}\n/**\n * Creates empty rows at the given index in an existing table.\n *\n * @param insertAt The row index of row insertion.\n * @param rows The number of rows to create.\n * @param tableCellToInsert The number of cells to insert in each row.\n */\nfunction createEmptyRows(writer, table, insertAt, rows, tableCellToInsert, attributes = {}) {\n    for (let i = 0; i < rows; i++) {\n        const tableRow = writer.createElement('tableRow');\n        writer.insert(tableRow, table, insertAt);\n        createCells(tableCellToInsert, writer, writer.createPositionAt(tableRow, 'end'), attributes);\n    }\n}\n/**\n * Creates cells at a given position.\n *\n * @param cells The number of cells to create\n */\nfunction createCells(cells, writer, insertPosition, attributes = {}) {\n    for (let i = 0; i < cells; i++) {\n        createEmptyTableCell(writer, insertPosition, attributes);\n    }\n}\n/**\n * Evenly distributes the span of a cell to a number of provided cells.\n * The resulting spans will always be integer values.\n *\n * For instance breaking a span of 7 into 3 cells will return:\n *\n * ```ts\n * { newCellsSpan: 2, updatedSpan: 3 }\n * ```\n *\n * as two cells will have a span of 2 and the remainder will go the first cell so its span will change to 3.\n *\n * @param span The span value do break.\n * @param numberOfCells The number of resulting spans.\n */\nfunction breakSpanEvenly(span, numberOfCells) {\n    if (span < numberOfCells) {\n        return { newCellsSpan: 1, updatedSpan: 1 };\n    }\n    const newCellsSpan = Math.floor(span / numberOfCells);\n    const updatedSpan = (span - newCellsSpan * numberOfCells) + newCellsSpan;\n    return { newCellsSpan, updatedSpan };\n}\n/**\n * Updates heading columns attribute if removing a row from head section.\n */\nfunction adjustHeadingColumns(table, removedColumnIndexes, writer) {\n    const headingColumns = table.getAttribute('headingColumns') || 0;\n    if (headingColumns && removedColumnIndexes.first < headingColumns) {\n        const headingsRemoved = Math.min(headingColumns - 1 /* Other numbers are 0-based */, removedColumnIndexes.last) -\n            removedColumnIndexes.first + 1;\n        writer.setAttribute('headingColumns', headingColumns - headingsRemoved, table);\n    }\n}\n/**\n * Calculates a new heading rows value for removing rows from heading section.\n */\nfunction updateHeadingRows(table, { first, last }, writer) {\n    const headingRows = table.getAttribute('headingRows') || 0;\n    if (first < headingRows) {\n        const newRows = last < headingRows ? headingRows - (last - first + 1) : first;\n        updateNumericAttribute('headingRows', newRows, table, writer, 0);\n    }\n}\n/**\n * Finds cells that will be:\n * - trimmed - Cells that are \"above\" removed rows sections and overlap the removed section - their rowspan must be trimmed.\n * - moved - Cells from removed rows section might stick out of. These cells are moved to the next row after a removed section.\n *\n * Sample table with overlapping & sticking out cells:\n *\n *      +----+----+----+----+----+\n *      | 00 | 01 | 02 | 03 | 04 |\n *      +----+    +    +    +    +\n *      | 10 |    |    |    |    |\n *      +----+----+    +    +    +\n *      | 20 | 21 |    |    |    | <-- removed row\n *      +    +    +----+    +    +\n *      |    |    | 32 |    |    | <-- removed row\n *      +----+    +    +----+    +\n *      | 40 |    |    | 43 |    |\n *      +----+----+----+----+----+\n *\n * In a table above:\n * - cells to trim: '02', '03' & '04'.\n * - cells to move: '21' & '32'.\n */\nfunction getCellsToMoveAndTrimOnRemoveRow(table, { first, last }) {\n    const cellsToMove = new Map();\n    const cellsToTrim = [];\n    for (const { row, column, cellHeight, cell } of new TableWalker(table, { endRow: last })) {\n        const lastRowOfCell = row + cellHeight - 1;\n        const isCellStickingOutFromRemovedRows = row >= first && row <= last && lastRowOfCell > last;\n        if (isCellStickingOutFromRemovedRows) {\n            const rowspanInRemovedSection = last - row + 1;\n            const rowSpanToSet = cellHeight - rowspanInRemovedSection;\n            cellsToMove.set(column, {\n                cell,\n                rowspan: rowSpanToSet\n            });\n        }\n        const isCellOverlappingRemovedRows = row < first && lastRowOfCell >= first;\n        if (isCellOverlappingRemovedRows) {\n            let rowspanAdjustment;\n            // Cell fully covers removed section - trim it by removed rows count.\n            if (lastRowOfCell >= last) {\n                rowspanAdjustment = last - first + 1;\n            }\n            // Cell partially overlaps removed section - calculate cell's span that is in removed section.\n            else {\n                rowspanAdjustment = lastRowOfCell - first + 1;\n            }\n            cellsToTrim.push({\n                cell,\n                rowspan: cellHeight - rowspanAdjustment\n            });\n        }\n    }\n    return { cellsToMove, cellsToTrim };\n}\nfunction moveCellsToRow(table, targetRowIndex, cellsToMove, writer) {\n    const tableWalker = new TableWalker(table, {\n        includeAllSlots: true,\n        row: targetRowIndex\n    });\n    const tableRowMap = [...tableWalker];\n    const row = table.getChild(targetRowIndex);\n    let previousCell;\n    for (const { column, cell, isAnchor } of tableRowMap) {\n        if (cellsToMove.has(column)) {\n            const { cell: cellToMove, rowspan } = cellsToMove.get(column);\n            const targetPosition = previousCell ?\n                writer.createPositionAfter(previousCell) :\n                writer.createPositionAt(row, 0);\n            writer.move(writer.createRangeOn(cellToMove), targetPosition);\n            updateNumericAttribute('rowspan', rowspan, cellToMove, writer);\n            previousCell = cellToMove;\n        }\n        else if (isAnchor) {\n            // If cell is spanned then `cell` holds reference to overlapping cell. See ckeditor/ckeditor5#6502.\n            previousCell = cell;\n        }\n    }\n}\nfunction compareRangeOrder(rangeA, rangeB) {\n    // Since table cell ranges are disjoint, it's enough to check their start positions.\n    const posA = rangeA.start;\n    const posB = rangeB.start;\n    // Checking for equal position (returning 0) is not needed because this would be either:\n    // a. Intersecting range (not allowed by model)\n    // b. Collapsed range on the same position (allowed by model but should not happen).\n    return posA.isBefore(posB) ? -1 : 1;\n}\n/**\n * Calculates the area of a maximum rectangle that can span over the provided row & column indexes.\n */\nfunction getBiggestRectangleArea(rows, columns) {\n    const rowsIndexes = Array.from(rows.values());\n    const columnIndexes = Array.from(columns.values());\n    const lastRow = Math.max(...rowsIndexes);\n    const firstRow = Math.min(...rowsIndexes);\n    const lastColumn = Math.max(...columnIndexes);\n    const firstColumn = Math.min(...columnIndexes);\n    return (lastRow - firstRow + 1) * (lastColumn - firstColumn + 1);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableUtils from '../tableutils.js';\nimport { updateNumericAttribute } from '../utils/common.js';\nimport { removeEmptyRowsColumns } from '../utils/structure.js';\n/**\n * The merge cells command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'mergeTableCells'` editor command.\n *\n * For example, to merge selected table cells:\n *\n * ```ts\n * editor.execute( 'mergeTableCells' );\n * ```\n */\nexport default class MergeCellsCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selectedTableCells = tableUtils.getSelectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = tableUtils.isSelectionRectangular(selectedTableCells);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     */\n    execute() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        model.change(writer => {\n            const selectedTableCells = tableUtils.getSelectedTableCells(model.document.selection);\n            // All cells will be merged into the first one.\n            const firstTableCell = selectedTableCells.shift();\n            // Update target cell dimensions.\n            const { mergeWidth, mergeHeight } = getMergeDimensions(firstTableCell, selectedTableCells, tableUtils);\n            updateNumericAttribute('colspan', mergeWidth, firstTableCell, writer);\n            updateNumericAttribute('rowspan', mergeHeight, firstTableCell, writer);\n            for (const tableCell of selectedTableCells) {\n                mergeTableCells(tableCell, firstTableCell, writer);\n            }\n            const table = firstTableCell.findAncestor('table');\n            // Remove rows and columns that become empty (have no anchored cells).\n            removeEmptyRowsColumns(table, tableUtils);\n            writer.setSelection(firstTableCell, 'in');\n        });\n    }\n}\n/**\n *  Merges two table cells. It will ensure that after merging cells with empty paragraphs the resulting table cell will only have one\n * paragraph. If one of the merged table cells is empty, the merged table cell will have contents of the non-empty table cell.\n * If both are empty, the merged table cell will have only one empty paragraph.\n */\nfunction mergeTableCells(cellBeingMerged, targetCell, writer) {\n    if (!isEmpty(cellBeingMerged)) {\n        if (isEmpty(targetCell)) {\n            writer.remove(writer.createRangeIn(targetCell));\n        }\n        writer.move(writer.createRangeIn(cellBeingMerged), writer.createPositionAt(targetCell, 'end'));\n    }\n    // Remove merged table cell.\n    writer.remove(cellBeingMerged);\n}\n/**\n * Checks if the passed table cell contains an empty paragraph.\n */\nfunction isEmpty(tableCell) {\n    const firstTableChild = tableCell.getChild(0);\n    return tableCell.childCount == 1 && firstTableChild.is('element', 'paragraph') && firstTableChild.isEmpty;\n}\nfunction getMergeDimensions(firstTableCell, selectedTableCells, tableUtils) {\n    let maxWidthOffset = 0;\n    let maxHeightOffset = 0;\n    for (const tableCell of selectedTableCells) {\n        const { row, column } = tableUtils.getCellLocation(tableCell);\n        maxWidthOffset = getMaxOffset(tableCell, column, maxWidthOffset, 'colspan');\n        maxHeightOffset = getMaxOffset(tableCell, row, maxHeightOffset, 'rowspan');\n    }\n    // Update table cell span attribute and merge set selection on a merged contents.\n    const { row: firstCellRow, column: firstCellColumn } = tableUtils.getCellLocation(firstTableCell);\n    const mergeWidth = maxWidthOffset - firstCellColumn;\n    const mergeHeight = maxHeightOffset - firstCellRow;\n    return { mergeWidth, mergeHeight };\n}\nfunction getMaxOffset(tableCell, start, currentMaxOffset, which) {\n    const dimensionValue = parseInt(tableCell.getAttribute(which) || '1');\n    return Math.max(currentMaxOffset, start + dimensionValue);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/selectrowcommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The select row command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'selectTableRow'` editor command.\n *\n * To select the rows containing the selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'selectTableRow' );\n * ```\n */\nexport default class SelectRowCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = selectedCells.length > 0;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const referenceCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const rowIndexes = tableUtils.getRowIndexes(referenceCells);\n        const table = referenceCells[0].findAncestor('table');\n        const rangesToSelect = [];\n        for (let rowIndex = rowIndexes.first; rowIndex <= rowIndexes.last; rowIndex++) {\n            for (const cell of table.getChild(rowIndex).getChildren()) {\n                rangesToSelect.push(model.createRangeOn(cell));\n            }\n        }\n        model.change(writer => {\n            writer.setSelection(rangesToSelect);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/commands/selectcolumncommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport TableWalker from '../tablewalker.js';\n/**\n * The select column command.\n *\n * The command is registered by {@link module:table/tableediting~TableEditing} as the `'selectTableColumn'` editor command.\n *\n * To select the columns containing the selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'selectTableColumn' );\n * ```\n */\nexport default class SelectColumnCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // It does not affect data so should be enabled in read-only mode.\n        this.affectsData = false;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedCells = tableUtils.getSelectionAffectedTableCells(this.editor.model.document.selection);\n        this.isEnabled = selectedCells.length > 0;\n    }\n    /**\n     * @inheritDoc\n     */\n    execute() {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const model = this.editor.model;\n        const referenceCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const firstCell = referenceCells[0];\n        const lastCell = referenceCells.pop();\n        const table = firstCell.findAncestor('table');\n        const startLocation = tableUtils.getCellLocation(firstCell);\n        const endLocation = tableUtils.getCellLocation(lastCell);\n        const startColumn = Math.min(startLocation.column, endLocation.column);\n        const endColumn = Math.max(startLocation.column, endLocation.column);\n        const rangesToSelect = [];\n        for (const cellInfo of new TableWalker(table, { startColumn, endColumn })) {\n            rangesToSelect.push(model.createRangeOn(cellInfo.cell));\n        }\n        model.change(writer => {\n            writer.setSelection(rangesToSelect);\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableWalker from './../tablewalker.js';\nimport { createEmptyTableCell, updateNumericAttribute } from '../utils/common.js';\n/**\n * Injects a table layout post-fixer into the model.\n *\n * The role of the table layout post-fixer is to ensure that the table rows have the correct structure\n * after a {@link module:engine/model/model~Model#change `change()`} block was executed.\n *\n * The correct structure means that:\n *\n * * All table rows have the same size.\n * * None of the table cells extend vertically beyond their section (either header or body).\n * * A table cell has always at least one element as a child.\n *\n * If the table structure is not correct, the post-fixer will automatically correct it in two steps:\n *\n * 1. It will clip table cells that extend beyond their section.\n * 2. It will add empty table cells to the rows that are narrower than the widest table row.\n *\n * ## Clipping overlapping table cells\n *\n * Such situation may occur when pasting a table (or a part of a table) to the editor from external sources.\n *\n * For example, see the following table which has a cell (FOO) with the rowspan attribute (2):\n *\n * ```xml\n * <table headingRows=\"1\">\n *   <tableRow>\n *     <tableCell rowspan=\"2\"><paragraph>FOO</paragraph></tableCell>\n *     <tableCell colspan=\"2\"><paragraph>BAR</paragraph></tableCell>\n *   </tableRow>\n *   <tableRow>\n *     <tableCell><paragraph>BAZ</paragraph></tableCell>\n *     <tableCell><paragraph>XYZ</paragraph></tableCell>\n *   </tableRow>\n * </table>\n * ```\n *\n * It will be rendered in the view as:\n *\n * ```xml\n * <table>\n *   <thead>\n *     <tr>\n *       <td rowspan=\"2\">FOO</td>\n *       <td colspan=\"2\">BAR</td>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td>BAZ</td>\n *       <td>XYZ</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * In the above example the table will be rendered as a table with two rows: one in the header and second one in the body.\n * The table cell (FOO) cannot span over multiple rows as it would extend from the header to the body section.\n * The `rowspan` attribute must be changed to (1). The value (1) is the default value of the `rowspan` attribute\n * so the `rowspan` attribute will be removed from the model.\n *\n * The table cell with BAZ in the content will be in the first column of the table.\n *\n * ## Adding missing table cells\n *\n * The table post-fixer will insert empty table cells to equalize table row sizes (the number of columns).\n * The size of a table row is calculated by counting column spans of table cells, both horizontal (from the same row) and\n * vertical (from the rows above).\n *\n * In the above example, the table row in the body section of the table is narrower then the row from the header: it has two cells\n * with the default colspan (1). The header row has one cell with colspan (1) and the second with colspan (2).\n * The table cell (FOO) does not extend beyond the head section (and as such will be fixed in the first step of this post-fixer).\n * The post-fixer will add a missing table cell to the row in the body section of the table.\n *\n * The table from the above example will be fixed and rendered to the view as below:\n *\n * ```xml\n * <table>\n *   <thead>\n *     <tr>\n *       <td rowspan=\"2\">FOO</td>\n *       <td colspan=\"2\">BAR</td>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td>BAZ</td>\n *       <td>XYZ</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * ## Collaboration and undo - Expectations vs post-fixer results\n *\n * The table post-fixer only ensures proper structure without a deeper analysis of the nature of the change. As such, it might lead\n * to a structure which was not intended by the user. In particular, it will also fix undo steps (in conjunction with collaboration)\n * in which the editor content might not return to the original state.\n *\n * This will usually happen when one or more users change the size of the table.\n *\n * As an example see the table below:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * and the user actions:\n *\n * 1. Both users have a table with two rows and two columns.\n * 2. User A adds a column at the end of the table. This will insert empty table cells to two rows.\n * 3. User B adds a row at the end of the table. This will insert a row with two empty table cells.\n * 4. Both users will have a table as below:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * The last row is shorter then others so the table post-fixer will add an empty row to the last row:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *       <td>(empty, inserted by A)</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by the post-fixer)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * Unfortunately undo does not know the nature of the changes and depending on which user applies the post-fixer changes, undoing them\n * might lead to a broken table. If User B undoes inserting the column to the table, the undo engine will undo only the operations of\n * inserting empty cells to rows from the initial table state (row 1 and 2) but the cell in the post-fixed row will remain:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by a post-fixer)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n *\n * After undo, the table post-fixer will detect that two rows are shorter than others and will fix the table to:\n *\n * ```xml\n * <table>\n *   <tbody>\n *     <tr>\n *       <td>11</td>\n *       <td>12</td>\n *       <td>(empty, inserted by a post-fixer after undo)</td>\n *     </tr>\n *     <tr>\n *       <td>21</td>\n *       <td>22</td>\n *       <td>(empty, inserted by a post-fixer after undo)</td>\n *     </tr>\n *     <tr>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by B)</td>\n *       <td>(empty, inserted by a post-fixer)</td>\n *     </tr>\n *   </tbody>\n * </table>\n * ```\n */\nexport default function injectTableLayoutPostFixer(model) {\n    model.document.registerPostFixer(writer => tableLayoutPostFixer(writer, model));\n}\n/**\n * The table layout post-fixer.\n */\nfunction tableLayoutPostFixer(writer, model) {\n    const changes = model.document.differ.getChanges();\n    let wasFixed = false;\n    // Do not analyze the same table more then once - may happen for multiple changes in the same table.\n    const analyzedTables = new Set();\n    for (const entry of changes) {\n        let table = null;\n        if (entry.type == 'insert' && entry.name == 'table') {\n            table = entry.position.nodeAfter;\n        }\n        // Fix table on adding/removing table cells and rows.\n        if ((entry.type == 'insert' || entry.type == 'remove') && (entry.name == 'tableRow' || entry.name == 'tableCell')) {\n            table = entry.position.findAncestor('table');\n        }\n        // Fix table on any table's attribute change - including attributes of table cells.\n        if (isTableAttributeEntry(entry)) {\n            table = entry.range.start.findAncestor('table');\n        }\n        if (table && !analyzedTables.has(table)) {\n            // Step 1: correct rowspans of table cells if necessary.\n            // The wasFixed flag should be true if any of tables in batch was fixed - might be more then one.\n            wasFixed = fixTableCellsRowspan(table, writer) || wasFixed;\n            // Step 2: fix table rows sizes.\n            wasFixed = fixTableRowsSizes(table, writer) || wasFixed;\n            analyzedTables.add(table);\n        }\n    }\n    return wasFixed;\n}\n/**\n * Fixes the invalid value of the `rowspan` attribute because a table cell cannot vertically extend beyond the table section it belongs to.\n *\n * @returns Returns `true` if the table was fixed.\n */\nfunction fixTableCellsRowspan(table, writer) {\n    let wasFixed = false;\n    const cellsToTrim = findCellsToTrim(table);\n    if (cellsToTrim.length) {\n        // @if CK_DEBUG_TABLE // console.log( `Post-fixing table: trimming cells row-spans (${ cellsToTrim.length }).` );\n        wasFixed = true;\n        for (const data of cellsToTrim) {\n            updateNumericAttribute('rowspan', data.rowspan, data.cell, writer, 1);\n        }\n    }\n    return wasFixed;\n}\n/**\n * Makes all table rows in a table the same size.\n *\n * @returns Returns `true` if the table was fixed.\n */\nfunction fixTableRowsSizes(table, writer) {\n    let wasFixed = false;\n    const childrenLengths = getChildrenLengths(table);\n    const rowsToRemove = [];\n    // Find empty rows.\n    for (const [rowIndex, size] of childrenLengths.entries()) {\n        // Ignore all non-row models.\n        if (!size && table.getChild(rowIndex).is('element', 'tableRow')) {\n            rowsToRemove.push(rowIndex);\n        }\n    }\n    // Remove empty rows.\n    if (rowsToRemove.length) {\n        // @if CK_DEBUG_TABLE // console.log( `Post-fixing table: remove empty rows (${ rowsToRemove.length }).` );\n        wasFixed = true;\n        for (const rowIndex of rowsToRemove.reverse()) {\n            writer.remove(table.getChild(rowIndex));\n            childrenLengths.splice(rowIndex, 1);\n        }\n    }\n    // Filter out everything that's not a table row.\n    const rowsLengths = childrenLengths.filter((row, rowIndex) => table.getChild(rowIndex).is('element', 'tableRow'));\n    // Verify if all the rows have the same number of columns.\n    const tableSize = rowsLengths[0];\n    const isValid = rowsLengths.every(length => length === tableSize);\n    if (!isValid) {\n        // @if CK_DEBUG_TABLE // console.log( 'Post-fixing table: adding missing cells.' );\n        // Find the maximum number of columns.\n        const maxColumns = rowsLengths.reduce((prev, current) => current > prev ? current : prev, 0);\n        for (const [rowIndex, size] of rowsLengths.entries()) {\n            const columnsToInsert = maxColumns - size;\n            if (columnsToInsert) {\n                for (let i = 0; i < columnsToInsert; i++) {\n                    createEmptyTableCell(writer, writer.createPositionAt(table.getChild(rowIndex), 'end'));\n                }\n                wasFixed = true;\n            }\n        }\n    }\n    return wasFixed;\n}\n/**\n * Searches for table cells that extend beyond the table section to which they belong to. It will return an array of objects\n * that stores table cells to be trimmed and the correct value of the `rowspan` attribute to set.\n */\nfunction findCellsToTrim(table) {\n    const headingRows = parseInt(table.getAttribute('headingRows') || '0');\n    const maxRows = Array.from(table.getChildren())\n        .reduce((count, row) => row.is('element', 'tableRow') ? count + 1 : count, 0);\n    const cellsToTrim = [];\n    for (const { row, cell, cellHeight } of new TableWalker(table)) {\n        // Skip cells that do not expand over its row.\n        if (cellHeight < 2) {\n            continue;\n        }\n        const isInHeader = row < headingRows;\n        // Row limit is either end of header section or whole table as table body is after the header.\n        const rowLimit = isInHeader ? headingRows : maxRows;\n        // If table cell expands over its limit reduce it height to proper value.\n        if (row + cellHeight > rowLimit) {\n            const newRowspan = rowLimit - row;\n            cellsToTrim.push({ cell, rowspan: newRowspan });\n        }\n    }\n    return cellsToTrim;\n}\n/**\n * Returns an array with lengths of rows assigned to the corresponding row index.\n */\nfunction getChildrenLengths(table) {\n    // TableWalker will not provide items for the empty rows, we need to pre-fill this array.\n    const lengths = new Array(table.childCount).fill(0);\n    for (const { rowIndex } of new TableWalker(table, { includeAllSlots: true })) {\n        lengths[rowIndex]++;\n    }\n    return lengths;\n}\n/**\n * Checks if the differ entry for an attribute change is one of the table's attributes.\n */\nfunction isTableAttributeEntry(entry) {\n    if (entry.type !== 'attribute') {\n        return false;\n    }\n    const key = entry.attributeKey;\n    return key === 'headingRows' || key === 'colspan' || key === 'rowspan';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Injects a table cell post-fixer into the model which inserts a `paragraph` element into empty table cells.\n *\n * A table cell must contain at least one block element as a child. An empty table cell will have an empty `paragraph` as a child.\n *\n * ```xml\n * <table>\n *   <tableRow>\n *      <tableCell></tableCell>\n *   </tableRow>\n * </table>\n * ```\n *\n * Will be fixed to:\n *\n * ```xml\n * <table>\n *   <tableRow>\n *      <tableCell><paragraph></paragraph></tableCell>\n *   </tableRow>\n * </table>\n * ```\n */\nexport default function injectTableCellParagraphPostFixer(model) {\n    model.document.registerPostFixer(writer => tableCellContentsPostFixer(writer, model));\n}\n/**\n * The table cell contents post-fixer.\n */\nfunction tableCellContentsPostFixer(writer, model) {\n    const changes = model.document.differ.getChanges();\n    let wasFixed = false;\n    for (const entry of changes) {\n        if (entry.type == 'insert' && entry.name == 'table') {\n            wasFixed = fixTable(entry.position.nodeAfter, writer) || wasFixed;\n        }\n        if (entry.type == 'insert' && entry.name == 'tableRow') {\n            wasFixed = fixTableRow(entry.position.nodeAfter, writer) || wasFixed;\n        }\n        if (entry.type == 'insert' && entry.name == 'tableCell') {\n            wasFixed = fixTableCellContent(entry.position.nodeAfter, writer) || wasFixed;\n        }\n        if ((entry.type == 'remove' || entry.type == 'insert') && checkTableCellChange(entry)) {\n            wasFixed = fixTableCellContent(entry.position.parent, writer) || wasFixed;\n        }\n    }\n    return wasFixed;\n}\n/**\n * Fixes all table cells in a table.\n */\nfunction fixTable(table, writer) {\n    let wasFixed = false;\n    for (const row of table.getChildren()) {\n        if (row.is('element', 'tableRow')) {\n            wasFixed = fixTableRow(row, writer) || wasFixed;\n        }\n    }\n    return wasFixed;\n}\n/**\n * Fixes all table cells in a table row.\n */\nfunction fixTableRow(tableRow, writer) {\n    let wasFixed = false;\n    for (const tableCell of tableRow.getChildren()) {\n        wasFixed = fixTableCellContent(tableCell, writer) || wasFixed;\n    }\n    return wasFixed;\n}\n/**\n * Fixes all table cell content by:\n * - Adding a paragraph to a table cell without any child.\n * - Wrapping direct $text in a `<paragraph>`.\n */\nfunction fixTableCellContent(tableCell, writer) {\n    // Insert paragraph to an empty table cell.\n    if (tableCell.childCount == 0) {\n        // @if CK_DEBUG_TABLE // console.log( 'Post-fixing table: insert paragraph in empty cell.' );\n        writer.insertElement('paragraph', tableCell);\n        return true;\n    }\n    // Check table cell children for directly placed text nodes.\n    // Temporary solution. See https://github.com/ckeditor/ckeditor5/issues/1464.\n    const textNodes = Array.from(tableCell.getChildren()).filter(child => child.is('$text'));\n    // @if CK_DEBUG_TABLE // textNodes.length && console.log( 'Post-fixing table: wrap cell content with paragraph.' );\n    for (const child of textNodes) {\n        writer.wrap(writer.createRangeOn(child), 'paragraph');\n    }\n    // Return true when there were text nodes to fix.\n    return !!textNodes.length;\n}\n/**\n * Checks if a differ change should fix the table cell. This happens on:\n * - Removing content from the table cell (i.e. `tableCell` can be left empty).\n * - Adding a text node directly into a table cell.\n */\nfunction checkTableCellChange(entry) {\n    if (!entry.position.parent.is('element', 'tableCell')) {\n        return false;\n    }\n    return entry.type == 'insert' && entry.name == '$text' || entry.type == 'remove';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { isSingleParagraphWithoutAttributes } from './downcast.js';\n/**\n * A table cell refresh handler which marks the table cell in the differ to have it re-rendered.\n *\n * Model `paragraph` inside a table cell can be rendered as `<span>` or `<p>`. It is rendered as `<span>` if this is the only block\n * element in that table cell and it does not have any attributes. It is rendered as `<p>` otherwise.\n *\n * When table cell content changes, for example a second `paragraph` element is added, we need to ensure that the first `paragraph` is\n * re-rendered so it changes from `<span>` to `<p>`. The easiest way to do it is to re-render the entire table cell.\n */\nexport default function tableCellRefreshHandler(model, editing) {\n    const differ = model.document.differ;\n    // Stores cells to be refreshed, so the table cell will be refreshed once for multiple changes.\n    const cellsToCheck = new Set();\n    for (const change of differ.getChanges()) {\n        const parent = change.type == 'attribute' ? change.range.start.parent : change.position.parent;\n        if (parent.is('element', 'tableCell')) {\n            cellsToCheck.add(parent);\n        }\n    }\n    for (const tableCell of cellsToCheck.values()) {\n        const paragraphsToRefresh = Array.from(tableCell.getChildren())\n            .filter(child => shouldRefresh(child, editing.mapper));\n        for (const paragraph of paragraphsToRefresh) {\n            editing.reconvertItem(paragraph);\n        }\n    }\n}\n/**\n * Check if given model element needs refreshing.\n */\nfunction shouldRefresh(child, mapper) {\n    if (!child.is('element', 'paragraph')) {\n        return false;\n    }\n    const viewElement = mapper.toViewElement(child);\n    if (!viewElement) {\n        return false;\n    }\n    return isSingleParagraphWithoutAttributes(child) !== viewElement.is('element', 'span');\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableediting.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport upcastTable, { ensureParagraphInTableCell, skipEmptyTableRow, upcastTableFigure } from './converters/upcasttable.js';\nimport { convertParagraphInTableCell, downcastCell, downcastRow, downcastTable } from './converters/downcast.js';\nimport InsertTableCommand from './commands/inserttablecommand.js';\nimport InsertRowCommand from './commands/insertrowcommand.js';\nimport InsertColumnCommand from './commands/insertcolumncommand.js';\nimport SplitCellCommand from './commands/splitcellcommand.js';\nimport MergeCellCommand from './commands/mergecellcommand.js';\nimport RemoveRowCommand from './commands/removerowcommand.js';\nimport RemoveColumnCommand from './commands/removecolumncommand.js';\nimport SetHeaderRowCommand from './commands/setheaderrowcommand.js';\nimport SetHeaderColumnCommand from './commands/setheadercolumncommand.js';\nimport MergeCellsCommand from './commands/mergecellscommand.js';\nimport SelectRowCommand from './commands/selectrowcommand.js';\nimport SelectColumnCommand from './commands/selectcolumncommand.js';\nimport TableUtils from '../src/tableutils.js';\nimport injectTableLayoutPostFixer from './converters/table-layout-post-fixer.js';\nimport injectTableCellParagraphPostFixer from './converters/table-cell-paragraph-post-fixer.js';\nimport tableHeadingsRefreshHandler from './converters/table-headings-refresh-handler.js';\nimport tableCellRefreshHandler from './converters/table-cell-refresh-handler.js';\nimport '../theme/tableediting.css';\n/**\n * The table editing feature.\n */\nexport default class TableEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._additionalSlots = [];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const schema = model.schema;\n        const conversion = editor.conversion;\n        const tableUtils = editor.plugins.get(TableUtils);\n        schema.register('table', {\n            inheritAllFrom: '$blockObject',\n            allowAttributes: ['headingRows', 'headingColumns']\n        });\n        schema.register('tableRow', {\n            allowIn: 'table',\n            isLimit: true\n        });\n        schema.register('tableCell', {\n            allowContentOf: '$container',\n            allowIn: 'tableRow',\n            allowAttributes: ['colspan', 'rowspan'],\n            isLimit: true,\n            isSelectable: true\n        });\n        // Figure conversion.\n        conversion.for('upcast').add(upcastTableFigure());\n        // Table conversion.\n        conversion.for('upcast').add(upcastTable());\n        conversion.for('editingDowncast').elementToStructure({\n            model: {\n                name: 'table',\n                attributes: ['headingRows']\n            },\n            view: downcastTable(tableUtils, {\n                asWidget: true,\n                additionalSlots: this._additionalSlots\n            })\n        });\n        conversion.for('dataDowncast').elementToStructure({\n            model: {\n                name: 'table',\n                attributes: ['headingRows']\n            },\n            view: downcastTable(tableUtils, {\n                additionalSlots: this._additionalSlots\n            })\n        });\n        // Table row conversion.\n        conversion.for('upcast').elementToElement({ model: 'tableRow', view: 'tr' });\n        conversion.for('upcast').add(skipEmptyTableRow());\n        conversion.for('downcast').elementToElement({\n            model: 'tableRow',\n            view: downcastRow()\n        });\n        // Table cell conversion.\n        conversion.for('upcast').elementToElement({ model: 'tableCell', view: 'td' });\n        conversion.for('upcast').elementToElement({ model: 'tableCell', view: 'th' });\n        conversion.for('upcast').add(ensureParagraphInTableCell('td'));\n        conversion.for('upcast').add(ensureParagraphInTableCell('th'));\n        conversion.for('editingDowncast').elementToElement({\n            model: 'tableCell',\n            view: downcastCell({ asWidget: true })\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: 'tableCell',\n            view: downcastCell()\n        });\n        // Duplicates code - needed to properly refresh paragraph inside a table cell.\n        conversion.for('editingDowncast').elementToElement({\n            model: 'paragraph',\n            view: convertParagraphInTableCell({ asWidget: true }),\n            converterPriority: 'high'\n        });\n        conversion.for('dataDowncast').elementToElement({\n            model: 'paragraph',\n            view: convertParagraphInTableCell(),\n            converterPriority: 'high'\n        });\n        // Table attributes conversion.\n        conversion.for('downcast').attributeToAttribute({ model: 'colspan', view: 'colspan' });\n        conversion.for('upcast').attributeToAttribute({\n            model: { key: 'colspan', value: upcastCellSpan('colspan') },\n            view: 'colspan'\n        });\n        conversion.for('downcast').attributeToAttribute({ model: 'rowspan', view: 'rowspan' });\n        conversion.for('upcast').attributeToAttribute({\n            model: { key: 'rowspan', value: upcastCellSpan('rowspan') },\n            view: 'rowspan'\n        });\n        // Define the config.\n        editor.config.define('table.defaultHeadings.rows', 0);\n        editor.config.define('table.defaultHeadings.columns', 0);\n        // Define all the commands.\n        editor.commands.add('insertTable', new InsertTableCommand(editor));\n        editor.commands.add('insertTableRowAbove', new InsertRowCommand(editor, { order: 'above' }));\n        editor.commands.add('insertTableRowBelow', new InsertRowCommand(editor, { order: 'below' }));\n        editor.commands.add('insertTableColumnLeft', new InsertColumnCommand(editor, { order: 'left' }));\n        editor.commands.add('insertTableColumnRight', new InsertColumnCommand(editor, { order: 'right' }));\n        editor.commands.add('removeTableRow', new RemoveRowCommand(editor));\n        editor.commands.add('removeTableColumn', new RemoveColumnCommand(editor));\n        editor.commands.add('splitTableCellVertically', new SplitCellCommand(editor, { direction: 'vertically' }));\n        editor.commands.add('splitTableCellHorizontally', new SplitCellCommand(editor, { direction: 'horizontally' }));\n        editor.commands.add('mergeTableCells', new MergeCellsCommand(editor));\n        editor.commands.add('mergeTableCellRight', new MergeCellCommand(editor, { direction: 'right' }));\n        editor.commands.add('mergeTableCellLeft', new MergeCellCommand(editor, { direction: 'left' }));\n        editor.commands.add('mergeTableCellDown', new MergeCellCommand(editor, { direction: 'down' }));\n        editor.commands.add('mergeTableCellUp', new MergeCellCommand(editor, { direction: 'up' }));\n        editor.commands.add('setTableColumnHeader', new SetHeaderColumnCommand(editor));\n        editor.commands.add('setTableRowHeader', new SetHeaderRowCommand(editor));\n        editor.commands.add('selectTableRow', new SelectRowCommand(editor));\n        editor.commands.add('selectTableColumn', new SelectColumnCommand(editor));\n        injectTableLayoutPostFixer(model);\n        injectTableCellParagraphPostFixer(model);\n        this.listenTo(model.document, 'change:data', () => {\n            tableHeadingsRefreshHandler(model, editor.editing);\n            tableCellRefreshHandler(model, editor.editing);\n        });\n    }\n    /**\n     * Registers downcast handler for the additional table slot.\n     */\n    registerAdditionalSlot(slotHandler) {\n        this._additionalSlots.push(slotHandler);\n    }\n}\n/**\n * Returns fixed colspan and rowspan attrbutes values.\n *\n * @param type colspan or rowspan.\n * @returns conversion value function.\n */\nfunction upcastCellSpan(type) {\n    return (cell) => {\n        const span = parseInt(cell.getAttribute(type));\n        if (Number.isNaN(span) || span <= 0) {\n            return null;\n        }\n        return span;\n    };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableWalker from '../tablewalker.js';\n/**\n * A table headings refresh handler which marks the table cells or rows in the differ to have it re-rendered\n * if the headings attribute changed.\n *\n * Table heading rows and heading columns are represented in the model by a `headingRows` and `headingColumns` attributes.\n *\n * When table headings attribute changes, all the cells/rows are marked to re-render to change between `<td>` and `<th>`.\n */\nexport default function tableHeadingsRefreshHandler(model, editing) {\n    const differ = model.document.differ;\n    for (const change of differ.getChanges()) {\n        let table;\n        let isRowChange = false;\n        if (change.type == 'attribute') {\n            const element = change.range.start.nodeAfter;\n            if (!element || !element.is('element', 'table')) {\n                continue;\n            }\n            if (change.attributeKey != 'headingRows' && change.attributeKey != 'headingColumns') {\n                continue;\n            }\n            table = element;\n            isRowChange = change.attributeKey == 'headingRows';\n        }\n        else if (change.name == 'tableRow' || change.name == 'tableCell') {\n            table = change.position.findAncestor('table');\n            isRowChange = change.name == 'tableRow';\n        }\n        if (!table) {\n            continue;\n        }\n        const headingRows = table.getAttribute('headingRows') || 0;\n        const headingColumns = table.getAttribute('headingColumns') || 0;\n        const tableWalker = new TableWalker(table);\n        for (const tableSlot of tableWalker) {\n            const isHeading = tableSlot.row < headingRows || tableSlot.column < headingColumns;\n            const expectedElementName = isHeading ? 'th' : 'td';\n            const viewElement = editing.mapper.toViewElement(tableSlot.cell);\n            if (viewElement && viewElement.is('element') && viewElement.name != expectedElementName) {\n                editing.reconvertItem((isRowChange ? tableSlot.cell.parent : tableSlot.cell));\n            }\n        }\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./inserttable.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/ui/inserttableview\n */\nimport { View, ButtonView, addKeyboardHandlingForGrid } from 'ckeditor5/src/ui.js';\nimport { KeystrokeHandler, FocusTracker } from 'ckeditor5/src/utils.js';\nimport './../../theme/inserttable.css';\n/**\n * The table size view.\n *\n * It renders a 10x10 grid to choose the inserted table size.\n */\nexport default class InsertTableView extends View {\n    /**\n     * @inheritDoc\n     */\n    constructor(locale) {\n        super(locale);\n        const bind = this.bindTemplate;\n        this.items = this._createGridCollection();\n        this.keystrokes = new KeystrokeHandler();\n        this.focusTracker = new FocusTracker();\n        this.set('rows', 0);\n        this.set('columns', 0);\n        this.bind('label').to(this, 'columns', this, 'rows', (columns, rows) => `${rows} × ${columns}`);\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: ['ck']\n            },\n            children: [\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: ['ck-insert-table-dropdown__grid']\n                    },\n                    on: {\n                        'mouseover@.ck-insert-table-dropdown-grid-box': bind.to('boxover')\n                    },\n                    children: this.items\n                },\n                {\n                    tag: 'div',\n                    attributes: {\n                        class: [\n                            'ck',\n                            'ck-insert-table-dropdown__label'\n                        ],\n                        'aria-hidden': true\n                    },\n                    children: [\n                        {\n                            text: bind.to('label')\n                        }\n                    ]\n                }\n            ],\n            on: {\n                mousedown: bind.to(evt => {\n                    evt.preventDefault();\n                }),\n                click: bind.to(() => {\n                    this.fire('execute');\n                })\n            }\n        });\n        // #rows and #columns are set via changes to #focusTracker on mouse over.\n        this.on('boxover', (evt, domEvt) => {\n            const { row, column } = domEvt.target.dataset;\n            this.items.get((parseInt(row, 10) - 1) * 10 + (parseInt(column, 10) - 1)).focus();\n        });\n        // This allows the #rows and #columns to be updated when:\n        // * the user navigates the grid using the keyboard,\n        // * the user moves the mouse over grid items.\n        this.focusTracker.on('change:focusedElement', (evt, name, focusedElement) => {\n            if (!focusedElement) {\n                return;\n            }\n            const { row, column } = focusedElement.dataset;\n            // As row & column indexes are zero-based transform it to number of selected rows & columns.\n            this.set({\n                rows: parseInt(row),\n                columns: parseInt(column)\n            });\n        });\n        this.on('change:columns', () => this._highlightGridBoxes());\n        this.on('change:rows', () => this._highlightGridBoxes());\n    }\n    render() {\n        super.render();\n        addKeyboardHandlingForGrid({\n            keystrokeHandler: this.keystrokes,\n            focusTracker: this.focusTracker,\n            gridItems: this.items,\n            numberOfColumns: 10,\n            uiLanguageDirection: this.locale && this.locale.uiLanguageDirection\n        });\n        for (const item of this.items) {\n            this.focusTracker.add(item.element);\n        }\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Resets the rows and columns selection.\n     */\n    reset() {\n        this.set({\n            rows: 1,\n            columns: 1\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    focus() {\n        this.items.get(0).focus();\n    }\n    /**\n     * @inheritDoc\n     */\n    focusLast() {\n        this.items.get(0).focus();\n    }\n    /**\n     * Highlights grid boxes depending on rows and columns selected.\n     */\n    _highlightGridBoxes() {\n        const rows = this.rows;\n        const columns = this.columns;\n        this.items.map((boxView, index) => {\n            // Translate box index to the row & column index.\n            const itemRow = Math.floor(index / 10);\n            const itemColumn = index % 10;\n            // Grid box is highlighted when its row & column index belongs to selected number of rows & columns.\n            const isOn = itemRow < rows && itemColumn < columns;\n            boxView.set('isOn', isOn);\n        });\n    }\n    /**\n     * Creates a new Button for the grid.\n     *\n     * @param locale The locale instance.\n     * @param row Row number.\n     * @param column Column number.\n     * @param label The grid button label.\n     */\n    _createGridButton(locale, row, column, label) {\n        const button = new ButtonView(locale);\n        button.set({\n            label,\n            class: 'ck-insert-table-dropdown-grid-box'\n        });\n        button.extendTemplate({\n            attributes: {\n                'data-row': row,\n                'data-column': column\n            }\n        });\n        return button;\n    }\n    /**\n     * @returns A view collection containing boxes to be placed in a table grid.\n     */\n    _createGridCollection() {\n        const boxes = [];\n        // Add grid boxes to table selection view.\n        for (let index = 0; index < 100; index++) {\n            const row = Math.floor(index / 10);\n            const column = index % 10;\n            const label = `${row + 1} × ${column + 1}`;\n            boxes.push(this._createGridButton(this.locale, row + 1, column + 1, label));\n        }\n        return this.createCollection(boxes);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableui\n */\nimport { icons, Plugin } from 'ckeditor5/src/core.js';\nimport { addListToDropdown, createDropdown, ViewModel, SplitButtonView, SwitchButtonView, MenuBarMenuView } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport InsertTableView from './ui/inserttableview.js';\nimport tableColumnIcon from './../theme/icons/table-column.svg';\nimport tableRowIcon from './../theme/icons/table-row.svg';\nimport tableMergeCellIcon from './../theme/icons/table-merge-cell.svg';\n/**\n * The table UI plugin. It introduces:\n *\n * * The `'insertTable'` dropdown,\n * * The `'menuBar:insertTable'` menu bar menu,\n * * The `'tableColumn'` dropdown,\n * * The `'tableRow'` dropdown,\n * * The `'mergeTableCells'` split button.\n *\n * The `'tableColumn'`, `'tableRow'` and `'mergeTableCells'` dropdowns work best with {@link module:table/tabletoolbar~TableToolbar}.\n */\nexport default class TableUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = this.editor.t;\n        const contentLanguageDirection = editor.locale.contentLanguageDirection;\n        const isContentLtr = contentLanguageDirection === 'ltr';\n        editor.ui.componentFactory.add('insertTable', locale => {\n            const command = editor.commands.get('insertTable');\n            const dropdownView = createDropdown(locale);\n            dropdownView.bind('isEnabled').to(command);\n            // Decorate dropdown's button.\n            dropdownView.buttonView.set({\n                icon: icons.table,\n                label: t('Insert table'),\n                tooltip: true\n            });\n            let insertTableView;\n            dropdownView.on('change:isOpen', () => {\n                if (insertTableView) {\n                    return;\n                }\n                // Prepare custom view for dropdown's panel.\n                insertTableView = new InsertTableView(locale);\n                dropdownView.panelView.children.add(insertTableView);\n                insertTableView.delegate('execute').to(dropdownView);\n                dropdownView.on('execute', () => {\n                    editor.execute('insertTable', { rows: insertTableView.rows, columns: insertTableView.columns });\n                    editor.editing.view.focus();\n                });\n            });\n            return dropdownView;\n        });\n        editor.ui.componentFactory.add('menuBar:insertTable', locale => {\n            const command = editor.commands.get('insertTable');\n            const menuView = new MenuBarMenuView(locale);\n            const insertTableView = new InsertTableView(locale);\n            insertTableView.delegate('execute').to(menuView);\n            menuView.on('change:isOpen', (event, name, isOpen) => {\n                if (!isOpen) {\n                    insertTableView.reset();\n                }\n            });\n            insertTableView.on('execute', () => {\n                editor.execute('insertTable', { rows: insertTableView.rows, columns: insertTableView.columns });\n                editor.editing.view.focus();\n            });\n            menuView.buttonView.set({\n                label: t('Table'),\n                icon: icons.table\n            });\n            menuView.panelView.children.add(insertTableView);\n            menuView.bind('isEnabled').to(command);\n            return menuView;\n        });\n        editor.ui.componentFactory.add('tableColumn', locale => {\n            const options = [\n                {\n                    type: 'switchbutton',\n                    model: {\n                        commandName: 'setTableColumnHeader',\n                        label: t('Header column'),\n                        bindIsOn: true\n                    }\n                },\n                { type: 'separator' },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'insertTableColumnLeft' : 'insertTableColumnRight',\n                        label: t('Insert column left')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'insertTableColumnRight' : 'insertTableColumnLeft',\n                        label: t('Insert column right')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'removeTableColumn',\n                        label: t('Delete column')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'selectTableColumn',\n                        label: t('Select column')\n                    }\n                }\n            ];\n            return this._prepareDropdown(t('Column'), tableColumnIcon, options, locale);\n        });\n        editor.ui.componentFactory.add('tableRow', locale => {\n            const options = [\n                {\n                    type: 'switchbutton',\n                    model: {\n                        commandName: 'setTableRowHeader',\n                        label: t('Header row'),\n                        bindIsOn: true\n                    }\n                },\n                { type: 'separator' },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'insertTableRowAbove',\n                        label: t('Insert row above')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'insertTableRowBelow',\n                        label: t('Insert row below')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'removeTableRow',\n                        label: t('Delete row')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'selectTableRow',\n                        label: t('Select row')\n                    }\n                }\n            ];\n            return this._prepareDropdown(t('Row'), tableRowIcon, options, locale);\n        });\n        editor.ui.componentFactory.add('mergeTableCells', locale => {\n            const options = [\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'mergeTableCellUp',\n                        label: t('Merge cell up')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'mergeTableCellRight' : 'mergeTableCellLeft',\n                        label: t('Merge cell right')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'mergeTableCellDown',\n                        label: t('Merge cell down')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: isContentLtr ? 'mergeTableCellLeft' : 'mergeTableCellRight',\n                        label: t('Merge cell left')\n                    }\n                },\n                { type: 'separator' },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'splitTableCellVertically',\n                        label: t('Split cell vertically')\n                    }\n                },\n                {\n                    type: 'button',\n                    model: {\n                        commandName: 'splitTableCellHorizontally',\n                        label: t('Split cell horizontally')\n                    }\n                }\n            ];\n            return this._prepareMergeSplitButtonDropdown(t('Merge cells'), tableMergeCellIcon, options, locale);\n        });\n    }\n    /**\n     * Creates a dropdown view from a set of options.\n     *\n     * @param label The dropdown button label.\n     * @param icon An icon for the dropdown button.\n     * @param options The list of options for the dropdown.\n     */\n    _prepareDropdown(label, icon, options, locale) {\n        const editor = this.editor;\n        const dropdownView = createDropdown(locale);\n        const commands = this._fillDropdownWithListOptions(dropdownView, options);\n        // Decorate dropdown's button.\n        dropdownView.buttonView.set({\n            label,\n            icon,\n            tooltip: true\n        });\n        // Make dropdown button disabled when all options are disabled.\n        dropdownView.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => {\n            return areEnabled.some(isEnabled => isEnabled);\n        });\n        this.listenTo(dropdownView, 'execute', evt => {\n            editor.execute(evt.source.commandName);\n            // Toggling a switch button view should not move the focus to the editable.\n            if (!(evt.source instanceof SwitchButtonView)) {\n                editor.editing.view.focus();\n            }\n        });\n        return dropdownView;\n    }\n    /**\n     * Creates a dropdown view with a {@link module:ui/dropdown/button/splitbuttonview~SplitButtonView} for\n     * merge (and split)–related commands.\n     *\n     * @param label The dropdown button label.\n     * @param icon An icon for the dropdown button.\n     * @param options The list of options for the dropdown.\n     */\n    _prepareMergeSplitButtonDropdown(label, icon, options, locale) {\n        const editor = this.editor;\n        const dropdownView = createDropdown(locale, SplitButtonView);\n        const mergeCommandName = 'mergeTableCells';\n        // Main command.\n        const mergeCommand = editor.commands.get(mergeCommandName);\n        // Subcommands in the dropdown.\n        const commands = this._fillDropdownWithListOptions(dropdownView, options);\n        dropdownView.buttonView.set({\n            label,\n            icon,\n            tooltip: true,\n            isEnabled: true\n        });\n        // Make dropdown button disabled when all options are disabled together with the main command.\n        dropdownView.bind('isEnabled').toMany([mergeCommand, ...commands], 'isEnabled', (...areEnabled) => {\n            return areEnabled.some(isEnabled => isEnabled);\n        });\n        // Merge selected table cells when the main part of the split button is clicked.\n        this.listenTo(dropdownView.buttonView, 'execute', () => {\n            editor.execute(mergeCommandName);\n            editor.editing.view.focus();\n        });\n        // Execute commands for events coming from the list in the dropdown panel.\n        this.listenTo(dropdownView, 'execute', evt => {\n            editor.execute(evt.source.commandName);\n            editor.editing.view.focus();\n        });\n        return dropdownView;\n    }\n    /**\n     * Injects a {@link module:ui/list/listview~ListView} into the passed dropdown with buttons\n     * which execute editor commands as configured in passed options.\n     *\n     * @param options The list of options for the dropdown.\n     * @returns Commands the list options are interacting with.\n     */\n    _fillDropdownWithListOptions(dropdownView, options) {\n        const editor = this.editor;\n        const commands = [];\n        const itemDefinitions = new Collection();\n        for (const option of options) {\n            addListOption(option, editor, commands, itemDefinitions);\n        }\n        addListToDropdown(dropdownView, itemDefinitions);\n        return commands;\n    }\n}\n/**\n * Adds an option to a list view.\n *\n * @param option A configuration option.\n * @param commands The list of commands to update.\n * @param itemDefinitions A collection of dropdown items to update with the given option.\n */\nfunction addListOption(option, editor, commands, itemDefinitions) {\n    if (option.type === 'button' || option.type === 'switchbutton') {\n        const model = option.model = new ViewModel(option.model);\n        const { commandName, bindIsOn } = option.model;\n        const command = editor.commands.get(commandName);\n        commands.push(command);\n        model.set({ commandName });\n        model.bind('isEnabled').to(command);\n        if (bindIsOn) {\n            model.bind('isOn').to(command, 'value');\n        }\n        model.set({\n            withText: true\n        });\n    }\n    itemDefinitions.add(option);\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\\\" opacity=\\\".6\\\"/><path d=\\\"M18 7v1H2V7h16zm0 5v1H2v-1h16z\\\" opacity=\\\".6\\\"/><path d=\\\"M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\\\" opacity=\\\".6\\\"/><path d=\\\"M7 2h1v16H7V2zm5 0h1v16h-1V2z\\\" opacity=\\\".6\\\"/><path d=\\\"M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z\\\" opacity=\\\".6\\\"/><path d=\\\"M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z\\\" opacity=\\\".6\\\"/><path d=\\\"M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableselection.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableselection\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { first } from 'ckeditor5/src/utils.js';\nimport TableWalker from './tablewalker.js';\nimport TableUtils from './tableutils.js';\nimport { cropTableToDimensions, adjustLastRowIndex, adjustLastColumnIndex } from './utils/structure.js';\nimport '../theme/tableselection.css';\n/**\n * This plugin enables the advanced table cells, rows and columns selection.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableSelection extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableSelection';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableUtils, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const model = editor.model;\n        const view = editor.editing.view;\n        this.listenTo(model, 'deleteContent', (evt, args) => this._handleDeleteContent(evt, args), { priority: 'high' });\n        this.listenTo(view.document, 'insertText', (evt, data) => this._handleInsertTextEvent(evt, data), { priority: 'high' });\n        this._defineSelectionConverter();\n        this._enablePluginDisabling(); // sic!\n    }\n    /**\n     * Returns the currently selected table cells or `null` if it is not a table cells selection.\n     */\n    getSelectedTableCells() {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selection = this.editor.model.document.selection;\n        const selectedCells = tableUtils.getSelectedTableCells(selection);\n        if (selectedCells.length == 0) {\n            return null;\n        }\n        // This should never happen, but let's know if it ever happens.\n        // @if CK_DEBUG //\tif ( selectedCells.length != selection.rangeCount ) {\n        // @if CK_DEBUG //\t\tconsole.warn( 'Mixed selection warning. The selection contains table cells and some other ranges.' );\n        // @if CK_DEBUG //\t}\n        return selectedCells;\n    }\n    /**\n     * Returns the selected table fragment as a document fragment.\n     */\n    getSelectionAsFragment() {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selectedCells = this.getSelectedTableCells();\n        if (!selectedCells) {\n            return null;\n        }\n        return this.editor.model.change(writer => {\n            const documentFragment = writer.createDocumentFragment();\n            const { first: firstColumn, last: lastColumn } = tableUtils.getColumnIndexes(selectedCells);\n            const { first: firstRow, last: lastRow } = tableUtils.getRowIndexes(selectedCells);\n            const sourceTable = selectedCells[0].findAncestor('table');\n            let adjustedLastRow = lastRow;\n            let adjustedLastColumn = lastColumn;\n            // If the selection is rectangular there could be a case of all cells in the last row/column spanned over\n            // next row/column so the real lastRow/lastColumn should be updated.\n            if (tableUtils.isSelectionRectangular(selectedCells)) {\n                const dimensions = {\n                    firstColumn,\n                    lastColumn,\n                    firstRow,\n                    lastRow\n                };\n                adjustedLastRow = adjustLastRowIndex(sourceTable, dimensions);\n                adjustedLastColumn = adjustLastColumnIndex(sourceTable, dimensions);\n            }\n            const cropDimensions = {\n                startRow: firstRow,\n                startColumn: firstColumn,\n                endRow: adjustedLastRow,\n                endColumn: adjustedLastColumn\n            };\n            const table = cropTableToDimensions(sourceTable, cropDimensions, writer);\n            writer.insert(table, documentFragment, 0);\n            return documentFragment;\n        });\n    }\n    /**\n     * Sets the model selection based on given anchor and target cells (can be the same cell).\n     * Takes care of setting the backward flag.\n     *\n     * ```ts\n     * const modelRoot = editor.model.document.getRoot();\n     * const firstCell = modelRoot.getNodeByPath( [ 0, 0, 0 ] );\n     * const lastCell = modelRoot.getNodeByPath( [ 0, 0, 1 ] );\n     *\n     * const tableSelection = editor.plugins.get( 'TableSelection' );\n     * tableSelection.setCellSelection( firstCell, lastCell );\n     * ```\n     */\n    setCellSelection(anchorCell, targetCell) {\n        const cellsToSelect = this._getCellsToSelect(anchorCell, targetCell);\n        this.editor.model.change(writer => {\n            writer.setSelection(cellsToSelect.cells.map(cell => writer.createRangeOn(cell)), { backward: cellsToSelect.backward });\n        });\n    }\n    /**\n     * Returns the focus cell from the current selection.\n     */\n    getFocusCell() {\n        const selection = this.editor.model.document.selection;\n        const focusCellRange = [...selection.getRanges()].pop();\n        const element = focusCellRange.getContainedElement();\n        if (element && element.is('element', 'tableCell')) {\n            return element;\n        }\n        return null;\n    }\n    /**\n     * Returns the anchor cell from the current selection.\n     */\n    getAnchorCell() {\n        const selection = this.editor.model.document.selection;\n        const anchorCellRange = first(selection.getRanges());\n        const element = anchorCellRange.getContainedElement();\n        if (element && element.is('element', 'tableCell')) {\n            return element;\n        }\n        return null;\n    }\n    /**\n     * Defines a selection converter which marks the selected cells with a specific class.\n     *\n     * The real DOM selection is put in the last cell. Since the order of ranges is dependent on whether the\n     * selection is backward or not, the last cell will usually be close to the \"focus\" end of the selection\n     * (a selection has anchor and focus).\n     *\n     * The real DOM selection is then hidden with CSS.\n     */\n    _defineSelectionConverter() {\n        const editor = this.editor;\n        const highlighted = new Set();\n        editor.conversion.for('editingDowncast').add(dispatcher => dispatcher.on('selection', (evt, data, conversionApi) => {\n            const viewWriter = conversionApi.writer;\n            clearHighlightedTableCells(viewWriter);\n            const selectedCells = this.getSelectedTableCells();\n            if (!selectedCells) {\n                return;\n            }\n            for (const tableCell of selectedCells) {\n                const viewElement = conversionApi.mapper.toViewElement(tableCell);\n                viewWriter.addClass('ck-editor__editable_selected', viewElement);\n                highlighted.add(viewElement);\n            }\n            const lastViewCell = conversionApi.mapper.toViewElement(selectedCells[selectedCells.length - 1]);\n            viewWriter.setSelection(lastViewCell, 0);\n        }, { priority: 'lowest' }));\n        function clearHighlightedTableCells(viewWriter) {\n            for (const previouslyHighlighted of highlighted) {\n                viewWriter.removeClass('ck-editor__editable_selected', previouslyHighlighted);\n            }\n            highlighted.clear();\n        }\n    }\n    /**\n     * Creates a listener that reacts to changes in {@link #isEnabled} and, if the plugin was disabled,\n     * it collapses the multi-cell selection to a regular selection placed inside a table cell.\n     *\n     * This listener helps features that disable the table selection plugin bring the selection\n     * to a clear state they can work with (for instance, because they don't support multiple cell selection).\n     */\n    _enablePluginDisabling() {\n        const editor = this.editor;\n        this.on('change:isEnabled', () => {\n            if (!this.isEnabled) {\n                const selectedCells = this.getSelectedTableCells();\n                if (!selectedCells) {\n                    return;\n                }\n                editor.model.change(writer => {\n                    const position = writer.createPositionAt(selectedCells[0], 0);\n                    const range = editor.model.schema.getNearestSelectionRange(position);\n                    writer.setSelection(range);\n                });\n            }\n        });\n    }\n    /**\n     * Overrides the default `model.deleteContent()` behavior over a selected table fragment.\n     *\n     * @param args Delete content method arguments.\n     */\n    _handleDeleteContent(event, args) {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const selection = args[0];\n        const options = args[1];\n        const model = this.editor.model;\n        const isBackward = !options || options.direction == 'backward';\n        const selectedTableCells = tableUtils.getSelectedTableCells(selection);\n        if (!selectedTableCells.length) {\n            return;\n        }\n        event.stop();\n        model.change(writer => {\n            const tableCellToSelect = selectedTableCells[isBackward ? selectedTableCells.length - 1 : 0];\n            model.change(writer => {\n                for (const tableCell of selectedTableCells) {\n                    model.deleteContent(writer.createSelection(tableCell, 'in'));\n                }\n            });\n            const rangeToSelect = model.schema.getNearestSelectionRange(writer.createPositionAt(tableCellToSelect, 0));\n            // Note: we ignore the case where rangeToSelect may be null because deleteContent() will always (unless someone broke it)\n            // create an empty paragraph to accommodate the selection.\n            if (selection.is('documentSelection')) {\n                writer.setSelection(rangeToSelect);\n            }\n            else {\n                selection.setTo(rangeToSelect);\n            }\n        });\n    }\n    /**\n     * This handler makes it possible to remove the content of all selected cells by starting to type.\n     * If you take a look at {@link #_defineSelectionConverter} you will find out that despite the multi-cell selection being set\n     * in the model, the view selection is collapsed in the last cell (because most browsers are unable to render multi-cell selections;\n     * yes, it's a hack).\n     *\n     * When multiple cells are selected in the model and the user starts to type, the\n     * {@link module:engine/view/document~Document#event:insertText} event carries information provided by the\n     * beforeinput DOM  event, that in turn only knows about this collapsed DOM selection in the last cell.\n     *\n     * As a result, the selected cells have no chance to be cleaned up. To fix this, this listener intercepts\n     * the event and injects the custom view selection in the data that translates correctly to the actual state\n     * of the multi-cell selection in the model.\n     *\n     * @param data Insert text event data.\n     */\n    _handleInsertTextEvent(evt, data) {\n        const editor = this.editor;\n        const selectedCells = this.getSelectedTableCells();\n        if (!selectedCells) {\n            return;\n        }\n        const view = editor.editing.view;\n        const mapper = editor.editing.mapper;\n        const viewRanges = selectedCells.map(tableCell => view.createRangeOn(mapper.toViewElement(tableCell)));\n        data.selection = view.createSelection(viewRanges);\n    }\n    /**\n     * Returns an array of table cells that should be selected based on the\n     * given anchor cell and target (focus) cell.\n     *\n     * The cells are returned in a reverse direction if the selection is backward.\n     */\n    _getCellsToSelect(anchorCell, targetCell) {\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const startLocation = tableUtils.getCellLocation(anchorCell);\n        const endLocation = tableUtils.getCellLocation(targetCell);\n        const startRow = Math.min(startLocation.row, endLocation.row);\n        const endRow = Math.max(startLocation.row, endLocation.row);\n        const startColumn = Math.min(startLocation.column, endLocation.column);\n        const endColumn = Math.max(startLocation.column, endLocation.column);\n        // 2-dimensional array of the selected cells to ease flipping the order of cells for backward selections.\n        const selectionMap = new Array(endRow - startRow + 1).fill(null).map(() => []);\n        const walkerOptions = {\n            startRow,\n            endRow,\n            startColumn,\n            endColumn\n        };\n        for (const { row, cell } of new TableWalker(anchorCell.findAncestor('table'), walkerOptions)) {\n            selectionMap[row - startRow].push(cell);\n        }\n        const flipVertically = endLocation.row < startLocation.row;\n        const flipHorizontally = endLocation.column < startLocation.column;\n        if (flipVertically) {\n            selectionMap.reverse();\n        }\n        if (flipHorizontally) {\n            selectionMap.forEach(row => row.reverse());\n        }\n        return {\n            cells: selectionMap.flat(),\n            backward: flipVertically || flipHorizontally\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { ClipboardPipeline, ClipboardMarkersUtils } from 'ckeditor5/src/clipboard.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableSelection from './tableselection.js';\nimport TableWalker from './tablewalker.js';\nimport TableUtils from './tableutils.js';\nimport { cropTableToDimensions, getHorizontallyOverlappingCells, getVerticallyOverlappingCells, removeEmptyRowsColumns, splitHorizontally, splitVertically, trimTableCellIfNeeded, adjustLastRowIndex, adjustLastColumnIndex } from './utils/structure.js';\n/**\n * This plugin adds support for copying/cutting/pasting fragments of tables.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableClipboard extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableClipboard';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ClipboardMarkersUtils, ClipboardPipeline, TableSelection, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        this.listenTo(viewDocument, 'copy', (evt, data) => this._onCopyCut(evt, data));\n        this.listenTo(viewDocument, 'cut', (evt, data) => this._onCopyCut(evt, data));\n        this.listenTo(editor.model, 'insertContent', (evt, [content, selectable]) => this._onInsertContent(evt, content, selectable), { priority: 'high' });\n        this.decorate('_replaceTableSlotCell');\n    }\n    /**\n     * Copies table content to a clipboard on \"copy\" & \"cut\" events.\n     *\n     * @param evt An object containing information about the handled event.\n     * @param data Clipboard event data.\n     */\n    _onCopyCut(evt, data) {\n        const view = this.editor.editing.view;\n        const tableSelection = this.editor.plugins.get(TableSelection);\n        const clipboardMarkersUtils = this.editor.plugins.get(ClipboardMarkersUtils);\n        if (!tableSelection.getSelectedTableCells()) {\n            return;\n        }\n        if (evt.name == 'cut' && !this.editor.model.canEditAt(this.editor.model.document.selection)) {\n            return;\n        }\n        data.preventDefault();\n        evt.stop();\n        this.editor.model.enqueueChange({ isUndoable: evt.name === 'cut' }, () => {\n            const documentFragment = clipboardMarkersUtils._copySelectedFragmentWithMarkers(evt.name, this.editor.model.document.selection, () => tableSelection.getSelectionAsFragment());\n            view.document.fire('clipboardOutput', {\n                dataTransfer: data.dataTransfer,\n                content: this.editor.data.toView(documentFragment),\n                method: evt.name\n            });\n        });\n    }\n    /**\n     * Overrides default {@link module:engine/model/model~Model#insertContent `model.insertContent()`} method to handle pasting table inside\n     * selected table fragment.\n     *\n     * Depending on selected table fragment:\n     * - If a selected table fragment is smaller than paste table it will crop pasted table to match dimensions.\n     * - If dimensions are equal it will replace selected table fragment with a pasted table contents.\n     *\n     * @param content The content to insert.\n     * @param selectable The selection into which the content should be inserted.\n     * If not provided the current model document selection will be used.\n     */\n    _onInsertContent(evt, content, selectable) {\n        if (selectable && !selectable.is('documentSelection')) {\n            return;\n        }\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const clipboardMarkersUtils = this.editor.plugins.get(ClipboardMarkersUtils);\n        // We might need to crop table before inserting so reference might change.\n        const pastedTable = this.getTableIfOnlyTableInContent(content, model);\n        if (!pastedTable) {\n            return;\n        }\n        const selectedTableCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        if (!selectedTableCells.length) {\n            removeEmptyRowsColumns(pastedTable, tableUtils);\n            return;\n        }\n        // Override default model.insertContent() handling at this point.\n        evt.stop();\n        if (content.is('documentFragment')) {\n            clipboardMarkersUtils._pasteMarkersIntoTransformedElement(content.markers, writer => this._replaceSelectedCells(pastedTable, selectedTableCells, writer));\n        }\n        else {\n            this.editor.model.change(writer => {\n                this._replaceSelectedCells(pastedTable, selectedTableCells, writer);\n            });\n        }\n    }\n    /**\n     * Inserts provided `selectedTableCells` into `pastedTable`.\n     */\n    _replaceSelectedCells(pastedTable, selectedTableCells, writer) {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const pastedDimensions = {\n            width: tableUtils.getColumns(pastedTable),\n            height: tableUtils.getRows(pastedTable)\n        };\n        // Prepare the table for pasting.\n        const selection = prepareTableForPasting(selectedTableCells, pastedDimensions, writer, tableUtils);\n        // Beyond this point we operate on a fixed content table with rectangular selection and proper last row/column values.\n        const selectionHeight = selection.lastRow - selection.firstRow + 1;\n        const selectionWidth = selection.lastColumn - selection.firstColumn + 1;\n        // Crop pasted table if:\n        // - Pasted table dimensions exceeds selection area.\n        // - Pasted table has broken layout (ie some cells sticks out by the table dimensions established by the first and last row).\n        //\n        // Note: The table dimensions are established by the width of the first row and the total number of rows.\n        // It is possible to programmatically create a table that has rows which would have cells anchored beyond first row width but\n        // such table will not be created by other editing solutions.\n        const cropDimensions = {\n            startRow: 0,\n            startColumn: 0,\n            endRow: Math.min(selectionHeight, pastedDimensions.height) - 1,\n            endColumn: Math.min(selectionWidth, pastedDimensions.width) - 1\n        };\n        pastedTable = cropTableToDimensions(pastedTable, cropDimensions, writer);\n        // Content table to which we insert a pasted table.\n        const selectedTable = selectedTableCells[0].findAncestor('table');\n        const cellsToSelect = this._replaceSelectedCellsWithPasted(pastedTable, pastedDimensions, selectedTable, selection, writer);\n        if (this.editor.plugins.get('TableSelection').isEnabled) {\n            // Selection ranges must be sorted because the first and last selection ranges are considered\n            // as anchor/focus cell ranges for multi-cell selection.\n            const selectionRanges = tableUtils.sortRanges(cellsToSelect.map(cell => writer.createRangeOn(cell)));\n            writer.setSelection(selectionRanges);\n        }\n        else {\n            // Set selection inside first cell if multi-cell selection is disabled.\n            writer.setSelection(cellsToSelect[0], 0);\n        }\n        return selectedTable;\n    }\n    /**\n     * Replaces the part of selectedTable with pastedTable.\n     */\n    _replaceSelectedCellsWithPasted(pastedTable, pastedDimensions, selectedTable, selection, writer) {\n        const { width: pastedWidth, height: pastedHeight } = pastedDimensions;\n        // Holds two-dimensional array that is addressed by [ row ][ column ] that stores cells anchored at given location.\n        const pastedTableLocationMap = createLocationMap(pastedTable, pastedWidth, pastedHeight);\n        const selectedTableMap = [...new TableWalker(selectedTable, {\n                startRow: selection.firstRow,\n                endRow: selection.lastRow,\n                startColumn: selection.firstColumn,\n                endColumn: selection.lastColumn,\n                includeAllSlots: true\n            })];\n        // Selection must be set to pasted cells (some might be removed or new created).\n        const cellsToSelect = [];\n        // Store next cell insert position.\n        let insertPosition;\n        // Content table replace cells algorithm iterates over a selected table fragment and:\n        //\n        // - Removes existing table cells at current slot (location).\n        // - Inserts cell from a pasted table for a matched slots.\n        //\n        // This ensures proper table geometry after the paste\n        for (const tableSlot of selectedTableMap) {\n            const { row, column } = tableSlot;\n            // Save the insert position for current row start.\n            if (column === selection.firstColumn) {\n                insertPosition = tableSlot.getPositionBefore();\n            }\n            // Map current table slot location to an pasted table slot location.\n            const pastedRow = row - selection.firstRow;\n            const pastedColumn = column - selection.firstColumn;\n            const pastedCell = pastedTableLocationMap[pastedRow % pastedHeight][pastedColumn % pastedWidth];\n            // Clone cell to insert (to duplicate its attributes and children).\n            // Cloning is required to support repeating pasted table content when inserting to a bigger selection.\n            const cellToInsert = pastedCell ? writer.cloneElement(pastedCell) : null;\n            // Replace the cell from the current slot with new table cell.\n            const newTableCell = this._replaceTableSlotCell(tableSlot, cellToInsert, insertPosition, writer);\n            // The cell was only removed.\n            if (!newTableCell) {\n                continue;\n            }\n            // Trim the cell if it's row/col-spans would exceed selection area.\n            trimTableCellIfNeeded(newTableCell, row, column, selection.lastRow, selection.lastColumn, writer);\n            cellsToSelect.push(newTableCell);\n            insertPosition = writer.createPositionAfter(newTableCell);\n        }\n        // If there are any headings, all the cells that overlap from heading must be splitted.\n        const headingRows = parseInt(selectedTable.getAttribute('headingRows') || '0');\n        const headingColumns = parseInt(selectedTable.getAttribute('headingColumns') || '0');\n        const areHeadingRowsIntersectingSelection = selection.firstRow < headingRows && headingRows <= selection.lastRow;\n        const areHeadingColumnsIntersectingSelection = selection.firstColumn < headingColumns && headingColumns <= selection.lastColumn;\n        if (areHeadingRowsIntersectingSelection) {\n            const columnsLimit = { first: selection.firstColumn, last: selection.lastColumn };\n            const newCells = doHorizontalSplit(selectedTable, headingRows, columnsLimit, writer, selection.firstRow);\n            cellsToSelect.push(...newCells);\n        }\n        if (areHeadingColumnsIntersectingSelection) {\n            const rowsLimit = { first: selection.firstRow, last: selection.lastRow };\n            const newCells = doVerticalSplit(selectedTable, headingColumns, rowsLimit, writer);\n            cellsToSelect.push(...newCells);\n        }\n        return cellsToSelect;\n    }\n    /**\n     * Replaces a single table slot.\n     *\n     * @returns Inserted table cell or null if slot should remain empty.\n     * @private\n     */\n    _replaceTableSlotCell(tableSlot, cellToInsert, insertPosition, writer) {\n        const { cell, isAnchor } = tableSlot;\n        // If the slot is occupied by a cell in a selected table - remove it.\n        // The slot of this cell will be either:\n        // - Replaced by a pasted table cell.\n        // - Spanned by a previously pasted table cell.\n        if (isAnchor) {\n            writer.remove(cell);\n        }\n        // There is no cell to insert (might be spanned by other cell in a pasted table) - advance to the next content table slot.\n        if (!cellToInsert) {\n            return null;\n        }\n        writer.insert(cellToInsert, insertPosition);\n        return cellToInsert;\n    }\n    /**\n     * Extracts the table for pasting into a table.\n     *\n     * @param content The content to insert.\n     * @param model The editor model.\n     */\n    getTableIfOnlyTableInContent(content, model) {\n        if (!content.is('documentFragment') && !content.is('element')) {\n            return null;\n        }\n        // Table passed directly.\n        if (content.is('element', 'table')) {\n            return content;\n        }\n        // We do not support mixed content when pasting table into table.\n        // See: https://github.com/ckeditor/ckeditor5/issues/6817.\n        if (content.childCount == 1 && content.getChild(0).is('element', 'table')) {\n            return content.getChild(0);\n        }\n        // If there are only whitespaces around a table then use that table for pasting.\n        const contentRange = model.createRangeIn(content);\n        for (const element of contentRange.getItems()) {\n            if (element.is('element', 'table')) {\n                // Stop checking if there is some content before table.\n                const rangeBefore = model.createRange(contentRange.start, model.createPositionBefore(element));\n                if (model.hasContent(rangeBefore, { ignoreWhitespaces: true })) {\n                    return null;\n                }\n                // Stop checking if there is some content after table.\n                const rangeAfter = model.createRange(model.createPositionAfter(element), contentRange.end);\n                if (model.hasContent(rangeAfter, { ignoreWhitespaces: true })) {\n                    return null;\n                }\n                // There wasn't any content neither before nor after.\n                return element;\n            }\n        }\n        return null;\n    }\n}\n/**\n * Prepares a table for pasting and returns adjusted selection dimensions.\n */\nfunction prepareTableForPasting(selectedTableCells, pastedDimensions, writer, tableUtils) {\n    const selectedTable = selectedTableCells[0].findAncestor('table');\n    const columnIndexes = tableUtils.getColumnIndexes(selectedTableCells);\n    const rowIndexes = tableUtils.getRowIndexes(selectedTableCells);\n    const selection = {\n        firstColumn: columnIndexes.first,\n        lastColumn: columnIndexes.last,\n        firstRow: rowIndexes.first,\n        lastRow: rowIndexes.last\n    };\n    // Single cell selected - expand selection to pasted table dimensions.\n    const shouldExpandSelection = selectedTableCells.length === 1;\n    if (shouldExpandSelection) {\n        selection.lastRow += pastedDimensions.height - 1;\n        selection.lastColumn += pastedDimensions.width - 1;\n        expandTableSize(selectedTable, selection.lastRow + 1, selection.lastColumn + 1, tableUtils);\n    }\n    // In case of expanding selection we do not reset the selection so in this case we will always try to fix selection\n    // like in the case of a non-rectangular area. This might be fixed by re-setting selected cells array but this shortcut is safe.\n    if (shouldExpandSelection || !tableUtils.isSelectionRectangular(selectedTableCells)) {\n        // For a non-rectangular selection (ie in which some cells sticks out from a virtual selection rectangle) we need to create\n        // a table layout that has a rectangular selection. This will split cells so the selection become rectangular.\n        // Beyond this point we will operate on fixed content table.\n        splitCellsToRectangularSelection(selectedTable, selection, writer);\n    }\n    // However a selected table fragment might be invalid if examined alone. Ie such table fragment:\n    //\n    //    +---+---+---+---+\n    //  0 | a | b | c | d |\n    //    +   +   +---+---+\n    //  1 |   | e | f | g |\n    //    +   +---+   +---+\n    //  2 |   | h |   | i | <- last row, each cell has rowspan = 2,\n    //    +   +   +   +   +    so we need to return 3, not 2\n    //  3 |   |   |   |   |\n    //    +---+---+---+---+\n    //\n    // is invalid as the cells \"h\" and \"i\" have rowspans.\n    // This case needs only adjusting the selection dimension as the rest of the algorithm operates on empty slots also.\n    else {\n        selection.lastRow = adjustLastRowIndex(selectedTable, selection);\n        selection.lastColumn = adjustLastColumnIndex(selectedTable, selection);\n    }\n    return selection;\n}\n/**\n * Expand table (in place) to expected size.\n */\nfunction expandTableSize(table, expectedHeight, expectedWidth, tableUtils) {\n    const tableWidth = tableUtils.getColumns(table);\n    const tableHeight = tableUtils.getRows(table);\n    if (expectedWidth > tableWidth) {\n        tableUtils.insertColumns(table, {\n            at: tableWidth,\n            columns: expectedWidth - tableWidth\n        });\n    }\n    if (expectedHeight > tableHeight) {\n        tableUtils.insertRows(table, {\n            at: tableHeight,\n            rows: expectedHeight - tableHeight\n        });\n    }\n}\n/**\n * Returns two-dimensional array that is addressed by [ row ][ column ] that stores cells anchored at given location.\n *\n * At given row & column location it might be one of:\n *\n * * cell - cell from pasted table anchored at this location.\n * * null - if no cell is anchored at this location.\n *\n * For instance, from a table below:\n *\n *   +----+----+----+----+\n *   | 00 | 01 | 02 | 03 |\n *   +    +----+----+----+\n *   |    | 11      | 13 |\n *   +----+         +----+\n *   | 20 |         | 23 |\n *   +----+----+----+----+\n *\n * The method will return an array (numbers represents cell element):\n *\n * ```ts\n * const map = [\n *   [ '00', '01', '02', '03' ],\n *   [ null, '11', null, '13' ],\n *   [ '20', null, null, '23' ]\n * ]\n * ```\n *\n * This allows for a quick access to table at give row & column. For instance to access table cell \"13\" from pasted table call:\n *\n * ```ts\n * const cell = map[ 1 ][ 3 ]\n * ```\n */\nfunction createLocationMap(table, width, height) {\n    // Create height x width (row x column) two-dimensional table to store cells.\n    const map = new Array(height).fill(null)\n        .map(() => new Array(width).fill(null));\n    for (const { column, row, cell } of new TableWalker(table)) {\n        map[row][column] = cell;\n    }\n    return map;\n}\n/**\n * Make selected cells rectangular by splitting the cells that stand out from a rectangular selection.\n *\n * In the table below a selection is shown with \"::\" and slots with anchor cells are named.\n *\n * +----+----+----+----+----+                    +----+----+----+----+----+\n * | 00 | 01 | 02 | 03      |                    | 00 | 01 | 02 | 03      |\n * +    +----+    +----+----+                    |    ::::::::::::::::----+\n * |    | 11 |    | 13 | 14 |                    |    ::11 |    | 13:: 14 |    <- first row\n * +----+----+    +    +----+                    +----::---|    |   ::----+\n * | 20 | 21 |    |    | 24 |   select cells:    | 20 ::21 |    |   :: 24 |\n * +----+----+    +----+----+     11 -> 33       +----::---|    |---::----+\n * | 30      |    | 33 | 34 |                    | 30 ::   |    | 33:: 34 |    <- last row\n * +         +    +----+    +                    |    ::::::::::::::::    +\n * |         |    | 43 |    |                    |         |    | 43 |    |\n * +----+----+----+----+----+                    +----+----+----+----+----+\n *                                                      ^          ^\n *                                                     first & last columns\n *\n * Will update table to:\n *\n *                       +----+----+----+----+----+\n *                       | 00 | 01 | 02 | 03      |\n *                       +    +----+----+----+----+\n *                       |    | 11 |    | 13 | 14 |\n *                       +----+----+    +    +----+\n *                       | 20 | 21 |    |    | 24 |\n *                       +----+----+    +----+----+\n *                       | 30 |    |    | 33 | 34 |\n *                       +    +----+----+----+    +\n *                       |    |    |    | 43 |    |\n *                       +----+----+----+----+----+\n *\n * In th example above:\n * - Cell \"02\" which have `rowspan = 4` must be trimmed at first and at after last row.\n * - Cell \"03\" which have `rowspan = 2` and `colspan = 2` must be trimmed at first column and after last row.\n * - Cells \"00\", \"03\" & \"30\" which cannot be cut by this algorithm as they are outside the trimmed area.\n * - Cell \"13\" cannot be cut as it is inside the trimmed area.\n */\nfunction splitCellsToRectangularSelection(table, dimensions, writer) {\n    const { firstRow, lastRow, firstColumn, lastColumn } = dimensions;\n    const rowIndexes = { first: firstRow, last: lastRow };\n    const columnIndexes = { first: firstColumn, last: lastColumn };\n    // 1. Split cells vertically in two steps as first step might create cells that needs to split again.\n    doVerticalSplit(table, firstColumn, rowIndexes, writer);\n    doVerticalSplit(table, lastColumn + 1, rowIndexes, writer);\n    // 2. Split cells horizontally in two steps as first step might create cells that needs to split again.\n    doHorizontalSplit(table, firstRow, columnIndexes, writer);\n    doHorizontalSplit(table, lastRow + 1, columnIndexes, writer, firstRow);\n}\nfunction doHorizontalSplit(table, splitRow, limitColumns, writer, startRow = 0) {\n    // If selection starts at first row then no split is needed.\n    if (splitRow < 1) {\n        return;\n    }\n    const overlappingCells = getVerticallyOverlappingCells(table, splitRow, startRow);\n    // Filter out cells that are not touching insides of the rectangular selection.\n    const cellsToSplit = overlappingCells.filter(({ column, cellWidth }) => isAffectedBySelection(column, cellWidth, limitColumns));\n    return cellsToSplit.map(({ cell }) => splitHorizontally(cell, splitRow, writer));\n}\nfunction doVerticalSplit(table, splitColumn, limitRows, writer) {\n    // If selection starts at first column then no split is needed.\n    if (splitColumn < 1) {\n        return;\n    }\n    const overlappingCells = getHorizontallyOverlappingCells(table, splitColumn);\n    // Filter out cells that are not touching insides of the rectangular selection.\n    const cellsToSplit = overlappingCells.filter(({ row, cellHeight }) => isAffectedBySelection(row, cellHeight, limitRows));\n    return cellsToSplit.map(({ cell, column }) => splitVertically(cell, column, splitColumn, writer));\n}\n/**\n * Checks if cell at given row (column) is affected by a rectangular selection defined by first/last column (row).\n *\n * The same check is used for row as for column.\n */\nfunction isAffectedBySelection(index, span, limit) {\n    const endIndex = index + span - 1;\n    const { first, last } = limit;\n    const isInsideSelection = index >= first && index <= last;\n    const overlapsSelectionFromOutside = index < first && endIndex >= first;\n    return isInsideSelection || overlapsSelectionFromOutside;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablekeyboard\n */\nimport TableSelection from './tableselection.js';\nimport TableWalker from './tablewalker.js';\nimport TableUtils from './tableutils.js';\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { getLocalizedArrowKeyCodeDirection } from 'ckeditor5/src/utils.js';\n/**\n * This plugin enables keyboard navigation for tables.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableKeyboard extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableKeyboard';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableSelection, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const view = editor.editing.view;\n        const viewDocument = view.document;\n        const t = editor.t;\n        this.listenTo(viewDocument, 'arrowKey', (...args) => this._onArrowKey(...args), { context: 'table' });\n        this.listenTo(viewDocument, 'tab', (...args) => this._handleTabOnSelectedTable(...args), { context: 'figure' });\n        this.listenTo(viewDocument, 'tab', (...args) => this._handleTab(...args), { context: ['th', 'td'] });\n        // Add the information about the keystrokes to the accessibility database.\n        editor.accessibility.addKeystrokeInfoGroup({\n            id: 'table',\n            label: t('Keystrokes that can be used in a table cell'),\n            keystrokes: [\n                {\n                    label: t('Move the selection to the next cell'),\n                    keystroke: 'Tab'\n                },\n                {\n                    label: t('Move the selection to the previous cell'),\n                    keystroke: 'Shift+Tab'\n                },\n                {\n                    label: t('Insert a new table row (when in the last cell of a table)'),\n                    keystroke: 'Tab'\n                },\n                {\n                    label: t('Navigate through the table'),\n                    keystroke: [['arrowup'], ['arrowright'], ['arrowdown'], ['arrowleft']]\n                }\n            ]\n        });\n    }\n    /**\n     * Handles {@link module:engine/view/document~Document#event:tab tab} events for the <kbd>Tab</kbd> key executed\n     * when the table widget is selected.\n     */\n    _handleTabOnSelectedTable(bubblingEventInfo, domEventData) {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const selectedElement = selection.getSelectedElement();\n        if (!selectedElement || !selectedElement.is('element', 'table')) {\n            return;\n        }\n        domEventData.preventDefault();\n        domEventData.stopPropagation();\n        bubblingEventInfo.stop();\n        editor.model.change(writer => {\n            writer.setSelection(writer.createRangeIn(selectedElement.getChild(0).getChild(0)));\n        });\n    }\n    /**\n     * Handles {@link module:engine/view/document~Document#event:tab tab} events for the <kbd>Tab</kbd> key executed\n     * inside table cells.\n     */\n    _handleTab(bubblingEventInfo, domEventData) {\n        const editor = this.editor;\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const tableSelection = this.editor.plugins.get('TableSelection');\n        const selection = editor.model.document.selection;\n        const isForward = !domEventData.shiftKey;\n        let tableCell = tableUtils.getTableCellsContainingSelection(selection)[0];\n        if (!tableCell) {\n            tableCell = tableSelection.getFocusCell();\n        }\n        if (!tableCell) {\n            return;\n        }\n        domEventData.preventDefault();\n        domEventData.stopPropagation();\n        bubblingEventInfo.stop();\n        const tableRow = tableCell.parent;\n        const table = tableRow.parent;\n        const currentRowIndex = table.getChildIndex(tableRow);\n        const currentCellIndex = tableRow.getChildIndex(tableCell);\n        const isFirstCellInRow = currentCellIndex === 0;\n        if (!isForward && isFirstCellInRow && currentRowIndex === 0) {\n            // Set the selection over the whole table if the selection was in the first table cell.\n            editor.model.change(writer => {\n                writer.setSelection(writer.createRangeOn(table));\n            });\n            return;\n        }\n        const isLastCellInRow = currentCellIndex === tableRow.childCount - 1;\n        const isLastRow = currentRowIndex === tableUtils.getRows(table) - 1;\n        if (isForward && isLastRow && isLastCellInRow) {\n            editor.execute('insertTableRowBelow');\n            // Check if the command actually added a row. If `insertTableRowBelow` execution didn't add a row (because it was disabled\n            // or it got overwritten) set the selection over the whole table to mirror the first cell case.\n            if (currentRowIndex === tableUtils.getRows(table) - 1) {\n                editor.model.change(writer => {\n                    writer.setSelection(writer.createRangeOn(table));\n                });\n                return;\n            }\n        }\n        let cellToFocus;\n        // Move to the first cell in the next row.\n        if (isForward && isLastCellInRow) {\n            const nextRow = table.getChild(currentRowIndex + 1);\n            cellToFocus = nextRow.getChild(0);\n        }\n        // Move to the last cell in the previous row.\n        else if (!isForward && isFirstCellInRow) {\n            const previousRow = table.getChild(currentRowIndex - 1);\n            cellToFocus = previousRow.getChild(previousRow.childCount - 1);\n        }\n        // Move to the next/previous cell.\n        else {\n            cellToFocus = tableRow.getChild(currentCellIndex + (isForward ? 1 : -1));\n        }\n        editor.model.change(writer => {\n            writer.setSelection(writer.createRangeIn(cellToFocus));\n        });\n    }\n    /**\n     * Handles {@link module:engine/view/document~Document#event:keydown keydown} events.\n     */\n    _onArrowKey(eventInfo, domEventData) {\n        const editor = this.editor;\n        const keyCode = domEventData.keyCode;\n        const direction = getLocalizedArrowKeyCodeDirection(keyCode, editor.locale.contentLanguageDirection);\n        const wasHandled = this._handleArrowKeys(direction, domEventData.shiftKey);\n        if (wasHandled) {\n            domEventData.preventDefault();\n            domEventData.stopPropagation();\n            eventInfo.stop();\n        }\n    }\n    /**\n     * Handles arrow keys to move the selection around the table.\n     *\n     * @param direction The direction of the arrow key.\n     * @param expandSelection If the current selection should be expanded.\n     * @returns Returns `true` if key was handled.\n     */\n    _handleArrowKeys(direction, expandSelection) {\n        const tableUtils = this.editor.plugins.get(TableUtils);\n        const tableSelection = this.editor.plugins.get('TableSelection');\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const isForward = ['right', 'down'].includes(direction);\n        // In case one or more table cells are selected (from outside),\n        // move the selection to a cell adjacent to the selected table fragment.\n        const selectedCells = tableUtils.getSelectedTableCells(selection);\n        if (selectedCells.length) {\n            let focusCell;\n            if (expandSelection) {\n                focusCell = tableSelection.getFocusCell();\n            }\n            else {\n                focusCell = isForward ? selectedCells[selectedCells.length - 1] : selectedCells[0];\n            }\n            this._navigateFromCellInDirection(focusCell, direction, expandSelection);\n            return true;\n        }\n        // Abort if we're not in a table cell.\n        const tableCell = selection.focus.findAncestor('tableCell');\n        /* istanbul ignore if: paranoid check -- @preserve */\n        if (!tableCell) {\n            return false;\n        }\n        // When the selection is not collapsed.\n        if (!selection.isCollapsed) {\n            if (expandSelection) {\n                // Navigation is in the opposite direction than the selection direction so this is shrinking of the selection.\n                // Selection for sure will not approach cell edge.\n                //\n                // With a special case when all cell content is selected - then selection should expand to the other cell.\n                // Note: When the entire cell gets selected using CTRL+A, the selection is always forward.\n                if (selection.isBackward == isForward && !selection.containsEntireContent(tableCell)) {\n                    return false;\n                }\n            }\n            else {\n                const selectedElement = selection.getSelectedElement();\n                // It will collapse for non-object selected so it's not going to move to other cell.\n                if (!selectedElement || !model.schema.isObject(selectedElement)) {\n                    return false;\n                }\n            }\n        }\n        // Let's check if the selection is at the beginning/end of the cell.\n        if (this._isSelectionAtCellEdge(selection, tableCell, isForward)) {\n            this._navigateFromCellInDirection(tableCell, direction, expandSelection);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Returns `true` if the selection is at the boundary of a table cell according to the navigation direction.\n     *\n     * @param selection The current selection.\n     * @param tableCell The current table cell element.\n     * @param isForward The expected navigation direction.\n     */\n    _isSelectionAtCellEdge(selection, tableCell, isForward) {\n        const model = this.editor.model;\n        const schema = this.editor.model.schema;\n        const focus = isForward ? selection.getLastPosition() : selection.getFirstPosition();\n        // If the current limit element is not table cell we are for sure not at the cell edge.\n        // Also `modifySelection` will not let us out of it.\n        if (!schema.getLimitElement(focus).is('element', 'tableCell')) {\n            const boundaryPosition = model.createPositionAt(tableCell, isForward ? 'end' : 0);\n            return boundaryPosition.isTouching(focus);\n        }\n        const probe = model.createSelection(focus);\n        model.modifySelection(probe, { direction: isForward ? 'forward' : 'backward' });\n        // If there was no change in the focus position, then it's not possible to move the selection there.\n        return focus.isEqual(probe.focus);\n    }\n    /**\n     * Moves the selection from the given table cell in the specified direction.\n     *\n     * @param focusCell The table cell that is current multi-cell selection focus.\n     * @param direction Direction in which selection should move.\n     * @param expandSelection If the current selection should be expanded. Default value is false.\n     */\n    _navigateFromCellInDirection(focusCell, direction, expandSelection = false) {\n        const model = this.editor.model;\n        const table = focusCell.findAncestor('table');\n        const tableMap = [...new TableWalker(table, { includeAllSlots: true })];\n        const { row: lastRow, column: lastColumn } = tableMap[tableMap.length - 1];\n        const currentCellInfo = tableMap.find(({ cell }) => cell == focusCell);\n        let { row, column } = currentCellInfo;\n        switch (direction) {\n            case 'left':\n                column--;\n                break;\n            case 'up':\n                row--;\n                break;\n            case 'right':\n                column += currentCellInfo.cellWidth;\n                break;\n            case 'down':\n                row += currentCellInfo.cellHeight;\n                break;\n        }\n        const isOutsideVertically = row < 0 || row > lastRow;\n        const isBeforeFirstCell = column < 0 && row <= 0;\n        const isAfterLastCell = column > lastColumn && row >= lastRow;\n        // Note that if the table cell at the end of a row is row-spanned then isAfterLastCell will never be true.\n        // However, we don't know if user was navigating on the last row or not, so let's stay in the table.\n        if (isOutsideVertically || isBeforeFirstCell || isAfterLastCell) {\n            model.change(writer => {\n                writer.setSelection(writer.createRangeOn(table));\n            });\n            return;\n        }\n        if (column < 0) {\n            column = expandSelection ? 0 : lastColumn;\n            row--;\n        }\n        else if (column > lastColumn) {\n            column = expandSelection ? lastColumn : 0;\n            row++;\n        }\n        const cellToSelect = tableMap.find(cellInfo => cellInfo.row == row && cellInfo.column == column).cell;\n        const isForward = ['right', 'down'].includes(direction);\n        const tableSelection = this.editor.plugins.get('TableSelection');\n        if (expandSelection && tableSelection.isEnabled) {\n            const anchorCell = tableSelection.getAnchorCell() || focusCell;\n            tableSelection.setCellSelection(anchorCell, cellToSelect);\n        }\n        else {\n            const positionToSelect = model.createPositionAt(cellToSelect, isForward ? 0 : 'end');\n            model.change(writer => {\n                writer.setSelection(positionToSelect);\n            });\n        }\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablemouse/mouseeventsobserver\n */\nimport { DomEventObserver } from 'ckeditor5/src/engine.js';\n/**\n * The mouse selection event observer.\n *\n * It registers listeners for the following DOM events:\n *\n * - `'mousemove'`\n * - `'mouseleave'`\n *\n * Note that this observer is disabled by default. To enable this observer, it needs to be added to\n * {@link module:engine/view/view~View} using the {@link module:engine/view/view~View#addObserver} method.\n *\n * The observer is registered by the {@link module:table/tableselection~TableSelection} plugin.\n */\nexport default class MouseEventsObserver extends DomEventObserver {\n    constructor() {\n        super(...arguments);\n        this.domEventType = [\n            'mousemove', 'mouseleave'\n        ];\n    }\n    /**\n     * @inheritDoc\n     */\n    onDomEvent(domEvent) {\n        this.fire(domEvent.type, domEvent);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablemouse\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableSelection from './tableselection.js';\nimport MouseEventsObserver from './tablemouse/mouseeventsobserver.js';\nimport TableUtils from './tableutils.js';\n/**\n * This plugin enables a table cells' selection with the mouse.\n * It is loaded automatically by the {@link module:table/table~Table} plugin.\n */\nexport default class TableMouse extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableMouse';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableSelection, TableUtils];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        // Currently the MouseObserver only handles `mousedown` and `mouseup` events.\n        // TODO move to the engine?\n        editor.editing.view.addObserver(MouseEventsObserver);\n        this._enableShiftClickSelection();\n        this._enableMouseDragSelection();\n    }\n    /**\n     * Enables making cells selection by <kbd>Shift</kbd>+click. Creates a selection from the cell which previously held\n     * the selection to the cell which was clicked. It can be the same cell, in which case it selects a single cell.\n     */\n    _enableShiftClickSelection() {\n        const editor = this.editor;\n        const tableUtils = editor.plugins.get(TableUtils);\n        let blockSelectionChange = false;\n        const tableSelection = editor.plugins.get(TableSelection);\n        this.listenTo(editor.editing.view.document, 'mousedown', (evt, domEventData) => {\n            const selection = editor.model.document.selection;\n            if (!this.isEnabled || !tableSelection.isEnabled) {\n                return;\n            }\n            if (!domEventData.domEvent.shiftKey) {\n                return;\n            }\n            const anchorCell = tableSelection.getAnchorCell() || tableUtils.getTableCellsContainingSelection(selection)[0];\n            if (!anchorCell) {\n                return;\n            }\n            const targetCell = this._getModelTableCellFromDomEvent(domEventData);\n            if (targetCell && haveSameTableParent(anchorCell, targetCell)) {\n                blockSelectionChange = true;\n                tableSelection.setCellSelection(anchorCell, targetCell);\n                domEventData.preventDefault();\n            }\n        });\n        this.listenTo(editor.editing.view.document, 'mouseup', () => {\n            blockSelectionChange = false;\n        });\n        // We need to ignore a `selectionChange` event that is fired after we render our new table cells selection.\n        // When downcasting table cells selection to the view, we put the view selection in the last selected cell\n        // in a place that may not be natively a \"correct\" location. This is – we put it directly in the `<td>` element.\n        // All browsers fire the native `selectionchange` event.\n        // However, all browsers except Safari return the selection in the exact place where we put it\n        // (even though it's visually normalized). Safari returns `<td><p>^foo` that makes our selection observer\n        // fire our `selectionChange` event (because the view selection that we set in the first step differs from the DOM selection).\n        // Since `selectionChange` is fired, we automatically update the model selection that moves it that paragraph.\n        // This breaks our dear cells selection.\n        //\n        // Theoretically this issue concerns only Safari that is the only browser that do normalize the selection.\n        // However, to avoid code branching and to have a good coverage for this event blocker, I enabled it for all browsers.\n        //\n        // Note: I'm keeping the `blockSelectionChange` state separately for shift+click and mouse drag (exact same logic)\n        // so I don't have to try to analyze whether they don't overlap in some weird cases. Probably they don't.\n        // But I have other things to do, like writing this comment.\n        this.listenTo(editor.editing.view.document, 'selectionChange', evt => {\n            if (blockSelectionChange) {\n                // @if CK_DEBUG // console.log( 'Blocked selectionChange to avoid breaking table cells selection.' );\n                evt.stop();\n            }\n        }, { priority: 'highest' });\n    }\n    /**\n     * Enables making cells selection by dragging.\n     *\n     * The selection is made only on mousemove. Mouse tracking is started on mousedown.\n     * However, the cells selection is enabled only after the mouse cursor left the anchor cell.\n     * Thanks to that normal text selection within one cell works just fine. However, you can still select\n     * just one cell by leaving the anchor cell and moving back to it.\n     */\n    _enableMouseDragSelection() {\n        const editor = this.editor;\n        let anchorCell, targetCell;\n        let beganCellSelection = false;\n        let blockSelectionChange = false;\n        const tableSelection = editor.plugins.get(TableSelection);\n        this.listenTo(editor.editing.view.document, 'mousedown', (evt, domEventData) => {\n            if (!this.isEnabled || !tableSelection.isEnabled) {\n                return;\n            }\n            // Make sure to not conflict with the shift+click listener and any other possible handler.\n            if (domEventData.domEvent.shiftKey || domEventData.domEvent.ctrlKey || domEventData.domEvent.altKey) {\n                return;\n            }\n            anchorCell = this._getModelTableCellFromDomEvent(domEventData);\n        });\n        this.listenTo(editor.editing.view.document, 'mousemove', (evt, domEventData) => {\n            if (!domEventData.domEvent.buttons) {\n                return;\n            }\n            if (!anchorCell) {\n                return;\n            }\n            const newTargetCell = this._getModelTableCellFromDomEvent(domEventData);\n            if (newTargetCell && haveSameTableParent(anchorCell, newTargetCell)) {\n                targetCell = newTargetCell;\n                // Switch to the cell selection mode after the mouse cursor left the anchor cell.\n                // Switch off only on mouseup (makes selecting a single cell possible).\n                if (!beganCellSelection && targetCell != anchorCell) {\n                    beganCellSelection = true;\n                }\n            }\n            // Yep, not making a cell selection yet. See method docs.\n            if (!beganCellSelection) {\n                return;\n            }\n            blockSelectionChange = true;\n            tableSelection.setCellSelection(anchorCell, targetCell);\n            domEventData.preventDefault();\n        });\n        this.listenTo(editor.editing.view.document, 'mouseup', () => {\n            beganCellSelection = false;\n            blockSelectionChange = false;\n            anchorCell = null;\n            targetCell = null;\n        });\n        // See the explanation in `_enableShiftClickSelection()`.\n        this.listenTo(editor.editing.view.document, 'selectionChange', evt => {\n            if (blockSelectionChange) {\n                // @if CK_DEBUG // console.log( 'Blocked selectionChange to avoid breaking table cells selection.' );\n                evt.stop();\n            }\n        }, { priority: 'highest' });\n    }\n    /**\n     * Returns the model table cell element based on the target element of the passed DOM event.\n     *\n     * @returns Returns the table cell or `undefined`.\n     */\n    _getModelTableCellFromDomEvent(domEventData) {\n        // Note: Work with positions (not element mapping) because the target element can be an attribute or other non-mapped element.\n        const viewTargetElement = domEventData.target;\n        const viewPosition = this.editor.editing.view.createPositionAt(viewTargetElement, 0);\n        const modelPosition = this.editor.editing.mapper.toModelPosition(viewPosition);\n        const modelElement = modelPosition.parent;\n        return modelElement.findAncestor('tableCell', { includeSelf: true });\n    }\n}\nfunction haveSameTableParent(cellA, cellB) {\n    return cellA.parent.parent == cellB.parent.parent;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./table.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/table\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Widget } from 'ckeditor5/src/widget.js';\nimport TableEditing from './tableediting.js';\nimport TableUI from './tableui.js';\nimport TableSelection from './tableselection.js';\nimport TableClipboard from './tableclipboard.js';\nimport TableKeyboard from './tablekeyboard.js';\nimport TableMouse from './tablemouse.js';\nimport '../theme/table.css';\n/**\n * The table plugin.\n *\n * For a detailed overview, check the {@glink features/tables/tables Table feature documentation}.\n *\n * This is a \"glue\" plugin that loads the following table features:\n *\n * * {@link module:table/tableediting~TableEditing editing feature},\n * * {@link module:table/tableselection~TableSelection selection feature},\n * * {@link module:table/tablekeyboard~TableKeyboard keyboard navigation feature},\n * * {@link module:table/tablemouse~TableMouse mouse selection feature},\n * * {@link module:table/tableclipboard~TableClipboard clipboard feature},\n * * {@link module:table/tableui~TableUI UI feature}.\n */\nexport default class Table extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing, TableUI, TableSelection, TableMouse, TableKeyboard, TableClipboard, Widget];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'Table';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { isWidget } from 'ckeditor5/src/widget.js';\n/**\n * Depending on the position of the selection either return the selected table or the table higher in the hierarchy.\n */\nexport function getSelectionAffectedTableWidget(selection) {\n    const selectedTable = getSelectedTableWidget(selection);\n    if (selectedTable) {\n        return selectedTable;\n    }\n    return getTableWidgetAncestor(selection);\n}\n/**\n * Returns a table widget editing view element if one is selected.\n */\nexport function getSelectedTableWidget(selection) {\n    const viewElement = selection.getSelectedElement();\n    if (viewElement && isTableWidget(viewElement)) {\n        return viewElement;\n    }\n    return null;\n}\n/**\n * Returns a table widget editing view element if one is among the selection's ancestors.\n */\nexport function getTableWidgetAncestor(selection) {\n    const selectionPosition = selection.getFirstPosition();\n    if (!selectionPosition) {\n        return null;\n    }\n    let parent = selectionPosition.parent;\n    while (parent) {\n        if (parent.is('element') && isTableWidget(parent)) {\n            return parent;\n        }\n        parent = parent.parent;\n    }\n    return null;\n}\n/**\n * Checks if a given view element is a table widget.\n */\nfunction isTableWidget(viewElement) {\n    return !!viewElement.getCustomProperty('table') && isWidget(viewElement);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tabletoolbar\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { WidgetToolbarRepository } from 'ckeditor5/src/widget.js';\nimport { getSelectedTableWidget, getTableWidgetAncestor } from './utils/ui/widget.js';\n/**\n * The table toolbar class. It creates toolbars for the table feature and its content (for now only for the table cell content).\n *\n * The table toolbar shows up when a table widget is selected. Its components (e.g. buttons) are created based on the\n * {@link module:table/tableconfig~TableConfig#tableToolbar `table.tableToolbar` configuration option}.\n *\n * Table content toolbar shows up when the selection is inside the content of a table. It creates its component based on the\n * {@link module:table/tableconfig~TableConfig#contentToolbar `table.contentToolbar` configuration option}.\n */\nexport default class TableToolbar extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [WidgetToolbarRepository];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableToolbar';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    afterInit() {\n        const editor = this.editor;\n        const t = editor.t;\n        const widgetToolbarRepository = editor.plugins.get(WidgetToolbarRepository);\n        const tableContentToolbarItems = editor.config.get('table.contentToolbar');\n        const tableToolbarItems = editor.config.get('table.tableToolbar');\n        if (tableContentToolbarItems) {\n            widgetToolbarRepository.register('tableContent', {\n                ariaLabel: t('Table toolbar'),\n                items: tableContentToolbarItems,\n                getRelatedElement: getTableWidgetAncestor\n            });\n        }\n        if (tableToolbarItems) {\n            widgetToolbarRepository.register('table', {\n                ariaLabel: t('Table toolbar'),\n                items: tableToolbarItems,\n                getRelatedElement: getSelectedTableWidget\n            });\n        }\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./colorinput.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/ui/colorinputview\n */\nimport { View, InputTextView, createDropdown, FocusCycler, ViewCollection, ColorSelectorView } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport '../../theme/colorinput.css';\n/**\n * The color input view class. It allows the user to type in a color (hex, rgb, etc.)\n * or choose it from the configurable color palette with a preview.\n *\n * @internal\n */\nexport default class ColorInputView extends View {\n    /**\n     * Creates an instance of the color input view.\n     *\n     * @param locale The locale instance.\n     * @param options The input options.\n     * @param options.colorDefinitions The colors to be displayed in the palette inside the input's dropdown.\n     * @param options.columns The number of columns in which the colors will be displayed.\n     * @param options.defaultColorValue If specified, the color input view will replace the \"Remove color\" button with\n     * the \"Restore default\" button. Instead of clearing the input field, the default color value will be set.\n     */\n    constructor(locale, options) {\n        super(locale);\n        this.set('value', '');\n        this.set('isReadOnly', false);\n        this.set('isFocused', false);\n        this.set('isEmpty', true);\n        this.options = options;\n        this.focusTracker = new FocusTracker();\n        this._focusables = new ViewCollection();\n        this.dropdownView = this._createDropdownView();\n        this.inputView = this._createInputTextView();\n        this.keystrokes = new KeystrokeHandler();\n        this._stillTyping = false;\n        this.focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate items backwards using the <kbd>Shift</kbd> + <kbd>Tab</kbd> keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate items forwards using the <kbd>Tab</kbd> key.\n                focusNext: 'tab'\n            }\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-input-color'\n                ]\n            },\n            children: [\n                this.dropdownView,\n                this.inputView\n            ]\n        });\n        this.on('change:value', (evt, name, inputValue) => this._setInputValue(inputValue));\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        [this.inputView, this.dropdownView.buttonView].forEach(view => {\n            this.focusTracker.add(view.element);\n            this._focusables.add(view);\n        });\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * Focuses the view.\n     */\n    focus(direction) {\n        if (direction === -1) {\n            this.focusCycler.focusLast();\n        }\n        else {\n            this.focusCycler.focusFirst();\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Creates and configures the {@link #dropdownView}.\n     */\n    _createDropdownView() {\n        const locale = this.locale;\n        const t = locale.t;\n        const bind = this.bindTemplate;\n        const colorSelector = this._createColorSelector(locale);\n        const dropdown = createDropdown(locale);\n        const colorPreview = new View();\n        colorPreview.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-input-color__button__preview'\n                ],\n                style: {\n                    backgroundColor: bind.to('value')\n                }\n            },\n            children: [{\n                    tag: 'span',\n                    attributes: {\n                        class: [\n                            'ck',\n                            'ck-input-color__button__preview__no-color-indicator',\n                            bind.if('value', 'ck-hidden', value => value != '')\n                        ]\n                    }\n                }]\n        });\n        dropdown.buttonView.extendTemplate({\n            attributes: {\n                class: 'ck-input-color__button'\n            }\n        });\n        dropdown.buttonView.children.add(colorPreview);\n        dropdown.buttonView.label = t('Color picker');\n        dropdown.buttonView.tooltip = true;\n        dropdown.panelPosition = locale.uiLanguageDirection === 'rtl' ? 'se' : 'sw';\n        dropdown.panelView.children.add(colorSelector);\n        dropdown.bind('isEnabled').to(this, 'isReadOnly', value => !value);\n        dropdown.on('change:isOpen', (evt, name, isVisible) => {\n            if (isVisible) {\n                colorSelector.updateSelectedColors();\n                colorSelector.showColorGridsFragment();\n            }\n        });\n        return dropdown;\n    }\n    /**\n     * Creates and configures an instance of {@link module:ui/inputtext/inputtextview~InputTextView}.\n     *\n     * @returns A configured instance to be set as {@link #inputView}.\n     */\n    _createInputTextView() {\n        const locale = this.locale;\n        const inputView = new InputTextView(locale);\n        inputView.extendTemplate({\n            on: {\n                blur: inputView.bindTemplate.to('blur')\n            }\n        });\n        inputView.value = this.value;\n        inputView.bind('isReadOnly', 'hasError').to(this);\n        this.bind('isFocused', 'isEmpty').to(inputView);\n        inputView.on('input', () => {\n            const inputValue = inputView.element.value;\n            // Check if the value matches one of our defined colors' label.\n            const mappedColor = this.options.colorDefinitions.find(def => inputValue === def.label);\n            this._stillTyping = true;\n            this.value = mappedColor && mappedColor.color || inputValue;\n        });\n        inputView.on('blur', () => {\n            this._stillTyping = false;\n            this._setInputValue(inputView.element.value);\n        });\n        inputView.delegate('input').to(this);\n        return inputView;\n    }\n    /**\n     * Creates and configures the panel with \"color grid\" and \"color picker\" inside the {@link #dropdownView}.\n     */\n    _createColorSelector(locale) {\n        const t = locale.t;\n        const defaultColor = this.options.defaultColorValue || '';\n        const removeColorButtonLabel = defaultColor ? t('Restore default') : t('Remove color');\n        const colorSelector = new ColorSelectorView(locale, {\n            colors: this.options.colorDefinitions,\n            columns: this.options.columns,\n            removeButtonLabel: removeColorButtonLabel,\n            colorPickerLabel: t('Color picker'),\n            colorPickerViewConfig: this.options.colorPickerConfig === false ? false : {\n                ...this.options.colorPickerConfig,\n                hideInput: true\n            }\n        });\n        colorSelector.appendUI();\n        colorSelector.on('execute', (evt, data) => {\n            if (data.source === 'colorPickerSaveButton') {\n                this.dropdownView.isOpen = false;\n                return;\n            }\n            this.value = data.value || defaultColor;\n            // Trigger the listener that actually applies the set value.\n            this.fire('input');\n            if (data.source !== 'colorPicker') {\n                this.dropdownView.isOpen = false;\n            }\n        });\n        /**\n         * Color is saved before changes in color picker. In case \"cancel button\" is pressed\n         * this color will be applied.\n         */\n        let backupColor = this.value;\n        colorSelector.on('colorPicker:cancel', () => {\n            /**\n             * Revert color to previous value before changes in color picker.\n             */\n            this.value = backupColor;\n            this.fire('input');\n            this.dropdownView.isOpen = false;\n        });\n        colorSelector.colorGridsFragmentView.colorPickerButtonView.on('execute', () => {\n            /**\n             * Save color value before changes in color picker.\n             */\n            backupColor = this.value;\n        });\n        colorSelector.bind('selectedColor').to(this, 'value');\n        return colorSelector;\n    }\n    /**\n     * Sets {@link #inputView}'s value property to the color value or color label,\n     * if there is one and the user is not typing.\n     *\n     * Handles cases like:\n     *\n     * * Someone picks the color in the grid.\n     * * The color is set from the plugin level.\n     *\n     * @param inputValue Color value to be set.\n     */\n    _setInputValue(inputValue) {\n        if (!this._stillTyping) {\n            const normalizedInputValue = normalizeColor(inputValue);\n            // Check if the value matches one of our defined colors.\n            const mappedColor = this.options.colorDefinitions.find(def => normalizedInputValue === normalizeColor(def.color));\n            if (mappedColor) {\n                this.inputView.value = mappedColor.label;\n            }\n            else {\n                this.inputView.value = inputValue || '';\n            }\n        }\n    }\n}\n/**\n * Normalizes color value, by stripping extensive whitespace.\n * For example., transforms:\n * * `   rgb(  25 50    0 )` to `rgb(25 50 0)`,\n * * \"\\t  rgb(  25 ,  50,0 )\t\t\" to `rgb(25 50 0)`.\n *\n * @param colorString The value to be normalized.\n */\nfunction normalizeColor(colorString) {\n    return colorString\n        // Remove any whitespace right after `(` or `,`.\n        .replace(/([(,])\\s+/g, '$1')\n        // Remove any whitespace at the beginning or right before the end, `)`, `,`, or another whitespace.\n        .replace(/^\\s+|\\s+(?=[),\\s]|$)/g, '')\n        // Then, replace `,` or whitespace with a single space.\n        .replace(/,|\\s/g, ' ');\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/utils/ui/table-properties\n */\nimport { ButtonView, ViewModel } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { isColor, isLength, isPercentage } from 'ckeditor5/src/engine.js';\nimport ColorInputView from '../../ui/colorinputview.js';\nconst isEmpty = (val) => val === '';\n/**\n * Returns an object containing pairs of CSS border style values and their localized UI\n * labels. Used by {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView}\n * and {@link module:table/tableproperties/ui/tablepropertiesview~TablePropertiesView}.\n *\n * @param t The \"t\" function provided by the editor that is used to localize strings.\n */\nexport function getBorderStyleLabels(t) {\n    return {\n        none: t('None'),\n        solid: t('Solid'),\n        dotted: t('Dotted'),\n        dashed: t('Dashed'),\n        double: t('Double'),\n        groove: t('Groove'),\n        ridge: t('Ridge'),\n        inset: t('Inset'),\n        outset: t('Outset')\n    };\n}\n/**\n * Returns a localized error string that can be displayed next to color (background, border)\n * fields that have an invalid value.\n *\n * @param t The \"t\" function provided by the editor that is used to localize strings.\n */\nexport function getLocalizedColorErrorText(t) {\n    return t('The color is invalid. Try \"#FF0000\" or \"rgb(255,0,0)\" or \"red\".');\n}\n/**\n * Returns a localized error string that can be displayed next to length (padding, border width)\n * fields that have an invalid value.\n *\n * @param t The \"t\" function provided by the editor that is used to localize strings.\n */\nexport function getLocalizedLengthErrorText(t) {\n    return t('The value is invalid. Try \"10px\" or \"2em\" or simply \"2\".');\n}\n/**\n * Returns `true` when the passed value is an empty string or a valid CSS color expression.\n * Otherwise, `false` is returned.\n *\n * See {@link module:engine/view/styles/utils~isColor}.\n */\nexport function colorFieldValidator(value) {\n    value = value.trim().toLowerCase();\n    return isEmpty(value) || isColor(value);\n}\n/**\n * Returns `true` when the passed value is an empty string, a number without a unit or a valid CSS length expression.\n * Otherwise, `false` is returned.\n *\n * See {@link module:engine/view/styles/utils~isLength}.\n * See {@link module:engine/view/styles/utils~isPercentage}.\n */\nexport function lengthFieldValidator(value) {\n    value = value.trim();\n    return isEmpty(value) || isNumberString(value) || isLength(value) || isPercentage(value);\n}\n/**\n * Returns `true` when the passed value is an empty string, a number without a unit or a valid CSS length expression.\n * Otherwise, `false` is returned.\n *\n * See {@link module:engine/view/styles/utils~isLength}.\n */\nexport function lineWidthFieldValidator(value) {\n    value = value.trim();\n    return isEmpty(value) || isNumberString(value) || isLength(value);\n}\n/**\n * Generates item definitions for a UI dropdown that allows changing the border style of a table or a table cell.\n *\n * @param defaultStyle The default border.\n */\nexport function getBorderStyleDefinitions(view, defaultStyle) {\n    const itemDefinitions = new Collection();\n    const styleLabels = getBorderStyleLabels(view.t);\n    for (const style in styleLabels) {\n        const definition = {\n            type: 'button',\n            model: new ViewModel({\n                _borderStyleValue: style,\n                label: styleLabels[style],\n                role: 'menuitemradio',\n                withText: true\n            })\n        };\n        if (style === 'none') {\n            definition.model.bind('isOn').to(view, 'borderStyle', value => {\n                if (defaultStyle === 'none') {\n                    return !value;\n                }\n                return value === style;\n            });\n        }\n        else {\n            definition.model.bind('isOn').to(view, 'borderStyle', value => {\n                return value === style;\n            });\n        }\n        itemDefinitions.add(definition);\n    }\n    return itemDefinitions;\n}\n/**\n * A helper that fills a toolbar with buttons that:\n *\n * * have some labels,\n * * have some icons,\n * * set a certain UI view property value upon execution.\n *\n * @param nameToValue A function that maps a button name to a value. By default names are the same as values.\n */\nexport function fillToolbar(options) {\n    const { view, icons, toolbar, labels, propertyName, nameToValue, defaultValue } = options;\n    for (const name in labels) {\n        const button = new ButtonView(view.locale);\n        button.set({\n            label: labels[name],\n            icon: icons[name],\n            tooltip: labels[name]\n        });\n        // If specified the `nameToValue()` callback, map the value based on the option's name.\n        const buttonValue = nameToValue ? nameToValue(name) : name;\n        button.bind('isOn').to(view, propertyName, value => {\n            // `value` comes from `view[ propertyName ]`.\n            let valueToCompare = value;\n            // If it's empty, and the `defaultValue` is specified, use it instead.\n            if (value === '' && defaultValue) {\n                valueToCompare = defaultValue;\n            }\n            return buttonValue === valueToCompare;\n        });\n        button.on('execute', () => {\n            view[propertyName] = buttonValue;\n        });\n        toolbar.items.add(button);\n    }\n}\n/**\n * A default color palette used by various user interfaces related to tables, for instance,\n * by {@link module:table/tablecellproperties/tablecellpropertiesui~TableCellPropertiesUI} or\n * {@link module:table/tableproperties/tablepropertiesui~TablePropertiesUI}.\n *\n * The color palette follows the {@link module:table/tableconfig~TableColorConfig table color configuration format}\n * and contains the following color definitions:\n *\n * ```ts\n * const defaultColors = [\n *   {\n *     color: 'hsl(0, 0%, 0%)',\n *     label: 'Black'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 30%)',\n *     label: 'Dim grey'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 60%)',\n *     label: 'Grey'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 90%)',\n *     label: 'Light grey'\n *   },\n *   {\n *     color: 'hsl(0, 0%, 100%)',\n *     label: 'White',\n *     hasBorder: true\n *   },\n *   {\n *     color: 'hsl(0, 75%, 60%)',\n *     label: 'Red'\n *   },\n *   {\n *     color: 'hsl(30, 75%, 60%)',\n *     label: 'Orange'\n *   },\n *   {\n *     color: 'hsl(60, 75%, 60%)',\n *     label: 'Yellow'\n *   },\n *   {\n *     color: 'hsl(90, 75%, 60%)',\n *     label: 'Light green'\n *   },\n *   {\n *     color: 'hsl(120, 75%, 60%)',\n *     label: 'Green'\n *   },\n *   {\n *     color: 'hsl(150, 75%, 60%)',\n *     label: 'Aquamarine'\n *   },\n *   {\n *     color: 'hsl(180, 75%, 60%)',\n *     label: 'Turquoise'\n *   },\n *   {\n *     color: 'hsl(210, 75%, 60%)',\n *     label: 'Light blue'\n *   },\n *   {\n *     color: 'hsl(240, 75%, 60%)',\n *     label: 'Blue'\n *   },\n *   {\n *     color: 'hsl(270, 75%, 60%)',\n *     label: 'Purple'\n *   }\n * ];\n * ```\n */\nexport const defaultColors = [\n    {\n        color: 'hsl(0, 0%, 0%)',\n        label: 'Black'\n    },\n    {\n        color: 'hsl(0, 0%, 30%)',\n        label: 'Dim grey'\n    },\n    {\n        color: 'hsl(0, 0%, 60%)',\n        label: 'Grey'\n    },\n    {\n        color: 'hsl(0, 0%, 90%)',\n        label: 'Light grey'\n    },\n    {\n        color: 'hsl(0, 0%, 100%)',\n        label: 'White',\n        hasBorder: true\n    },\n    {\n        color: 'hsl(0, 75%, 60%)',\n        label: 'Red'\n    },\n    {\n        color: 'hsl(30, 75%, 60%)',\n        label: 'Orange'\n    },\n    {\n        color: 'hsl(60, 75%, 60%)',\n        label: 'Yellow'\n    },\n    {\n        color: 'hsl(90, 75%, 60%)',\n        label: 'Light green'\n    },\n    {\n        color: 'hsl(120, 75%, 60%)',\n        label: 'Green'\n    },\n    {\n        color: 'hsl(150, 75%, 60%)',\n        label: 'Aquamarine'\n    },\n    {\n        color: 'hsl(180, 75%, 60%)',\n        label: 'Turquoise'\n    },\n    {\n        color: 'hsl(210, 75%, 60%)',\n        label: 'Light blue'\n    },\n    {\n        color: 'hsl(240, 75%, 60%)',\n        label: 'Blue'\n    },\n    {\n        color: 'hsl(270, 75%, 60%)',\n        label: 'Purple'\n    }\n];\n/**\n * Returns a creator for a color input with a label.\n *\n * For given options, it returns a function that creates an instance of a\n * {@link module:table/ui/colorinputview~ColorInputView color input} logically related to\n * a {@link module:ui/labeledfield/labeledfieldview~LabeledFieldView labeled view} in the DOM.\n *\n * The helper does the following:\n *\n * * It sets the color input `id` and `ariaDescribedById` attributes.\n * * It binds the color input `isReadOnly` to the labeled view.\n * * It binds the color input `hasError` to the labeled view.\n * * It enables a logic that cleans up the error when the user starts typing in the color input.\n *\n * Usage:\n *\n * ```ts\n * const colorInputCreator = getLabeledColorInputCreator( {\n *   colorConfig: [ ... ],\n *   columns: 3,\n * } );\n *\n * const labeledInputView = new LabeledFieldView( locale, colorInputCreator );\n * console.log( labeledInputView.view ); // A color input instance.\n * ```\n *\n * @internal\n * @param options Color input options.\n * @param options.colorConfig The configuration of the color palette displayed in the input's dropdown.\n * @param options.columns The configuration of the number of columns the color palette consists of in the input's dropdown.\n * @param options.defaultColorValue If specified, the color input view will replace the \"Remove color\" button with\n * the \"Restore default\" button. Instead of clearing the input field, the default color value will be set.\n * @param options.colorPickerConfig The configuration of the color picker. You could disable it or define your output format.\n */\nexport function getLabeledColorInputCreator(options) {\n    return (labeledFieldView, viewUid, statusUid) => {\n        const colorInputView = new ColorInputView(labeledFieldView.locale, {\n            colorDefinitions: colorConfigToColorGridDefinitions(options.colorConfig),\n            columns: options.columns,\n            defaultColorValue: options.defaultColorValue,\n            colorPickerConfig: options.colorPickerConfig\n        });\n        colorInputView.inputView.set({\n            id: viewUid,\n            ariaDescribedById: statusUid\n        });\n        colorInputView.bind('isReadOnly').to(labeledFieldView, 'isEnabled', value => !value);\n        colorInputView.bind('hasError').to(labeledFieldView, 'errorText', value => !!value);\n        colorInputView.on('input', () => {\n            // UX: Make the error text disappear and disable the error indicator as the user\n            // starts fixing the errors.\n            labeledFieldView.errorText = null;\n        });\n        labeledFieldView.bind('isEmpty', 'isFocused').to(colorInputView);\n        return colorInputView;\n    };\n}\n/**\n * A simple helper method to detect number strings.\n * I allows full number notation, so omitting 0 is not allowed:\n */\nfunction isNumberString(value) {\n    const parsedValue = parseFloat(value);\n    return !Number.isNaN(parsedValue) && value === String(parsedValue);\n}\nfunction colorConfigToColorGridDefinitions(colorConfig) {\n    return colorConfig.map(item => ({\n        color: item.model,\n        label: item.label,\n        options: {\n            hasBorder: item.hasBorder\n        }\n    }));\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./formrow.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/ui/formrowview\n */\nimport { View } from 'ckeditor5/src/ui.js';\nimport '../../theme/formrow.css';\n/**\n * The class representing a single row in a complex form,\n * used by {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView}.\n *\n * **Note**: For now this class is private. When more use cases arrive (beyond ckeditor5-table),\n * it will become a component in ckeditor5-ui.\n *\n * @internal\n */\nexport default class FormRowView extends View {\n    /**\n     * Creates an instance of the form row class.\n     *\n     * @param locale The locale instance.\n     * @param options.labelView When passed, the row gets the `group` and `aria-labelledby`\n     * DOM attributes and gets described by the label.\n     */\n    constructor(locale, options = {}) {\n        super(locale);\n        const bind = this.bindTemplate;\n        this.set('class', options.class || null);\n        this.children = this.createCollection();\n        if (options.children) {\n            options.children.forEach(child => this.children.add(child));\n        }\n        this.set('_role', null);\n        this.set('_ariaLabelledBy', null);\n        if (options.labelView) {\n            this.set({\n                _role: 'group',\n                _ariaLabelledBy: options.labelView.id\n            });\n        }\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form__row',\n                    bind.to('class')\n                ],\n                role: bind.to('_role'),\n                'aria-labelledby': bind.to('_ariaLabelledBy')\n            },\n            children: this.children\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./form.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablecellproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecellproperties/ui/tablecellpropertiesview\n */\nimport { addListToDropdown, ButtonView, createLabeledDropdown, createLabeledInputText, FocusCycler, FormHeaderView, LabeledFieldView, LabelView, submitHandler, ToolbarView, View, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { KeystrokeHandler, FocusTracker } from 'ckeditor5/src/utils.js';\nimport { icons } from 'ckeditor5/src/core.js';\nimport { fillToolbar, getBorderStyleDefinitions, getBorderStyleLabels, getLabeledColorInputCreator } from '../../utils/ui/table-properties.js';\nimport FormRowView from '../../ui/formrowview.js';\nimport '../../../theme/form.css';\nimport '../../../theme/tableform.css';\nimport '../../../theme/tablecellproperties.css';\n/**\n * The class representing a table cell properties form, allowing users to customize\n * certain style aspects of a table cell, for instance, border, padding, text alignment, etc..\n */\nexport default class TableCellPropertiesView extends View {\n    /**\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param options Additional configuration of the view.\n     * @param options.borderColors A configuration of the border color palette used by the\n     * {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView#borderColorInput}.\n     * @param options.backgroundColors A configuration of the background color palette used by the\n     * {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView#backgroundInput}.\n     * @param options.defaultTableCellProperties The default table cell properties.\n     */\n    constructor(locale, options) {\n        super(locale);\n        this.set({\n            borderStyle: '',\n            borderWidth: '',\n            borderColor: '',\n            padding: '',\n            backgroundColor: '',\n            width: '',\n            height: '',\n            horizontalAlignment: '',\n            verticalAlignment: ''\n        });\n        this.options = options;\n        const { borderStyleDropdown, borderWidthInput, borderColorInput, borderRowLabel } = this._createBorderFields();\n        const { backgroundRowLabel, backgroundInput } = this._createBackgroundFields();\n        const { widthInput, operatorLabel, heightInput, dimensionsLabel } = this._createDimensionFields();\n        const { horizontalAlignmentToolbar, verticalAlignmentToolbar, alignmentLabel } = this._createAlignmentFields();\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.children = this.createCollection();\n        this.borderStyleDropdown = borderStyleDropdown;\n        this.borderWidthInput = borderWidthInput;\n        this.borderColorInput = borderColorInput;\n        this.backgroundInput = backgroundInput;\n        this.paddingInput = this._createPaddingField();\n        this.widthInput = widthInput;\n        this.heightInput = heightInput;\n        this.horizontalAlignmentToolbar = horizontalAlignmentToolbar;\n        this.verticalAlignmentToolbar = verticalAlignmentToolbar;\n        // Defer creating to make sure other fields are present and the Save button can\n        // bind its #isEnabled to their error messages so there's no way to save unless all\n        // fields are valid.\n        const { saveButtonView, cancelButtonView } = this._createActionButtons();\n        this.saveButtonView = saveButtonView;\n        this.cancelButtonView = cancelButtonView;\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        // Form header.\n        this.children.add(new FormHeaderView(locale, {\n            label: this.t('Cell properties')\n        }));\n        // Border row.\n        this.children.add(new FormRowView(locale, {\n            labelView: borderRowLabel,\n            children: [\n                borderRowLabel,\n                borderStyleDropdown,\n                borderColorInput,\n                borderWidthInput\n            ],\n            class: 'ck-table-form__border-row'\n        }));\n        // Background.\n        this.children.add(new FormRowView(locale, {\n            labelView: backgroundRowLabel,\n            children: [\n                backgroundRowLabel,\n                backgroundInput\n            ],\n            class: 'ck-table-form__background-row'\n        }));\n        // Dimensions row and padding.\n        this.children.add(new FormRowView(locale, {\n            children: [\n                // Dimensions row.\n                new FormRowView(locale, {\n                    labelView: dimensionsLabel,\n                    children: [\n                        dimensionsLabel,\n                        widthInput,\n                        operatorLabel,\n                        heightInput\n                    ],\n                    class: 'ck-table-form__dimensions-row'\n                }),\n                // Padding row.\n                new FormRowView(locale, {\n                    children: [\n                        this.paddingInput\n                    ],\n                    class: 'ck-table-cell-properties-form__padding-row'\n                })\n            ]\n        }));\n        // Text alignment row.\n        this.children.add(new FormRowView(locale, {\n            labelView: alignmentLabel,\n            children: [\n                alignmentLabel,\n                horizontalAlignmentToolbar,\n                verticalAlignmentToolbar\n            ],\n            class: 'ck-table-cell-properties-form__alignment-row'\n        }));\n        // Action row.\n        this.children.add(new FormRowView(locale, {\n            children: [\n                this.saveButtonView,\n                this.cancelButtonView\n            ],\n            class: 'ck-table-form__action-row'\n        }));\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-table-form',\n                    'ck-table-cell-properties-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        // Enable the \"submit\" event for this view. It can be triggered by the #saveButtonView\n        // which is of the \"submit\" DOM \"type\".\n        submitHandler({\n            view: this\n        });\n        // Maintain continuous focus cycling over views that have focusable children and focus cyclers themselves.\n        [this.borderColorInput, this.backgroundInput].forEach(view => {\n            this._focusCycler.chain(view.fieldView.focusCycler);\n        });\n        [\n            this.borderStyleDropdown,\n            this.borderColorInput,\n            this.borderWidthInput,\n            this.backgroundInput,\n            this.widthInput,\n            this.heightInput,\n            this.paddingInput,\n            this.horizontalAlignmentToolbar,\n            this.verticalAlignmentToolbar,\n            this.saveButtonView,\n            this.cancelButtonView\n        ].forEach(view => {\n            // Register the view as focusable.\n            this._focusables.add(view);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(view.element);\n        });\n        // Mainly for closing using \"Esc\" and navigation using \"Tab\".\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist focusable field in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #borderStyleDropdown},\n     * * {@link #borderWidthInput},\n     * * {@link #borderColorInput}.\n     */\n    _createBorderFields() {\n        const defaultTableCellProperties = this.options.defaultTableCellProperties;\n        const defaultBorder = {\n            style: defaultTableCellProperties.borderStyle,\n            width: defaultTableCellProperties.borderWidth,\n            color: defaultTableCellProperties.borderColor\n        };\n        const colorInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.borderColors,\n            columns: 5,\n            defaultColorValue: defaultBorder.color,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const locale = this.locale;\n        const t = this.t;\n        const accessibleLabel = t('Style');\n        // -- Group label ---------------------------------------------\n        const borderRowLabel = new LabelView(locale);\n        borderRowLabel.text = t('Border');\n        // -- Style ---------------------------------------------------\n        const styleLabels = getBorderStyleLabels(t);\n        const borderStyleDropdown = new LabeledFieldView(locale, createLabeledDropdown);\n        borderStyleDropdown.set({\n            label: accessibleLabel,\n            class: 'ck-table-form__border-style'\n        });\n        borderStyleDropdown.fieldView.buttonView.set({\n            ariaLabel: accessibleLabel,\n            ariaLabelledBy: undefined,\n            isOn: false,\n            withText: true,\n            tooltip: accessibleLabel\n        });\n        borderStyleDropdown.fieldView.buttonView.bind('label').to(this, 'borderStyle', value => {\n            return styleLabels[value ? value : 'none'];\n        });\n        borderStyleDropdown.fieldView.on('execute', evt => {\n            this.borderStyle = evt.source._borderStyleValue;\n        });\n        borderStyleDropdown.bind('isEmpty').to(this, 'borderStyle', value => !value);\n        addListToDropdown(borderStyleDropdown.fieldView, getBorderStyleDefinitions(this, defaultBorder.style), {\n            role: 'menu',\n            ariaLabel: accessibleLabel\n        });\n        // -- Width ---------------------------------------------------\n        const borderWidthInput = new LabeledFieldView(locale, createLabeledInputText);\n        borderWidthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__border-width'\n        });\n        borderWidthInput.fieldView.bind('value').to(this, 'borderWidth');\n        borderWidthInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderWidthInput.fieldView.on('input', () => {\n            this.borderWidth = borderWidthInput.fieldView.element.value;\n        });\n        // -- Color ---------------------------------------------------\n        const borderColorInput = new LabeledFieldView(locale, colorInputCreator);\n        borderColorInput.set({\n            label: t('Color'),\n            class: 'ck-table-form__border-color'\n        });\n        borderColorInput.fieldView.bind('value').to(this, 'borderColor');\n        borderColorInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderColorInput.fieldView.on('input', () => {\n            this.borderColor = borderColorInput.fieldView.value;\n        });\n        // Reset the border color and width fields depending on the `border-style` value.\n        this.on('change:borderStyle', (evt, name, newValue, oldValue) => {\n            // When removing the border (`border-style:none`), clear the remaining `border-*` properties.\n            // See: https://github.com/ckeditor/ckeditor5/issues/6227.\n            if (!isBorderStyleSet(newValue)) {\n                this.borderColor = '';\n                this.borderWidth = '';\n            }\n            // When setting the `border-style` from `none`, set the default `border-color` and `border-width` properties.\n            if (!isBorderStyleSet(oldValue)) {\n                this.borderColor = defaultBorder.color;\n                this.borderWidth = defaultBorder.width;\n            }\n        });\n        return {\n            borderRowLabel,\n            borderStyleDropdown,\n            borderColorInput,\n            borderWidthInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #backgroundInput}.\n     */\n    _createBackgroundFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Group label ---------------------------------------------\n        const backgroundRowLabel = new LabelView(locale);\n        backgroundRowLabel.text = t('Background');\n        // -- Background color input -----------------------------------\n        const colorInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.backgroundColors,\n            columns: 5,\n            defaultColorValue: this.options.defaultTableCellProperties.backgroundColor,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const backgroundInput = new LabeledFieldView(locale, colorInputCreator);\n        backgroundInput.set({\n            label: t('Color'),\n            class: 'ck-table-cell-properties-form__background'\n        });\n        backgroundInput.fieldView.bind('value').to(this, 'backgroundColor');\n        backgroundInput.fieldView.on('input', () => {\n            this.backgroundColor = backgroundInput.fieldView.value;\n        });\n        return {\n            backgroundRowLabel,\n            backgroundInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #widthInput}.\n     * * {@link #heightInput}.\n     */\n    _createDimensionFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Label ---------------------------------------------------\n        const dimensionsLabel = new LabelView(locale);\n        dimensionsLabel.text = t('Dimensions');\n        // -- Width ---------------------------------------------------\n        const widthInput = new LabeledFieldView(locale, createLabeledInputText);\n        widthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__dimensions-row__width'\n        });\n        widthInput.fieldView.bind('value').to(this, 'width');\n        widthInput.fieldView.on('input', () => {\n            this.width = widthInput.fieldView.element.value;\n        });\n        // -- Operator ---------------------------------------------------\n        const operatorLabel = new View(locale);\n        operatorLabel.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck-table-form__dimension-operator'\n                ]\n            },\n            children: [\n                { text: '×' }\n            ]\n        });\n        // -- Height ---------------------------------------------------\n        const heightInput = new LabeledFieldView(locale, createLabeledInputText);\n        heightInput.set({\n            label: t('Height'),\n            class: 'ck-table-form__dimensions-row__height'\n        });\n        heightInput.fieldView.bind('value').to(this, 'height');\n        heightInput.fieldView.on('input', () => {\n            this.height = heightInput.fieldView.element.value;\n        });\n        return {\n            dimensionsLabel,\n            widthInput,\n            operatorLabel,\n            heightInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #paddingInput}.\n     */\n    _createPaddingField() {\n        const locale = this.locale;\n        const t = this.t;\n        const paddingInput = new LabeledFieldView(locale, createLabeledInputText);\n        paddingInput.set({\n            label: t('Padding'),\n            class: 'ck-table-cell-properties-form__padding'\n        });\n        paddingInput.fieldView.bind('value').to(this, 'padding');\n        paddingInput.fieldView.on('input', () => {\n            this.padding = paddingInput.fieldView.element.value;\n        });\n        return paddingInput;\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #horizontalAlignmentToolbar},\n     * * {@link #verticalAlignmentToolbar}.\n     */\n    _createAlignmentFields() {\n        const locale = this.locale;\n        const t = this.t;\n        const alignmentLabel = new LabelView(locale);\n        const ALIGNMENT_ICONS = {\n            left: icons.alignLeft,\n            center: icons.alignCenter,\n            right: icons.alignRight,\n            justify: icons.alignJustify,\n            top: icons.alignTop,\n            middle: icons.alignMiddle,\n            bottom: icons.alignBottom\n        };\n        alignmentLabel.text = t('Table cell text alignment');\n        // -- Horizontal ---------------------------------------------------\n        const horizontalAlignmentToolbar = new ToolbarView(locale);\n        const isContentRTL = locale.contentLanguageDirection === 'rtl';\n        horizontalAlignmentToolbar.set({\n            isCompact: true,\n            ariaLabel: t('Horizontal text alignment toolbar')\n        });\n        fillToolbar({\n            view: this,\n            icons: ALIGNMENT_ICONS,\n            toolbar: horizontalAlignmentToolbar,\n            labels: this._horizontalAlignmentLabels,\n            propertyName: 'horizontalAlignment',\n            nameToValue: name => {\n                // For the RTL content, we want to swap the buttons \"align to the left\" and \"align to the right\".\n                if (isContentRTL) {\n                    if (name === 'left') {\n                        return 'right';\n                    }\n                    else if (name === 'right') {\n                        return 'left';\n                    }\n                }\n                return name;\n            },\n            defaultValue: this.options.defaultTableCellProperties.horizontalAlignment\n        });\n        // -- Vertical -----------------------------------------------------\n        const verticalAlignmentToolbar = new ToolbarView(locale);\n        verticalAlignmentToolbar.set({\n            isCompact: true,\n            ariaLabel: t('Vertical text alignment toolbar')\n        });\n        fillToolbar({\n            view: this,\n            icons: ALIGNMENT_ICONS,\n            toolbar: verticalAlignmentToolbar,\n            labels: this._verticalAlignmentLabels,\n            propertyName: 'verticalAlignment',\n            defaultValue: this.options.defaultTableCellProperties.verticalAlignment\n        });\n        return {\n            horizontalAlignmentToolbar,\n            verticalAlignmentToolbar,\n            alignmentLabel\n        };\n    }\n    /**\n     * Creates the following form controls:\n     *\n     * * {@link #saveButtonView},\n     * * {@link #cancelButtonView}.\n     */\n    _createActionButtons() {\n        const locale = this.locale;\n        const t = this.t;\n        const saveButtonView = new ButtonView(locale);\n        const cancelButtonView = new ButtonView(locale);\n        const fieldsThatShouldValidateToSave = [\n            this.borderWidthInput,\n            this.borderColorInput,\n            this.backgroundInput,\n            this.paddingInput\n        ];\n        saveButtonView.set({\n            label: t('Save'),\n            icon: icons.check,\n            class: 'ck-button-save',\n            type: 'submit',\n            withText: true\n        });\n        saveButtonView.bind('isEnabled').toMany(fieldsThatShouldValidateToSave, 'errorText', (...errorTexts) => {\n            return errorTexts.every(errorText => !errorText);\n        });\n        cancelButtonView.set({\n            label: t('Cancel'),\n            icon: icons.cancel,\n            class: 'ck-button-cancel',\n            withText: true\n        });\n        cancelButtonView.delegate('execute').to(this, 'cancel');\n        return {\n            saveButtonView, cancelButtonView\n        };\n    }\n    /**\n     * Provides localized labels for {@link #horizontalAlignmentToolbar} buttons.\n     */\n    get _horizontalAlignmentLabels() {\n        const locale = this.locale;\n        const t = this.t;\n        const left = t('Align cell text to the left');\n        const center = t('Align cell text to the center');\n        const right = t('Align cell text to the right');\n        const justify = t('Justify cell text');\n        // Returns object with a proper order of labels.\n        if (locale.uiLanguageDirection === 'rtl') {\n            return { right, center, left, justify };\n        }\n        else {\n            return { left, center, right, justify };\n        }\n    }\n    /**\n     * Provides localized labels for {@link #verticalAlignmentToolbar} buttons.\n     */\n    get _verticalAlignmentLabels() {\n        const t = this.t;\n        return {\n            top: t('Align cell text to the top'),\n            middle: t('Align cell text to the middle'),\n            bottom: t('Align cell text to the bottom')\n        };\n    }\n}\nfunction isBorderStyleSet(value) {\n    return value !== 'none';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/utils/ui/contextualballoon\n */\nimport { Rect } from 'ckeditor5/src/utils.js';\nimport { BalloonPanelView } from 'ckeditor5/src/ui.js';\nimport { getSelectionAffectedTableWidget, getTableWidgetAncestor } from './widget.js';\nimport { getSelectionAffectedTable } from '../common.js';\nconst BALLOON_POSITIONS = /* #__PURE__ */ (() => [\n    BalloonPanelView.defaultPositions.northArrowSouth,\n    BalloonPanelView.defaultPositions.northArrowSouthWest,\n    BalloonPanelView.defaultPositions.northArrowSouthEast,\n    BalloonPanelView.defaultPositions.southArrowNorth,\n    BalloonPanelView.defaultPositions.southArrowNorthWest,\n    BalloonPanelView.defaultPositions.southArrowNorthEast,\n    BalloonPanelView.defaultPositions.viewportStickyNorth\n])();\n/**\n * A helper utility that positions the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} instance\n * with respect to the table in the editor content, if one is selected.\n *\n * @param editor The editor instance.\n * @param target Either \"cell\" or \"table\". Determines the target the balloon will be attached to.\n */\nexport function repositionContextualBalloon(editor, target) {\n    const balloon = editor.plugins.get('ContextualBalloon');\n    const selection = editor.editing.view.document.selection;\n    let position;\n    if (target === 'cell') {\n        if (getTableWidgetAncestor(selection)) {\n            position = getBalloonCellPositionData(editor);\n        }\n    }\n    else if (getSelectionAffectedTableWidget(selection)) {\n        position = getBalloonTablePositionData(editor);\n    }\n    if (position) {\n        balloon.updatePosition(position);\n    }\n}\n/**\n * Returns the positioning options that control the geometry of the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} with respect\n * to the selected table in the editor content.\n *\n * @param editor The editor instance.\n */\nexport function getBalloonTablePositionData(editor) {\n    const selection = editor.model.document.selection;\n    const modelTable = getSelectionAffectedTable(selection);\n    const viewTable = editor.editing.mapper.toViewElement(modelTable);\n    return {\n        target: editor.editing.view.domConverter.mapViewToDom(viewTable),\n        positions: BALLOON_POSITIONS\n    };\n}\n/**\n * Returns the positioning options that control the geometry of the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon} with respect\n * to the selected table cell in the editor content.\n *\n * @param editor The editor instance.\n */\nexport function getBalloonCellPositionData(editor) {\n    const mapper = editor.editing.mapper;\n    const domConverter = editor.editing.view.domConverter;\n    const selection = editor.model.document.selection;\n    if (selection.rangeCount > 1) {\n        return {\n            target: () => createBoundingRect(selection.getRanges(), editor),\n            positions: BALLOON_POSITIONS\n        };\n    }\n    const modelTableCell = getTableCellAtPosition(selection.getFirstPosition());\n    const viewTableCell = mapper.toViewElement(modelTableCell);\n    return {\n        target: domConverter.mapViewToDom(viewTableCell),\n        positions: BALLOON_POSITIONS\n    };\n}\n/**\n * Returns the first selected table cell from a multi-cell or in-cell selection.\n *\n * @param position Document position.\n */\nfunction getTableCellAtPosition(position) {\n    const isTableCellSelected = position.nodeAfter && position.nodeAfter.is('element', 'tableCell');\n    return isTableCellSelected ? position.nodeAfter : position.findAncestor('tableCell');\n}\n/**\n * Returns bounding rectangle for given model ranges.\n *\n * @param ranges Model ranges that the bounding rect should be returned for.\n * @param editor The editor instance.\n */\nfunction createBoundingRect(ranges, editor) {\n    const mapper = editor.editing.mapper;\n    const domConverter = editor.editing.view.domConverter;\n    const rects = Array.from(ranges).map(range => {\n        const modelTableCell = getTableCellAtPosition(range.start);\n        const viewTableCell = mapper.toViewElement(modelTableCell);\n        return new Rect(domConverter.mapViewToDom(viewTableCell));\n    });\n    return Rect.getBoundingRect(rects);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { isObject } from 'lodash-es';\n/**\n * Returns a string if all four values of box sides are equal.\n *\n * If a string is passed, it is treated as a single value (pass-through).\n *\n * ```ts\n * // Returns 'foo':\n * getSingleValue( { top: 'foo', right: 'foo', bottom: 'foo', left: 'foo' } );\n * getSingleValue( 'foo' );\n *\n * // Returns undefined:\n * getSingleValue( { top: 'foo', right: 'foo', bottom: 'bar', left: 'foo' } );\n * getSingleValue( { top: 'foo', right: 'foo' } );\n * ```\n */\nexport function getSingleValue(objectOrString) {\n    if (!objectOrString || !isObject(objectOrString)) {\n        return objectOrString;\n    }\n    const { top, right, bottom, left } = objectOrString;\n    if (top == right && right == bottom && bottom == left) {\n        return top;\n    }\n}\n/**\n * Adds a unit to a value if the value is a number or a string representing a number.\n *\n * **Note**: It does nothing to non-numeric values.\n *\n * ```ts\n * getSingleValue( 25, 'px' ); // '25px'\n * getSingleValue( 25, 'em' ); // '25em'\n * getSingleValue( '25em', 'px' ); // '25em'\n * getSingleValue( 'foo', 'px' ); // 'foo'\n * ```\n *\n * @param defaultUnit A default unit added to a numeric value.\n */\nexport function addDefaultUnitToNumericValue(value, defaultUnit) {\n    const numericValue = parseFloat(value);\n    if (Number.isNaN(numericValue)) {\n        return value;\n    }\n    if (String(numericValue) !== String(value)) {\n        return value;\n    }\n    return `${numericValue}${defaultUnit}`;\n}\n/**\n * Returns the normalized configuration.\n *\n * @param config The configuration to normalize.\n * @param options Options used to determine which properties should be added.\n */\nexport function getNormalizedDefaultProperties(config, options = {}) {\n    const normalizedConfig = {\n        borderStyle: 'none',\n        borderWidth: '',\n        borderColor: '',\n        backgroundColor: '',\n        width: '',\n        height: '',\n        ...config\n    };\n    if (options.includeAlignmentProperty && !normalizedConfig.alignment) {\n        normalizedConfig.alignment = 'center';\n    }\n    if (options.includePaddingProperty && !normalizedConfig.padding) {\n        normalizedConfig.padding = '';\n    }\n    if (options.includeVerticalAlignmentProperty && !normalizedConfig.verticalAlignment) {\n        normalizedConfig.verticalAlignment = 'middle';\n    }\n    if (options.includeHorizontalAlignmentProperty && !normalizedConfig.horizontalAlignment) {\n        normalizedConfig.horizontalAlignment = options.isRightToLeftContent ? 'right' : 'left';\n    }\n    return normalizedConfig;\n}\n/**\n * Returns the normalized default table properties.\n *\n * @param config The configuration to normalize.\n * @param options Options used to determine which properties should be added.\n */\nexport function getNormalizedDefaultTableProperties(config, options) {\n    return getNormalizedDefaultProperties({\n        // It adds support for border none in the table element, keep it in sync with the content styles\n        // See more: https://github.com/ckeditor/ckeditor5/issues/6841#issuecomment-1959195608\n        borderStyle: 'double',\n        borderColor: 'hsl(0, 0%, 70%)',\n        borderWidth: '1px',\n        ...config\n    }, options);\n}\n/**\n * Returns the normalized default cell properties.\n *\n * @param config The configuration to normalize.\n * @param options Options used to determine which properties should be added.\n */\nexport function getNormalizedDefaultCellProperties(config, options) {\n    return getNormalizedDefaultProperties({\n        // It adds support for border none in the table element, keep it in sync with the content styles\n        // See more: https://github.com/ckeditor/ckeditor5/issues/6841#issuecomment-1959195608\n        borderStyle: 'solid',\n        borderColor: 'hsl(0, 0%, 75%)',\n        borderWidth: '1px',\n        ...config\n    }, options);\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecellproperties/tablecellpropertiesui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, clickOutsideHandler, ContextualBalloon, getLocalizedColorOptions, normalizeColorOptions } from 'ckeditor5/src/ui.js';\nimport TableCellPropertiesView from './ui/tablecellpropertiesview.js';\nimport { colorFieldValidator, getLocalizedColorErrorText, getLocalizedLengthErrorText, defaultColors, lengthFieldValidator, lineWidthFieldValidator } from '../utils/ui/table-properties.js';\nimport { debounce } from 'lodash-es';\nimport { getTableWidgetAncestor } from '../utils/ui/widget.js';\nimport { getBalloonCellPositionData, repositionContextualBalloon } from '../utils/ui/contextualballoon.js';\nimport tableCellProperties from './../../theme/icons/table-cell-properties.svg';\nimport { getNormalizedDefaultCellProperties } from '../utils/table-properties.js';\nconst ERROR_TEXT_TIMEOUT = 500;\n// Map of view properties and related commands.\nconst propertyToCommandMap = {\n    borderStyle: 'tableCellBorderStyle',\n    borderColor: 'tableCellBorderColor',\n    borderWidth: 'tableCellBorderWidth',\n    height: 'tableCellHeight',\n    width: 'tableCellWidth',\n    padding: 'tableCellPadding',\n    backgroundColor: 'tableCellBackgroundColor',\n    horizontalAlignment: 'tableCellHorizontalAlignment',\n    verticalAlignment: 'tableCellVerticalAlignment'\n};\n/**\n * The table cell properties UI plugin. It introduces the `'tableCellProperties'` button\n * that opens a form allowing to specify the visual styling of a table cell.\n *\n * It uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n */\nexport default class TableCellPropertiesUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellPropertiesUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        editor.config.define('table.tableCellProperties', {\n            borderColors: defaultColors,\n            backgroundColors: defaultColors\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        this._defaultTableCellProperties = getNormalizedDefaultCellProperties(editor.config.get('table.tableCellProperties.defaultProperties'), {\n            includeVerticalAlignmentProperty: true,\n            includeHorizontalAlignmentProperty: true,\n            includePaddingProperty: true,\n            isRightToLeftContent: editor.locale.contentLanguageDirection === 'rtl'\n        });\n        this._balloon = editor.plugins.get(ContextualBalloon);\n        this.view = null;\n        this._isReady = false;\n        editor.ui.componentFactory.add('tableCellProperties', locale => {\n            const view = new ButtonView(locale);\n            view.set({\n                label: t('Cell properties'),\n                icon: tableCellProperties,\n                tooltip: true\n            });\n            this.listenTo(view, 'execute', () => this._showView());\n            const commands = Object.values(propertyToCommandMap)\n                .map(commandName => editor.commands.get(commandName));\n            view.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => (areEnabled.some(isCommandEnabled => isCommandEnabled)));\n            return view;\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed.\n        // See https://github.com/ckeditor/ckeditor5/issues/1341.\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n    /**\n     * Creates the {@link module:table/tablecellproperties/ui/tablecellpropertiesview~TableCellPropertiesView} instance.\n     *\n     * @returns The cell properties form view instance.\n     */\n    _createPropertiesView() {\n        const editor = this.editor;\n        const config = editor.config.get('table.tableCellProperties');\n        const borderColorsConfig = normalizeColorOptions(config.borderColors);\n        const localizedBorderColors = getLocalizedColorOptions(editor.locale, borderColorsConfig);\n        const backgroundColorsConfig = normalizeColorOptions(config.backgroundColors);\n        const localizedBackgroundColors = getLocalizedColorOptions(editor.locale, backgroundColorsConfig);\n        const hasColorPicker = config.colorPicker !== false;\n        const view = new TableCellPropertiesView(editor.locale, {\n            borderColors: localizedBorderColors,\n            backgroundColors: localizedBackgroundColors,\n            defaultTableCellProperties: this._defaultTableCellProperties,\n            colorPickerConfig: hasColorPicker ? (config.colorPicker || {}) : false\n        });\n        const t = editor.t;\n        // Render the view so its #element is available for the clickOutsideHandler.\n        view.render();\n        this.listenTo(view, 'submit', () => {\n            this._hideView();\n        });\n        this.listenTo(view, 'cancel', () => {\n            // https://github.com/ckeditor/ckeditor5/issues/6180\n            if (this._undoStepBatch.operations.length) {\n                editor.execute('undo', this._undoStepBatch);\n            }\n            this._hideView();\n        });\n        // Close the balloon on Esc key press.\n        view.keystrokes.set('Esc', (data, cancel) => {\n            this._hideView();\n            cancel();\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: view,\n            activator: () => this._isViewInBalloon,\n            contextElements: [this._balloon.view.element],\n            callback: () => this._hideView()\n        });\n        const colorErrorText = getLocalizedColorErrorText(t);\n        const lengthErrorText = getLocalizedLengthErrorText(t);\n        // Create the \"UI -> editor data\" binding.\n        // These listeners update the editor data (via table commands) when any observable\n        // property of the view has changed. They also validate the value and display errors in the UI\n        // when necessary. This makes the view live, which means the changes are\n        // visible in the editing as soon as the user types or changes fields' values.\n        view.on('change:borderStyle', this._getPropertyChangeCallback('tableCellBorderStyle'));\n        view.on('change:borderColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderColorInput,\n            commandName: 'tableCellBorderColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:borderWidth', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderWidthInput,\n            commandName: 'tableCellBorderWidth',\n            errorText: lengthErrorText,\n            validator: lineWidthFieldValidator\n        }));\n        view.on('change:padding', this._getValidatedPropertyChangeCallback({\n            viewField: view.paddingInput,\n            commandName: 'tableCellPadding',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:width', this._getValidatedPropertyChangeCallback({\n            viewField: view.widthInput,\n            commandName: 'tableCellWidth',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:height', this._getValidatedPropertyChangeCallback({\n            viewField: view.heightInput,\n            commandName: 'tableCellHeight',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:backgroundColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.backgroundInput,\n            commandName: 'tableCellBackgroundColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:horizontalAlignment', this._getPropertyChangeCallback('tableCellHorizontalAlignment'));\n        view.on('change:verticalAlignment', this._getPropertyChangeCallback('tableCellVerticalAlignment'));\n        return view;\n    }\n    /**\n     * In this method the \"editor data -> UI\" binding is happening.\n     *\n     * When executed, this method obtains selected cell property values from various table commands\n     * and passes them to the {@link #view}.\n     *\n     * This way, the UI stays up–to–date with the editor data.\n     */\n    _fillViewFormFromCommandValues() {\n        const commands = this.editor.commands;\n        const borderStyleCommand = commands.get('tableCellBorderStyle');\n        Object.entries(propertyToCommandMap)\n            .map(([property, commandName]) => {\n            const defaultValue = this._defaultTableCellProperties[property] || '';\n            return [\n                property,\n                commands.get(commandName).value || defaultValue\n            ];\n        })\n            .forEach(([property, value]) => {\n            // Do not set the `border-color` and `border-width` fields if `border-style:none`.\n            if ((property === 'borderColor' || property === 'borderWidth') && borderStyleCommand.value === 'none') {\n                return;\n            }\n            this.view.set(property, value);\n        });\n        this._isReady = true;\n    }\n    /**\n     * Shows the {@link #view} in the {@link #_balloon}.\n     *\n     * **Note**: Each time a view is shown, a new {@link #_undoStepBatch} is created. It contains\n     * all changes made to the document when the view is visible, allowing a single undo step\n     * for all of them.\n     */\n    _showView() {\n        const editor = this.editor;\n        if (!this.view) {\n            this.view = this._createPropertiesView();\n        }\n        this.listenTo(editor.ui, 'update', () => {\n            this._updateView();\n        });\n        // Update the view with the model values.\n        this._fillViewFormFromCommandValues();\n        this._balloon.add({\n            view: this.view,\n            position: getBalloonCellPositionData(editor)\n        });\n        // Create a new batch. Clicking \"Cancel\" will undo this batch.\n        this._undoStepBatch = editor.model.createBatch();\n        // Basic a11y.\n        this.view.focus();\n    }\n    /**\n     * Removes the {@link #view} from the {@link #_balloon}.\n     */\n    _hideView() {\n        const editor = this.editor;\n        this.stopListening(editor.ui, 'update');\n        this._isReady = false;\n        // Blur any input element before removing it from DOM to prevent issues in some browsers.\n        // See https://github.com/ckeditor/ckeditor5/issues/1501.\n        this.view.saveButtonView.focus();\n        this._balloon.remove(this.view);\n        // Make sure the focus is not lost in the process by putting it directly\n        // into the editing view.\n        this.editor.editing.view.focus();\n    }\n    /**\n     * Repositions the {@link #_balloon} or hides the {@link #view} if a table cell is no longer selected.\n     */\n    _updateView() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        if (!getTableWidgetAncestor(viewDocument.selection)) {\n            this._hideView();\n        }\n        else if (this._isViewVisible) {\n            repositionContextualBalloon(editor, 'cell');\n        }\n    }\n    /**\n     * Returns `true` when the {@link #view} is visible in the {@link #_balloon}.\n     */\n    get _isViewVisible() {\n        return !!this.view && this._balloon.visibleView === this.view;\n    }\n    /**\n     * Returns `true` when the {@link #view} is in the {@link #_balloon}.\n     */\n    get _isViewInBalloon() {\n        return !!this.view && this._balloon.hasView(this.view);\n    }\n    /**\n     * Creates a callback that when executed upon the {@link #view view's} property change\n     * executes a related editor command with the new property value.\n     *\n     * @param defaultValue The default value of the command.\n     */\n    _getPropertyChangeCallback(commandName) {\n        return (evt, propertyName, newValue) => {\n            if (!this._isReady) {\n                return;\n            }\n            this.editor.execute(commandName, {\n                value: newValue,\n                batch: this._undoStepBatch\n            });\n        };\n    }\n    /**\n     * Creates a callback that when executed upon the {@link #view view's} property change:\n     * * Executes a related editor command with the new property value if the value is valid,\n     * * Or sets the error text next to the invalid field, if the value did not pass the validation.\n     */\n    _getValidatedPropertyChangeCallback(options) {\n        const { commandName, viewField, validator, errorText } = options;\n        const setErrorTextDebounced = debounce(() => {\n            viewField.errorText = errorText;\n        }, ERROR_TEXT_TIMEOUT);\n        return (evt, propertyName, newValue) => {\n            setErrorTextDebounced.cancel();\n            // Do not execute the command on initial call (opening the table properties view).\n            if (!this._isReady) {\n                return;\n            }\n            if (validator(newValue)) {\n                this.editor.execute(commandName, {\n                    value: newValue,\n                    batch: this._undoStepBatch\n                });\n                viewField.errorText = null;\n            }\n            else {\n                setErrorTextDebounced();\n            }\n        };\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z\\\" opacity=\\\".6\\\"/><path d=\\\"m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecellproperties/commands/tablecellpropertycommand\n */\nimport { Command } from 'ckeditor5/src/core.js';\n/**\n * The table cell attribute command.\n *\n * The command is a base command for other table cell property commands.\n */\nexport default class TableCellPropertyCommand extends Command {\n    /**\n     * Creates a new `TableCellPropertyCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param attributeName Table cell attribute name.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, attributeName, defaultValue) {\n        super(editor);\n        this.attributeName = attributeName;\n        this._defaultValue = defaultValue;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const selectedTableCells = tableUtils.getSelectionAffectedTableCells(editor.model.document.selection);\n        this.isEnabled = !!selectedTableCells.length;\n        this.value = this._getSingleValue(selectedTableCells);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.value If set, the command will set the attribute on selected table cells.\n     * If it is not set, the command will remove the attribute from the selected table cells.\n     * @param options.batch Pass the model batch instance to the command to aggregate changes,\n     * for example to allow a single undo step for multiple executions.\n     */\n    execute(options = {}) {\n        const { value, batch } = options;\n        const model = this.editor.model;\n        const tableUtils = this.editor.plugins.get('TableUtils');\n        const tableCells = tableUtils.getSelectionAffectedTableCells(model.document.selection);\n        const valueToSet = this._getValueToSet(value);\n        model.enqueueChange(batch, writer => {\n            if (valueToSet) {\n                tableCells.forEach(tableCell => writer.setAttribute(this.attributeName, valueToSet, tableCell));\n            }\n            else {\n                tableCells.forEach(tableCell => writer.removeAttribute(this.attributeName, tableCell));\n            }\n        });\n    }\n    /**\n     * Returns the attribute value for a table cell.\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = tableCell.getAttribute(this.attributeName);\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * Returns the proper model value. It can be used to add a default unit to numeric values.\n     */\n    _getValueToSet(value) {\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * Returns a single value for all selected table cells. If the value is the same for all cells,\n     * it will be returned (`undefined` otherwise).\n     */\n    _getSingleValue(tableCells) {\n        const firstCellValue = this._getAttribute(tableCells[0]);\n        const everyCellHasAttribute = tableCells.every(tableCells => this._getAttribute(tableCells) === firstCellValue);\n        return everyCellHasAttribute ? firstCellValue : undefined;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from '../../tablecellproperties/commands/tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table cell width command.\n *\n * The command is registered by the {@link module:table/tablecellwidth/tablecellwidthediting~TableCellWidthEditing} as\n * the `'tableCellWidth'` editor command.\n *\n * To change the width of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellWidth', {\n *   value: '50px'\n * } );\n * ```\n *\n * **Note**: This command adds a default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellWidth', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `width` attribute to `'50px'` in the model.\n */\nexport default class TableCellWidthCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        value = addDefaultUnitToNumericValue(value, 'px');\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecellwidth/tablecellwidthediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableEditing from './../tableediting.js';\nimport TableCellWidthCommand from './commands/tablecellwidthcommand.js';\nimport { getNormalizedDefaultCellProperties } from '../utils/table-properties.js';\nimport { enableProperty } from '../utils/common.js';\n/**\n * The table cell width editing feature.\n *\n * Introduces `tableCellWidth` table cell model attribute alongside with its converters\n * and a command.\n */\nexport default class TableCellWidthEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellWidthEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const defaultTableCellProperties = getNormalizedDefaultCellProperties(editor.config.get('table.tableCellProperties.defaultProperties'));\n        enableProperty(editor.model.schema, editor.conversion, {\n            modelAttribute: 'tableCellWidth',\n            styleName: 'width',\n            defaultValue: defaultTableCellProperties.width\n        });\n        editor.commands.add('tableCellWidth', new TableCellWidthCommand(editor, defaultTableCellProperties.width));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue, getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell padding command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellPadding'` editor command.\n *\n * To change the padding of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellPadding', {\n *   value: '5px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellPadding', {\n *   value: '5'\n * } );\n * ```\n *\n * will set the `padding` attribute to `'5px'` in the model.\n */\nexport default class TableCellPaddingCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellPaddingCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellPadding', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table cell height command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellHeight'` editor command.\n *\n * To change the height of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellHeight', {\n *   value: '50px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellHeight', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `height` attribute to `'50px'` in the model.\n */\nexport default class TableCellHeightCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellHeightCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellHeight', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\n/**\n * The table cell background color command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBackgroundColor'` editor command.\n *\n * To change the background color of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBackgroundColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableCellBackgroundColorCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBackgroundColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBackgroundColor', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\n/**\n * The table cell vertical alignment command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellVerticalAlignment'` editor command.\n *\n * To change the vertical text alignment of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellVerticalAlignment', {\n *   value: 'top'\n * } );\n * ```\n *\n * The following values, corresponding to the\n * [`vertical-align` CSS attribute](https://developer.mozilla.org/en-US/docs/Web/CSS/vertical-align), are allowed:\n *\n * * `'top'`\n * * `'bottom'`\n *\n * The `'middle'` value is the default one so there is no need to set it.\n */\nexport default class TableCellVerticalAlignmentCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellVerticalAlignmentCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value for the \"alignment\" attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellVerticalAlignment', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\n/**\n * The table cell horizontal alignment command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellHorizontalAlignment'` editor command.\n *\n * To change the horizontal text alignment of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellHorizontalAlignment', {\n *  value: 'right'\n * } );\n * ```\n */\nexport default class TableCellHorizontalAlignmentCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellHorizontalAlignmentCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value for the \"alignment\" attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellHorizontalAlignment', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell border style command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBorderStyle'` editor command.\n *\n * To change the border style of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBorderStyle', {\n *   value: 'dashed'\n * } );\n * ```\n */\nexport default class TableCellBorderStyleCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBorderStyleCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBorderStyle', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell border color command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBorderColor'` editor command.\n *\n * To change the border color of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBorderColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableCellBorderColorCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBorderColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBorderColor', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TableCellPropertyCommand from './tablecellpropertycommand.js';\nimport { addDefaultUnitToNumericValue, getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table cell border width command.\n *\n * The command is registered by the {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing} as\n * the `'tableCellBorderWidth'` editor command.\n *\n * To change the border width of selected cells, execute the command:\n *\n * ```ts\n * editor.execute( 'tableCellBorderWidth', {\n *   value: '5px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableCellBorderWidth', {\n *   value: '5'\n * } );\n * ```\n *\n * will set the `borderWidth` attribute to `'5px'` in the model.\n */\nexport default class TableCellBorderWidthCommand extends TableCellPropertyCommand {\n    /**\n     * Creates a new `TableCellBorderWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableCellBorderWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getAttribute(tableCell) {\n        if (!tableCell) {\n            return;\n        }\n        const value = getSingleValue(tableCell.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecellproperties/tablecellpropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addBorderRules, addPaddingRules, addBackgroundRules } from 'ckeditor5/src/engine.js';\nimport { downcastAttributeToStyle, upcastBorderStyles } from './../converters/tableproperties.js';\nimport TableEditing from './../tableediting.js';\nimport TableCellWidthEditing from '../tablecellwidth/tablecellwidthediting.js';\nimport TableCellPaddingCommand from './commands/tablecellpaddingcommand.js';\nimport TableCellHeightCommand from './commands/tablecellheightcommand.js';\nimport TableCellBackgroundColorCommand from './commands/tablecellbackgroundcolorcommand.js';\nimport TableCellVerticalAlignmentCommand from './commands/tablecellverticalalignmentcommand.js';\nimport TableCellHorizontalAlignmentCommand from './commands/tablecellhorizontalalignmentcommand.js';\nimport TableCellBorderStyleCommand from './commands/tablecellborderstylecommand.js';\nimport TableCellBorderColorCommand from './commands/tablecellbordercolorcommand.js';\nimport TableCellBorderWidthCommand from './commands/tablecellborderwidthcommand.js';\nimport { getNormalizedDefaultCellProperties } from '../utils/table-properties.js';\nimport { enableProperty } from '../utils/common.js';\nconst VALIGN_VALUES_REG_EXP = /^(top|middle|bottom)$/;\nconst ALIGN_VALUES_REG_EXP = /^(left|center|right|justify)$/;\n/**\n * The table cell properties editing feature.\n *\n * Introduces table cell model attributes and their conversion:\n *\n * - border: `tableCellBorderStyle`, `tableCellBorderColor` and `tableCellBorderWidth`\n * - background color: `tableCellBackgroundColor`\n * - cell padding: `tableCellPadding`\n * - horizontal and vertical alignment: `tableCellHorizontalAlignment`, `tableCellVerticalAlignment`\n * - cell width and height: `tableCellWidth`, `tableCellHeight`\n *\n * It also registers commands used to manipulate the above attributes:\n *\n * - border: the `'tableCellBorderStyle'`, `'tableCellBorderColor'` and `'tableCellBorderWidth'` commands\n * - background color: the `'tableCellBackgroundColor'` command\n * - cell padding: the `'tableCellPadding'` command\n * - horizontal and vertical alignment: the `'tableCellHorizontalAlignment'` and `'tableCellVerticalAlignment'` commands\n * - width and height: the `'tableCellWidth'` and `'tableCellHeight'` commands\n */\nexport default class TableCellPropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellPropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing, TableCellWidthEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        editor.config.define('table.tableCellProperties.defaultProperties', {});\n        const defaultTableCellProperties = getNormalizedDefaultCellProperties(editor.config.get('table.tableCellProperties.defaultProperties'), {\n            includeVerticalAlignmentProperty: true,\n            includeHorizontalAlignmentProperty: true,\n            includePaddingProperty: true,\n            isRightToLeftContent: editor.locale.contentLanguageDirection === 'rtl'\n        });\n        editor.data.addStyleProcessorRules(addBorderRules);\n        enableBorderProperties(schema, conversion, {\n            color: defaultTableCellProperties.borderColor,\n            style: defaultTableCellProperties.borderStyle,\n            width: defaultTableCellProperties.borderWidth\n        });\n        editor.commands.add('tableCellBorderStyle', new TableCellBorderStyleCommand(editor, defaultTableCellProperties.borderStyle));\n        editor.commands.add('tableCellBorderColor', new TableCellBorderColorCommand(editor, defaultTableCellProperties.borderColor));\n        editor.commands.add('tableCellBorderWidth', new TableCellBorderWidthCommand(editor, defaultTableCellProperties.borderWidth));\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableCellHeight',\n            styleName: 'height',\n            defaultValue: defaultTableCellProperties.height\n        });\n        editor.commands.add('tableCellHeight', new TableCellHeightCommand(editor, defaultTableCellProperties.height));\n        editor.data.addStyleProcessorRules(addPaddingRules);\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableCellPadding',\n            styleName: 'padding',\n            reduceBoxSides: true,\n            defaultValue: defaultTableCellProperties.padding\n        });\n        editor.commands.add('tableCellPadding', new TableCellPaddingCommand(editor, defaultTableCellProperties.padding));\n        editor.data.addStyleProcessorRules(addBackgroundRules);\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableCellBackgroundColor',\n            styleName: 'background-color',\n            defaultValue: defaultTableCellProperties.backgroundColor\n        });\n        editor.commands.add('tableCellBackgroundColor', new TableCellBackgroundColorCommand(editor, defaultTableCellProperties.backgroundColor));\n        enableHorizontalAlignmentProperty(schema, conversion, defaultTableCellProperties.horizontalAlignment);\n        editor.commands.add('tableCellHorizontalAlignment', new TableCellHorizontalAlignmentCommand(editor, defaultTableCellProperties.horizontalAlignment));\n        enableVerticalAlignmentProperty(schema, conversion, defaultTableCellProperties.verticalAlignment);\n        editor.commands.add('tableCellVerticalAlignment', new TableCellVerticalAlignmentCommand(editor, defaultTableCellProperties.verticalAlignment));\n    }\n}\n/**\n * Enables the `'tableCellBorderStyle'`, `'tableCellBorderColor'` and `'tableCellBorderWidth'` attributes for table cells.\n *\n * @param defaultBorder The default border values.\n * @param defaultBorder.color The default `tableCellBorderColor` value.\n * @param defaultBorder.style The default `tableCellBorderStyle` value.\n * @param defaultBorder.width The default `tableCellBorderWidth` value.\n */\nfunction enableBorderProperties(schema, conversion, defaultBorder) {\n    const modelAttributes = {\n        width: 'tableCellBorderWidth',\n        color: 'tableCellBorderColor',\n        style: 'tableCellBorderStyle'\n    };\n    schema.extend('tableCell', {\n        allowAttributes: Object.values(modelAttributes)\n    });\n    upcastBorderStyles(conversion, 'td', modelAttributes, defaultBorder);\n    upcastBorderStyles(conversion, 'th', modelAttributes, defaultBorder);\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', modelAttribute: modelAttributes.style, styleName: 'border-style' });\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', modelAttribute: modelAttributes.color, styleName: 'border-color' });\n    downcastAttributeToStyle(conversion, { modelElement: 'tableCell', modelAttribute: modelAttributes.width, styleName: 'border-width' });\n}\n/**\n * Enables the `'tableCellHorizontalAlignment'` attribute for table cells.\n *\n * @param defaultValue The default horizontal alignment value.\n */\nfunction enableHorizontalAlignmentProperty(schema, conversion, defaultValue) {\n    schema.extend('tableCell', {\n        allowAttributes: ['tableCellHorizontalAlignment']\n    });\n    conversion.for('downcast')\n        .attributeToAttribute({\n        model: {\n            name: 'tableCell',\n            key: 'tableCellHorizontalAlignment'\n        },\n        view: alignment => ({\n            key: 'style',\n            value: {\n                'text-align': alignment\n            }\n        })\n    });\n    conversion.for('upcast')\n        // Support for the `text-align:*;` CSS definition for the table cell alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            styles: {\n                'text-align': ALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellHorizontalAlignment',\n            value: (viewElement) => {\n                const align = viewElement.getStyle('text-align');\n                return align === defaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `align` attribute as the backward compatibility while pasting from other sources.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            attributes: {\n                align: ALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellHorizontalAlignment',\n            value: (viewElement) => {\n                const align = viewElement.getAttribute('align');\n                return align === defaultValue ? null : align;\n            }\n        }\n    });\n}\n/**\n * Enables the `'verticalAlignment'` attribute for table cells.\n *\n * @param defaultValue The default vertical alignment value.\n */\nfunction enableVerticalAlignmentProperty(schema, conversion, defaultValue) {\n    schema.extend('tableCell', {\n        allowAttributes: ['tableCellVerticalAlignment']\n    });\n    conversion.for('downcast')\n        .attributeToAttribute({\n        model: {\n            name: 'tableCell',\n            key: 'tableCellVerticalAlignment'\n        },\n        view: alignment => ({\n            key: 'style',\n            value: {\n                'vertical-align': alignment\n            }\n        })\n    });\n    conversion.for('upcast')\n        // Support for the `vertical-align:*;` CSS definition for the table cell alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            styles: {\n                'vertical-align': VALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellVerticalAlignment',\n            value: (viewElement) => {\n                const align = viewElement.getStyle('vertical-align');\n                return align === defaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `align` attribute as the backward compatibility while pasting from other sources.\n        .attributeToAttribute({\n        view: {\n            name: /^(td|th)$/,\n            attributes: {\n                valign: VALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableCellVerticalAlignment',\n            value: (viewElement) => {\n                const valign = viewElement.getAttribute('valign');\n                return valign === defaultValue ? null : valign;\n            }\n        }\n    });\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecellproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableCellPropertiesUI from './tablecellproperties/tablecellpropertiesui.js';\nimport TableCellPropertiesEditing from './tablecellproperties/tablecellpropertiesediting.js';\n/**\n * The table cell properties feature. Enables support for setting properties of table cells (size, border, background, etc.).\n *\n * Read more in the {@glink features/tables/tables-styling Table and cell styling tools} section.\n * See also the {@link module:table/tableproperties~TableProperties} plugin.\n *\n * This is a \"glue\" plugin that loads the\n * {@link module:table/tablecellproperties/tablecellpropertiesediting~TableCellPropertiesEditing table cell properties editing feature} and\n * the {@link module:table/tablecellproperties/tablecellpropertiesui~TableCellPropertiesUI table cell properties UI feature}.\n */\nexport default class TableCellProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCellProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableCellPropertiesEditing, TableCellPropertiesUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getSelectionAffectedTable } from '../../utils/common.js';\n/**\n * The table cell attribute command.\n *\n * This command is a base command for other table property commands.\n */\nexport default class TablePropertyCommand extends Command {\n    /**\n     * Creates a new `TablePropertyCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param attributeName Table cell attribute name.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, attributeName, defaultValue) {\n        super(editor);\n        this.attributeName = attributeName;\n        this._defaultValue = defaultValue;\n    }\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const selection = editor.model.document.selection;\n        const table = getSelectionAffectedTable(selection);\n        this.isEnabled = !!table;\n        this.value = this._getValue(table);\n    }\n    /**\n     * Executes the command.\n     *\n     * @fires execute\n     * @param options.value If set, the command will set the attribute on the selected table.\n     * If not set, the command will remove the attribute from the selected table.\n     * @param options.batch Pass the model batch instance to the command to aggregate changes,\n     * for example, to allow a single undo step for multiple executions.\n     */\n    execute(options = {}) {\n        const model = this.editor.model;\n        const selection = model.document.selection;\n        const { value, batch } = options;\n        const table = getSelectionAffectedTable(selection);\n        const valueToSet = this._getValueToSet(value);\n        model.enqueueChange(batch, writer => {\n            if (valueToSet) {\n                writer.setAttribute(this.attributeName, valueToSet, table);\n            }\n            else {\n                writer.removeAttribute(this.attributeName, table);\n            }\n        });\n    }\n    /**\n     * Returns the attribute value for a table.\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = table.getAttribute(this.attributeName);\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * Returns the proper model value. It can be used to add a default unit to numeric values.\n     */\n    _getValueToSet(value) {\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\n/**\n * The table background color command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBackgroundColor'` editor command.\n *\n * To change the background color of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBackgroundColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableBackgroundColorCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBackgroundColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBackgroundColor', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table border color command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBorderColor'` editor command.\n *\n * To change the border color of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBorderColor', {\n *   value: '#f00'\n * } );\n * ```\n */\nexport default class TableBorderColorCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBorderColorCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBorderColor', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = getSingleValue(table.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table style border command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBorderStyle'` editor command.\n *\n * To change the border style of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBorderStyle', {\n *   value: 'dashed'\n * } );\n * ```\n */\nexport default class TableBorderStyleCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBorderStyleCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBorderStyle', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = getSingleValue(table.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { addDefaultUnitToNumericValue, getSingleValue } from '../../utils/table-properties.js';\n/**\n * The table width border command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableBorderWidth'` editor command.\n *\n * To change the border width of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableBorderWidth', {\n *   value: '5px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableBorderWidth', {\n *   value: '5'\n * } );\n * ```\n *\n * will set the `borderWidth` attribute to `'5px'` in the model.\n */\nexport default class TableBorderWidthCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableBorderWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableBorderWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValue(table) {\n        if (!table) {\n            return;\n        }\n        const value = getSingleValue(table.getAttribute(this.attributeName));\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        const newValue = addDefaultUnitToNumericValue(value, 'px');\n        if (newValue === this._defaultValue) {\n            return;\n        }\n        return newValue;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableproperties/commands/tablewidthcommand\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table width command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableWidth'` editor command.\n *\n * To change the width of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableWidth', {\n *   value: '400px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableWidth', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `width` attribute to `'50px'` in the model.\n */\nexport default class TableWidthCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableWidthCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableWidth', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        value = addDefaultUnitToNumericValue(value, 'px');\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableproperties/commands/tableheightcommand\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\nimport { addDefaultUnitToNumericValue } from '../../utils/table-properties.js';\n/**\n * The table height command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableHeight'` editor command.\n *\n * To change the height of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableHeight', {\n *   value: '500px'\n * } );\n * ```\n *\n * **Note**: This command adds the default `'px'` unit to numeric values. Executing:\n *\n * ```ts\n * editor.execute( 'tableHeight', {\n *   value: '50'\n * } );\n * ```\n *\n * will set the `height` attribute to `'50px'` in the model.\n */\nexport default class TableHeightCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableHeightCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value of the attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableHeight', defaultValue);\n    }\n    /**\n     * @inheritDoc\n     */\n    _getValueToSet(value) {\n        value = addDefaultUnitToNumericValue(value, 'px');\n        if (value === this._defaultValue) {\n            return;\n        }\n        return value;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport TablePropertyCommand from './tablepropertycommand.js';\n/**\n * The table alignment command.\n *\n * The command is registered by the {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing} as\n * the `'tableAlignment'` editor command.\n *\n * To change the alignment of the selected table, execute the command:\n *\n * ```ts\n * editor.execute( 'tableAlignment', {\n *   value: 'right'\n * } );\n * ```\n */\nexport default class TableAlignmentCommand extends TablePropertyCommand {\n    /**\n     * Creates a new `TableAlignmentCommand` instance.\n     *\n     * @param editor An editor in which this command will be used.\n     * @param defaultValue The default value for the \"alignment\" attribute.\n     */\n    constructor(editor, defaultValue) {\n        super(editor, 'tableAlignment', defaultValue);\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableproperties/tablepropertiesediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addBackgroundRules, addBorderRules } from 'ckeditor5/src/engine.js';\nimport TableEditing from '../tableediting.js';\nimport { downcastAttributeToStyle, downcastTableAttribute, upcastBorderStyles, upcastStyleToAttribute } from '../converters/tableproperties.js';\nimport TableBackgroundColorCommand from './commands/tablebackgroundcolorcommand.js';\nimport TableBorderColorCommand from './commands/tablebordercolorcommand.js';\nimport TableBorderStyleCommand from './commands/tableborderstylecommand.js';\nimport TableBorderWidthCommand from './commands/tableborderwidthcommand.js';\nimport TableWidthCommand from './commands/tablewidthcommand.js';\nimport TableHeightCommand from './commands/tableheightcommand.js';\nimport TableAlignmentCommand from './commands/tablealignmentcommand.js';\nimport { getNormalizedDefaultTableProperties } from '../utils/table-properties.js';\nconst ALIGN_VALUES_REG_EXP = /^(left|center|right)$/;\nconst FLOAT_VALUES_REG_EXP = /^(left|none|right)$/;\n/**\n * The table properties editing feature.\n *\n * Introduces table's model attributes and their conversion:\n *\n * - border: `tableBorderStyle`, `tableBorderColor` and `tableBorderWidth`\n * - background color: `tableBackgroundColor`\n * - horizontal alignment: `tableAlignment`\n * - width & height: `tableWidth` & `tableHeight`\n *\n * It also registers commands used to manipulate the above attributes:\n *\n * - border: `'tableBorderStyle'`, `'tableBorderColor'` and `'tableBorderWidth'` commands\n * - background color: `'tableBackgroundColor'`\n * - horizontal alignment: `'tableAlignment'`\n * - width & height: `'tableWidth'` & `'tableHeight'`\n */\nexport default class TablePropertiesEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TablePropertiesEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableEditing];\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const conversion = editor.conversion;\n        editor.config.define('table.tableProperties.defaultProperties', {});\n        const defaultTableProperties = getNormalizedDefaultTableProperties(editor.config.get('table.tableProperties.defaultProperties'), {\n            includeAlignmentProperty: true\n        });\n        editor.data.addStyleProcessorRules(addBorderRules);\n        enableBorderProperties(schema, conversion, {\n            color: defaultTableProperties.borderColor,\n            style: defaultTableProperties.borderStyle,\n            width: defaultTableProperties.borderWidth\n        });\n        editor.commands.add('tableBorderColor', new TableBorderColorCommand(editor, defaultTableProperties.borderColor));\n        editor.commands.add('tableBorderStyle', new TableBorderStyleCommand(editor, defaultTableProperties.borderStyle));\n        editor.commands.add('tableBorderWidth', new TableBorderWidthCommand(editor, defaultTableProperties.borderWidth));\n        enableAlignmentProperty(schema, conversion, defaultTableProperties.alignment);\n        editor.commands.add('tableAlignment', new TableAlignmentCommand(editor, defaultTableProperties.alignment));\n        enableTableToFigureProperty(schema, conversion, {\n            modelAttribute: 'tableWidth',\n            styleName: 'width',\n            defaultValue: defaultTableProperties.width\n        });\n        editor.commands.add('tableWidth', new TableWidthCommand(editor, defaultTableProperties.width));\n        enableTableToFigureProperty(schema, conversion, {\n            modelAttribute: 'tableHeight',\n            styleName: 'height',\n            defaultValue: defaultTableProperties.height\n        });\n        editor.commands.add('tableHeight', new TableHeightCommand(editor, defaultTableProperties.height));\n        editor.data.addStyleProcessorRules(addBackgroundRules);\n        enableProperty(schema, conversion, {\n            modelAttribute: 'tableBackgroundColor',\n            styleName: 'background-color',\n            defaultValue: defaultTableProperties.backgroundColor\n        });\n        editor.commands.add('tableBackgroundColor', new TableBackgroundColorCommand(editor, defaultTableProperties.backgroundColor));\n    }\n}\n/**\n * Enables `tableBorderStyle'`, `tableBorderColor'` and `tableBorderWidth'` attributes for table.\n *\n * @param defaultBorder The default border values.\n * @param defaultBorder.color The default `tableBorderColor` value.\n * @param defaultBorder.style The default `tableBorderStyle` value.\n * @param defaultBorder.width The default `tableBorderWidth` value.\n */\nfunction enableBorderProperties(schema, conversion, defaultBorder) {\n    const modelAttributes = {\n        width: 'tableBorderWidth',\n        color: 'tableBorderColor',\n        style: 'tableBorderStyle'\n    };\n    schema.extend('table', {\n        allowAttributes: Object.values(modelAttributes)\n    });\n    upcastBorderStyles(conversion, 'table', modelAttributes, defaultBorder);\n    downcastTableAttribute(conversion, { modelAttribute: modelAttributes.color, styleName: 'border-color' });\n    downcastTableAttribute(conversion, { modelAttribute: modelAttributes.style, styleName: 'border-style' });\n    downcastTableAttribute(conversion, { modelAttribute: modelAttributes.width, styleName: 'border-width' });\n}\n/**\n * Enables the `'alignment'` attribute for table.\n *\n * @param defaultValue The default alignment value.\n */\nfunction enableAlignmentProperty(schema, conversion, defaultValue) {\n    schema.extend('table', {\n        allowAttributes: ['tableAlignment']\n    });\n    conversion.for('downcast')\n        .attributeToAttribute({\n        model: {\n            name: 'table',\n            key: 'tableAlignment'\n        },\n        view: alignment => ({\n            key: 'style',\n            value: {\n                // Model: `alignment:center` => CSS: `float:none`.\n                float: alignment === 'center' ? 'none' : alignment\n            }\n        }),\n        converterPriority: 'high'\n    });\n    conversion.for('upcast')\n        // Support for the `float:*;` CSS definition for the table alignment.\n        .attributeToAttribute({\n        view: {\n            name: /^(table|figure)$/,\n            styles: {\n                float: FLOAT_VALUES_REG_EXP\n            }\n        },\n        model: {\n            key: 'tableAlignment',\n            value: (viewElement) => {\n                let align = viewElement.getStyle('float');\n                // CSS: `float:none` => Model: `alignment:center`.\n                if (align === 'none') {\n                    align = 'center';\n                }\n                return align === defaultValue ? null : align;\n            }\n        }\n    })\n        // Support for the `align` attribute as the backward compatibility while pasting from other sources.\n        .attributeToAttribute({\n        view: {\n            attributes: {\n                align: ALIGN_VALUES_REG_EXP\n            }\n        },\n        model: {\n            name: 'table',\n            key: 'tableAlignment',\n            value: (viewElement) => {\n                const align = viewElement.getAttribute('align');\n                return align === defaultValue ? null : align;\n            }\n        }\n    });\n}\n/**\n * Enables conversion for an attribute for simple view-model mappings.\n *\n * @param options.defaultValue The default value for the specified `modelAttribute`.\n */\nfunction enableProperty(schema, conversion, options) {\n    const { modelAttribute } = options;\n    schema.extend('table', {\n        allowAttributes: [modelAttribute]\n    });\n    upcastStyleToAttribute(conversion, { viewElement: 'table', ...options });\n    downcastTableAttribute(conversion, options);\n}\n/**\n * Enables conversion for an attribute for simple view (figure) to model (table) mappings.\n */\nfunction enableTableToFigureProperty(schema, conversion, options) {\n    const { modelAttribute } = options;\n    schema.extend('table', {\n        allowAttributes: [modelAttribute]\n    });\n    upcastStyleToAttribute(conversion, {\n        viewElement: /^(table|figure)$/,\n        shouldUpcast: (element) => !(element.name == 'table' && element.parent.name == 'figure'),\n        ...options\n    });\n    downcastAttributeToStyle(conversion, { modelElement: 'table', ...options });\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tableproperties.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableproperties/ui/tablepropertiesview\n */\nimport { addListToDropdown, ButtonView, createLabeledDropdown, createLabeledInputText, FocusCycler, FormHeaderView, LabeledFieldView, LabelView, submitHandler, ToolbarView, View, ViewCollection } from 'ckeditor5/src/ui.js';\nimport { FocusTracker, KeystrokeHandler } from 'ckeditor5/src/utils.js';\nimport { icons } from 'ckeditor5/src/core.js';\nimport { fillToolbar, getBorderStyleDefinitions, getBorderStyleLabels, getLabeledColorInputCreator } from '../../utils/ui/table-properties.js';\nimport FormRowView from '../../ui/formrowview.js';\nimport '../../../theme/form.css';\nimport '../../../theme/tableform.css';\nimport '../../../theme/tableproperties.css';\n/**\n * The class representing a table properties form, allowing users to customize\n * certain style aspects of a table, for instance, border, background color, alignment, etc..\n */\nexport default class TablePropertiesView extends View {\n    /**\n     * @param locale The {@link module:core/editor/editor~Editor#locale} instance.\n     * @param options Additional configuration of the view.\n     */\n    constructor(locale, options) {\n        super(locale);\n        this.set({\n            borderStyle: '',\n            borderWidth: '',\n            borderColor: '',\n            backgroundColor: '',\n            width: '',\n            height: '',\n            alignment: ''\n        });\n        this.options = options;\n        const { borderStyleDropdown, borderWidthInput, borderColorInput, borderRowLabel } = this._createBorderFields();\n        const { backgroundRowLabel, backgroundInput } = this._createBackgroundFields();\n        const { widthInput, operatorLabel, heightInput, dimensionsLabel } = this._createDimensionFields();\n        const { alignmentToolbar, alignmentLabel } = this._createAlignmentFields();\n        this.focusTracker = new FocusTracker();\n        this.keystrokes = new KeystrokeHandler();\n        this.children = this.createCollection();\n        this.borderStyleDropdown = borderStyleDropdown;\n        this.borderWidthInput = borderWidthInput;\n        this.borderColorInput = borderColorInput;\n        this.backgroundInput = backgroundInput;\n        this.widthInput = widthInput;\n        this.heightInput = heightInput;\n        this.alignmentToolbar = alignmentToolbar;\n        // Defer creating to make sure other fields are present and the Save button can\n        // bind its #isEnabled to their error messages so there's no way to save unless all\n        // fields are valid.\n        const { saveButtonView, cancelButtonView } = this._createActionButtons();\n        this.saveButtonView = saveButtonView;\n        this.cancelButtonView = cancelButtonView;\n        this._focusables = new ViewCollection();\n        this._focusCycler = new FocusCycler({\n            focusables: this._focusables,\n            focusTracker: this.focusTracker,\n            keystrokeHandler: this.keystrokes,\n            actions: {\n                // Navigate form fields backwards using the Shift + Tab keystroke.\n                focusPrevious: 'shift + tab',\n                // Navigate form fields forwards using the Tab key.\n                focusNext: 'tab'\n            }\n        });\n        // Form header.\n        this.children.add(new FormHeaderView(locale, {\n            label: this.t('Table properties')\n        }));\n        // Border row.\n        this.children.add(new FormRowView(locale, {\n            labelView: borderRowLabel,\n            children: [\n                borderRowLabel,\n                borderStyleDropdown,\n                borderColorInput,\n                borderWidthInput\n            ],\n            class: 'ck-table-form__border-row'\n        }));\n        // Background row.\n        this.children.add(new FormRowView(locale, {\n            labelView: backgroundRowLabel,\n            children: [\n                backgroundRowLabel,\n                backgroundInput\n            ],\n            class: 'ck-table-form__background-row'\n        }));\n        this.children.add(new FormRowView(locale, {\n            children: [\n                // Dimensions row.\n                new FormRowView(locale, {\n                    labelView: dimensionsLabel,\n                    children: [\n                        dimensionsLabel,\n                        widthInput,\n                        operatorLabel,\n                        heightInput\n                    ],\n                    class: 'ck-table-form__dimensions-row'\n                }),\n                // Alignment row.\n                new FormRowView(locale, {\n                    labelView: alignmentLabel,\n                    children: [\n                        alignmentLabel,\n                        alignmentToolbar\n                    ],\n                    class: 'ck-table-properties-form__alignment-row'\n                })\n            ]\n        }));\n        // Action row.\n        this.children.add(new FormRowView(locale, {\n            children: [\n                this.saveButtonView,\n                this.cancelButtonView\n            ],\n            class: 'ck-table-form__action-row'\n        }));\n        this.setTemplate({\n            tag: 'form',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-form',\n                    'ck-table-form',\n                    'ck-table-properties-form'\n                ],\n                // https://github.com/ckeditor/ckeditor5-link/issues/90\n                tabindex: '-1'\n            },\n            children: this.children\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    render() {\n        super.render();\n        // Enable the \"submit\" event for this view. It can be triggered by the #saveButtonView\n        // which is of the \"submit\" DOM \"type\".\n        submitHandler({\n            view: this\n        });\n        // Maintain continuous focus cycling over views that have focusable children and focus cyclers themselves.\n        [this.borderColorInput, this.backgroundInput].forEach(view => {\n            this._focusCycler.chain(view.fieldView.focusCycler);\n        });\n        [\n            this.borderStyleDropdown,\n            this.borderColorInput,\n            this.borderWidthInput,\n            this.backgroundInput,\n            this.widthInput,\n            this.heightInput,\n            this.alignmentToolbar,\n            this.saveButtonView,\n            this.cancelButtonView\n        ].forEach(view => {\n            // Register the view as focusable.\n            this._focusables.add(view);\n            // Register the view in the focus tracker.\n            this.focusTracker.add(view.element);\n        });\n        // Mainly for closing using \"Esc\" and navigation using \"Tab\".\n        this.keystrokes.listenTo(this.element);\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        this.focusTracker.destroy();\n        this.keystrokes.destroy();\n    }\n    /**\n     * Focuses the fist focusable field in the form.\n     */\n    focus() {\n        this._focusCycler.focusFirst();\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #borderStyleDropdown},\n     * * {@link #borderWidthInput},\n     * * {@link #borderColorInput}.\n     */\n    _createBorderFields() {\n        const defaultTableProperties = this.options.defaultTableProperties;\n        const defaultBorder = {\n            style: defaultTableProperties.borderStyle,\n            width: defaultTableProperties.borderWidth,\n            color: defaultTableProperties.borderColor\n        };\n        const colorInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.borderColors,\n            columns: 5,\n            defaultColorValue: defaultBorder.color,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const locale = this.locale;\n        const t = this.t;\n        const accessibleLabel = t('Style');\n        // -- Group label ---------------------------------------------\n        const borderRowLabel = new LabelView(locale);\n        borderRowLabel.text = t('Border');\n        // -- Style ---------------------------------------------------\n        const styleLabels = getBorderStyleLabels(t);\n        const borderStyleDropdown = new LabeledFieldView(locale, createLabeledDropdown);\n        borderStyleDropdown.set({\n            label: accessibleLabel,\n            class: 'ck-table-form__border-style'\n        });\n        borderStyleDropdown.fieldView.buttonView.set({\n            ariaLabel: accessibleLabel,\n            ariaLabelledBy: undefined,\n            isOn: false,\n            withText: true,\n            tooltip: accessibleLabel\n        });\n        borderStyleDropdown.fieldView.buttonView.bind('label').to(this, 'borderStyle', value => {\n            return styleLabels[value ? value : 'none'];\n        });\n        borderStyleDropdown.fieldView.on('execute', evt => {\n            this.borderStyle = evt.source._borderStyleValue;\n        });\n        borderStyleDropdown.bind('isEmpty').to(this, 'borderStyle', value => !value);\n        addListToDropdown(borderStyleDropdown.fieldView, getBorderStyleDefinitions(this, defaultBorder.style), {\n            role: 'menu',\n            ariaLabel: accessibleLabel\n        });\n        // -- Width ---------------------------------------------------\n        const borderWidthInput = new LabeledFieldView(locale, createLabeledInputText);\n        borderWidthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__border-width'\n        });\n        borderWidthInput.fieldView.bind('value').to(this, 'borderWidth');\n        borderWidthInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderWidthInput.fieldView.on('input', () => {\n            this.borderWidth = borderWidthInput.fieldView.element.value;\n        });\n        // -- Color ---------------------------------------------------\n        const borderColorInput = new LabeledFieldView(locale, colorInputCreator);\n        borderColorInput.set({\n            label: t('Color'),\n            class: 'ck-table-form__border-color'\n        });\n        borderColorInput.fieldView.bind('value').to(this, 'borderColor');\n        borderColorInput.bind('isEnabled').to(this, 'borderStyle', isBorderStyleSet);\n        borderColorInput.fieldView.on('input', () => {\n            this.borderColor = borderColorInput.fieldView.value;\n        });\n        // Reset the border color and width fields depending on the `border-style` value.\n        this.on('change:borderStyle', (evt, name, newValue, oldValue) => {\n            // When removing the border (`border-style:none`), clear the remaining `border-*` properties.\n            // See: https://github.com/ckeditor/ckeditor5/issues/6227.\n            if (!isBorderStyleSet(newValue)) {\n                this.borderColor = '';\n                this.borderWidth = '';\n            }\n            // When setting the `border-style` from `none`, set the default `border-color` and `border-width` properties.\n            if (!isBorderStyleSet(oldValue)) {\n                this.borderColor = defaultBorder.color;\n                this.borderWidth = defaultBorder.width;\n            }\n        });\n        return {\n            borderRowLabel,\n            borderStyleDropdown,\n            borderColorInput,\n            borderWidthInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #backgroundInput}.\n     */\n    _createBackgroundFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Group label ---------------------------------------------\n        const backgroundRowLabel = new LabelView(locale);\n        backgroundRowLabel.text = t('Background');\n        // -- Background color input -----------------------------------\n        const backgroundInputCreator = getLabeledColorInputCreator({\n            colorConfig: this.options.backgroundColors,\n            columns: 5,\n            defaultColorValue: this.options.defaultTableProperties.backgroundColor,\n            colorPickerConfig: this.options.colorPickerConfig\n        });\n        const backgroundInput = new LabeledFieldView(locale, backgroundInputCreator);\n        backgroundInput.set({\n            label: t('Color'),\n            class: 'ck-table-properties-form__background'\n        });\n        backgroundInput.fieldView.bind('value').to(this, 'backgroundColor');\n        backgroundInput.fieldView.on('input', () => {\n            this.backgroundColor = backgroundInput.fieldView.value;\n        });\n        return {\n            backgroundRowLabel,\n            backgroundInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #widthInput},\n     * * {@link #heightInput}.\n     */\n    _createDimensionFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Label ---------------------------------------------------\n        const dimensionsLabel = new LabelView(locale);\n        dimensionsLabel.text = t('Dimensions');\n        // -- Width ---------------------------------------------------\n        const widthInput = new LabeledFieldView(locale, createLabeledInputText);\n        widthInput.set({\n            label: t('Width'),\n            class: 'ck-table-form__dimensions-row__width'\n        });\n        widthInput.fieldView.bind('value').to(this, 'width');\n        widthInput.fieldView.on('input', () => {\n            this.width = widthInput.fieldView.element.value;\n        });\n        // -- Operator ---------------------------------------------------\n        const operatorLabel = new View(locale);\n        operatorLabel.setTemplate({\n            tag: 'span',\n            attributes: {\n                class: [\n                    'ck-table-form__dimension-operator'\n                ]\n            },\n            children: [\n                { text: '×' }\n            ]\n        });\n        // -- Height ---------------------------------------------------\n        const heightInput = new LabeledFieldView(locale, createLabeledInputText);\n        heightInput.set({\n            label: t('Height'),\n            class: 'ck-table-form__dimensions-row__height'\n        });\n        heightInput.fieldView.bind('value').to(this, 'height');\n        heightInput.fieldView.on('input', () => {\n            this.height = heightInput.fieldView.element.value;\n        });\n        return {\n            dimensionsLabel,\n            widthInput,\n            operatorLabel,\n            heightInput\n        };\n    }\n    /**\n     * Creates the following form fields:\n     *\n     * * {@link #alignmentToolbar}.\n     */\n    _createAlignmentFields() {\n        const locale = this.locale;\n        const t = this.t;\n        // -- Label ---------------------------------------------------\n        const alignmentLabel = new LabelView(locale);\n        alignmentLabel.text = t('Alignment');\n        // -- Toolbar ---------------------------------------------------\n        const alignmentToolbar = new ToolbarView(locale);\n        alignmentToolbar.set({\n            isCompact: true,\n            ariaLabel: t('Table alignment toolbar')\n        });\n        fillToolbar({\n            view: this,\n            icons: {\n                left: icons.objectLeft,\n                center: icons.objectCenter,\n                right: icons.objectRight\n            },\n            toolbar: alignmentToolbar,\n            labels: this._alignmentLabels,\n            propertyName: 'alignment',\n            defaultValue: this.options.defaultTableProperties.alignment\n        });\n        return {\n            alignmentLabel,\n            alignmentToolbar\n        };\n    }\n    /**\n     * Creates the following form controls:\n     *\n     * * {@link #saveButtonView},\n     * * {@link #cancelButtonView}.\n     */\n    _createActionButtons() {\n        const locale = this.locale;\n        const t = this.t;\n        const saveButtonView = new ButtonView(locale);\n        const cancelButtonView = new ButtonView(locale);\n        const fieldsThatShouldValidateToSave = [\n            this.borderWidthInput,\n            this.borderColorInput,\n            this.backgroundInput,\n            this.widthInput,\n            this.heightInput\n        ];\n        saveButtonView.set({\n            label: t('Save'),\n            icon: icons.check,\n            class: 'ck-button-save',\n            type: 'submit',\n            withText: true\n        });\n        saveButtonView.bind('isEnabled').toMany(fieldsThatShouldValidateToSave, 'errorText', (...errorTexts) => {\n            return errorTexts.every(errorText => !errorText);\n        });\n        cancelButtonView.set({\n            label: t('Cancel'),\n            icon: icons.cancel,\n            class: 'ck-button-cancel',\n            withText: true\n        });\n        cancelButtonView.delegate('execute').to(this, 'cancel');\n        return {\n            saveButtonView, cancelButtonView\n        };\n    }\n    /**\n     * Provides localized labels for {@link #alignmentToolbar} buttons.\n     */\n    get _alignmentLabels() {\n        const locale = this.locale;\n        const t = this.t;\n        const left = t('Align table to the left');\n        const center = t('Center table');\n        const right = t('Align table to the right');\n        // Returns object with a proper order of labels.\n        if (locale.uiLanguageDirection === 'rtl') {\n            return { right, center, left };\n        }\n        else {\n            return { left, center, right };\n        }\n    }\n}\nfunction isBorderStyleSet(value) {\n    return value !== 'none';\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableproperties/tablepropertiesui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { ButtonView, ContextualBalloon, clickOutsideHandler, getLocalizedColorOptions, normalizeColorOptions } from 'ckeditor5/src/ui.js';\nimport { debounce } from 'lodash-es';\nimport TablePropertiesView from './ui/tablepropertiesview.js';\nimport tableProperties from './../../theme/icons/table-properties.svg';\nimport { colorFieldValidator, getLocalizedColorErrorText, getLocalizedLengthErrorText, lengthFieldValidator, lineWidthFieldValidator, defaultColors } from '../utils/ui/table-properties.js';\nimport { getSelectionAffectedTableWidget } from '../utils/ui/widget.js';\nimport { getBalloonTablePositionData, repositionContextualBalloon } from '../utils/ui/contextualballoon.js';\nimport { getNormalizedDefaultTableProperties } from '../utils/table-properties.js';\nconst ERROR_TEXT_TIMEOUT = 500;\n// Map of view properties and related commands.\nconst propertyToCommandMap = {\n    borderStyle: 'tableBorderStyle',\n    borderColor: 'tableBorderColor',\n    borderWidth: 'tableBorderWidth',\n    backgroundColor: 'tableBackgroundColor',\n    width: 'tableWidth',\n    height: 'tableHeight',\n    alignment: 'tableAlignment'\n};\n/**\n * The table properties UI plugin. It introduces the `'tableProperties'` button\n * that opens a form allowing to specify visual styling of an entire table.\n *\n * It uses the {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n */\nexport default class TablePropertiesUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [ContextualBalloon];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TablePropertiesUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        /**\n         * The properties form view displayed inside the balloon.\n         */\n        this.view = null;\n        editor.config.define('table.tableProperties', {\n            borderColors: defaultColors,\n            backgroundColors: defaultColors\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        this._defaultTableProperties = getNormalizedDefaultTableProperties(editor.config.get('table.tableProperties.defaultProperties'), {\n            includeAlignmentProperty: true\n        });\n        this._balloon = editor.plugins.get(ContextualBalloon);\n        editor.ui.componentFactory.add('tableProperties', locale => {\n            const view = new ButtonView(locale);\n            view.set({\n                label: t('Table properties'),\n                icon: tableProperties,\n                tooltip: true\n            });\n            this.listenTo(view, 'execute', () => this._showView());\n            const commands = Object.values(propertyToCommandMap)\n                .map(commandName => editor.commands.get(commandName));\n            view.bind('isEnabled').toMany(commands, 'isEnabled', (...areEnabled) => (areEnabled.some(isCommandEnabled => isCommandEnabled)));\n            return view;\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        super.destroy();\n        // Destroy created UI components as they are not automatically destroyed.\n        // See https://github.com/ckeditor/ckeditor5/issues/1341.\n        if (this.view) {\n            this.view.destroy();\n        }\n    }\n    /**\n     * Creates the {@link module:table/tableproperties/ui/tablepropertiesview~TablePropertiesView} instance.\n     *\n     * @returns The table properties form view instance.\n     */\n    _createPropertiesView() {\n        const editor = this.editor;\n        const config = editor.config.get('table.tableProperties');\n        const borderColorsConfig = normalizeColorOptions(config.borderColors);\n        const localizedBorderColors = getLocalizedColorOptions(editor.locale, borderColorsConfig);\n        const backgroundColorsConfig = normalizeColorOptions(config.backgroundColors);\n        const localizedBackgroundColors = getLocalizedColorOptions(editor.locale, backgroundColorsConfig);\n        const hasColorPicker = config.colorPicker !== false;\n        const view = new TablePropertiesView(editor.locale, {\n            borderColors: localizedBorderColors,\n            backgroundColors: localizedBackgroundColors,\n            defaultTableProperties: this._defaultTableProperties,\n            colorPickerConfig: hasColorPicker ? (config.colorPicker || {}) : false\n        });\n        const t = editor.t;\n        // Render the view so its #element is available for the clickOutsideHandler.\n        view.render();\n        this.listenTo(view, 'submit', () => {\n            this._hideView();\n        });\n        this.listenTo(view, 'cancel', () => {\n            // https://github.com/ckeditor/ckeditor5/issues/6180\n            if (this._undoStepBatch.operations.length) {\n                editor.execute('undo', this._undoStepBatch);\n            }\n            this._hideView();\n        });\n        // Close the balloon on Esc key press.\n        view.keystrokes.set('Esc', (data, cancel) => {\n            this._hideView();\n            cancel();\n        });\n        // Close on click outside of balloon panel element.\n        clickOutsideHandler({\n            emitter: view,\n            activator: () => this._isViewInBalloon,\n            contextElements: [this._balloon.view.element],\n            callback: () => this._hideView()\n        });\n        const colorErrorText = getLocalizedColorErrorText(t);\n        const lengthErrorText = getLocalizedLengthErrorText(t);\n        // Create the \"UI -> editor data\" binding.\n        // These listeners update the editor data (via table commands) when any observable\n        // property of the view has changed. They also validate the value and display errors in the UI\n        // when necessary. This makes the view live, which means the changes are\n        // visible in the editing as soon as the user types or changes fields' values.\n        view.on('change:borderStyle', this._getPropertyChangeCallback('tableBorderStyle'));\n        view.on('change:borderColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderColorInput,\n            commandName: 'tableBorderColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:borderWidth', this._getValidatedPropertyChangeCallback({\n            viewField: view.borderWidthInput,\n            commandName: 'tableBorderWidth',\n            errorText: lengthErrorText,\n            validator: lineWidthFieldValidator\n        }));\n        view.on('change:backgroundColor', this._getValidatedPropertyChangeCallback({\n            viewField: view.backgroundInput,\n            commandName: 'tableBackgroundColor',\n            errorText: colorErrorText,\n            validator: colorFieldValidator\n        }));\n        view.on('change:width', this._getValidatedPropertyChangeCallback({\n            viewField: view.widthInput,\n            commandName: 'tableWidth',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:height', this._getValidatedPropertyChangeCallback({\n            viewField: view.heightInput,\n            commandName: 'tableHeight',\n            errorText: lengthErrorText,\n            validator: lengthFieldValidator\n        }));\n        view.on('change:alignment', this._getPropertyChangeCallback('tableAlignment'));\n        return view;\n    }\n    /**\n     * In this method the \"editor data -> UI\" binding is happening.\n     *\n     * When executed, this method obtains selected table property values from various table commands\n     * and passes them to the {@link #view}.\n     *\n     * This way, the UI stays up–to–date with the editor data.\n     */\n    _fillViewFormFromCommandValues() {\n        const commands = this.editor.commands;\n        const borderStyleCommand = commands.get('tableBorderStyle');\n        Object.entries(propertyToCommandMap)\n            .map(([property, commandName]) => {\n            const propertyKey = property;\n            const defaultValue = this._defaultTableProperties[propertyKey] || '';\n            return [propertyKey, (commands.get(commandName).value || defaultValue)];\n        })\n            .forEach(([property, value]) => {\n            // Do not set the `border-color` and `border-width` fields if `border-style:none`.\n            if ((property === 'borderColor' || property === 'borderWidth') && borderStyleCommand.value === 'none') {\n                return;\n            }\n            this.view.set(property, value);\n        });\n        this._isReady = true;\n    }\n    /**\n     * Shows the {@link #view} in the {@link #_balloon}.\n     *\n     * **Note**: Each time a view is shown, the new {@link #_undoStepBatch} is created that contains\n     * all changes made to the document when the view is visible, allowing a single undo step\n     * for all of them.\n     */\n    _showView() {\n        const editor = this.editor;\n        if (!this.view) {\n            this.view = this._createPropertiesView();\n        }\n        this.listenTo(editor.ui, 'update', () => {\n            this._updateView();\n        });\n        // Update the view with the model values.\n        this._fillViewFormFromCommandValues();\n        this._balloon.add({\n            view: this.view,\n            position: getBalloonTablePositionData(editor)\n        });\n        // Create a new batch. Clicking \"Cancel\" will undo this batch.\n        this._undoStepBatch = editor.model.createBatch();\n        // Basic a11y.\n        this.view.focus();\n    }\n    /**\n     * Removes the {@link #view} from the {@link #_balloon}.\n     */\n    _hideView() {\n        const editor = this.editor;\n        this.stopListening(editor.ui, 'update');\n        this._isReady = false;\n        // Blur any input element before removing it from DOM to prevent issues in some browsers.\n        // See https://github.com/ckeditor/ckeditor5/issues/1501.\n        this.view.saveButtonView.focus();\n        this._balloon.remove(this.view);\n        // Make sure the focus is not lost in the process by putting it directly\n        // into the editing view.\n        this.editor.editing.view.focus();\n    }\n    /**\n     * Repositions the {@link #_balloon} or hides the {@link #view} if a table is no longer selected.\n     */\n    _updateView() {\n        const editor = this.editor;\n        const viewDocument = editor.editing.view.document;\n        if (!getSelectionAffectedTableWidget(viewDocument.selection)) {\n            this._hideView();\n        }\n        else if (this._isViewVisible) {\n            repositionContextualBalloon(editor, 'table');\n        }\n    }\n    /**\n     * Returns `true` when the {@link #view} is the visible in the {@link #_balloon}.\n     */\n    get _isViewVisible() {\n        return !!this.view && this._balloon.visibleView === this.view;\n    }\n    /**\n     * Returns `true` when the {@link #view} is in the {@link #_balloon}.\n     */\n    get _isViewInBalloon() {\n        return !!this.view && this._balloon.hasView(this.view);\n    }\n    /**\n     * Creates a callback that when executed upon {@link #view view's} property change\n     * executes a related editor command with the new property value.\n     *\n     * If new value will be set to the default value, the command will not be executed.\n     *\n     * @param commandName The command that will be executed.\n     */\n    _getPropertyChangeCallback(commandName) {\n        return (evt, propertyName, newValue) => {\n            // Do not execute the command on initial call (opening the table properties view).\n            if (!this._isReady) {\n                return;\n            }\n            this.editor.execute(commandName, {\n                value: newValue,\n                batch: this._undoStepBatch\n            });\n        };\n    }\n    /**\n     * Creates a callback that when executed upon {@link #view view's} property change:\n     * * executes a related editor command with the new property value if the value is valid,\n     * * or sets the error text next to the invalid field, if the value did not pass the validation.\n     */\n    _getValidatedPropertyChangeCallback(options) {\n        const { commandName, viewField, validator, errorText } = options;\n        const setErrorTextDebounced = debounce(() => {\n            viewField.errorText = errorText;\n        }, ERROR_TEXT_TIMEOUT);\n        return (evt, propertyName, newValue) => {\n            setErrorTextDebounced.cancel();\n            // Do not execute the command on initial call (opening the table properties view).\n            if (!this._isReady) {\n                return;\n            }\n            if (validator(newValue)) {\n                this.editor.execute(commandName, {\n                    value: newValue,\n                    batch: this._undoStepBatch\n                });\n                viewField.errorText = null;\n            }\n            else {\n                setErrorTextDebounced();\n            }\n        };\n    }\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z\\\" opacity=\\\".6\\\"/><path d=\\\"m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z\\\"/></svg>\";","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tableproperties\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TablePropertiesEditing from './tableproperties/tablepropertiesediting.js';\nimport TablePropertiesUI from './tableproperties/tablepropertiesui.js';\n/**\n * The table properties feature. Enables support for setting properties of tables (size, border, background, etc.).\n *\n * Read more in the {@glink features/tables/tables-styling Table and cell styling tools} section.\n * See also the {@link module:table/tablecellproperties~TableCellProperties} plugin.\n *\n * This is a \"glue\" plugin that loads the\n * {@link module:table/tableproperties/tablepropertiesediting~TablePropertiesEditing table properties editing feature} and\n * the {@link module:table/tableproperties/tablepropertiesui~TablePropertiesUI table properties UI feature}.\n */\nexport default class TableProperties extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableProperties';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TablePropertiesEditing, TablePropertiesUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { getSelectionAffectedTable } from '../utils/common.js';\n/**\n * Checks if the provided model element is a `table`.\n *\n * @param modelElement Element to check if it is a table.\n */\nexport function isTable(modelElement) {\n    return !!modelElement && modelElement.is('element', 'table');\n}\n/**\n * Returns the caption model element from a given table element. Returns `null` if no caption is found.\n *\n * @param tableModelElement Table element in which we will try to find a caption element.\n */\nexport function getCaptionFromTableModelElement(tableModelElement) {\n    for (const node of tableModelElement.getChildren()) {\n        if (node.is('element', 'caption')) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Returns the caption model element for a model selection. Returns `null` if the selection has no caption element ancestor.\n *\n * @param selection The selection checked for caption presence.\n */\nexport function getCaptionFromModelSelection(selection) {\n    const tableElement = getSelectionAffectedTable(selection);\n    if (!tableElement) {\n        return null;\n    }\n    return getCaptionFromTableModelElement(tableElement);\n}\n/**\n * {@link module:engine/view/matcher~Matcher} pattern. Checks if a given element is a caption.\n *\n * There are two possible forms of the valid caption:\n *  - A `<figcaption>` element inside a `<figure class=\"table\">` element.\n *  - A `<caption>` inside a <table>.\n *\n * @returns Returns the object accepted by {@link module:engine/view/matcher~Matcher} or `null` if the element cannot be matched.\n */\nexport function matchTableCaptionViewElement(element) {\n    const parent = element.parent;\n    if (element.name == 'figcaption' && parent && parent.is('element', 'figure') && parent.hasClass('table')) {\n        return { name: true };\n    }\n    if (element.name == 'caption' && parent && parent.is('element', 'table')) {\n        return { name: true };\n    }\n    return null;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n* @module table/tablecaption/toggletablecaptioncommand\n*/\nimport { Command } from 'ckeditor5/src/core.js';\nimport { getCaptionFromTableModelElement } from './utils.js';\nimport { getSelectionAffectedTable } from '../utils/common.js';\n/**\n * The toggle table caption command.\n *\n * This command is registered by {@link module:table/tablecaption/tablecaptionediting~TableCaptionEditing} as the\n * `'toggleTableCaption'` editor command.\n *\n * Executing this command:\n *\n * * either adds or removes the table caption of a selected table (depending on whether the caption is present or not),\n * * removes the table caption if the selection is anchored in one.\n *\n * ```ts\n * // Toggle the presence of the caption.\n * editor.execute( 'toggleTableCaption' );\n * ```\n *\n * **Note**: You can move the selection to the caption right away as it shows up upon executing this command by using\n * the `focusCaptionOnShow` option:\n *\n * ```ts\n * editor.execute( 'toggleTableCaption', { focusCaptionOnShow: true } );\n * ```\n */\nexport default class ToggleTableCaptionCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const editor = this.editor;\n        const tableElement = getSelectionAffectedTable(editor.model.document.selection);\n        this.isEnabled = !!tableElement;\n        if (!this.isEnabled) {\n            this.value = false;\n        }\n        else {\n            this.value = !!getCaptionFromTableModelElement(tableElement);\n        }\n    }\n    /**\n     * Executes the command.\n     *\n     * ```ts\n     * editor.execute( 'toggleTableCaption' );\n     * ```\n     *\n     * @param options Options for the executed command.\n     * @param options.focusCaptionOnShow When true and the caption shows up, the selection will be moved into it straight away.\n     * @fires execute\n     */\n    execute({ focusCaptionOnShow = false } = {}) {\n        this.editor.model.change(writer => {\n            if (this.value) {\n                this._hideTableCaption(writer);\n            }\n            else {\n                this._showTableCaption(writer, focusCaptionOnShow);\n            }\n        });\n    }\n    /**\n     * Shows the table caption. Also:\n     *\n     * * it attempts to restore the caption content from the `TableCaptionEditing` caption registry,\n     * * it moves the selection to the caption right away, it the `focusCaptionOnShow` option was set.\n     *\n     * @param focusCaptionOnShow Default focus behavior when showing the caption.\n     */\n    _showTableCaption(writer, focusCaptionOnShow) {\n        const model = this.editor.model;\n        const tableElement = getSelectionAffectedTable(model.document.selection);\n        const tableCaptionEditing = this.editor.plugins.get('TableCaptionEditing');\n        const savedCaptionElement = tableCaptionEditing._getSavedCaption(tableElement);\n        // Try restoring the caption from the TableCaptionEditing plugin storage.\n        const newCaptionElement = savedCaptionElement || writer.createElement('caption');\n        model.insertContent(newCaptionElement, tableElement, 'end');\n        if (focusCaptionOnShow) {\n            writer.setSelection(newCaptionElement, 'in');\n        }\n    }\n    /**\n     * Hides the caption of a selected table (or an table caption the selection is anchored to).\n     *\n     * The content of the caption is stored in the `TableCaptionEditing` caption registry to make this\n     * a reversible action.\n     */\n    _hideTableCaption(writer) {\n        const model = this.editor.model;\n        const tableElement = getSelectionAffectedTable(model.document.selection);\n        const tableCaptionEditing = this.editor.plugins.get('TableCaptionEditing');\n        const captionElement = getCaptionFromTableModelElement(tableElement);\n        // Store the caption content so it can be restored quickly if the user changes their mind.\n        tableCaptionEditing._saveCaption(tableElement, captionElement);\n        model.deleteContent(writer.createSelection(captionElement, 'on'));\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecaption/tablecaptionediting\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Element, enablePlaceholder } from 'ckeditor5/src/engine.js';\nimport { toWidgetEditable } from 'ckeditor5/src/widget.js';\nimport injectTableCaptionPostFixer from '../converters/table-caption-post-fixer.js';\nimport ToggleTableCaptionCommand from './toggletablecaptioncommand.js';\nimport { isTable, matchTableCaptionViewElement } from './utils.js';\n/**\n * The table caption editing plugin.\n */\nexport default class TableCaptionEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCaptionEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this._savedCaptionsMap = new WeakMap();\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const schema = editor.model.schema;\n        const view = editor.editing.view;\n        const t = editor.t;\n        if (!schema.isRegistered('caption')) {\n            schema.register('caption', {\n                allowIn: 'table',\n                allowContentOf: '$block',\n                isLimit: true\n            });\n        }\n        else {\n            schema.extend('caption', {\n                allowIn: 'table'\n            });\n        }\n        editor.commands.add('toggleTableCaption', new ToggleTableCaptionCommand(this.editor));\n        // View -> model converter for the data pipeline.\n        editor.conversion.for('upcast').elementToElement({\n            view: matchTableCaptionViewElement,\n            model: 'caption'\n        });\n        // Model -> view converter for the data pipeline.\n        editor.conversion.for('dataDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!isTable(modelElement.parent)) {\n                    return null;\n                }\n                return writer.createContainerElement('figcaption');\n            }\n        });\n        // Model -> view converter for the editing pipeline.\n        editor.conversion.for('editingDowncast').elementToElement({\n            model: 'caption',\n            view: (modelElement, { writer }) => {\n                if (!isTable(modelElement.parent)) {\n                    return null;\n                }\n                const figcaptionElement = writer.createEditableElement('figcaption');\n                writer.setCustomProperty('tableCaption', true, figcaptionElement);\n                figcaptionElement.placeholder = t('Enter table caption');\n                enablePlaceholder({\n                    view,\n                    element: figcaptionElement,\n                    keepOnFocus: true\n                });\n                return toWidgetEditable(figcaptionElement, writer);\n            }\n        });\n        injectTableCaptionPostFixer(editor.model);\n    }\n    /**\n     * Returns the saved {@link module:engine/model/element~Element#toJSON JSONified} caption\n     * of a table model element.\n     *\n     * See {@link #_saveCaption}.\n     *\n     * @internal\n     * @param tableModelElement The model element the caption should be returned for.\n     * @returns The model caption element or `null` if there is none.\n     */\n    _getSavedCaption(tableModelElement) {\n        const jsonObject = this._savedCaptionsMap.get(tableModelElement);\n        return jsonObject ? Element.fromJSON(jsonObject) : null;\n    }\n    /**\n     * Saves a {@link module:engine/model/element~Element#toJSON JSONified} caption for\n     * a table element to allow restoring it in the future.\n     *\n     * A caption is saved every time it gets hidden. The\n     * user should be able to restore it on demand.\n     *\n     * **Note**: The caption cannot be stored in the table model element attribute because,\n     * for instance, when the model state propagates to collaborators, the attribute would get\n     * lost (mainly because it does not convert to anything when the caption is hidden) and\n     * the states of collaborators' models would de-synchronize causing numerous issues.\n     *\n     * See {@link #_getSavedCaption}.\n     *\n     * @internal\n     * @param tableModelElement The model element the caption is saved for.\n     * @param caption The caption model element to be saved.\n     */\n    _saveCaption(tableModelElement, caption) {\n        this._savedCaptionsMap.set(tableModelElement, caption.toJSON());\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Injects a table caption post-fixer into the model.\n *\n * The role of the table caption post-fixer is to ensure that the table with caption have the correct structure\n * after a {@link module:engine/model/model~Model#change `change()`} block was executed.\n *\n * The correct structure means that:\n *\n * * If there are many caption model element, they are merged into one model.\n * * A final, merged caption model is placed at the end of the table.\n */\nexport default function injectTableCaptionPostFixer(model) {\n    model.document.registerPostFixer(writer => tableCaptionPostFixer(writer, model));\n}\n/**\n * The table caption post-fixer.\n */\nfunction tableCaptionPostFixer(writer, model) {\n    const changes = model.document.differ.getChanges();\n    let wasFixed = false;\n    for (const entry of changes) {\n        if (entry.type != 'insert') {\n            continue;\n        }\n        const positionParent = entry.position.parent;\n        if (positionParent.is('element', 'table') || entry.name == 'table') {\n            const table = (entry.name == 'table' ? entry.position.nodeAfter : positionParent);\n            const captionsToMerge = Array.from(table.getChildren())\n                .filter((child) => child.is('element', 'caption'));\n            const firstCaption = captionsToMerge.shift();\n            if (!firstCaption) {\n                continue;\n            }\n            // Move all the contents of the captions to the first one.\n            for (const caption of captionsToMerge) {\n                writer.move(writer.createRangeIn(caption), firstCaption, 'end');\n                writer.remove(caption);\n            }\n            // Make sure the final caption is at the end of the table.\n            if (firstCaption.nextSibling) {\n                writer.move(writer.createRangeOn(firstCaption), table, 'end');\n                wasFixed = true;\n            }\n            // Do we merged captions and/or moved the single caption to the end of the table?\n            wasFixed = !!captionsToMerge.length || wasFixed;\n        }\n    }\n    return wasFixed;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n* @module table/tablecaption/tablecaptionui\n*/\nimport { Plugin, icons } from 'ckeditor5/src/core.js';\nimport { ButtonView } from 'ckeditor5/src/ui.js';\nimport { getCaptionFromModelSelection } from './utils.js';\n/**\n  * The table caption UI plugin. It introduces the `'toggleTableCaption'` UI button.\n  */\nexport default class TableCaptionUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCaptionUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const editingView = editor.editing.view;\n        const t = editor.t;\n        editor.ui.componentFactory.add('toggleTableCaption', locale => {\n            const command = editor.commands.get('toggleTableCaption');\n            const view = new ButtonView(locale);\n            view.set({\n                icon: icons.caption,\n                tooltip: true,\n                isToggleable: true\n            });\n            view.bind('isOn', 'isEnabled').to(command, 'value', 'isEnabled');\n            view.bind('label').to(command, 'value', value => value ? t('Toggle caption off') : t('Toggle caption on'));\n            this.listenTo(view, 'execute', () => {\n                editor.execute('toggleTableCaption', { focusCaptionOnShow: true });\n                // Scroll to the selection and highlight the caption if the caption showed up.\n                if (command.value) {\n                    const modelCaptionElement = getCaptionFromModelSelection(editor.model.document.selection);\n                    const figcaptionElement = editor.editing.mapper.toViewElement(modelCaptionElement);\n                    if (!figcaptionElement) {\n                        return;\n                    }\n                    editingView.scrollToTheSelection();\n                    editingView.change(writer => {\n                        writer.addClass('table__caption_highlighted', figcaptionElement);\n                    });\n                }\n                editor.editing.view.focus();\n            });\n            return view;\n        });\n    }\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablecaption.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module table/tablecaption\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TableCaptionEditing from './tablecaption/tablecaptionediting.js';\nimport TableCaptionUI from './tablecaption/tablecaptionui.js';\nimport '../theme/tablecaption.css';\n/**\n * The table caption plugin.\n */\nexport default class TableCaption extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TableCaption';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TableCaptionEditing, TableCaptionUI];\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Returns a plain text representation of an element and its children.\n *\n * @returns Plain text representing the model's data.\n */\nexport function modelElementToPlainText(item) {\n    if (item.is('$text') || item.is('$textProxy')) {\n        return item.data;\n    }\n    const element = item;\n    let text = '';\n    let prev = null;\n    for (const child of element.getChildren()) {\n        const childText = modelElementToPlainText(child);\n        // If last block was finish, start from new line.\n        if (prev && prev.is('element')) {\n            text += '\\n';\n        }\n        text += childText;\n        prev = child;\n    }\n    return text;\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./tablecolumnresize.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { Template, View } from 'ckeditor5/src/ui.js';\nimport { env } from 'ckeditor5/src/utils.js';\nimport { modelElementToPlainText } from './utils.js';\nimport { throttle, isElement } from 'lodash-es';\n/**\n * The word count plugin.\n *\n * This plugin calculates all words and characters in all {@link module:engine/model/text~Text text nodes} available in the model.\n * It also provides an HTML element that updates its state whenever the editor content is changed.\n *\n * The model's data is first converted to plain text using {@link module:word-count/utils~modelElementToPlainText}.\n * The number of words and characters in your text are determined based on the created plain text. Please keep in mind\n * that every block in the editor is separated with a newline character, which is included in the calculation.\n *\n * Here are some examples of how the word and character calculations are made:\n *\n * ```html\n * <paragraph>foo</paragraph>\n * <paragraph>bar</paragraph>\n * // Words: 2, Characters: 7\n *\n * <paragraph><$text bold=\"true\">foo</$text>bar</paragraph>\n * // Words: 1, Characters: 6\n *\n * <paragraph>*&^%)</paragraph>\n * // Words: 0, Characters: 5\n *\n * <paragraph>foo(bar)</paragraph>\n * //Words: 1, Characters: 8\n *\n * <paragraph>12345</paragraph>\n * // Words: 1, Characters: 5\n * ```\n */\nexport default class WordCount extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        this.set('characters', 0);\n        this.set('words', 0);\n        // Don't wait for the #update event to set the value of the properties but obtain it right away.\n        // This way, accessing the properties directly returns precise numbers, e.g. for validation, etc.\n        // If not accessed directly, the properties will be refreshed upon #update anyway.\n        Object.defineProperties(this, {\n            characters: {\n                get() {\n                    return (this.characters = this._getCharacters(this._getText()));\n                }\n            },\n            words: {\n                get() {\n                    return (this.words = this._getWords(this._getText()));\n                }\n            }\n        });\n        this.set('_wordsLabel', undefined);\n        this.set('_charactersLabel', undefined);\n        this._config = editor.config.get('wordCount') || {};\n        this._outputView = undefined;\n        this._wordsMatchRegExp = env.features.isRegExpUnicodePropertySupported ?\n            // Usage of regular expression literal cause error during build (ckeditor/ckeditor5-dev#534).\n            // Groups:\n            // {L} - Any kind of letter from any language.\n            // {N} - Any kind of numeric character in any script.\n            new RegExp('([\\\\p{L}\\\\p{N}]+\\\\S?)+', 'gu') :\n            /([a-zA-Z0-9À-ž]+\\S?)+/gu;\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'WordCount';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.model.document.on('change:data', throttle(this._refreshStats.bind(this), 250));\n        if (typeof this._config.onUpdate == 'function') {\n            this.on('update', (evt, data) => {\n                this._config.onUpdate(data);\n            });\n        }\n        if (isElement(this._config.container)) {\n            this._config.container.appendChild(this.wordCountContainer);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    destroy() {\n        if (this._outputView) {\n            this._outputView.element.remove();\n            this._outputView.destroy();\n        }\n        super.destroy();\n    }\n    /**\n     * Creates a self-updating HTML element. Repeated executions return the same element.\n     * The returned element has the following HTML structure:\n     *\n     * ```html\n     * <div class=\"ck ck-word-count\">\n     * \t<div class=\"ck-word-count__words\">Words: 4</div>\n     * \t<div class=\"ck-word-count__characters\">Characters: 28</div>\n     * </div>\n     * ```\n     */\n    get wordCountContainer() {\n        const editor = this.editor;\n        const t = editor.t;\n        const displayWords = editor.config.get('wordCount.displayWords');\n        const displayCharacters = editor.config.get('wordCount.displayCharacters');\n        const bind = Template.bind(this, this);\n        const children = [];\n        if (!this._outputView) {\n            this._outputView = new View();\n            if (displayWords || displayWords === undefined) {\n                this.bind('_wordsLabel').to(this, 'words', words => {\n                    return t('Words: %0', words);\n                });\n                children.push({\n                    tag: 'div',\n                    children: [\n                        {\n                            text: [bind.to('_wordsLabel')]\n                        }\n                    ],\n                    attributes: {\n                        class: 'ck-word-count__words'\n                    }\n                });\n            }\n            if (displayCharacters || displayCharacters === undefined) {\n                this.bind('_charactersLabel').to(this, 'characters', words => {\n                    return t('Characters: %0', words);\n                });\n                children.push({\n                    tag: 'div',\n                    children: [\n                        {\n                            text: [bind.to('_charactersLabel')]\n                        }\n                    ],\n                    attributes: {\n                        class: 'ck-word-count__characters'\n                    }\n                });\n            }\n            this._outputView.setTemplate({\n                tag: 'div',\n                attributes: {\n                    class: [\n                        'ck',\n                        'ck-word-count'\n                    ]\n                },\n                children\n            });\n            this._outputView.render();\n        }\n        return this._outputView.element;\n    }\n    _getText() {\n        let txt = '';\n        for (const root of this.editor.model.document.getRoots()) {\n            if (txt !== '') {\n                // Add a delimiter, so words from each root are treated independently.\n                txt += '\\n';\n            }\n            txt += modelElementToPlainText(root);\n        }\n        return txt;\n    }\n    /**\n     * Determines the number of characters in the current editor's model.\n     */\n    _getCharacters(txt) {\n        return txt.replace(/\\n/g, '').length;\n    }\n    /**\n     * Determines the number of words in the current editor's model.\n     */\n    _getWords(txt) {\n        const detectedWords = txt.match(this._wordsMatchRegExp) || [];\n        return detectedWords.length;\n    }\n    /**\n     * Determines the number of words and characters in the current editor's model and assigns it to {@link #characters} and {@link #words}.\n     * It also fires the {@link #event:update}.\n     *\n     * @fires update\n     */\n    _refreshStats() {\n        const txt = this._getText();\n        const words = this.words = this._getWords(txt);\n        const characters = this.characters = this._getCharacters(txt);\n        this.fire('update', {\n            words,\n            characters\n        });\n    }\n}\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {icons} from 'ckeditor5/src/core';\nimport {ButtonView} from 'ckeditor5/src/ui';\nimport {ImageInsertUI} from '@ckeditor/ckeditor5-image';\n\nexport default class CraftImageInsertUI extends ImageInsertUI {\n  static get pluginName() {\n    return 'CraftImageInsertUI';\n  }\n\n  init() {\n    // Make sure there are linked volumes\n    if (!this._assetSources) {\n      console.warn(\n        'Omitting the \"image\" CKEditor toolbar button, because there aren’t any permitted volumes.',\n      );\n      return;\n    }\n\n    // Register `insertImage` dropdown and add `imageInsert` dropdown as an alias for consistency with ImageInsertUI\n    const componentFactory = this.editor.ui.componentFactory;\n    const componentCreator = (locale) => {\n      return this._createToolbarImageButton(locale);\n    };\n    componentFactory.add('insertImage', componentCreator);\n    componentFactory.add('imageInsert', componentCreator);\n  }\n\n  get _assetSources() {\n    return this.editor.config.get('assetSources');\n  }\n\n  _createToolbarImageButton(locale) {\n    const editor = this.editor;\n    const t = editor.t;\n    const button = new ButtonView(locale);\n    button.isEnabled = true;\n    button.label = t('Insert image');\n    button.icon = icons.image;\n    button.tooltip = true;\n    const insertImageCommand = editor.commands.get('insertImage');\n    button.bind('isEnabled').to(insertImageCommand);\n    this.listenTo(button, 'execute', () => this._showImageSelectModal());\n    return button;\n  }\n\n  _showImageSelectModal() {\n    const sources = this._assetSources;\n    const editor = this.editor;\n    const config = editor.config;\n    const criteria = Object.assign({}, config.get('assetSelectionCriteria'), {\n      kind: 'image',\n    });\n\n    Craft.createElementSelectorModal('craft\\\\elements\\\\Asset', {\n      storageKey: `ckeditor:${this.pluginName}:'craft\\\\elements\\\\Asset'`,\n      sources,\n      criteria,\n      defaultSiteId: config.get('elementSiteId'),\n      transforms: config.get('transforms'),\n      multiSelect: true,\n      autoFocusSearchBox: false,\n      onSelect: (assets, transform) => {\n        this._processAssetUrls(assets, transform).then(() => {\n          editor.editing.view.focus();\n        });\n      },\n      onHide: () => {\n        editor.editing.view.focus();\n      },\n      closeOtherModals: false,\n    });\n  }\n\n  _processAssetUrls(assets, transform) {\n    return new Promise((resolve) => {\n      if (!assets.length) {\n        resolve();\n        return;\n      }\n\n      const editor = this.editor;\n      const defaultTransform = editor.config.get('defaultTransform');\n      const queue = new Craft.Queue();\n      const urls = [];\n\n      queue.on('afterRun', () => {\n        editor.execute('insertImage', {source: urls});\n        resolve();\n      });\n\n      for (const asset of assets) {\n        queue.push(\n          () =>\n            new Promise((resolve) => {\n              const hasTransform = this._isTransformUrl(asset.url);\n              // Do we need to apply the default transform?\n              if (!hasTransform && defaultTransform) {\n                this._getTransformUrl(asset.id, defaultTransform, (url) => {\n                  urls.push(url);\n                  // editor.execute('insertImage', {source: url});\n                  resolve();\n                });\n              } else {\n                const url = this._buildAssetUrl(\n                  asset.id,\n                  asset.url,\n                  hasTransform ? transform : defaultTransform,\n                );\n                urls.push(url);\n                // editor.execute('insertImage', {source: url});\n                resolve();\n              }\n            }),\n        );\n      }\n    });\n  }\n\n  _buildAssetUrl(assetId, assetUrl, transform) {\n    return `${assetUrl}#asset:${assetId}:${\n      transform ? 'transform:' + transform : 'url'\n    }`;\n  }\n\n  _removeTransformFromUrl(url) {\n    return url.replace(/(^|\\/)(_[^\\/]+\\/)([^\\/]+)$/, '$1$3');\n  }\n\n  _isTransformUrl(url) {\n    return /(^|\\/)_[^\\/]+\\/[^\\/]+$/.test(url);\n  }\n\n  _getTransformUrl(assetId, handle, callback) {\n    Craft.sendActionRequest('POST', 'ckeditor/ckeditor/image-url', {\n      data: {\n        assetId: assetId,\n        transform: handle,\n      },\n    })\n      .then(({data}) => {\n        callback(this._buildAssetUrl(assetId, data.url, handle));\n      })\n      .catch(() => {\n        alert('There was an error generating the transform URL.');\n      });\n  }\n\n  _getAssetUrlComponents(url) {\n    const matches = url.match(\n      /(.*)#asset:(\\d+):(url|transform):?([a-zA-Z][a-zA-Z0-9_]*)?/,\n    );\n    return matches\n      ? {\n          url: matches[1],\n          assetId: matches[2],\n          transform: matches[3] !== 'url' ? matches[4] : null,\n        }\n      : null;\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport {Collection} from 'ckeditor5/src/utils';\nimport {\n  ViewModel,\n  ContextualBalloon,\n  SplitButtonView,\n  createDropdown,\n  addListToDropdown,\n} from 'ckeditor5/src/ui';\nimport linkIcon from '@ckeditor/ckeditor5-link/theme/icons/link.svg';\nimport {LinkUI} from '@ckeditor/ckeditor5-link';\nimport {LINK_KEYSTROKE} from '@ckeditor/ckeditor5-link/src/utils';\nimport {Range} from 'ckeditor5/src/engine';\nexport default class CraftLinkUI extends Plugin {\n  static get requires() {\n    return [LinkUI];\n  }\n\n  static get pluginName() {\n    return 'CraftLinkUI';\n  }\n\n  constructor() {\n    super(...arguments);\n    this.siteDropdownView = null;\n    this.siteDropdownItemModels = null;\n    this.localizedRefHandleRE = null;\n    this.editor.config.define('linkOptions', []);\n  }\n\n  init() {\n    const editor = this.editor;\n    this._linkUI = editor.plugins.get(LinkUI);\n    this._balloon = editor.plugins.get(ContextualBalloon);\n    this._createToolbarLinkButton();\n\n    if (Craft.isMultiSite) {\n      this._modifyFormViewTemplate();\n      const refHandlesPattern =\n        CKEditor5.craftcms.localizedRefHandles.join('|');\n      this.localizedRefHandleRE = new RegExp(\n        `(#(?:${refHandlesPattern}):\\\\d+)(?:@(\\\\d+))?`,\n      );\n    }\n  }\n\n  _createToolbarLinkButton() {\n    const editor = this.editor;\n    const linkOptions = editor.config.get('linkOptions');\n    if (!linkOptions || !linkOptions.length) {\n      this._linkUI._createToolbarLinkButton();\n      return;\n    }\n    const linkCommand = editor.commands.get('link');\n    const t = editor.t;\n    editor.ui.componentFactory.add('link', (locale) => {\n      const dropdownView = createDropdown(locale, SplitButtonView);\n      const splitButtonView = dropdownView.buttonView;\n      splitButtonView.isEnabled = true;\n      splitButtonView.label = t('Link');\n      splitButtonView.icon = linkIcon;\n      splitButtonView.keystroke = LINK_KEYSTROKE;\n      splitButtonView.tooltip = true;\n      splitButtonView.isToggleable = true;\n      this.listenTo(splitButtonView, 'execute', () =>\n        this._linkUI._showUI(true),\n      );\n      dropdownView.on('execute', (evt) => {\n        if (evt.source.linkOption) {\n          const linkOption = evt.source.linkOption;\n          this._showElementSelectorModal(linkOption);\n        } else {\n          this._linkUI._showUI(true);\n        }\n      });\n      dropdownView.class = 'ck-code-block-dropdown';\n      dropdownView.bind('isEnabled').to(linkCommand, 'isEnabled');\n      splitButtonView.bind('isOn').to(linkCommand, 'value', (value) => !!value);\n      addListToDropdown(dropdownView, () =>\n        this._getLinkListItemDefinitions(linkOptions),\n      );\n      return dropdownView;\n    });\n  }\n\n  _getLinkListItemDefinitions(linkOptions) {\n    const itemDefinitions = new Collection();\n\n    for (const option of linkOptions) {\n      itemDefinitions.add({\n        type: 'button',\n        model: new ViewModel({\n          label: option.label,\n          linkOption: option,\n          withText: true,\n        }),\n      });\n    }\n\n    itemDefinitions.add({\n      type: 'button',\n      model: new ViewModel({\n        label: Craft.t('ckeditor', 'Insert link'),\n        withText: true,\n      }),\n    });\n\n    return itemDefinitions;\n  }\n\n  _showElementSelectorModal(linkOption) {\n    const editor = this.editor;\n    const model = editor.model;\n    const selection = model.document.selection;\n    const isCollapsed = selection.isCollapsed;\n    const range = selection.getFirstRange();\n\n    const onCancel = () => {\n      editor.editing.view.focus();\n      if (!isCollapsed && range) {\n        // Restore the previous range\n        model.change((writer) => {\n          writer.setSelection(range);\n        });\n      }\n      this._linkUI._hideFakeVisualSelection();\n    };\n\n    // When there's no link under the selection, go straight to the editing UI.\n    if (!this._linkUI._getSelectedLinkElement()) {\n      // Show visual selection on a text without a link when the contextual balloon is displayed.\n      // See https://github.com/ckeditor/ckeditor5/issues/4721.\n      this._linkUI._showFakeVisualSelection();\n    }\n\n    Craft.createElementSelectorModal(linkOption.elementType, {\n      storageKey: `ckeditor:${this.pluginName}:${linkOption.elementType}`,\n      sources: linkOption.sources,\n      criteria: linkOption.criteria,\n      defaultSiteId: editor.config.get('elementSiteId'),\n      autoFocusSearchBox: false,\n      onSelect: (elements) => {\n        if (elements.length) {\n          const element = elements[0];\n          const url = `${element.url}#${linkOption.refHandle}:${element.id}@${element.siteId}`;\n          editor.editing.view.focus();\n          if (!isCollapsed && range) {\n            // Restore the previous range\n            model.change((writer) => {\n              writer.setSelection(range);\n            });\n            const linkCommand = editor.commands.get('link');\n            linkCommand.execute(url);\n          } else {\n            model.change((writer) => {\n              writer.insertText(\n                element.label,\n                {\n                  linkHref: url,\n                },\n                selection.getFirstPosition(),\n              );\n              if (range instanceof Range) {\n                try {\n                  const newRange = range.clone();\n                  newRange.end.path[1] += element.label.length;\n                  writer.setSelection(newRange);\n                } catch (e) {}\n              }\n            });\n          }\n\n          this._linkUI._hideFakeVisualSelection();\n          setTimeout(() => {\n            editor.editing.view.focus();\n            this._linkUI._showUI(true);\n          }, 100);\n        } else {\n          onCancel();\n        }\n      },\n      onCancel: () => {\n        onCancel();\n      },\n      closeOtherModals: false,\n    });\n  }\n\n  _modifyFormViewTemplate() {\n    // ensure the form view template has been defined\n    if (!this._linkUI.formView) {\n      this._linkUI._createViews();\n    }\n\n    const {formView} = this._linkUI;\n    const {urlInputView} = formView;\n    const {fieldView} = urlInputView;\n\n    // ensure the form view is vertical\n    formView.template.attributes.class.push(\n      'ck-link-form_layout-vertical',\n      'ck-vertical-form',\n    );\n\n    this.siteDropdownView = createDropdown(formView.locale);\n    this.siteDropdownView.buttonView.set({\n      label: '',\n      withText: true,\n      isVisible: false,\n    });\n\n    this.siteDropdownItemModels = Object.fromEntries(\n      Craft.sites.map((site) => [\n        site.id,\n        new ViewModel({\n          label: site.name,\n          siteId: site.id,\n          withText: true,\n        }),\n      ]),\n    );\n\n    this.siteDropdownItemModels.current = new ViewModel({\n      label: Craft.t('ckeditor', 'Link to the current site'),\n      siteId: null,\n      withText: true,\n    });\n\n    addListToDropdown(\n      this.siteDropdownView,\n      new Collection([\n        ...Craft.sites.map((site) => ({\n          type: 'button',\n          model: this.siteDropdownItemModels[site.id],\n        })),\n        {\n          type: 'button',\n          model: this.siteDropdownItemModels.current,\n        },\n      ]),\n    );\n\n    this.siteDropdownView.on('execute', (evt) => {\n      const match = this._urlInputRefMatch();\n      if (!match) {\n        console.warn(\n          `No reference tag hash present in URL: ${this._urlInputValue()}`,\n        );\n        return;\n      }\n      const {siteId} = evt.source;\n      let ref = match[1];\n      if (siteId) {\n        ref += `@${siteId}`;\n      }\n      const newUrl = this._urlInputValue().replace(match[0], ref);\n      fieldView.set('value', newUrl);\n    });\n\n    const {children} = formView;\n    const urlInputIdx = children.getIndex(urlInputView);\n    children.add(this.siteDropdownView, urlInputIdx + 1);\n\n    // would be better if the dropdown could be added after the URL input\n    // but not currently possible since the rest of the inputs get added via LinkFormView::render()\n    formView._focusables.add(this.siteDropdownView);\n    formView.focusTracker.add(this.siteDropdownView.element);\n\n    this.listenTo(fieldView, 'change:value', () => {\n      this._toggleSiteDropdownView();\n    });\n    this.listenTo(fieldView, 'input', () => {\n      this._toggleSiteDropdownView();\n    });\n  }\n\n  _urlInputValue() {\n    return this._linkUI.formView.urlInputView.fieldView.element.value;\n  }\n\n  _urlInputRefMatch() {\n    return this._urlInputValue().match(this.localizedRefHandleRE);\n  }\n\n  _toggleSiteDropdownView() {\n    const match = this._urlInputRefMatch();\n    if (match) {\n      this.siteDropdownView.buttonView.set('isVisible', true);\n      let siteId = match[2] ? parseInt(match[2], 10) : null;\n      if (\n        siteId &&\n        typeof this.siteDropdownItemModels[siteId] === 'undefined'\n      ) {\n        siteId = null;\n      }\n      this._selectSiteDropdownItem(siteId);\n    } else {\n      this.siteDropdownView.buttonView.set('isVisible', false);\n    }\n  }\n\n  _selectSiteDropdownItem(siteId) {\n    const itemModel = this.siteDropdownItemModels[siteId ?? 'current'];\n\n    // update the button label\n    const label = siteId\n      ? Craft.t('ckeditor', 'Site: {name}', {name: itemModel.label})\n      : itemModel.label;\n    this.siteDropdownView.buttonView.set('label', label);\n\n    // update the item states\n    Object.values(this.siteDropdownItemModels).forEach((model) => {\n      model.set('isOn', model === itemModel);\n    });\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Command} from 'ckeditor5/src/core';\n\n/**\n * The transform image command.\n */\nexport default class TransformImageCommand extends Command {\n  refresh() {\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n    this.isEnabled = !!srcInfo;\n    if (!srcInfo) {\n      this.value = null;\n    } else {\n      this.value = {\n        transform: srcInfo.transform,\n      };\n    }\n  }\n\n  _element() {\n    const editor = this.editor;\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return imageUtils.getClosestSelectedImageElement(\n      editor.model.document.selection,\n    );\n  }\n\n  _srcInfo(element) {\n    if (!element || !element.hasAttribute('src')) {\n      return null;\n    }\n\n    const src = element.getAttribute('src');\n    const match = src.match(\n      /#asset:(\\d+)(?::transform:([a-zA-Z][a-zA-Z0-9_]*))?/,\n    );\n    if (!match) {\n      return null;\n    }\n\n    return {\n      src,\n      assetId: match[1],\n      transform: match[2],\n    };\n  }\n\n  /**\n   * Executes the command.\n   *\n   * ```js\n   * // Applies the `thumb` transform\n   * editor.execute( 'transformImage', { transform: 'thumb' } );\n   *\n   * // Removes the transform\n   * editor.execute( 'transformImage', { transform: null } );\n   * ```\n   *\n   * @param options\n   * @param options.transform The new transform for the image.\n   * @fires execute\n   */\n  execute(options) {\n    const editor = this.editor;\n    const model = editor.model;\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n\n    this.value = {\n      transform: options.transform,\n    };\n\n    if (srcInfo) {\n      const hash =\n        `#asset:${srcInfo.assetId}` +\n        (options.transform ? `:transform:${options.transform}` : '');\n\n      // update the src hash immediately, so the transform is applied even if the real URL doesn’t load successfully\n      model.change((writer) => {\n        const src = srcInfo.src.replace(/#.*/, '') + hash;\n        writer.setAttribute('src', src, element);\n      });\n\n      // load the real URL and then update the src again\n      Craft.sendActionRequest('post', 'ckeditor/ckeditor/image-url', {\n        data: {\n          assetId: srcInfo.assetId,\n          transform: options.transform,\n        },\n      }).then(({data}) => {\n        model.change((writer) => {\n          const src = data.url + hash;\n          writer.setAttribute('src', src, element);\n\n          // update image width and height to match the transformed size;\n          // ckeditor insists on keeping those around:\n          // https://ckeditor.com/docs/ckeditor5/latest/features/images/images-overview.html#image-width-and-height-attributes\n          if (data.width) {\n            writer.setAttribute('width', data.width, element);\n          }\n          if (data.height) {\n            writer.setAttribute('height', data.height, element);\n          }\n        });\n      });\n    }\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageUtils from '@ckeditor/ckeditor5-image/src/imageutils';\nimport TransformImageCommand from './transformimagecommand';\n\nexport default class ImageTransformEditing extends Plugin {\n  static get requires() {\n    return [ImageUtils];\n  }\n\n  static get pluginName() {\n    return 'ImageTransformEditing';\n  }\n\n  constructor(editor) {\n    super(editor);\n    editor.config.define('transforms', []);\n  }\n\n  init() {\n    const editor = this.editor;\n    const transformImageCommand = new TransformImageCommand(editor);\n    editor.commands.add('transformImage', transformImageCommand);\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin, icons} from 'ckeditor5/src/core';\nimport {\n  DropdownButtonView,\n  ViewModel,\n  createDropdown,\n  addListToDropdown,\n} from 'ckeditor5/src/ui';\nimport {Collection} from 'ckeditor5/src/utils';\nimport ImageTransformEditing from './imagetransformediting';\n\nconst RESIZE_ICON = icons.objectSizeMedium;\n\nexport default class ImageTransformUI extends Plugin {\n  static get requires() {\n    return [ImageTransformEditing];\n  }\n\n  static get pluginName() {\n    return 'ImageTransformUI';\n  }\n\n  init() {\n    const editor = this.editor;\n    const transforms = editor.config.get('transforms');\n    const command = editor.commands.get('transformImage');\n    this.bind('isEnabled').to(command);\n    this._registerImageTransformDropdown(transforms);\n  }\n\n  /**\n   * A helper function that creates a dropdown component for the plugin containing all the transform options defined in\n   * the editor configuration.\n   *\n   * @param transforms An array of the available image transforms.\n   */\n  _registerImageTransformDropdown(transforms) {\n    const editor = this.editor;\n    const t = editor.t;\n    const originalSizeOption = {\n      name: 'transformImage:original',\n      value: null,\n    };\n    const options = [\n      originalSizeOption,\n      ...transforms.map((transform) => ({\n        label: transform.name,\n        name: `transformImage:${transform.handle}`,\n        value: transform.handle,\n      })),\n    ];\n    const componentCreator = (locale) => {\n      const command = editor.commands.get('transformImage');\n      const dropdownView = createDropdown(locale, DropdownButtonView);\n      const dropdownButton = dropdownView.buttonView;\n      dropdownButton.set({\n        tooltip: t('Resize image'),\n        commandValue: null,\n        icon: RESIZE_ICON,\n        isToggleable: true,\n        label: this._getOptionLabelValue(originalSizeOption),\n        withText: true,\n        class: 'ck-resize-image-button',\n      });\n      dropdownButton.bind('label').to(command, 'value', (commandValue) => {\n        if (!commandValue || !commandValue.transform) {\n          return this._getOptionLabelValue(originalSizeOption);\n        }\n        const transform = transforms.find(\n          (t) => t.handle === commandValue.transform,\n        );\n        if (transform) {\n          return transform.name;\n        }\n        return commandValue.transform;\n      });\n      dropdownView.bind('isEnabled').to(this);\n      addListToDropdown(\n        dropdownView,\n        () => this._getTransformDropdownListItemDefinitions(options, command),\n        {\n          ariaLabel: t('Image resize list'),\n        },\n      );\n      // Execute command when an item from the dropdown is selected.\n      this.listenTo(dropdownView, 'execute', (evt) => {\n        editor.execute(evt.source.commandName, {\n          transform: evt.source.commandValue,\n        });\n        editor.editing.view.focus();\n      });\n      return dropdownView;\n    };\n    editor.ui.componentFactory.add('transformImage', componentCreator);\n  }\n\n  /**\n   * A helper function for creating an option label value string.\n   *\n   * @param option A transform option object.\n   * @returns The option label.\n   */\n  _getOptionLabelValue(option) {\n    return option.label || option.value || this.editor.t('Original');\n  }\n\n  /**\n   * A helper function that parses the transform options and returns list item definitions ready for use in the dropdown.\n   *\n   * @param options The transform options.\n   * @param command The transform image command.\n   * @returns Dropdown item definitions.\n   */\n  _getTransformDropdownListItemDefinitions(options, command) {\n    const itemDefinitions = new Collection();\n    options.map((option) => {\n      const definition = {\n        type: 'button',\n        model: new ViewModel({\n          commandName: 'transformImage',\n          commandValue: option.value,\n          label: this._getOptionLabelValue(option),\n          withText: true,\n          icon: null,\n        }),\n      };\n      definition.model\n        .bind('isOn')\n        .to(command, 'value', getIsOnButtonCallback(option.value));\n      itemDefinitions.add(definition);\n    });\n    return itemDefinitions;\n  }\n}\n\n/**\n * A helper function for setting the `isOn` state of buttons in value bindings.\n */\nfunction getIsOnButtonCallback(value) {\n  return (commandValue) => {\n    const objectCommandValue = commandValue;\n    if (value === null && objectCommandValue === value) {\n      return true;\n    }\n    return (\n      objectCommandValue !== null && objectCommandValue.transform === value\n    );\n  };\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageTransformEditing from './imagetransform/imagetransformediting';\nimport ImageTransformUI from './imagetransform/imagetransformui';\n\nexport default class ImageTransform extends Plugin {\n  static get requires() {\n    return [ImageTransformEditing, ImageTransformUI];\n  }\n\n  static get pluginName() {\n    return 'ImageTransform';\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Command} from 'ckeditor5/src/core';\n\n/**\n * The transform image command.\n */\nexport default class ImageEditorCommand extends Command {\n  refresh() {\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n    this.isEnabled = !!srcInfo;\n\n    // if the command is still enabled - check permissions too\n    if (this.isEnabled) {\n      let data = {\n        assetId: srcInfo.assetId,\n      };\n\n      Craft.sendActionRequest('POST', 'ckeditor/ckeditor/image-permissions', {\n        data,\n      }).then((response) => {\n        if (response.data.editable === false) {\n          this.isEnabled = false;\n        }\n      });\n    }\n  }\n\n  /**\n   * Returns the selected image element.\n   */\n  _element() {\n    const editor = this.editor;\n    const imageUtils = editor.plugins.get('ImageUtils');\n    return imageUtils.getClosestSelectedImageElement(\n      editor.model.document.selection,\n    );\n  }\n\n  /**\n   * Checks if element has a src attribute and at least an asset id.\n   * Returns null if not and array containing src, baseSrc, asset id and transform (if used).\n   *\n   * @param element\n   * @returns {{transform: *, src: *, assetId: *, baseSrc: *}|null}\n   * @private\n   */\n  _srcInfo(element) {\n    if (!element || !element.hasAttribute('src')) {\n      return null;\n    }\n\n    const src = element.getAttribute('src');\n    const match = src.match(\n      /(.*)#asset:(\\d+)(?::transform:([a-zA-Z][a-zA-Z0-9_]*))?/,\n    );\n    if (!match) {\n      return null;\n    }\n\n    return {\n      src,\n      baseSrc: match[1],\n      assetId: match[2],\n      transform: match[3],\n    };\n  }\n\n  /**\n   * Executes the command.\n   *\n   * @fires execute\n   */\n  execute() {\n    const editor = this.editor;\n    const model = editor.model;\n    const element = this._element();\n    const srcInfo = this._srcInfo(element);\n\n    if (srcInfo) {\n      let settings = {\n        allowSavingAsNew: false, // todo: we might want to change that, but currently we're doing the same functionality as in Redactor\n        onSave: (data) => {\n          this._reloadImage(srcInfo.assetId, data);\n        },\n        allowDegreeFractions: Craft.isImagick,\n      };\n\n      new Craft.AssetImageEditor(srcInfo.assetId, settings);\n    }\n  }\n\n  /**\n   * Reloads the matching images after save was triggered from the Image Editor.\n   *\n   * @param data\n   */\n  _reloadImage(assetId, data) {\n    let editor = this.editor;\n    let model = editor.model;\n\n    // get all images that are Craft Assets\n    let images = this._getAllImageAssets();\n\n    // go through them all and get the ones with matching asset id\n    images.forEach((image) => {\n      // if it's the image we just edited\n      if (image.srcInfo.assetId == assetId) {\n        // if it doesn't have a transform\n        if (!image.srcInfo.transform) {\n          // get new src\n          let newSrc =\n            image.srcInfo.baseSrc +\n            '?' +\n            new Date().getTime() +\n            '#asset:' +\n            image.srcInfo.assetId;\n\n          // and replace\n          model.change((writer) => {\n            writer.setAttribute('src', newSrc, image.element);\n          });\n        } else {\n          let data = {\n            assetId: image.srcInfo.assetId,\n            handle: image.srcInfo.transform,\n          };\n\n          // get the new url\n          Craft.sendActionRequest('POST', 'assets/generate-transform', {\n            data,\n          }).then((response) => {\n            // get new src\n            let newSrc =\n              response.data.url +\n              '?' +\n              new Date().getTime() +\n              '#asset:' +\n              image.srcInfo.assetId +\n              ':transform:' +\n              image.srcInfo.transform;\n\n            // and replace\n            model.change((writer) => {\n              writer.setAttribute('src', newSrc, image.element);\n            });\n          });\n        }\n      }\n    });\n  }\n\n  /**\n   * Returns all images present in the editor that are Craft Assets.\n   *\n   * @returns {*[]}\n   * @private\n   */\n  _getAllImageAssets() {\n    const editor = this.editor;\n    const model = editor.model;\n    const range = model.createRangeIn(model.document.getRoot());\n\n    let images = [];\n    for (const value of range.getWalker({ignoreElementEnd: true})) {\n      if (value.item.is('element') && value.item.name === 'imageBlock') {\n        let srcInfo = this._srcInfo(value.item);\n        if (srcInfo) {\n          images.push({\n            element: value.item,\n            srcInfo: srcInfo,\n          });\n        }\n      }\n    }\n\n    return images;\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageUtils from '@ckeditor/ckeditor5-image/src/imageutils';\nimport ImageEditorCommand from './imageeditorcommand';\n\nexport default class ImageEditorEditing extends Plugin {\n  static get requires() {\n    return [ImageUtils];\n  }\n\n  static get pluginName() {\n    return 'ImageEditorEditing';\n  }\n\n  init() {\n    const editor = this.editor;\n    const imageEditorCommand = new ImageEditorCommand(editor);\n    editor.commands.add('imageEditor', imageEditorCommand);\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin, icons} from 'ckeditor5/src/core';\nimport {ButtonView} from 'ckeditor5/src/ui';\nimport ImageEditorEditing from './imageeditorediting';\n\nexport default class ImageEditorUI extends Plugin {\n  static get requires() {\n    return [ImageEditorEditing];\n  }\n\n  static get pluginName() {\n    return 'ImageEditorUI';\n  }\n\n  init() {\n    const editor = this.editor;\n    const command = editor.commands.get('imageEditor');\n    this.bind('isEnabled').to(command);\n    this._registerImageEditorButton();\n  }\n\n  /**\n   * A helper function that creates a button component for the plugin that triggers launch of the Image Editor.\n   */\n  _registerImageEditorButton() {\n    const editor = this.editor;\n    const t = editor.t;\n    const command = editor.commands.get('imageEditor');\n\n    const componentCreator = () => {\n      const buttonView = new ButtonView();\n\n      buttonView.set({\n        label: t('Edit Image'),\n        withText: true,\n      });\n\n      buttonView.bind('isEnabled').to(command);\n\n      // Execute command when a button is clicked.\n      this.listenTo(buttonView, 'execute', (evt) => {\n        editor.execute('imageEditor');\n        editor.editing.view.focus();\n      });\n\n      return buttonView;\n    };\n\n    editor.ui.componentFactory.add('imageEditor', componentCreator);\n  }\n}\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport {Plugin} from 'ckeditor5/src/core';\nimport ImageEditorEditing from './imageeditor/imageeditorediting';\nimport ImageEditorUI from './imageeditor/imageeditorui';\n\nexport default class ImageEditor extends Plugin {\n  static get requires() {\n    return [ImageEditorEditing, ImageEditorUI];\n  }\n\n  static get pluginName() {\n    return 'ImageEditor';\n  }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module language/utils\n */\nimport { getLanguageDirection } from 'ckeditor5/src/utils.js';\n/**\n * Returns the language attribute value in a human-readable text format:\n *\n * ```\n * <languageCode>:<textDirection>\n * ```\n *\n * * `languageCode` - The language code used for the `lang` attribute in the [ISO 639-1](https://en.wikipedia.org/wiki/ISO_639-1) format.\n * * `textDirection` - One of the following values: `rtl` or `ltr`, indicating the reading direction of the language.\n *\n * See the {@link module:core/editor/editorconfig~LanguageConfig#textPartLanguage text part language configuration}\n * for more information about language properties.\n *\n * If the `textDirection` argument is omitted, it will be automatically detected based on `languageCode`.\n *\n * @param languageCode The language code in the ISO 639-1 format.\n * @param textDirection The language text direction. Automatically detected if omitted.\n */\nexport function stringifyLanguageAttribute(languageCode, textDirection) {\n    textDirection = textDirection || getLanguageDirection(languageCode);\n    return `${languageCode}:${textDirection}`;\n}\n/**\n * Retrieves language properties converted to attribute value by the\n * {@link module:language/utils~stringifyLanguageAttribute stringifyLanguageAttribute} function.\n *\n * @param str The attribute value.\n * @returns The object with properties:\n * * languageCode - The language code in the ISO 639 format.\n * * textDirection - The language text direction.\n */\nexport function parseLanguageAttribute(str) {\n    const [languageCode, textDirection] = str.split(':');\n    return { languageCode, textDirection };\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Command } from 'ckeditor5/src/core.js';\nimport { stringifyLanguageAttribute } from './utils.js';\n/**\n * The text part language command plugin.\n */\nexport default class TextPartLanguageCommand extends Command {\n    /**\n     * @inheritDoc\n     */\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n        this.value = this._getValueFromFirstAllowedNode();\n        this.isEnabled = model.schema.checkAttributeInSelection(doc.selection, 'language');\n    }\n    /**\n     * Executes the command. Applies the attribute to the selection or removes it from the selection.\n     *\n     * If `languageCode` is set to `false` or a `null` value, it will remove attributes. Otherwise, it will set\n     * the attribute in the `{@link #value value}` format.\n     *\n     * The execution result differs, depending on the {@link module:engine/model/document~Document#selection}:\n     *\n     * * If the selection is on a range, the command applies the attribute to all nodes in that range\n     * (if they are allowed to have this attribute by the {@link module:engine/model/schema~Schema schema}).\n     * * If the selection is collapsed in a non-empty node, the command applies the attribute to the\n     * {@link module:engine/model/document~Document#selection} itself (note that typed characters copy attributes from the selection).\n     * * If the selection is collapsed in an empty node, the command applies the attribute to the parent node of the selection (note\n     * that the selection inherits all attributes from a node if it is in an empty node).\n     *\n     * @fires execute\n     * @param options Command options.\n     * @param options.languageCode The language code to be applied to the model.\n     * @param options.textDirection The language text direction.\n     */\n    execute({ languageCode, textDirection } = {}) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const value = languageCode ? stringifyLanguageAttribute(languageCode, textDirection) : false;\n        model.change(writer => {\n            if (selection.isCollapsed) {\n                if (value) {\n                    writer.setSelectionAttribute('language', value);\n                }\n                else {\n                    writer.removeSelectionAttribute('language');\n                }\n            }\n            else {\n                const ranges = model.schema.getValidRanges(selection.getRanges(), 'language');\n                for (const range of ranges) {\n                    if (value) {\n                        writer.setAttribute('language', value, range);\n                    }\n                    else {\n                        writer.removeAttribute('language', range);\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Returns the attribute value of the first node in the selection that allows the attribute.\n     * For a collapsed selection it returns the selection attribute.\n     *\n     * @returns The attribute value.\n     */\n    _getValueFromFirstAllowedNode() {\n        const model = this.editor.model;\n        const schema = model.schema;\n        const selection = model.document.selection;\n        if (selection.isCollapsed) {\n            return selection.getAttribute('language') || false;\n        }\n        for (const range of selection.getRanges()) {\n            for (const item of range.getItems()) {\n                if (schema.checkAttribute(item, 'language')) {\n                    return item.getAttribute('language') || false;\n                }\n            }\n        }\n        return false;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TextPartLanguageCommand from './textpartlanguagecommand.js';\nimport { stringifyLanguageAttribute, parseLanguageAttribute } from './utils.js';\n/**\n * The text part language editing.\n *\n * Introduces the `'textPartLanguage'` command and the `'language'` model element attribute.\n */\nexport default class TextPartLanguageEditing extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TextPartLanguageEditing';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    constructor(editor) {\n        super(editor);\n        // Text part language options are only used to ensure that the feature works by default.\n        // In the real usage it should be reconfigured by a developer. We are not providing\n        // translations for `title` properties on purpose, as it's only an example configuration.\n        editor.config.define('language', {\n            textPartLanguage: [\n                { title: 'Arabic', languageCode: 'ar' },\n                { title: 'French', languageCode: 'fr' },\n                { title: 'Spanish', languageCode: 'es' }\n            ]\n        });\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        editor.model.schema.extend('$text', { allowAttributes: 'language' });\n        editor.model.schema.setAttributeProperties('language', {\n            copyOnEnter: true\n        });\n        this._defineConverters();\n        editor.commands.add('textPartLanguage', new TextPartLanguageCommand(editor));\n    }\n    /**\n     * @private\n     */\n    _defineConverters() {\n        const conversion = this.editor.conversion;\n        conversion.for('upcast').elementToAttribute({\n            model: {\n                key: 'language',\n                value: (viewElement) => {\n                    const languageCode = viewElement.getAttribute('lang');\n                    const textDirection = viewElement.getAttribute('dir');\n                    return stringifyLanguageAttribute(languageCode, textDirection);\n                }\n            },\n            view: {\n                name: 'span',\n                attributes: { lang: /[\\s\\S]+/ }\n            }\n        });\n        conversion.for('downcast').attributeToElement({\n            model: 'language',\n            view: (attributeValue, { writer }, data) => {\n                if (!attributeValue) {\n                    return;\n                }\n                if (!data.item.is('$textProxy') && !data.item.is('documentSelection')) {\n                    return;\n                }\n                const { languageCode, textDirection } = parseLanguageAttribute(attributeValue);\n                return writer.createAttributeElement('span', {\n                    lang: languageCode,\n                    dir: textDirection\n                });\n            }\n        });\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module language/textpartlanguageui\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { addListToDropdown, createDropdown, ListSeparatorView, MenuBarMenuView, MenuBarMenuListView, MenuBarMenuListItemView, MenuBarMenuListItemButtonView, ViewModel } from 'ckeditor5/src/ui.js';\nimport { Collection } from 'ckeditor5/src/utils.js';\nimport { stringifyLanguageAttribute } from './utils.js';\n/**\n * The text part language UI plugin.\n *\n * It introduces the `'language'` dropdown.\n */\nexport default class TextPartLanguageUI extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TextPartLanguageUI';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n    /**\n     * @inheritDoc\n     */\n    init() {\n        const editor = this.editor;\n        const t = editor.t;\n        const defaultTitle = t('Choose language');\n        const accessibleLabel = t('Language');\n        // Register UI component.\n        editor.ui.componentFactory.add('textPartLanguage', locale => {\n            const { definitions, titles } = this._getItemMetadata();\n            const languageCommand = editor.commands.get('textPartLanguage');\n            const dropdownView = createDropdown(locale);\n            addListToDropdown(dropdownView, definitions, {\n                ariaLabel: accessibleLabel,\n                role: 'menu'\n            });\n            dropdownView.buttonView.set({\n                ariaLabel: accessibleLabel,\n                ariaLabelledBy: undefined,\n                isOn: false,\n                withText: true,\n                tooltip: accessibleLabel\n            });\n            dropdownView.extendTemplate({\n                attributes: {\n                    class: [\n                        'ck-text-fragment-language-dropdown'\n                    ]\n                }\n            });\n            dropdownView.bind('isEnabled').to(languageCommand, 'isEnabled');\n            dropdownView.buttonView.bind('label').to(languageCommand, 'value', value => {\n                return (value && titles[value]) || defaultTitle;\n            });\n            dropdownView.buttonView.bind('ariaLabel').to(languageCommand, 'value', value => {\n                const selectedLanguageTitle = value && titles[value];\n                if (!selectedLanguageTitle) {\n                    return accessibleLabel;\n                }\n                return `${selectedLanguageTitle}, ${accessibleLabel}`;\n            });\n            // Execute command when an item from the dropdown is selected.\n            this.listenTo(dropdownView, 'execute', evt => {\n                languageCommand.execute({\n                    languageCode: evt.source.languageCode,\n                    textDirection: evt.source.textDirection\n                });\n                editor.editing.view.focus();\n            });\n            return dropdownView;\n        });\n        // Register menu bar UI component.\n        editor.ui.componentFactory.add('menuBar:textPartLanguage', locale => {\n            const { definitions } = this._getItemMetadata();\n            const languageCommand = editor.commands.get('textPartLanguage');\n            const menuView = new MenuBarMenuView(locale);\n            menuView.buttonView.set({\n                label: accessibleLabel\n            });\n            const listView = new MenuBarMenuListView(locale);\n            listView.set({\n                ariaLabel: t('Language'),\n                role: 'menu'\n            });\n            for (const definition of definitions) {\n                if (definition.type != 'button') {\n                    listView.items.add(new ListSeparatorView(locale));\n                    continue;\n                }\n                const listItemView = new MenuBarMenuListItemView(locale, menuView);\n                const buttonView = new MenuBarMenuListItemButtonView(locale);\n                buttonView.set({\n                    role: 'menuitemradio',\n                    isToggleable: true\n                });\n                buttonView.bind(...Object.keys(definition.model)).to(definition.model);\n                buttonView.delegate('execute').to(menuView);\n                listItemView.children.add(buttonView);\n                listView.items.add(listItemView);\n            }\n            menuView.bind('isEnabled').to(languageCommand, 'isEnabled');\n            menuView.panelView.children.add(listView);\n            menuView.on('execute', evt => {\n                languageCommand.execute({\n                    languageCode: evt.source.languageCode,\n                    textDirection: evt.source.textDirection\n                });\n                editor.editing.view.focus();\n            });\n            return menuView;\n        });\n    }\n    /**\n     * Returns metadata for dropdown and menu items.\n     */\n    _getItemMetadata() {\n        const editor = this.editor;\n        const itemDefinitions = new Collection();\n        const titles = {};\n        const languageCommand = editor.commands.get('textPartLanguage');\n        const options = editor.config.get('language.textPartLanguage');\n        const t = editor.locale.t;\n        const removeTitle = t('Remove language');\n        // Item definition with false `languageCode` will behave as remove lang button.\n        itemDefinitions.add({\n            type: 'button',\n            model: new ViewModel({\n                label: removeTitle,\n                languageCode: false,\n                withText: true\n            })\n        });\n        itemDefinitions.add({\n            type: 'separator'\n        });\n        for (const option of options) {\n            const def = {\n                type: 'button',\n                model: new ViewModel({\n                    label: option.title,\n                    languageCode: option.languageCode,\n                    role: 'menuitemradio',\n                    textDirection: option.textDirection,\n                    withText: true\n                })\n            };\n            const language = stringifyLanguageAttribute(option.languageCode, option.textDirection);\n            def.model.bind('isOn').to(languageCommand, 'value', value => value === language);\n            itemDefinitions.add(def);\n            titles[language] = option.title;\n        }\n        return {\n            definitions: itemDefinitions,\n            titles\n        };\n    }\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * @module language/textpartlanguage\n */\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport TextPartLanguageEditing from './textpartlanguageediting.js';\nimport TextPartLanguageUI from './textpartlanguageui.js';\n/**\n * The text part language feature.\n *\n * This feature allows setting a language of the document's text part to support\n * [WCAG 3.1.2 Language of Parts](https://www.w3.org/TR/UNDERSTANDING-WCAG20/meaning-other-lang-id.html) specification.\n *\n * To change the editor's UI language, refer to the {@glink getting-started/setup/ui-language Setting the UI language} guide.\n *\n * For more information about this feature, check the {@glink api/language package page} as well as the {@glink features/language\n * Text part language} feature guide.\n *\n * This is a \"glue\" plugin which loads the\n * {@link module:language/textpartlanguageediting~TextPartLanguageEditing text part language editing feature}\n * and the {@link module:language/textpartlanguageui~TextPartLanguageUI text part language UI feature}.\n */\nexport default class TextPartLanguage extends Plugin {\n    /**\n     * @inheritDoc\n     */\n    static get requires() {\n        return [TextPartLanguageEditing, TextPartLanguageUI];\n    }\n    /**\n     * @inheritDoc\n     */\n    static get pluginName() {\n        return 'TextPartLanguage';\n    }\n    /**\n     * @inheritDoc\n     */\n    static get isOfficialPlugin() {\n        return true;\n    }\n}\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\n\n/**\n * @module anchor/utils\n */\n\nimport { toMap } from 'ckeditor5/src/utils';\n\n/**\n * Helper class that ties together all {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition} and provides\n * the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement downcast dispatchers} for them.\n */\nexport default class AutomaticDecorators {\n\tconstructor() {\n\t\t/**\n\t\t * Stores the definition of {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition automatic decorators}.\n\t\t * This data is used as a source for a downcast dispatcher to create a proper conversion to output data.\n\t\t *\n\t\t * @private\n\t\t * @type {Set}\n\t\t */\n\t\tthis._definitions = new Set();\n\t}\n\n\t/**\n\t * Gives information about the number of decorators stored in the {@link module:anchor/utils~AutomaticDecorators} instance.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Number}\n\t */\n\tget length() {\n\t\treturn this._definitions.size;\n\t}\n\n\t/**\n\t * Adds automatic decorator objects or an array with them to be used during downcasting.\n\t *\n\t * @param {module:anchor/anchor~AnchorDecoratorAutomaticDefinition|Array.<module:anchor/anchor~AnchorDecoratorAutomaticDefinition>} item\n\t * A configuration object of automatic rules for decorating anchors. It might also be an array of such objects.\n\t */\n\tadd( item ) {\n\t\tif ( Array.isArray( item ) ) {\n\t\t\titem.forEach( item => this._definitions.add( item ) );\n\t\t} else {\n\t\t\tthis._definitions.add( item );\n\t\t}\n\t}\n\n\t/**\n\t * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method.\n\t *\n\t * @returns {Function} A dispatcher function used as conversion helper\n\t * in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n\t */\n\tgetDispatcher() {\n\t\treturn dispatcher => {\n\t\t\tdispatcher.on( 'attribute:anchorId', ( evt, data, conversionApi ) => {\n\t\t\t\t// There is only test as this behavior decorates anchors and\n\t\t\t\t// it is run before dispatcher which actually consumes this node.\n\t\t\t\t// This allows on writing own dispatcher with highest priority,\n\t\t\t\t// which blocks both native converter and this additional decoration.\n\t\t\t\tif ( !conversionApi.consumable.test( data.item, 'attribute:anchorId' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst viewWriter = conversionApi.writer;\n\t\t\t\tconst viewSelection = viewWriter.document.selection;\n\n\t\t\t\tfor ( const item of this._definitions ) {\n\t\t\t\t\tconst viewElement = viewWriter.createAttributeElement( 'a', item.attributes, {\n\t\t\t\t\t\tpriority: 5\n\t\t\t\t\t} );\n\t\t\t\t\tviewWriter.setCustomProperty( 'anchor', true, viewElement );\n\t\t\t\t\tif ( item.callback( data.attributeNewValue ) ) {\n\t\t\t\t\t\tif ( data.item.is( 'selection' ) ) {\n\t\t\t\t\t\t\tviewWriter.wrap( viewSelection.getFirstRange(), viewElement );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tviewWriter.wrap( conversionApi.mapper.toViewRange( data.range ), viewElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tviewWriter.unwrap( conversionApi.mapper.toViewRange( data.range ), viewElement );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, { priority: 'high' } );\n\t\t};\n\t}\n\n\t/**\n\t * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method\n\t * when anchoring images.\n\t *\n\t * @returns {Function} A dispatcher function used as conversion helper\n\t * in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n\t */\n\tgetDispatcherForAnchoredImage() {\n\t\treturn dispatcher => {\n\t\t\tdispatcher.on( 'attribute:anchorId:image', ( evt, data, conversionApi ) => {\n\t\t\t\tconst viewFigure = conversionApi.mapper.toViewElement( data.item );\n\t\t\t\tconst anchorInImage = Array.from( viewFigure.getChildren() ).find( child => child.name === 'a' );\n\n\t\t\t\tfor ( const item of this._definitions ) {\n\t\t\t\t\tconst attributes = toMap( item.attributes );\n\n\t\t\t\t\tif ( item.callback( data.attributeNewValue ) ) {\n\t\t\t\t\t\tfor ( const [ key, val ] of attributes ) {\n\t\t\t\t\t\t\tif ( key === 'class' ) {\n\t\t\t\t\t\t\t\tconversionApi.writer.addClass( val, anchorInImage );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconversionApi.writer.setAttribute( key, val, anchorInImage );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor ( const [ key, val ] of attributes ) {\n\t\t\t\t\t\t\tif ( key === 'class' ) {\n\t\t\t\t\t\t\t\tconversionApi.writer.removeClass( val, anchorInImage );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconversionApi.writer.removeAttribute( key, anchorInImage );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/utils\n */\n\nimport { upperFirst } from 'lodash-es';\nimport { toWidget } from \"ckeditor5/src/widget\";\n\nconst ATTRIBUTE_WHITESPACES = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g; // eslint-disable-line no-control-regex\nconst SAFE_URL = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;\n\n// Simplified email test - should be run over previously found URL.\nconst EMAIL_REG_EXP = /^[\\S]+@((?![-_])(?:[-\\w\\u00a1-\\uffff]{0,63}[^-_]\\.))+(?:[a-z\\u00a1-\\uffff]{2,})$/i;\n\n// The regex checks for the protocol syntax ('xxxx://' or 'xxxx:')\n// or non-word characters at the beginning of the anchor ('/', '#' etc.).\nconst PROTOCOL_REG_EXP = /^((\\w+:(\\/{2,})?)|(\\W))/i;\n\n/**\n * A keystroke used by the {@link module:anchor/anchorui~AnchorUI anchor UI feature}.\n */\nexport const LINK_KEYSTROKE = 'Ctrl+M';\n\n/**\n * Returns `true` if a given view node is the anchor element.\n *\n * @param {module:engine/view/node~Node} node\n * @returns {Boolean}\n */\nexport function isAnchorElement( node ) {\n\treturn (\n        node.is('attributeElement') && !!node.getCustomProperty( 'anchor' )\n    );\n}\n\n/**\n * Creates a anchor {@link module:engine/view/attributeelement~AttributeElement} with the provided `id` attribute.\n *\n * @param {String} id\n * @param {module:engine/conversion/downcastdispatcher~DowncastConversionApi} conversionApi\n * @returns {module:engine/view/attributeelement~AttributeElement}\n */\nexport function createAnchorElement( id, { writer } ) {\n\t// Priority 5 - https://github.com/ckeditor/ckeditor5-anchor/issues/121.\n\tconst anchorElement = writer.createAttributeElement( 'a', { id }, { priority: 5 } );\n\twriter.addClass(\"ck-anchor\", anchorElement);\n\twriter.setCustomProperty( 'anchor', true, anchorElement );\n\n\treturn anchorElement;\n}\n\n/**\n * Creates an empty anchor {@link module:engine/view/emptyelement~EmptyElement} with the provided `id` attribute.\n *\n * @param {String} id\n * @param {module:engine/conversion/downcastdispatcher~DowncastConversionApi} conversionApi\n * @returns {module:engine/view/emptyelement~EmptyElement}\n */\nexport function createEmptyAnchorElement( id, { writer } ) {\n\tlet anchorElement = null;\n\tanchorElement = writer.createEmptyElement( 'a', { id });\n\n\twriter.addClass(\"ck-anchor\", anchorElement);\n\twriter.setCustomProperty( 'anchor', true, anchorElement );\n\n\treturn anchorElement;\n}\n\n/**\n * Creates an SVG placeholder {@link module:engine/view/emptyelement~EmptyElement} with the provided `id` attribute.\n *\n * @param {String} anchorId\n * @param {module:engine/conversion/downcastdispatcher~DowncastConversionApi} conversionApi\n * @returns {module:engine/view/emptyelement~EmptyElement}\n */\nexport function createEmptyPlaceholderAnchorElement( anchorId, { writer } ) {\n\tconst anchorElement = writer.createContainerElement('span', {\n\t\tclass: 'ck-anchor-placeholder',\n\t}, [writer.createText(`[INVISIBLE ANCHOR: ${anchorId}]`)]);\n\treturn toWidget(anchorElement, writer );\n}\n\n/**\n * Returns a safe URL based on a given value.\n *\n * A URL is considered safe if it is safe for the user (does not contain any malicious code).\n *\n * If a URL is considered unsafe, a simple `\"#\"` is returned.\n *\n * @protected\n * @param {*} url\n * @returns {String} Safe URL.\n */\nexport function ensureSafeUrl( url ) {\n\turl = String( url );\n\n\treturn isSafeUrl( url ) ? url : '#';\n}\n\n// Checks whether the given URL is safe for the user (does not contain any malicious code).\n//\n// @param {String} url URL to check.\nfunction isSafeUrl( url ) {\n\tconst normalizedUrl = url.replace( ATTRIBUTE_WHITESPACES, '' );\n\n\treturn normalizedUrl.match( SAFE_URL );\n}\n\n/**\n * Returns the {@link module:anchor/anchor~AnchorConfig#decorators `config.anchor.decorators`} configuration processed\n * to respect the locale of the editor, i.e. to display the {@link module:anchor/anchor~AnchorDecoratorManualDefinition label}\n * in the correct language.\n *\n * **Note**: Only the few most commonly used labels are translated automatically. Other labels should be manually\n * translated in the {@link module:anchor/anchor~AnchorConfig#decorators `config.anchor.decorators`} configuration.\n *\n * @param {module:utils/locale~Locale#t} t shorthand for {@link module:utils/locale~Locale#t Locale#t}\n * @param {Array.<module:anchor/anchor~AnchorDecoratorDefinition>} The decorator reference\n * where the label values should be localized.\n * @returns {Array.<module:anchor/anchor~AnchorDecoratorDefinition>}\n */\nexport function getLocalizedDecorators( t, decorators ) {\n\tconst localizedDecoratorsLabels = {};\n\n\tdecorators.forEach( decorator => {\n\t\tif ( decorator.label && localizedDecoratorsLabels[ decorator.label ] ) {\n\t\t\tdecorator.label = localizedDecoratorsLabels[ decorator.label ];\n\t\t}\n\t\treturn decorator;\n\t} );\n\n\treturn decorators;\n}\n\n/**\n * Converts an object with defined decorators to a normalized array of decorators. The `id` key is added for each decorator and\n * is used as the attribute's name in the model.\n *\n * @param {Object.<String, module:anchor/anchor~AnchorDecoratorDefinition>} decorators\n * @returns {Array.<module:anchor/anchor~AnchorDecoratorDefinition>}\n */\nexport function normalizeDecorators( decorators ) {\n\tconst retArray = [];\n\n\tif ( decorators ) {\n\t\tfor ( const [ key, value ] of Object.entries( decorators ) ) {\n\t\t\tconst decorator = Object.assign(\n\t\t\t\t{},\n\t\t\t\tvalue,\n\t\t\t\t{ id: `anchor${ upperFirst( key ) }` }\n\t\t\t);\n\t\t\tretArray.push( decorator );\n\t\t}\n\t}\n\n\treturn retArray;\n}\n\n/**\n * Returns `true` if the specified `element` is an image and it can be anchored (the element allows having the `anchorId` attribute).\n *\n * @params {module:engine/model/element~Element|null} element\n * @params {module:engine/model/schema~Schema} schema\n * @returns {Boolean}\n */\nexport function isImageAllowed( element, schema ) {\n\tif ( !element ) {\n\t\treturn false;\n\t}\n\n\treturn element.is( 'element', 'image' ) && schema.checkAttribute( 'image', 'anchorId' );\n}\n\n/**\n * Returns `true` if the specified `value` is an email.\n *\n * @params {String} value\n * @returns {Boolean}\n */\nexport function isEmail( value ) {\n\treturn EMAIL_REG_EXP.test( value );\n}\n\n/**\n * Adds the protocol prefix to the specified `anchor` when:\n *\n * * it does not contain it already, and there is a {@link module:anchor/anchor~AnchorConfig#defaultProtocol `defaultProtocol` }\n * configuration value provided,\n * * or the anchor is an email address.\n *\n *\n * @params {String} anchor\n * @params {String} defaultProtocol\n * @returns {Boolean}\n */\nexport function addAnchorProtocolIfApplicable( anchor, defaultProtocol ) {\n\tconst protocol = isEmail( anchor ) ? 'mailto:' : defaultProtocol;\n\tconst isProtocolNeeded = !!protocol && !PROTOCOL_REG_EXP.test( anchor );\n\n\treturn anchor && isProtocolNeeded ? protocol + anchor : anchor;\n}\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/anchorcommand\n */\n\nimport { Command } from 'ckeditor5/src/core';\nimport { findAttributeRange } from 'ckeditor5/src/typing';\nimport { toMap } from 'ckeditor5/src/utils';\nimport { Collection } from 'ckeditor5/src/utils';\nimport { first } from 'ckeditor5/src/utils';\nimport AutomaticDecorators from './utils/automaticdecorators';\nimport { isImageAllowed } from './utils';\n\n/**\n * The anchor command. It is used by the {@link module:anchor/anchor~Anchor anchor feature}.\n *\n * @extends module:core/command~Command\n */\nexport default class AnchorCommand extends Command {\n\t/**\n\t * The value of the `'anchorId'` attribute if the start of the selection is located in a node with this attribute.\n\t *\n\t * @observable\n\t * @readonly\n\t * @member {Object|undefined} #value\n\t */\n\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * A collection of {@link module:anchor/utils~ManualDecorator manual decorators}\n\t\t * corresponding to the {@link module:anchor/anchor~AnchorConfig#decorators decorator configuration}.\n\t\t *\n\t\t * You can consider it a model with states of manual decorators added to the currently selected anchor.\n\t\t *\n\t\t * @readonly\n\t\t * @type {module:utils/collection~Collection}\n\t\t */\n\t\tthis.manualDecorators = new Collection();\n\n\t\t/**\n\t\t * An instance of the helper that ties together all {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition}\n\t\t * that are used by the {@ganchor features/anchor anchor} and the {@ganchor features/image#anchoring-images anchoring images} features.\n\t\t *\n\t\t * @readonly\n\t\t * @type {module:anchor/utils~AutomaticDecorators}\n\t\t */\n\t\tthis.automaticDecorators = new AutomaticDecorators();\n\t}\n\n\t/**\n\t * Synchronizes the state of {@link #manualDecorators} with the currently present elements in the model.\n\t */\n\trestoreManualDecoratorStates() {\n\t\tfor ( const manualDecorator of this.manualDecorators ) {\n\t\t\tmanualDecorator.value = this._getDecoratorStateFromModel( manualDecorator.id );\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tconst selectedElement = first( doc.selection.getSelectedBlocks() );\n\n\t\t// A check for the `AnchorImage` plugin. If the selection contains an element, get values from the element.\n\t\t// Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n\t\tif ( isImageAllowed( selectedElement, model.schema ) ) {\n\t\t\tthis.value = selectedElement.getAttribute( 'anchorId' );\n\t\t\tthis.isEnabled = model.schema.checkAttribute( selectedElement, 'anchorId' );\n\t\t} else {\n\t\t\tthis.value = doc.selection.getAttribute( 'anchorId' );\n\t\t\tthis.isEnabled = model.schema.checkAttributeInSelection( doc.selection, 'anchorId' );\n\t\t}\n\n\t\tfor ( const manualDecorator of this.manualDecorators ) {\n\t\t\tmanualDecorator.value = this._getDecoratorStateFromModel( manualDecorator.id );\n\t\t}\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * When the selection is non-collapsed, the `anchorId` attribute will be applied to nodes inside the selection, but only to\n\t * those nodes where the `anchorId` attribute is allowed (disallowed nodes will be omitted).\n\t *\n\t * When the selection is collapsed and is not inside the text with the `anchorId` attribute, a\n\t * new {@link module:engine/model/text~Text text node} with the `anchorId` attribute will be inserted in place of the caret, but\n\t * only if such element is allowed in this place. The `_data` of the inserted text will equal the `id` parameter.\n\t * The selection will be updated to wrap the just inserted text node.\n\t *\n\t * When the selection is collapsed and inside the text with the `anchorId` attribute, the attribute value will be updated.\n\t *\n\t * # Decorators and model attribute management\n\t *\n\t * There is an optional argument to this command that applies or removes model\n\t * {@ganchor framework/guides/architecture/editing-engine#text-attributes text attributes} brought by\n\t * {@link module:anchor/utils~ManualDecorator manual anchor decorators}.\n\t *\n\t * Text attribute names in the model correspond to the entries in the {@link module:anchor/anchor~AnchorConfig#decorators configuration}.\n\t * For every decorator configured, a model text attribute exists with the \"anchor\" prefix. For example, a `'anchorMyDecorator'` attribute\n\t * corresponds to `'myDecorator'` in the configuration.\n\t *\n\t * To learn more about anchor decorators, check out the {@link module:anchor/anchor~AnchorConfig#decorators `config.anchor.decorators`}\n\t * documentation.\n\t *\n\t * Here is how to manage decorator attributes with the anchor command:\n\t *\n\t *\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\t *\n\t *\t\t// Adding a new decorator attribute.\n\t *\t\tanchorCommand.execute( 'http://example.com', {\n\t *\t\t\tanchorIsExternal: true\n\t *\t\t} );\n\t *\n\t *\t\t// Removing a decorator attribute from the selection.\n\t *\t\tanchorCommand.execute( 'http://example.com', {\n\t *\t\t\tanchorIsExternal: false\n\t *\t\t} );\n\t *\n\t *\t\t// Adding multiple decorator attributes at the same time.\n\t *\t\tanchorCommand.execute( 'http://example.com', {\n\t *\t\t\tanchorIsExternal: true\n\t *\t\t} );\n\t *\n\t *\t\t// Removing and adding decorator attributes at the same time.\n\t *\t\tanchorCommand.execute( 'http://example.com', {\n\t *\t\t\tanchorIsExternal: false,\n\t *\t\t\tanchorFoo: true\n\t *\t\t} );\n\t *\n\t * **Note**: If the decorator attribute name is not specified, its state remains untouched.\n\t *\n\t * **Note**: {@link module:anchor/unanchorcommand~UnanchorCommand#execute `UnanchorCommand#execute()`} removes all\n\t * decorator attributes.\n\t *\n\t * @fires execute\n\t * @param {String} id Anchor destination.\n\t * @param {Object} [manualDecoratorIds={}] The information about manual decorator attributes to be applied or removed upon execution.\n\t */\n\texecute( id, manualDecoratorIds = {} ) {\n\t\tconst model = this.editor.model;\n\t\tconst selection = model.document.selection;\n\t\t// Stores information about manual decorators to turn them on/off when command is applied.\n\t\tconst truthyManualDecorators = [];\n\t\tconst falsyManualDecorators = [];\n\n\t\tfor ( const name in manualDecoratorIds ) {\n\t\t\tif ( manualDecoratorIds[ name ] ) {\n\t\t\t\ttruthyManualDecorators.push( name );\n\t\t\t} else {\n\t\t\t\tfalsyManualDecorators.push( name );\n\t\t\t}\n\t\t}\n\n\t\tmodel.change( writer => {\n\t\t\t// If selection is collapsed then update selected anchor or insert new one at the place of caret.\n\t\t\tif ( selection.isCollapsed ) {\n\t\t\t\tconst position = selection.getFirstPosition();\n\n\t\t\t\t// When selection is inside text with `anchorId` attribute.\n\t\t\t\tif ( selection.hasAttribute( 'anchorId' ) ) {\n\t\t\t\t\t// Then update `anchorId` value.\n\t\t\t\t\tconst anchorRange = findAttributeRange( position, 'anchorId', selection.getAttribute( 'anchorId' ), model );\n\n\t\t\t\t\twriter.setAttribute( 'anchorId', id, anchorRange );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.setAttribute( item, true, anchorRange );\n\t\t\t\t\t} );\n\n\t\t\t\t\tfalsyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.removeAttribute( item, anchorRange );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Put the selection at the end of the updated anchor.\n\t\t\t\t\twriter.setSelection( writer.createPositionAfter( anchorRange.end.nodeBefore ) );\n\t\t\t\t}\n\t\t\t\t// If not then insert text node with `anchorId` attribute in place of caret.\n\t\t\t\t// However, since selection in collapsed, attribute value will be used as data for text node.\n\t\t\t\t// So, if `id` is empty, do not create text node.\n\t\t\t\telse if ( id !== '' ) {\n\t\t\t\t\tconst attributes = toMap( selection.getAttributes() );\n\t\t\t\t\tattributes.set('anchorId', id);\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\tattributes.set( item, true );\n\t\t\t\t\t} );\n\n\t\t\t\t\tconst { end: positionAfter } = model.insertContent( writer.createElement( 'anchor', attributes ), position );\n\n\t\t\t\t\t// Put the selection at the end of the inserted anchor.\n\t\t\t\t\t// Using end of range returned from insertContent in case nodes with the same attributes got merged.\n\t\t\t\t\twriter.setSelection( positionAfter );\n\t\t\t\t}\n\n\t\t\t\t// Remove the `anchorId` attribute and all anchor decorators from the selection.\n\t\t\t\t// It stops adding a new content into the anchor element.\n\t\t\t\t[ 'anchorId', ...truthyManualDecorators, ...falsyManualDecorators ].forEach( item => {\n\t\t\t\t\twriter.removeSelectionAttribute( item );\n\t\t\t\t} );\n\t\t\t} else if (selection.getSelectedElement()?.name === 'anchor') {\n\t\t\t\t// Replace an invisible anchor.\n\t\t\t\tconst anchor = writer.createElement('anchor', {\n\t\t\t\t\tanchorId: id\n\t\t\t\t});\n\t\t\t\tmodel.insertObject(anchor, null, null, { setSelection: 'on' });\n\t\t\t} else {\n\t\t\t\t// If selection has non-collapsed ranges, we change attribute on nodes inside those ranges\n\t\t\t\t// omitting nodes where the `anchorId` attribute is disallowed.\n\t\t\t\tconst ranges = model.schema.getValidRanges( selection.getRanges(), 'anchorId' );\n\n\t\t\t\t// But for the first, check whether the `anchorId` attribute is allowed on selected blocks (e.g. the \"image\" element).\n\t\t\t\tconst allowedRanges = [];\n\n\t\t\t\tfor ( const element of selection.getSelectedBlocks() ) {\n\t\t\t\t\tif ( model.schema.checkAttribute( element, 'anchorId' ) ) {\n\t\t\t\t\t\tallowedRanges.push( writer.createRangeOn( element ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Ranges that accept the `anchorId` attribute. Since we will iterate over `allowedRanges`, let's clone it.\n\t\t\t\tconst rangesToUpdate = allowedRanges.slice();\n\n\t\t\t\t// For all selection ranges we want to check whether given range is inside an element that accepts the `anchorId` attribute.\n\t\t\t\t// If so, we don't want to propagate applying the attribute to its children.\n\t\t\t\tfor ( const range of ranges ) {\n\t\t\t\t\tif ( this._isRangeToUpdate( range, allowedRanges ) ) {\n\t\t\t\t\t\trangesToUpdate.push( range );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor ( const range of rangesToUpdate ) {\n\t\t\t\t\twriter.setAttribute( 'anchorId', id, range );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.setAttribute( item, true, range );\n\t\t\t\t\t} );\n\n\t\t\t\t\tfalsyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.removeAttribute( item, range );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Provides information whether a decorator with a given name is present in the currently processed selection.\n\t *\n\t * @private\n\t * @param {String} decoratorName The name of the manual decorator used in the model\n\t * @returns {Boolean} The information whether a given decorator is currently present in the selection.\n\t */\n\t_getDecoratorStateFromModel( decoratorName ) {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tconst selectedElement = first( doc.selection.getSelectedBlocks() );\n\n\t\t// A check for the `AnchorImage` plugin. If the selection contains an element, get values from the element.\n\t\t// Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n\t\tif ( isImageAllowed( selectedElement, model.schema ) ) {\n\t\t\treturn selectedElement.getAttribute( decoratorName );\n\t\t}\n\n\t\treturn doc.selection.getAttribute( decoratorName );\n\t}\n\n\t/**\n\t * Checks whether specified `range` is inside an element that accepts the `anchorId` attribute.\n\t *\n\t * @private\n\t * @param {module:engine/view/range~Range} range A range to check.\n\t * @param {Array.<module:engine/view/range~Range>} allowedRanges An array of ranges created on elements where the attribute is accepted.\n\t * @returns {Boolean}\n\t */\n\t_isRangeToUpdate( range, allowedRanges ) {\n\t\tfor ( const allowedRange of allowedRanges ) {\n\t\t\t// A range is inside an element that will have the `anchorId` attribute. Do not modify its nodes.\n\t\t\tif ( allowedRange.containsRange( range ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/unanchorcommand\n */\n\nimport { Command } from 'ckeditor5/src/core';\nimport { findAttributeRange } from 'ckeditor5/src/typing';\nimport { first } from 'ckeditor5/src/utils';\nimport { isImageAllowed } from './utils';\n\n/**\n * The unanchor command. It is used by the {@link module:anchor/anchor~Anchor anchor plugin}.\n *\n * @extends module:core/command~Command\n */\nexport default class UnanchorCommand extends Command {\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tconst selectedElement = first( doc.selection.getSelectedBlocks() );\n\n\t\t// A check for the `AnchorImage` plugin. If the selection contains an image element, get values from the element.\n\t\t// Currently the selection reads attributes from text nodes only. See #7429 and #7465.\n\t\tif ( isImageAllowed( selectedElement, model.schema ) ) {\n\t\t\tthis.isEnabled = model.schema.checkAttribute( selectedElement, 'anchorId' );\n\t\t} else {\n\t\t\tthis.isEnabled = model.schema.checkAttributeInSelection( doc.selection, 'anchorId' );\n\t\t}\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * When the selection is collapsed, it removes the `anchorId` attribute from each node with the same `anchorId` attribute value.\n\t * When the selection is non-collapsed, it removes the `anchorId` attribute from each node in selected ranges.\n\t *\n\t * # Decorators\n\t *\n\t * If {@link module:anchor/anchor~AnchorConfig#decorators `config.anchor.decorators`} is specified,\n\t * all configured decorators are removed together with the `anchorId` attribute.\n\t *\n\t * @fires execute\n\t */\n\texecute() {\n\t\tconst editor = this.editor;\n\t\tconst model = this.editor.model;\n\t\tconst selection = model.document.selection;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\n\t\tmodel.change( writer => {\n\t\t\t// Get ranges to unanchor.\n\t\t\tconst rangesToUnanchor = selection.isCollapsed ?\n\t\t\t\t[ findAttributeRange(\n\t\t\t\t\tselection.getFirstPosition(),\n\t\t\t\t\t'anchorId',\n\t\t\t\t\tselection.getAttribute( 'anchorId' ),\n\t\t\t\t\tmodel\n\t\t\t\t) ] :\n\t\t\t\tmodel.schema.getValidRanges( selection.getRanges(), 'anchorId' );\n\n\t\t\t// Remove `anchorId` attribute from specified ranges.\n\t\t\tfor ( const range of rangesToUnanchor ) {\n\t\t\t\twriter.removeAttribute( 'anchorId', range );\n\t\t\t\t// If there are registered custom attributes, then remove them during unanchor.\n\t\t\t\tif ( anchorCommand ) {\n\t\t\t\t\tfor ( const manualDecorator of anchorCommand.manualDecorators ) {\n\t\t\t\t\t\twriter.removeAttribute( manualDecorator.id, range );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove an invisible anchor.\n\t\t\tif (selection.getSelectedElement()?.name === 'anchor') {\n\t\t\t\tmodel.deleteContent(selection);\n\t\t\t}\n\t\t} );\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/utils\n */\n\nimport { ObservableMixin } from 'ckeditor5/src/utils';\nimport { mix } from 'ckeditor5/src/utils';\n\n/**\n * Helper class that stores manual decorators with observable {@link module:anchor/utils~ManualDecorator#value}\n * to support integration with the UI state. An instance of this class is a model with the state of individual manual decorators.\n * These decorators are kept as collections in {@link module:anchor/anchorcommand~AnchorCommand#manualDecorators}.\n *\n * @mixes module:utils/observablemixin~ObservableMixin\n */\nexport default class ManualDecorator {\n\t/**\n\t * Creates a new instance of {@link module:anchor/utils~ManualDecorator}.\n\t *\n\t * @param {Object} config\n\t * @param {String} config.id The name of the attribute used in the model that represents a given manual decorator.\n\t * For example: `'anchorIsExternal'`.\n\t * @param {String} config.label The label used in the user interface to toggle the manual decorator.\n\t * @param {Object} config.attributes A set of attributes added to output data when the decorator is active for a specific anchor.\n\t * Attributes should keep the format of attributes defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n\t * @param {Boolean} [config.defaultValue] Controls whether the decorator is \"on\" by default.\n\t */\n\tconstructor( { id, label, attributes, defaultValue } ) {\n\t\t/**\n\t\t * An ID of a manual decorator which is the name of the attribute in the model, for example: 'anchorManualDecorator0'.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.id = id;\n\n\t\t/**\n\t\t * The value of the current manual decorator. It reflects its state from the UI.\n\t\t *\n\t\t * @observable\n\t\t * @member {Boolean} module:anchor/utils~ManualDecorator#value\n\t\t */\n\t\tthis.set( 'value' );\n\n\t\t/**\n\t\t * The default value of manual decorator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis.defaultValue = defaultValue;\n\n\t\t/**\n\t\t * The label used in the user interface to toggle the manual decorator.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.label = label;\n\n\t\t/**\n\t\t * A set of attributes added to downcasted data when the decorator is activated for a specific anchor.\n\t\t * Attributes should be added in a form of attributes defined in {@link module:engine/view/elementdefinition~ElementDefinition}.\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.attributes = attributes;\n\t}\n}\n\nmix( ManualDecorator, ObservableMixin );\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * Returns a model range that covers all consecutive nodes with the same `attributeName` and its `value`\n * that intersect the given `position`.\n *\n * It can be used e.g. to get the entire range on which the `linkHref` attribute needs to be changed when having a\n * selection inside a link.\n *\n * @param position The start position.\n * @param attributeName The attribute name.\n * @param value The attribute value.\n * @param model The model instance.\n * @returns The link range.\n */\nexport default function findAttributeRange(position, attributeName, value, model) {\n    return model.createRange(findAttributeRangeBound(position, attributeName, value, true, model), findAttributeRangeBound(position, attributeName, value, false, model));\n}\n/**\n * Walks forward or backward (depends on the `lookBack` flag), node by node, as long as they have the same attribute value\n * and returns a position just before or after (depends on the `lookBack` flag) the last matched node.\n *\n * @param position The start position.\n * @param attributeName The attribute name.\n * @param value The attribute value.\n * @param lookBack Whether the walk direction is forward (`false`) or backward (`true`).\n * @returns The position just before the last matched node.\n */\nexport function findAttributeRangeBound(position, attributeName, value, lookBack, model) {\n    // Get node before or after position (depends on `lookBack` flag).\n    // When position is inside text node then start searching from text node.\n    let node = position.textNode || (lookBack ? position.nodeBefore : position.nodeAfter);\n    let lastNode = null;\n    while (node && node.getAttribute(attributeName) == value) {\n        lastNode = node;\n        node = lookBack ? node.previousSibling : node.nextSibling;\n    }\n    return lastNode ? model.createPositionAt(lastNode, lookBack ? 'before' : 'after') : position;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n/**\n * A helper (module) giving an access to the global DOM objects such as `window` and\n * `document`. Accessing these objects using this helper allows easy and bulletproof\n * testing, i.e. stubbing native properties:\n *\n * ```ts\n * import { global } from 'ckeditor5/utils';\n *\n * // This stub will work for any code using global module.\n * testUtils.sinon.stub( global, 'window', {\n * \tinnerWidth: 10000\n * } );\n *\n * console.log( global.window.innerWidth );\n * ```\n */\nlet globalVar; // named globalVar instead of global: https://github.com/ckeditor/ckeditor5/issues/12971\n// In some environments window and document API might not be available.\ntry {\n    globalVar = { window, document };\n}\ncatch (e) {\n    // It's not possible to mock a window object to simulate lack of a window object without writing extremely convoluted code.\n    /* istanbul ignore next -- @preserve */\n    // Let's cast it to not change module's API.\n    // We only handle this so loading editor in environments without window and document doesn't fail.\n    // For better DX we shouldn't introduce mixed types and require developers to check the type manually.\n    // This module should not be used on purpose in any environment outside browser.\n    globalVar = { window: {}, document: {} };\n}\nexport default globalVar;\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\nimport CKEditorError from './ckeditorerror.js';\nimport env from './env.js';\nconst modifiersToGlyphsMac = {\n    ctrl: '⌃',\n    cmd: '⌘',\n    alt: '⌥',\n    shift: '⇧'\n};\nconst modifiersToGlyphsNonMac = {\n    ctrl: 'Ctrl+',\n    alt: 'Alt+',\n    shift: 'Shift+'\n};\nconst keyCodesToGlyphs = {\n    37: '←',\n    38: '↑',\n    39: '→',\n    40: '↓',\n    9: '⇥',\n    33: 'Page Up',\n    34: 'Page Down'\n};\n/**\n * An object with `keyName => keyCode` pairs for a set of known keys.\n *\n * Contains:\n *\n * * `a-z`,\n * * `0-9`,\n * * `f1-f12`,\n * * `` ` ``, `-`, `=`, `[`, `]`, `;`, `'`, `,`, `.`, `/`, `\\`,\n * * `arrow(left|up|right|bottom)`,\n * * `backspace`, `delete`, `enter`, `esc`, `tab`,\n * * `ctrl`, `cmd`, `shift`, `alt`.\n */\nexport const keyCodes = /* #__PURE__ */ generateKnownKeyCodes();\nconst keyCodeNames = /* #__PURE__ */ Object.fromEntries(\n/* #__PURE__ */ Object.entries(keyCodes).map(([name, code]) => {\n    let prettyKeyName;\n    if (code in keyCodesToGlyphs) {\n        prettyKeyName = keyCodesToGlyphs[code];\n    }\n    else {\n        prettyKeyName = name.charAt(0).toUpperCase() + name.slice(1);\n    }\n    return [code, prettyKeyName];\n}));\n/**\n * Converts a key name or {@link module:utils/keyboard~KeystrokeInfo keystroke info} into a key code.\n *\n * Note: Key names are matched with {@link module:utils/keyboard#keyCodes} in a case-insensitive way.\n *\n * @param key A key name (see {@link module:utils/keyboard#keyCodes}) or a keystroke data object.\n * @returns Key or keystroke code.\n */\nexport function getCode(key) {\n    let keyCode;\n    if (typeof key == 'string') {\n        keyCode = keyCodes[key.toLowerCase()];\n        if (!keyCode) {\n            /**\n             * Unknown key name. Only key names included in the {@link module:utils/keyboard#keyCodes} can be used.\n             *\n             * @error keyboard-unknown-key\n             * @param {String} key\n             */\n            throw new CKEditorError('keyboard-unknown-key', null, { key });\n        }\n    }\n    else {\n        keyCode = key.keyCode +\n            (key.altKey ? keyCodes.alt : 0) +\n            (key.ctrlKey ? keyCodes.ctrl : 0) +\n            (key.shiftKey ? keyCodes.shift : 0) +\n            (key.metaKey ? keyCodes.cmd : 0);\n    }\n    return keyCode;\n}\n/**\n * Parses the keystroke and returns a keystroke code that will match the code returned by\n * {@link module:utils/keyboard~getCode} for the corresponding {@link module:utils/keyboard~KeystrokeInfo keystroke info}.\n *\n * The keystroke can be passed in two formats:\n *\n * * as a single string – e.g. `ctrl + A`,\n * * as an array of {@link module:utils/keyboard~keyCodes known key names} and key codes – e.g.:\n *   * `[ 'ctrl', 32 ]` (ctrl + space),\n *   * `[ 'ctrl', 'a' ]` (ctrl + A).\n *\n * Note: Key names are matched with {@link module:utils/keyboard#keyCodes} in a case-insensitive way.\n *\n * Note: Only keystrokes with a single non-modifier key are supported (e.g. `ctrl+A` is OK, but `ctrl+A+B` is not).\n *\n * Note: On macOS, keystroke handling is translating the `Ctrl` key to the `Cmd` key and handling only that keystroke.\n * For example, a registered keystroke `Ctrl+A` will be translated to `Cmd+A` on macOS. To disable the translation of some keystroke,\n * use the forced modifier: `Ctrl!+A` (note the exclamation mark).\n *\n * @param keystroke The keystroke definition.\n * @returns Keystroke code.\n */\nexport function parseKeystroke(keystroke) {\n    if (typeof keystroke == 'string') {\n        keystroke = splitKeystrokeText(keystroke);\n    }\n    return keystroke\n        .map(key => (typeof key == 'string') ? getEnvKeyCode(key) : key)\n        .reduce((key, sum) => sum + key, 0);\n}\n/**\n * Translates any keystroke string text like `\"Ctrl+A\"` to an\n * environment–specific keystroke, i.e. `\"⌘A\"` on macOS.\n *\n * @param keystroke The keystroke text.\n * @returns The keystroke text specific for the environment.\n */\nexport function getEnvKeystrokeText(keystroke) {\n    let keystrokeCode = parseKeystroke(keystroke);\n    const modifiersToGlyphs = Object.entries((env.isMac || env.isiOS) ? modifiersToGlyphsMac : modifiersToGlyphsNonMac);\n    const modifiers = modifiersToGlyphs.reduce((modifiers, [name, glyph]) => {\n        // Modifier keys are stored as a bit mask so extract those from the keystroke code.\n        if ((keystrokeCode & keyCodes[name]) != 0) {\n            keystrokeCode &= ~keyCodes[name];\n            modifiers += glyph;\n        }\n        return modifiers;\n    }, '');\n    return modifiers + (keystrokeCode ? keyCodeNames[keystrokeCode] : '');\n}\n/**\n * Returns `true` if the provided key code represents one of the arrow keys.\n *\n * @param keyCode A key code as in {@link module:utils/keyboard~KeystrokeInfo#keyCode}.\n */\nexport function isArrowKeyCode(keyCode) {\n    return keyCode == keyCodes.arrowright ||\n        keyCode == keyCodes.arrowleft ||\n        keyCode == keyCodes.arrowup ||\n        keyCode == keyCodes.arrowdown;\n}\n/**\n * Returns the direction in which the {@link module:engine/model/documentselection~DocumentSelection selection}\n * will move when the provided arrow key code is pressed considering the language direction of the editor content.\n *\n * For instance, in right–to–left (RTL) content languages, pressing the left arrow means moving the selection right (forward)\n * in the model structure. Similarly, pressing the right arrow moves the selection left (backward).\n *\n * @param keyCode A key code as in {@link module:utils/keyboard~KeystrokeInfo#keyCode}.\n * @param contentLanguageDirection The content language direction, corresponding to\n * {@link module:utils/locale~Locale#contentLanguageDirection}.\n * @returns Localized arrow direction or `undefined` for non-arrow key codes.\n */\nexport function getLocalizedArrowKeyCodeDirection(keyCode, contentLanguageDirection) {\n    const isLtrContent = contentLanguageDirection === 'ltr';\n    switch (keyCode) {\n        case keyCodes.arrowleft:\n            return isLtrContent ? 'left' : 'right';\n        case keyCodes.arrowright:\n            return isLtrContent ? 'right' : 'left';\n        case keyCodes.arrowup:\n            return 'up';\n        case keyCodes.arrowdown:\n            return 'down';\n    }\n}\n/**\n * Converts a key name to the key code with mapping based on the env.\n *\n * See: {@link module:utils/keyboard~getCode}.\n *\n * @param key The key name (see {@link module:utils/keyboard#keyCodes}).\n * @returns Key code.\n */\nfunction getEnvKeyCode(key) {\n    // Don't remap modifier key for forced modifiers.\n    if (key.endsWith('!')) {\n        return getCode(key.slice(0, -1));\n    }\n    const code = getCode(key);\n    return (env.isMac || env.isiOS) && code == keyCodes.ctrl ? keyCodes.cmd : code;\n}\n/**\n * Determines if the provided key code moves the {@link module:engine/model/documentselection~DocumentSelection selection}\n * forward or backward considering the language direction of the editor content.\n *\n * For instance, in right–to–left (RTL) languages, pressing the left arrow means moving forward\n * in the model structure. Similarly, pressing the right arrow moves the selection backward.\n *\n * @param keyCode A key code as in {@link module:utils/keyboard~KeystrokeInfo#keyCode}.\n * @param contentLanguageDirection The content language direction, corresponding to\n * {@link module:utils/locale~Locale#contentLanguageDirection}.\n */\nexport function isForwardArrowKeyCode(keyCode, contentLanguageDirection) {\n    const localizedKeyCodeDirection = getLocalizedArrowKeyCodeDirection(keyCode, contentLanguageDirection);\n    return localizedKeyCodeDirection === 'down' || localizedKeyCodeDirection === 'right';\n}\nfunction generateKnownKeyCodes() {\n    const keyCodes = {\n        pageup: 33,\n        pagedown: 34,\n        arrowleft: 37,\n        arrowup: 38,\n        arrowright: 39,\n        arrowdown: 40,\n        backspace: 8,\n        delete: 46,\n        enter: 13,\n        space: 32,\n        esc: 27,\n        tab: 9,\n        // The idea about these numbers is that they do not collide with any real key codes, so we can use them\n        // like bit masks.\n        ctrl: 0x110000,\n        shift: 0x220000,\n        alt: 0x440000,\n        cmd: 0x880000\n    };\n    // a-z\n    for (let code = 65; code <= 90; code++) {\n        const letter = String.fromCharCode(code);\n        keyCodes[letter.toLowerCase()] = code;\n    }\n    // 0-9\n    for (let code = 48; code <= 57; code++) {\n        keyCodes[code - 48] = code;\n    }\n    // F1-F12\n    for (let code = 112; code <= 123; code++) {\n        keyCodes['f' + (code - 111)] = code;\n    }\n    // other characters\n    Object.assign(keyCodes, {\n        '\\'': 222,\n        ',': 108,\n        '-': 109,\n        '.': 110,\n        '/': 111,\n        ';': 186,\n        '=': 187,\n        '[': 219,\n        '\\\\': 220,\n        ']': 221,\n        '`': 223\n    });\n    return keyCodes;\n}\nfunction splitKeystrokeText(keystroke) {\n    return keystroke.split('+').map(key => key.trim());\n}\n","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./anchor.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/anchorediting\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport { MouseObserver } from 'ckeditor5/src/engine';\nimport { TwoStepCaretMovement } from 'ckeditor5/src/typing';\nimport { inlineHighlight } from 'ckeditor5/src/typing';\nimport { Input } from 'ckeditor5/src/typing';\nimport { Clipboard } from 'ckeditor5/src/clipboard';\nimport AnchorCommand from './anchorcommand';\nimport UnanchorCommand from './unanchorcommand';\nimport ManualDecorator from './utils/manualdecorator';\nimport findAttributeRange from '@ckeditor/ckeditor5-typing/src/utils/findattributerange';\nimport { keyCodes } from '@ckeditor/ckeditor5-utils/src/keyboard';\nimport { viewToModelPositionOutsideModelElement } from \"ckeditor5/src/widget\";\n\nimport {\n\tcreateAnchorElement,\n\tcreateEmptyAnchorElement, createEmptyPlaceholderAnchorElement,\n\tensureSafeUrl,\n\tgetLocalizedDecorators,\n\tnormalizeDecorators\n} from './utils';\n\nimport '../theme/anchor.css';\n\nconst HIGHLIGHT_CLASS = 'ck-anchor_selected';\nconst DECORATOR_AUTOMATIC = 'automatic';\nconst DECORATOR_MANUAL = 'manual';\nconst EXTERNAL_LINKS_REGEXP = /^(https?:)?\\/\\//;\n\n/**\n * The anchor engine feature.\n *\n * It introduces the `anchorId=\"url\"` attribute in the model which renders to the view as a `<a id=\"url\">` element\n * as well as `'anchor'` and `'unanchor'` commands.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class AnchorEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'AnchorEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\t// Clipboard is required for handling cut and paste events while typing over the anchor.\n\t\treturn [ TwoStepCaretMovement, Input, Clipboard ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\teditor.config.define( 'anchor', {\n\t\t\taddTargetToExternalAnchors: false\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\n\t\t// Allow anchor attribute on all inline nodes.\n\t\teditor.model.schema.extend( '$text', { allowAttributes: 'anchorId' } );\n\t\teditor.model.schema.register('anchor', {\n\t\t\tallowContentOf: '$inlineObject',\n\t\t\tallowWhere: '$inlineObject',\n\t\t\tinheritTypesFrom: '$inlineObject',\n\t\t\tallowAttributes: [ 'class', 'id', 'anchorId', 'name' ]\n\t\t});\n\n\t\teditor.conversion.for( 'dataDowncast' )\n\t\t\t.attributeToElement( {\n\t\t\t\tmodel: {\n\t\t\t\t\tname: '$text',\n\t\t\t\t\tkey: 'anchorId',\n\t\t\t\t},\n\t\t\t\tview: createAnchorElement,\n\t\t\t});\n\t\teditor.conversion.for('dataDowncast').elementToElement({\n\t\t\tmodel: 'anchor',\n\t\t\tview: (modelItem, viewWriter) => {\n\t\t\t\treturn createEmptyAnchorElement( modelItem.getAttribute('anchorId'), viewWriter);\n\t\t\t}\n\t\t});\n\n\t\teditor.conversion.for( 'editingDowncast' )\n\t\t\t.attributeToElement( { model: 'anchorId', view: ( id, conversionApi ) => {\n\t\t\t\tif (id) {\n\t\t\t\t\treturn createAnchorElement( ensureSafeUrl( id ), conversionApi );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} } );\n\t\teditor.conversion.for('editingDowncast').elementToElement({\n\t\t\tmodel: 'anchor',\n\t\t\tview: (modelItem, viewWriter) => {\n\t\t\t\treturn createEmptyPlaceholderAnchorElement( modelItem.getAttribute('anchorId'), viewWriter, true);\n\t\t\t}\n\t\t});\n\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.elementToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tid: true,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: 'anchorId',\n\t\t\t\t\tvalue: viewElement => {\n\t\t\t\t\t\tif (viewElement.childCount < 1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (viewElement.hasAttribute('href')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn viewElement.getAttribute( 'id' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.elementToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tname: true,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: 'anchorId',\n\t\t\t\t\tvalue: viewElement => {\n\t\t\t\t\t\tif (viewElement.childCount < 1) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn viewElement.getAttribute( 'name' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.elementToElement( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tid: true,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: ( viewElement, { writer } ) => {\n\t\t\t\t\tif (viewElement.childCount > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn writer.createElement( 'anchor', { anchorId: viewElement.getAttribute('id') } );\n\t\t\t\t}\n\t\t\t} );\n\t\t\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.elementToElement( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tname: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: ( viewElement, { writer } ) => {\n\t\t\t\t\tif (viewElement.childCount > 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn writer.createElement( 'anchor', { anchorId: viewElement.getAttribute('name') } );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t// Create anchoring commands.\n\t\teditor.commands.add( 'anchor', new AnchorCommand( editor ) );\n\t\teditor.commands.add( 'unanchor', new UnanchorCommand( editor ) );\n\n\t\tconst anchorDecorators = getLocalizedDecorators( editor.t, normalizeDecorators( editor.config.get( 'anchor.decorators' ) ) );\n\n\t\tthis._enableAutomaticDecorators( anchorDecorators.filter( item => item.mode === DECORATOR_AUTOMATIC ) );\n\t\tthis._enableManualDecorators( anchorDecorators.filter( item => item.mode === DECORATOR_MANUAL ) );\n\n\t\t// Enable two-step caret movement for `anchorId` attribute.\n\t\tconst twoStepCaretMovementPlugin = editor.plugins.get( TwoStepCaretMovement );\n\t\ttwoStepCaretMovementPlugin.registerAttribute( 'anchorId' );\n\n\t\t// Setup highlight over selected anchor.\n\t\tinlineHighlight( editor, 'anchorId', 'a', HIGHLIGHT_CLASS );\n\n\t\t// Change the attributes of the selection in certain situations after the anchor was inserted into the document.\n\t\tthis._enableInsertContentSelectionAttributesFixer();\n\n\t\t// Handle a click at the beginning/end of a anchor element.\n\t\tthis._enableClickingAfterAnchor();\n\n\t\t// Handle typing over the anchor.\n\t\tthis._enableTypingOverAnchor();\n\n\t\t// Handle removing the content after the anchor element.\n\t\tthis._handleDeleteContentAfterAnchor();\n\n\t\teditor.editing.mapper.on(\n\t\t\t'viewToModelPosition',\n\t\t\tviewToModelPositionOutsideModelElement( editor.model, viewElement => viewElement.hasClass( 'ck-anchor-placeholder' ) )\n\t\t);\n\t}\n\n\t/**\n\t * Processes an array of configured {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition automatic decorators}\n\t * and registers a {@link module:engine/conversion/downcastdispatcher~DowncastDispatcher downcast dispatcher}\n\t * for each one of them. Downcast dispatchers are obtained using the\n\t * {@link module:anchor/utils~AutomaticDecorators#getDispatcher} method.\n\t *\n\t * **Note**: This method also activates the automatic external anchor decorator if enabled with\n\t * {@link module:anchor/anchor~AnchorConfig#addTargetToExternalAnchors `config.anchor.addTargetToExternalAnchors`}.\n\t *\n\t * @private\n\t * @param {Array.<module:anchor/anchor~AnchorDecoratorAutomaticDefinition>} automaticDecoratorDefinitions\n\t */\n\t_enableAutomaticDecorators( automaticDecoratorDefinitions ) {\n\t\tconst editor = this.editor;\n\t\t// Store automatic decorators in the command instance as we do the same with manual decorators.\n\t\t// Thanks to that, `AnchorImageEditing` plugin can re-use the same definitions.\n\t\tconst command = editor.commands.get( 'anchor' );\n\t\tconst automaticDecorators = command.automaticDecorators;\n\n\t\t// Adds a default decorator for external anchors.\n\t\tif ( editor.config.get( 'anchor.addTargetToExternalAnchors' ) ) {\n\t\t\tautomaticDecorators.add( {\n\t\t\t\tid: 'anchorIsExternal',\n\t\t\t\tmode: DECORATOR_AUTOMATIC,\n\t\t\t\tcallback: url => EXTERNAL_LINKS_REGEXP.test( url ),\n\t\t\t\tattributes: {\n\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\trel: 'noopener noreferrer'\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tautomaticDecorators.add( automaticDecoratorDefinitions );\n\n\t\tif ( automaticDecorators.length ) {\n\t\t\teditor.conversion.for( 'downcast' ).add( automaticDecorators.getDispatcher() );\n\t\t}\n\t}\n\n\t/**\n\t * Processes an array of configured {@link module:anchor/anchor~AnchorDecoratorManualDefinition manual decorators},\n\t * transforms them into {@link module:anchor/utils~ManualDecorator} instances and stores them in the\n\t * {@link module:anchor/anchorcommand~AnchorCommand#manualDecorators} collection (a model for manual decorators state).\n\t *\n\t * Also registers an {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement attribute-to-element}\n\t * converter for each manual decorator and extends the {@link module:engine/model/schema~Schema model's schema}\n\t * with adequate model attributes.\n\t *\n\t * @private\n\t * @param {Array.<module:anchor/anchor~AnchorDecoratorManualDefinition>} manualDecoratorDefinitions\n\t */\n\t_enableManualDecorators( manualDecoratorDefinitions ) {\n\t\tif ( !manualDecoratorDefinitions.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = this.editor;\n\t\tconst command = editor.commands.get( 'anchor' );\n\t\tconst manualDecorators = command.manualDecorators;\n\n\t\tmanualDecoratorDefinitions.forEach( decorator => {\n\t\t\teditor.model.schema.extend( '$text', { allowAttributes: decorator.id } );\n\n\t\t\t// Keeps reference to manual decorator to decode its name to attributes during downcast.\n\t\t\tmanualDecorators.add( new ManualDecorator( decorator ) );\n\n\t\t\teditor.conversion.for( 'downcast' ).attributeToElement( {\n\t\t\t\tmodel: decorator.id,\n\t\t\t\tview: ( manualDecoratorName, { writer } ) => {\n\t\t\t\t\tif ( manualDecoratorName ) {\n\t\t\t\t\t\tconst attributes = manualDecorators.get( decorator.id ).attributes;\n\t\t\t\t\t\tconst element = writer.createAttributeElement( 'a', attributes, { priority: 5 } );\n\t\t\t\t\t\twriter.setCustomProperty( 'anchor', true, element );\n\n\t\t\t\t\t\treturn element;\n\t\t\t\t\t}\n\t\t\t\t} } );\n\n\t\t\teditor.conversion.for( 'upcast' ).elementToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: manualDecorators.get( decorator.id ).attributes\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: decorator.id\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Starts listening to {@link module:engine/model/model~Model#event:insertContent} and corrects the model\n\t * selection attributes if the selection is at the end of a anchor after inserting the content.\n\t *\n\t * The purpose of this action is to improve the overall UX because the user is no longer \"trapped\" by the\n\t * `anchorId` attribute of the selection and they can type a \"clean\" (`anchorId`–less) text right away.\n\t *\n\t * See https://github.com/ckeditor/ckeditor5/issues/6053.\n\t *\n\t * @private\n\t */\n\t_enableInsertContentSelectionAttributesFixer() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst selection = model.document.selection;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\n\t\tthis.listenTo( model, 'insertContent', () => {\n\t\t\tconst nodeBefore = selection.anchor.nodeBefore;\n\t\t\tconst nodeAfter = selection.anchor.nodeAfter;\n\n\t\t\t// NOTE: ↰ and ↱ represent the gravity of the selection.\n\n\t\t\t// The only truly valid case is:\n\t\t\t//\n\t\t\t//\t\t                                 ↰\n\t\t\t//\t\t...<$text anchorId=\"foo\">INSERTED[]</$text>\n\t\t\t//\n\t\t\t// If the selection is not \"trapped\" by the `anchorId` attribute after inserting, there's nothing\n\t\t\t// to fix there.\n\t\t\tif ( !selection.hasAttribute( 'anchorId' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Filter out the following case where a anchor with the same id (e.g. <a id=\"foo\">INSERTED</a>) is inserted\n\t\t\t// in the middle of an existing anchor:\n\t\t\t//\n\t\t\t// Before insertion:\n\t\t\t//\t\t                       ↰\n\t\t\t//\t\t<$text anchorId=\"foo\">l[]ink</$text>\n\t\t\t//\n\t\t\t// Expected after insertion:\n\t\t\t//\t\t                               ↰\n\t\t\t//\t\t<$text anchorId=\"foo\">lINSERTED[]ink</$text>\n\t\t\t//\n\t\t\tif ( !nodeBefore ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Filter out the following case where the selection has the \"anchorId\" attribute because the\n\t\t\t// gravity is overridden and some text with another attribute (e.g. <b>INSERTED</b>) is inserted:\n\t\t\t//\n\t\t\t// Before insertion:\n\t\t\t//\n\t\t\t//\t\t                       ↱\n\t\t\t//\t\t<$text anchorId=\"foo\">[]anchor</$text>\n\t\t\t//\n\t\t\t// Expected after insertion:\n\t\t\t//\n\t\t\t//\t\t                                                          ↱\n\t\t\t//\t\t<$text bold=\"true\">INSERTED</$text><$text anchorId=\"foo\">[]anchor</$text>\n\t\t\t//\n\t\t\tif ( !nodeBefore.hasAttribute( 'anchorId' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Filter out the following case where a anchor is a inserted in the middle (or before) another anchor\n\t\t\t// (different URLs, so they will not merge). In this (let's say weird) case, we can leave the selection\n\t\t\t// attributes as they are because the user will end up writing in one anchor or another anyway.\n\t\t\t//\n\t\t\t// Before insertion:\n\t\t\t//\n\t\t\t//\t\t                       ↰\n\t\t\t//\t\t<$text anchorId=\"foo\">l[]ink</$text>\n\t\t\t//\n\t\t\t// Expected after insertion:\n\t\t\t//\n\t\t\t//\t\t                                                             ↰\n\t\t\t//\t\t<$text anchorId=\"foo\">l</$text><$text anchorId=\"bar\">INSERTED[]</$text><$text anchorId=\"foo\">ink</$text>\n\t\t\t//\n\t\t\tif ( nodeAfter && nodeAfter.hasAttribute( 'anchorId' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmodel.change( writer => {\n\t\t\t\tremoveAnchorAttributesFromSelection( writer, anchorCommand.manualDecorators );\n\t\t\t} );\n\t\t}, { priority: 'low' } );\n\t}\n\n\t/**\n\t * Starts listening to {@link module:engine/view/document~Document#event:mousedown} and\n\t * {@link module:engine/view/document~Document#event:selectionChange} and puts the selection before/after a anchor node\n\t * if clicked at the beginning/ending of the anchor.\n\t *\n\t * The purpose of this action is to allow typing around the anchor node directly after a click.\n\t *\n\t * See https://github.com/ckeditor/ckeditor5/issues/1016.\n\t *\n\t * @private\n\t */\n\t_enableClickingAfterAnchor() {\n\t\tconst editor = this.editor;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\n\t\teditor.editing.view.addObserver( MouseObserver );\n\n\t\tlet clicked = false;\n\n\t\t// Detect the click.\n\t\tthis.listenTo( editor.editing.view.document, 'mousedown', () => {\n\t\t\tclicked = true;\n\t\t} );\n\n\t\t// When the selection has changed...\n\t\tthis.listenTo( editor.editing.view.document, 'selectionChange', () => {\n\t\t\tif ( !clicked ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// ...and it was caused by the click...\n\t\t\tclicked = false;\n\n\t\t\tconst selection = editor.model.document.selection;\n\n\t\t\t// ...and no text is selected...\n\t\t\tif ( !selection.isCollapsed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// ...and clicked text is the anchor...\n\t\t\tif ( !selection.hasAttribute( 'anchorId' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst position = selection.getFirstPosition();\n\t\t\tconst anchorRange = findAttributeRange( position, 'anchorId', selection.getAttribute( 'anchorId' ), editor.model );\n\n\t\t\t// ...check whether clicked start/end boundary of the anchor.\n\t\t\t// If so, remove the `anchorId` attribute.\n\t\t\tif ( position.isTouching( anchorRange.start ) || position.isTouching( anchorRange.end ) ) {\n\t\t\t\teditor.model.change( writer => {\n\t\t\t\t\tremoveAnchorAttributesFromSelection( writer, anchorCommand.manualDecorators );\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Starts listening to {@link module:engine/model/model~Model#deleteContent} and {@link module:engine/model/model~Model#insertContent}\n\t * and checks whether typing over the anchor. If so, attributes of removed text are preserved and applied to the inserted text.\n\t *\n\t * The purpose of this action is to allow modifying a text without loosing the `anchorId` attribute (and other).\n\t *\n\t * See https://github.com/ckeditor/ckeditor5/issues/4762.\n\t *\n\t * @private\n\t */\n\t_enableTypingOverAnchor() {\n\t\tconst editor = this.editor;\n\t\tconst view = editor.editing.view;\n\n\t\t// Selection attributes when started typing over the anchor.\n\t\tlet selectionAttributes;\n\n\t\t// Whether pressed `Backspace` or `Delete`. If so, attributes should not be preserved.\n\t\tlet deletedContent;\n\n\t\t// Detect pressing `Backspace` / `Delete`.\n\t\tthis.listenTo( view.document, 'delete', () => {\n\t\t\tdeletedContent = true;\n\t\t}, { priority: 'high' } );\n\n\t\t// Listening to `model#deleteContent` allows detecting whether selected content was a anchor.\n\t\t// If so, before removing the element, we will copy its attributes.\n\t\tthis.listenTo( editor.model, 'deleteContent', () => {\n\t\t\tconst selection = editor.model.document.selection;\n\n\t\t\t// Copy attributes only if anything is selected.\n\t\t\tif ( selection.isCollapsed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// When the content was deleted, do not preserve attributes.\n\t\t\tif ( deletedContent ) {\n\t\t\t\tdeletedContent = false;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Enabled only when typing.\n\t\t\tif ( !isTyping( editor ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( shouldCopyAttributes( editor.model ) ) {\n\t\t\t\tselectionAttributes = selection.getAttributes();\n\t\t\t}\n\t\t}, { priority: 'high' } );\n\n\t\t// Listening to `model#insertContent` allows detecting the content insertion.\n\t\t// We want to apply attributes that were removed while typing over the anchor.\n\t\tthis.listenTo( editor.model, 'insertContent', ( evt, [ element ] ) => {\n\t\t\tdeletedContent = false;\n\n\t\t\t// Enabled only when typing.\n\t\t\tif ( !isTyping( editor ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( !selectionAttributes ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.model.change( writer => {\n\t\t\t\tfor ( const [ attribute, value ] of selectionAttributes ) {\n\t\t\t\t\twriter.setAttribute( attribute, value, element );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tselectionAttributes = null;\n\t\t}, { priority: 'high' } );\n\t}\n\n\t/**\n\t * Starts listening to {@link module:engine/model/model~Model#deleteContent} and checks whether\n\t * removing a content right after the \"anchorId\" attribute.\n\t *\n\t * If so, the selection should not preserve the `anchorId` attribute. However, if\n\t * the {@link module:typing/twostepcaretmovement~TwoStepCaretMovement} plugin is active and\n\t * the selection has the \"anchorId\" attribute due to overriden gravity (at the end), the `anchorId` attribute should stay untouched.\n\t *\n\t * The purpose of this action is to allow removing the anchor text and keep the selection outside the anchor.\n\t *\n\t * See https://github.com/ckeditor/ckeditor5/issues/7521.\n\t *\n\t * @private\n\t */\n\t_handleDeleteContentAfterAnchor() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst selection = model.document.selection;\n\t\tconst view = editor.editing.view;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\n\t\t// A flag whether attributes `anchorId` attribute should be preserved.\n\t\tlet shouldPreserveAttributes = false;\n\n\t\t// A flag whether the `Backspace` key was pressed.\n\t\tlet hasBackspacePressed = false;\n\n\t\t// Detect pressing `Backspace`.\n\t\tthis.listenTo( view.document, 'delete', ( evt, data ) => {\n\t\t\thasBackspacePressed = data.domEvent.keyCode === keyCodes.backspace;\n\t\t}, { priority: 'high' } );\n\n\t\t// Before removing the content, check whether the selection is inside a anchor or at the end of anchor but with 2-SCM enabled.\n\t\t// If so, we want to preserve anchor attributes.\n\t\tthis.listenTo( model, 'deleteContent', () => {\n\t\t\t// Reset the state.\n\t\t\tshouldPreserveAttributes = false;\n\n\t\t\tconst position = selection.getFirstPosition();\n\t\t\tconst anchorId = selection.getAttribute( 'anchorId' );\n\n\t\t\tif ( !anchorId ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst anchorRange = findAttributeRange( position, 'anchorId', anchorId, model );\n\n\t\t\t// Preserve `anchorId` attribute if the selection is in the middle of the anchor or\n\t\t\t// the selection is at the end of the anchor and 2-SCM is activated.\n\t\t\tshouldPreserveAttributes = anchorRange.containsPosition( position ) || anchorRange.end.isEqual( position );\n\t\t}, { priority: 'high' } );\n\n\t\t// After removing the content, check whether the current selection should preserve the `anchorId` attribute.\n\t\tthis.listenTo( model, 'deleteContent', () => {\n\t\t\t// If didn't press `Backspace`.\n\t\t\tif ( !hasBackspacePressed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thasBackspacePressed = false;\n\n\t\t\t// Disable the mechanism if inside a anchor (`<$text url=\"foo\">F[]oo</$text>` or <$text url=\"foo\">Foo[]</$text>`).\n\t\t\tif ( shouldPreserveAttributes ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Use `model.enqueueChange()` in order to execute the callback at the end of the changes process.\n\t\t\teditor.model.enqueueChange( writer => {\n\t\t\t\tremoveAnchorAttributesFromSelection( writer, anchorCommand.manualDecorators );\n\t\t\t} );\n\t\t}, { priority: 'low' } );\n\t}\n}\n\n// Make the selection free of anchor-related model attributes.\n// All anchor-related model attributes start with \"anchor\". That includes not only \"anchorId\"\n// but also all decorator attributes (they have dynamic names).\n//\n// @param {module:engine/model/writer~Writer} writer\n// @param {module:utils/collection~Collection} manualDecorators\nfunction removeAnchorAttributesFromSelection( writer, manualDecorators ) {\n\twriter.removeSelectionAttribute( 'anchorId' );\n\n\tfor ( const decorator of manualDecorators ) {\n\t\twriter.removeSelectionAttribute( decorator.id );\n\t}\n}\n\n// Checks whether selection's attributes should be copied to the new inserted text.\n//\n// @param {module:engine/model/model~Model} model\n// @returns {Boolean}\nfunction shouldCopyAttributes( model ) {\n\tconst selection = model.document.selection;\n\tconst firstPosition = selection.getFirstPosition();\n\tconst lastPosition = selection.getLastPosition();\n\tconst nodeAtFirstPosition = firstPosition.nodeAfter;\n\n\t// The text anchor node does not exist...\n\tif ( !nodeAtFirstPosition ) {\n\t\treturn false;\n\t}\n\n\t// ...or it isn't the text node...\n\tif ( !nodeAtFirstPosition.is( '$text' ) ) {\n\t\treturn false;\n\t}\n\n\t// ...or isn't the anchor.\n\tif ( !nodeAtFirstPosition.hasAttribute( 'anchorId' ) ) {\n\t\treturn false;\n\t}\n\n\t// `textNode` = the position is inside the anchor element.\n\t// `nodeBefore` = the position is at the end of the anchor element.\n\tconst nodeAtLastPosition = lastPosition.textNode || lastPosition.nodeBefore;\n\n\t// If both references the same node selection contains a single text node.\n\tif ( nodeAtFirstPosition === nodeAtLastPosition ) {\n\t\treturn true;\n\t}\n\n\t// If nodes are not equal, maybe the anchor nodes has defined additional attributes inside.\n\t// First, we need to find the entire anchor range.\n\tconst anchorRange = findAttributeRange( firstPosition, 'anchorId', nodeAtFirstPosition.getAttribute( 'anchorId' ), model );\n\n\t// Then we can check whether selected range is inside the found anchor range. If so, attributes should be preserved.\n\treturn anchorRange.containsRange( model.createRange( firstPosition, lastPosition ), true );\n}\n\n// Checks whether provided changes were caused by typing.\n//\n// @params {module:core/editor/editor~Editor} editor\n// @returns {Boolean}\nfunction isTyping( editor ) {\n\tconst currentBatch = editor.model.change( writer => writer.batch );\n\treturn currentBatch.isTyping;\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z\\\"/></svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./anchorform.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/ui/anchorformview\n */\n\nimport { View } from 'ckeditor5/src/ui';\nimport { ViewCollection } from 'ckeditor5/src/ui';\n\nimport { ButtonView } from 'ckeditor5/src/ui';\nimport { SwitchButtonView } from 'ckeditor5/src/ui';\n\nimport { LabeledFieldView } from 'ckeditor5/src/ui';\nimport { createLabeledInputText } from 'ckeditor5/src/ui';\nimport { injectCssTransitionDisabler } from 'ckeditor5/src/ui';\n\nimport { submitHandler } from 'ckeditor5/src/ui';\nimport { FocusTracker } from 'ckeditor5/src/utils';\nimport { FocusCycler } from 'ckeditor5/src/ui';\nimport { KeystrokeHandler } from 'ckeditor5/src/utils';\n\nimport checkIcon from '@ckeditor/ckeditor5-core/theme/icons/check.svg';\nimport cancelIcon from '@ckeditor/ckeditor5-core/theme/icons/cancel.svg';\nimport '../../theme/anchorform.css';\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\n\n/**\n * The anchor form view controller class.\n *\n * See {@link module:anchor/ui/anchorformview~AnchorFormView}.\n *\n * @extends module:ui/view~View\n */\nexport default class AnchorFormView extends View {\n\t/**\n\t * Creates an instance of the {@link module:anchor/ui/anchorformview~AnchorFormView} class.\n\t *\n\t * Also see {@link #render}.\n\t *\n\t * @param {module:utils/locale~Locale} [locale] The localization services instance.\n\t * @param {module:anchor/anchorcommand~AnchorCommand} anchorCommand Reference to {@link module:anchor/anchorcommand~AnchorCommand}.\n\t * @param {String} [protocol] A value of a protocol to be displayed in the input's placeholder.\n\t */\n\tconstructor( locale, anchorCommand ) {\n\t\tsuper( locale );\n\n\t\tconst t = locale.t;\n\n\t\t/**\n\t\t * Tracks information about DOM focus in the form.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/focustracker~FocusTracker}\n\t\t */\n\t\tthis.focusTracker = new FocusTracker();\n\n\t\t/**\n\t\t * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/keystrokehandler~KeystrokeHandler}\n\t\t */\n\t\tthis.keystrokes = new KeystrokeHandler();\n\n\t\t/**\n\t\t * The URL input view.\n\t\t *\n\t\t * @member {module:ui/labeledfield/labeledfieldview~LabeledFieldView}\n\t\t */\n\t\tthis.urlInputView = this._createUrlInput();\n\n\t\t/**\n\t\t * The Save button view.\n\t\t *\n\t\t * @member {module:ui/button/buttonview~ButtonView}\n\t\t */\n\t\tthis.saveButtonView = this._createButton( t( 'Save' ), checkIcon, 'ck-button-save' );\n\t\tthis.saveButtonView.type = 'submit';\n\n\t\t/**\n\t\t * The Cancel button view.\n\t\t *\n\t\t * @member {module:ui/button/buttonview~ButtonView}\n\t\t */\n\t\tthis.cancelButtonView = this._createButton( t( 'Cancel' ), cancelIcon, 'ck-button-cancel', 'cancel' );\n\n\t\t/**\n\t\t * A collection of {@link module:ui/button/switchbuttonview~SwitchButtonView},\n\t\t * which corresponds to {@link module:anchor/anchorcommand~AnchorCommand#manualDecorators manual decorators}\n\t\t * configured in the editor.\n\t\t *\n\t\t * @private\n\t\t * @readonly\n\t\t * @type {module:ui/viewcollection~ViewCollection}\n\t\t */\n\t\tthis._manualDecoratorSwitches = this._createManualDecoratorSwitches( anchorCommand );\n\n\t\t/**\n\t\t * A collection of child views in the form.\n\t\t *\n\t\t * @readonly\n\t\t * @type {module:ui/viewcollection~ViewCollection}\n\t\t */\n\t\tthis.children = this._createFormChildren( anchorCommand.manualDecorators );\n\n\t\t/**\n\t\t * A collection of views that can be focused in the form.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {module:ui/viewcollection~ViewCollection}\n\t\t */\n\t\tthis._focusables = new ViewCollection();\n\n\t\t/**\n\t\t * Helps cycling over {@link #_focusables} in the form.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {module:ui/focuscycler~FocusCycler}\n\t\t */\n\t\tthis._focusCycler = new FocusCycler( {\n\t\t\tfocusables: this._focusables,\n\t\t\tfocusTracker: this.focusTracker,\n\t\t\tkeystrokeHandler: this.keystrokes,\n\t\t\tactions: {\n\t\t\t\t// Navigate form fields backwards using the Shift + Tab keystroke.\n\t\t\t\tfocusPrevious: 'shift + tab',\n\n\t\t\t\t// Navigate form fields forwards using the Tab key.\n\t\t\t\tfocusNext: 'tab'\n\t\t\t}\n\t\t} );\n\n\t\tconst classList = [ 'ck', 'ck-anchor-form', 'ck-responsive-form' ];\n\n\t\tif ( anchorCommand.manualDecorators.length ) {\n\t\t\tclassList.push( 'ck-anchor-form_layout-vertical', 'ck-vertical-form' );\n\t\t}\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'form',\n\n\t\t\tattributes: {\n\t\t\t\tclass: classList,\n\n\t\t\t\t// https://github.com/ckeditor/ckeditor5-anchor/issues/90\n\t\t\t\ttabindex: '-1'\n\t\t\t},\n\n\t\t\tchildren: this.children\n\t\t} );\n\n\t\tinjectCssTransitionDisabler( this );\n\t}\n\n\t/**\n\t * Obtains the state of the {@link module:ui/button/switchbuttonview~SwitchButtonView switch buttons} representing\n\t * {@link module:anchor/anchorcommand~AnchorCommand#manualDecorators manual anchor decorators}\n\t * in the {@link module:anchor/ui/anchorformview~AnchorFormView}.\n\t *\n\t * @returns {Object.<String,Boolean>} Key-value pairs, where the key is the name of the decorator and the value is\n\t * its state.\n\t */\n\tgetDecoratorSwitchesState() {\n\t\treturn Array.from( this._manualDecoratorSwitches ).reduce( ( accumulator, switchButton ) => {\n\t\t\taccumulator[ switchButton.name ] = switchButton.isOn;\n\t\t\treturn accumulator;\n\t\t}, {} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\tsuper.render();\n\n\t\tsubmitHandler( {\n\t\t\tview: this\n\t\t} );\n\n\t\tconst childViews = [\n\t\t\tthis.urlInputView,\n\t\t\t...this._manualDecoratorSwitches,\n\t\t\tthis.saveButtonView,\n\t\t\tthis.cancelButtonView\n\t\t];\n\n\t\tchildViews.forEach( v => {\n\t\t\t// Register the view as focusable.\n\t\t\tthis._focusables.add( v );\n\n\t\t\t// Register the view in the focus tracker.\n\t\t\tthis.focusTracker.add( v.element );\n\t\t} );\n\n\t\t// Start listening for the keystrokes coming from #element.\n\t\tthis.keystrokes.listenTo( this.element );\n\t}\n\n\t/**\n\t * Focuses the fist {@link #_focusables} in the form.\n\t */\n\tfocus() {\n\t\tthis._focusCycler.focusFirst();\n\t}\n\n\t/**\n\t * Creates a labeled input view.\n\t *\n\t * @private\n\t * @returns {module:ui/labeledfield/labeledfieldview~LabeledFieldView} Labeled field view instance.\n\t */\n\t_createUrlInput() {\n\t\tconst t = this.locale.t;\n\t\tconst labeledInput = new LabeledFieldView( this.locale, createLabeledInputText );\n\n\t\tlabeledInput.label = t( 'Anchor name' );\n\n\t\treturn labeledInput;\n\t}\n\n\t/**\n\t * Creates a button view.\n\t *\n\t * @private\n\t * @param {String} label The button label.\n\t * @param {String} icon The button icon.\n\t * @param {String} className The additional button CSS class name.\n\t * @param {String} [eventName] An event name that the `ButtonView#execute` event will be delegated to.\n\t * @returns {module:ui/button/buttonview~ButtonView} The button view instance.\n\t */\n\t_createButton( label, icon, className, eventName ) {\n\t\tconst button = new ButtonView( this.locale );\n\n\t\tbutton.set( {\n\t\t\tlabel,\n\t\t\ticon,\n\t\t\ttooltip: true\n\t\t} );\n\n\t\tbutton.extendTemplate( {\n\t\t\tattributes: {\n\t\t\t\tclass: className\n\t\t\t}\n\t\t} );\n\n\t\tif ( eventName ) {\n\t\t\tbutton.delegate( 'execute' ).to( this, eventName );\n\t\t}\n\n\t\treturn button;\n\t}\n\n\t/**\n\t * Populates {@link module:ui/viewcollection~ViewCollection} of {@link module:ui/button/switchbuttonview~SwitchButtonView}\n\t * made based on {@link module:anchor/anchorcommand~AnchorCommand#manualDecorators}.\n\t *\n\t * @private\n\t * @param {module:anchor/anchorcommand~AnchorCommand} anchorCommand A reference to the anchor command.\n\t * @returns {module:ui/viewcollection~ViewCollection} of switch buttons.\n\t */\n\t_createManualDecoratorSwitches( anchorCommand ) {\n\t\tconst switches = this.createCollection();\n\n\t\tfor ( const manualDecorator of anchorCommand.manualDecorators ) {\n\t\t\tconst switchButton = new SwitchButtonView( this.locale );\n\n\t\t\tswitchButton.set( {\n\t\t\t\tname: manualDecorator.id,\n\t\t\t\tlabel: manualDecorator.label,\n\t\t\t\twithText: true\n\t\t\t} );\n\n\t\t\tswitchButton.bind( 'isOn' ).toMany( [ manualDecorator, anchorCommand ], 'value', ( decoratorValue, commandValue ) => {\n\t\t\t\treturn commandValue === undefined && decoratorValue === undefined ? manualDecorator.defaultValue : decoratorValue;\n\t\t\t} );\n\n\t\t\tswitchButton.on( 'execute', () => {\n\t\t\t\tmanualDecorator.set( 'value', !switchButton.isOn );\n\t\t\t} );\n\n\t\t\tswitches.add( switchButton );\n\t\t}\n\n\t\treturn switches;\n\t}\n\n\t/**\n\t * Populates the {@link #children} collection of the form.\n\t *\n\t * If {@link module:anchor/anchorcommand~AnchorCommand#manualDecorators manual decorators} are configured in the editor, it creates an\n\t * additional `View` wrapping all {@link #_manualDecoratorSwitches} switch buttons corresponding\n\t * to these decorators.\n\t *\n\t * @private\n\t * @param {module:utils/collection~Collection} manualDecorators A reference to\n\t * the collection of manual decorators stored in the anchor command.\n\t * @returns {module:ui/viewcollection~ViewCollection} The children of anchor form view.\n\t */\n\t_createFormChildren( manualDecorators ) {\n\t\tconst children = this.createCollection();\n\n\t\tchildren.add( this.urlInputView );\n\n\t\tif ( manualDecorators.length ) {\n\t\t\tconst additionalButtonsView = new View();\n\n\t\t\tadditionalButtonsView.setTemplate( {\n\t\t\t\ttag: 'ul',\n\t\t\t\tchildren: this._manualDecoratorSwitches.map( switchButton => ( {\n\t\t\t\t\ttag: 'li',\n\t\t\t\t\tchildren: [ switchButton ],\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tclass: [\n\t\t\t\t\t\t\t'ck',\n\t\t\t\t\t\t\t'ck-list__item'\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t} ) ),\n\t\t\t\tattributes: {\n\t\t\t\t\tclass: [\n\t\t\t\t\t\t'ck',\n\t\t\t\t\t\t'ck-reset',\n\t\t\t\t\t\t'ck-list'\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t} );\n\t\t\tchildren.add( additionalButtonsView );\n\t\t}\n\n\t\tchildren.add( this.saveButtonView );\n\t\tchildren.add( this.cancelButtonView );\n\n\t\treturn children;\n\t}\n}\n\n/**\n * Fired when the form view is submitted (when one of the children triggered the submit event),\n * for example with a click on {@link #saveButtonView}.\n *\n * @event submit\n */\n\n/**\n * Fired when the form view is canceled, for example with a click on {@link #cancelButtonView}.\n *\n * @event cancel\n */\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z\\\"/></svg>\";","export default \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 20010904//EN\\\"\\n \\\"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\\\">\\n<svg version=\\\"1.0\\\"\\n    xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"512.000000pt\\\" height=\\\"512.000000pt\\\" viewBox=\\\"0 0 512.000000 512.000000\\\" preserveAspectRatio=\\\"xMidYMid meet\\\">\\n    <metadata>\\nCreated by potrace 1.16, written by Peter Selinger 2001-2019\\n    </metadata>\\n    <g transform=\\\"translate(0.000000,512.000000) scale(0.100000,-0.100000)\\\" fill=\\\"#000000\\\" stroke=\\\"none\\\">\\n        <path d=\\\"M4255 5006 c-204 -208 -399 -316 -686 -380 -261 -58 -568 -60 -1104\\n-7 -170 17 -404 36 -519 43 -593 32 -1000 -83 -1307 -370 l-72 -68 21 -64 c12\\n-36 175 -616 363 -1290 188 -674 343 -1227 344 -1228 2 -2 44 31 94 75 201\\n175 418 276 711 330 79 15 149 18 410 17 267 0 354 -4 575 -27 143 -15 318\\n-32 390 -37 192 -16 529 -14 666 4 349 47 616 174 843 400 95 95 124 139 132\\n198 11 83 7 88 -133 163 -250 133 -497 302 -731 501 -62 53 -115 106 -118 119\\n-3 12 17 114 45 226 97 396 173 780 227 1157 19 134 34 268 32 296 -3 51 -3\\n51 -38 53 -32 1 -44 -7 -145 -111z\\\"/>\\n        <path d=\\\"M152 4245 c-97 -30 -151 -104 -152 -204 0 -42 126 -506 541 -1990\\n297 -1065 548 -1951 556 -1969 26 -54 77 -82 149 -82 159 0 274 80 274 191 0\\n35 -1083 3917 -1105 3959 -21 41 -81 87 -131 99 -54 14 -78 13 -132 -4z\\\"/>\\n        <path d=\\\"M3845 1352 c-16 -11 -47 -38 -67 -60 -33 -36 -38 -49 -38 -89 l0 -47\\n212 -213 212 -213 -212 -213 -212 -213 0 -47 c0 -42 5 -53 42 -93 51 -55 85\\n-74 134 -74 36 0 50 12 251 212 l213 212 213 -212 c201 -200 215 -212 251\\n-212 49 0 83 19 134 74 37 40 42 51 42 93 l0 47 -212 213 -212 213 212 213\\n212 213 0 47 c0 42 -5 53 -42 93 -51 55 -85 74 -134 74 -36 0 -50 -12 -251\\n-212 l-213 -212 -213 212 c-205 204 -214 212 -253 212 -21 0 -52 -8 -69 -18z\\\"/>\\n    </g>\\n</svg>\";","import api from \"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../css-loader/dist/cjs.js!../../../postcss-loader/dist/cjs.js??ruleSet[1].rules[7].use[2]!./anchoractions.css\";\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/ui/anchoractionsview\n */\n\nimport { View } from 'ckeditor5/src/ui';\nimport { ViewCollection } from 'ckeditor5/src/ui';\n\nimport { ButtonView } from 'ckeditor5/src/ui';\n\nimport { FocusTracker } from 'ckeditor5/src/utils';\nimport { FocusCycler } from 'ckeditor5/src/ui';\nimport { KeystrokeHandler } from 'ckeditor5/src/utils';\n\nimport unanchorIcon from '../../theme/icons/unanchor.svg';\nimport { icons } from 'ckeditor5/src/core';\nimport '../../theme/anchoractions.css';\nimport '@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css';\n\n/**\n * The anchor actions view class. This view displays the anchor preview, allows\n * unanchoring or editing the anchor.\n *\n * @extends module:ui/view~View\n */\nexport default class AnchorActionsView extends View {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor( locale ) {\n\t\tsuper( locale );\n\n\t\tconst t = locale.t;\n\n\t\t/**\n\t\t * Tracks information about DOM focus in the actions.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/focustracker~FocusTracker}\n\t\t */\n\t\tthis.focusTracker = new FocusTracker();\n\n\t\t/**\n\t\t * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/keystrokehandler~KeystrokeHandler}\n\t\t */\n\t\tthis.keystrokes = new KeystrokeHandler();\n\n\t\t/**\n\t\t * The unanchor button view.\n\t\t *\n\t\t * @member {module:ui/button/buttonview~ButtonView}\n\t\t */\n\t\tthis.unanchorButtonView = this._createButton( t( 'Unanchor' ), unanchorIcon, 'unanchor' );\n\n\t\t/**\n\t\t * The edit anchor button view.\n\t\t *\n\t\t * @member {module:ui/button/buttonview~ButtonView}\n\t\t */\n\t\tthis.editButtonView = this._createButton( t( 'Edit anchor' ), icons.pencil, 'edit' );\n\n\t\t/**\n\t\t * A collection of views that can be focused in the view.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {module:ui/viewcollection~ViewCollection}\n\t\t */\n\t\tthis._focusables = new ViewCollection();\n\n\t\t/**\n\t\t * Helps cycling over {@link #_focusables} in the view.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {module:ui/focuscycler~FocusCycler}\n\t\t */\n\t\tthis._focusCycler = new FocusCycler( {\n\t\t\tfocusables: this._focusables,\n\t\t\tfocusTracker: this.focusTracker,\n\t\t\tkeystrokeHandler: this.keystrokes,\n\t\t\tactions: {\n\t\t\t\t// Navigate fields backwards using the Shift + Tab keystroke.\n\t\t\t\tfocusPrevious: 'shift + tab',\n\n\t\t\t\t// Navigate fields forwards using the Tab key.\n\t\t\t\tfocusNext: 'tab'\n\t\t\t}\n\t\t} );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'div',\n\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-anchor-actions',\n\t\t\t\t\t'ck-responsive-form'\n\t\t\t\t],\n\n\t\t\t\t// https://github.com/ckeditor/ckeditor5-anchor/issues/90\n\t\t\t\ttabindex: '-1'\n\t\t\t},\n\n\t\t\tchildren: [\n\t\t\t\tthis.editButtonView,\n\t\t\t\tthis.unanchorButtonView\n\t\t\t]\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\tsuper.render();\n\n\t\tconst childViews = [\n\t\t\tthis.editButtonView,\n\t\t\tthis.unanchorButtonView\n\t\t];\n\n\t\tchildViews.forEach( v => {\n\t\t\t// Register the view as focusable.\n\t\t\tthis._focusables.add( v );\n\n\t\t\t// Register the view in the focus tracker.\n\t\t\tthis.focusTracker.add( v.element );\n\t\t} );\n\n\t\t// Start listening for the keystrokes coming from #element.\n\t\tthis.keystrokes.listenTo( this.element );\n\t}\n\n\t/**\n\t * Focuses the fist {@link #_focusables} in the actions.\n\t */\n\tfocus() {\n\t\tthis._focusCycler.focusFirst();\n\t}\n\n\t/**\n\t * Creates a button view.\n\t *\n\t * @private\n\t * @param {String} label The button label.\n\t * @param {String} icon The button icon.\n\t * @param {String} [eventName] An event name that the `ButtonView#execute` event will be delegated to.\n\t * @returns {module:ui/button/buttonview~ButtonView} The button view instance.\n\t */\n\t_createButton( label, icon, eventName ) {\n\t\tconst button = new ButtonView( this.locale );\n\n\t\tbutton.set( {\n\t\t\tlabel,\n\t\t\ticon,\n\t\t\ttooltip: true\n\t\t} );\n\n\t\tbutton.delegate( 'execute' ).to( this, eventName );\n\n\t\treturn button;\n\t}\n}\n\n/**\n * Fired when the {@link #editButtonView} is clicked.\n *\n * @event edit\n */\n\n/**\n * Fired when the {@link #unanchorButtonView} is clicked.\n *\n * @event unanchor\n */\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/anchorui\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport { ClickObserver } from 'ckeditor5/src/engine';\nimport { addAnchorProtocolIfApplicable, isAnchorElement, LINK_KEYSTROKE } from './utils';\n\nimport { ContextualBalloon } from 'ckeditor5/src/ui';\n\nimport { clickOutsideHandler } from 'ckeditor5/src/ui';\n\nimport { ButtonView } from 'ckeditor5/src/ui';\nimport AnchorFormView from './ui/anchorformview';\nimport AnchorActionsView from './ui/anchoractionsview';\n\nimport anchorIcon from '../theme/icons/anchor.svg';\n\nconst VISUAL_SELECTION_MARKER_NAME = 'anchor-ui';\n\n/**\n * The anchor UI plugin. It introduces the `'anchor'` and `'unanchor'` buttons and support for the <kbd>Ctrl+M</kbd> keystroke.\n *\n * It uses the\n * {@link module:ui/panel/balloon/contextualballoon~ContextualBalloon contextual balloon plugin}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class AnchorUI extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ ContextualBalloon ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'AnchorUI';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\n\t\teditor.editing.view.addObserver( ClickObserver );\n\n\t\t/**\n\t\t * The actions view displayed inside of the balloon.\n\t\t *\n\t\t * @member {module:anchor/ui/anchoractionsview~AnchorActionsView}\n\t\t */\n\t\tthis.actionsView = this._createActionsView();\n\n\t\t/**\n\t\t * The form view displayed inside the balloon.\n\t\t *\n\t\t * @member {module:anchor/ui/anchorformview~AnchorFormView}\n\t\t */\n\t\tthis.formView = this._createFormView();\n\n\t\t/**\n\t\t * The contextual balloon plugin instance.\n\t\t *\n\t\t * @private\n\t\t * @member {module:ui/panel/balloon/contextualballoon~ContextualBalloon}\n\t\t */\n\t\tthis._balloon = editor.plugins.get( ContextualBalloon );\n\n\t\t// Create toolbar buttons.\n\t\tthis._createToolbarAnchorButton();\n\n\t\t// Attach lifecycle actions to the the balloon.\n\t\tthis._enableUserBalloonInteractions();\n\n\t\t// Renders a fake visual selection marker on an expanded selection.\n\t\teditor.conversion.for( 'editingDowncast' ).markerToHighlight( {\n\t\t\tmodel: VISUAL_SELECTION_MARKER_NAME,\n\t\t\tview: {\n\t\t\t\tclasses: [ 'ck-fake-anchor-selection' ]\n\t\t\t}\n\t\t} );\n\n\t\t// Renders a fake visual selection marker on a collapsed selection.\n\t\teditor.conversion.for( 'editingDowncast' ).markerToElement( {\n\t\t\tmodel: VISUAL_SELECTION_MARKER_NAME,\n\t\t\tview: {\n\t\t\t\tname: 'span',\n\t\t\t\tclasses: [ 'ck-fake-anchor-selection', 'ck-fake-anchor-selection_collapsed' ]\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdestroy() {\n\t\tsuper.destroy();\n\n\t\t// Destroy created UI components as they are not automatically destroyed (see ckeditor5#1341).\n\t\tthis.formView.destroy();\n\t}\n\n\t/**\n\t * Creates the {@link module:anchor/ui/anchoractionsview~AnchorActionsView} instance.\n\t *\n\t * @private\n\t * @returns {module:anchor/ui/anchoractionsview~AnchorActionsView} The anchor actions view instance.\n\t */\n\t_createActionsView() {\n\t\tconst editor = this.editor;\n\t\tconst actionsView = new AnchorActionsView( editor.locale );\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\t\tconst unanchorCommand = editor.commands.get( 'unanchor' );\n\n\t\tactionsView.bind( 'id' ).to( anchorCommand, 'value' );\n\t\tactionsView.editButtonView.bind( 'isEnabled' ).to( anchorCommand );\n\t\tactionsView.unanchorButtonView.bind( 'isEnabled' ).to( unanchorCommand );\n\n\t\t// Execute unanchor command after clicking on the \"Edit\" button.\n\t\tthis.listenTo( actionsView, 'edit', () => {\n\t\t\tthis._addFormView();\n\t\t} );\n\n\t\t// Execute unanchor command after clicking on the \"Unanchor\" button.\n\t\tthis.listenTo( actionsView, 'unanchor', () => {\n\t\t\teditor.execute( 'unanchor' );\n\t\t\tthis._hideUI();\n\t\t} );\n\n\t\t// Close the panel on esc key press when the **actions have focus**.\n\t\tactionsView.keystrokes.set( 'Esc', ( data, cancel ) => {\n\t\t\tthis._hideUI();\n\t\t\tcancel();\n\t\t} );\n\n\t\t// Open the form view on Ctrl+M when the **actions have focus**..\n\t\tactionsView.keystrokes.set( LINK_KEYSTROKE, ( data, cancel ) => {\n\t\t\tthis._addFormView();\n\t\t\tcancel();\n\t\t} );\n\n\t\treturn actionsView;\n\t}\n\n\t/**\n\t * Creates the {@link module:anchor/ui/anchorformview~AnchorFormView} instance.\n\t *\n\t * @private\n\t * @returns {module:anchor/ui/anchorformview~AnchorFormView} The anchor form view instance.\n\t */\n\t_createFormView() {\n\t\tconst editor = this.editor;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\t\tconst defaultProtocol = editor.config.get( 'anchor.defaultProtocol' );\n\n\t\tconst formView = new AnchorFormView( editor.locale, anchorCommand );\n\n\t\tformView.urlInputView.fieldView.bind( 'value' ).to( anchorCommand, 'value' );\n\n\t\t// Form elements should be read-only when corresponding commands are disabled.\n\t\tformView.urlInputView.bind( 'isReadOnly' ).to( anchorCommand, 'isEnabled', value => !value );\n\t\tformView.saveButtonView.bind( 'isEnabled' ).to( anchorCommand );\n\n\t\t// Execute anchor command after clicking the \"Save\" button.\n\t\tthis.listenTo( formView, 'submit', () => {\n\t\t\tconst { value } = formView.urlInputView.fieldView.element;\n\t\t\tconst parsedUrl = addAnchorProtocolIfApplicable( value, defaultProtocol );\n\t\t\teditor.execute( 'anchor', parsedUrl, formView.getDecoratorSwitchesState() );\n\t\t\tthis._closeFormView();\n\t\t} );\n\n\t\t// Hide the panel after clicking the \"Cancel\" button.\n\t\tthis.listenTo( formView, 'cancel', () => {\n\t\t\tthis._closeFormView();\n\t\t} );\n\n\t\t// Close the panel on esc key press when the **form has focus**.\n\t\tformView.keystrokes.set( 'Esc', ( data, cancel ) => {\n\t\t\tthis._closeFormView();\n\t\t\tcancel();\n\t\t} );\n\n\t\treturn formView;\n\t}\n\n\t/**\n\t * Creates a toolbar Anchor button. Clicking this button will show\n\t * a {@link #_balloon} attached to the selection.\n\t *\n\t * @private\n\t */\n\t_createToolbarAnchorButton() {\n\t\tconst editor = this.editor;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\t\tconst t = editor.t;\n\n\t\t// Handle the `Ctrl+M` keystroke and show the panel.\n\t\teditor.keystrokes.set( LINK_KEYSTROKE, ( keyEvtData, cancel ) => {\n\t\t\t// Prevent focusing the search bar in FF, Chrome and Edge. See https://github.com/ckeditor/ckeditor5/issues/4811.\n\t\t\tcancel();\n\n\t\t\tif ( anchorCommand.isEnabled ) {\n\t\t\t\tthis._showUI( true );\n\t\t\t}\n\t\t} );\n\n\t\teditor.ui.componentFactory.add( 'anchor', locale => {\n\t\t\tconst button = new ButtonView( locale );\n\n\t\t\tbutton.isEnabled = true;\n\t\t\tbutton.label = t( 'Anchor' );\n\t\t\tbutton.icon = anchorIcon;\n\t\t\tbutton.keystroke = LINK_KEYSTROKE;\n\t\t\tbutton.tooltip = true;\n\t\t\tbutton.isToggleable = true;\n\n\t\t\t// Bind button to the command.\n\t\t\tbutton.bind( 'isEnabled' ).to( anchorCommand, 'isEnabled' );\n\t\t\tbutton.bind( 'isOn' ).to( anchorCommand, 'value', value => !!value );\n\n\t\t\t// Show the panel on button click.\n\t\t\tthis.listenTo( button, 'execute', () => this._showUI( true ) );\n\n\t\t\treturn button;\n\t\t} );\n\t}\n\n\t/**\n\t * Attaches actions that control whether the balloon panel containing the\n\t * {@link #formView} is visible or not.\n\t *\n\t * @private\n\t */\n\t_enableUserBalloonInteractions() {\n\t\tconst viewDocument = this.editor.editing.view.document;\n\n\t\t// Handle click on view document and show panel when selection is placed inside the anchor element.\n\t\t// Keep panel open until selection will be inside the same anchor element.\n\t\tthis.listenTo( viewDocument, 'click', () => {\n\t\t\tconst parentAnchor = this._getSelectedAnchorElement();\n\n\t\t\tif ( parentAnchor ) {\n\t\t\t\t// Then show panel but keep focus inside editor editable.\n\t\t\t\tthis._showUI();\n\t\t\t}\n\t\t} );\n\n\t\t// Focus the form if the balloon is visible and the Tab key has been pressed.\n\t\tthis.editor.keystrokes.set( 'Tab', ( data, cancel ) => {\n\t\t\tif ( this._areActionsVisible && !this.actionsView.focusTracker.isFocused ) {\n\t\t\t\tthis.actionsView.focus();\n\t\t\t\tcancel();\n\t\t\t}\n\t\t}, {\n\t\t\t// Use the high priority because the anchor UI navigation is more important\n\t\t\t// than other feature's actions, e.g. list indentation.\n\t\t\t// https://github.com/ckeditor/ckeditor5-anchor/issues/146\n\t\t\tpriority: 'high'\n\t\t} );\n\n\t\t// Close the panel on the Esc key press when the editable has focus and the balloon is visible.\n\t\tthis.editor.keystrokes.set( 'Esc', ( data, cancel ) => {\n\t\t\tif ( this._isUIVisible ) {\n\t\t\t\tthis._hideUI();\n\t\t\t\tcancel();\n\t\t\t}\n\t\t} );\n\n\t\t// Close on click outside of balloon panel element.\n\t\tclickOutsideHandler( {\n\t\t\temitter: this.formView,\n\t\t\tactivator: () => this._isUIInPanel,\n\t\t\tcontextElements: [ this._balloon.view.element ],\n\t\t\tcallback: () => this._hideUI()\n\t\t} );\n\t}\n\n\t/**\n\t * Adds the {@link #actionsView} to the {@link #_balloon}.\n\t *\n\t * @protected\n\t */\n\t_addActionsView() {\n\t\tif ( this._areActionsInPanel ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._balloon.add( {\n\t\t\tview: this.actionsView,\n\t\t\tposition: this._getBalloonPositionData()\n\t\t} );\n\t}\n\n\t/**\n\t * Adds the {@link #formView} to the {@link #_balloon}.\n\t *\n\t * @protected\n\t */\n\t_addFormView() {\n\t\tif ( this._isFormInPanel ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = this.editor;\n\t\tconst anchorCommand = editor.commands.get( 'anchor' );\n\n\t\tthis.formView.disableCssTransitions();\n\n\t\tthis._balloon.add( {\n\t\t\tview: this.formView,\n\t\t\tposition: this._getBalloonPositionData()\n\t\t} );\n\n\t\t// Select input when form view is currently visible.\n\t\tif ( this._balloon.visibleView === this.formView ) {\n\t\t\tthis.formView.urlInputView.fieldView.select();\n\t\t}\n\n\t\tthis.formView.enableCssTransitions();\n\n\t\t// Make sure that each time the panel shows up, the URL field remains in sync with the value of\n\t\t// the command. If the user typed in the input, then canceled the balloon (`urlInputView.fieldView#value` stays\n\t\t// unaltered) and re-opened it without changing the value of the anchor command (e.g. because they\n\t\t// clicked the same anchor), they would see the old value instead of the actual value of the command.\n\t\t// https://github.com/ckeditor/ckeditor5-anchor/issues/78\n\t\t// https://github.com/ckeditor/ckeditor5-anchor/issues/123\n\t\tthis.formView.urlInputView.fieldView.element.value = anchorCommand.value || '';\n\t}\n\n\t/**\n\t * Closes the form view. Decides whether the balloon should be hidden completely or if the action view should be shown. This is\n\t * decided upon the anchor command value (which has a value if the document selection is in the anchor).\n\t *\n\t * Additionally, if any {@link module:anchor/anchor~AnchorConfig#decorators} are defined in the editor configuration, the state of\n\t * switch buttons responsible for manual decorator handling is restored.\n\t *\n\t * @private\n\t */\n\t_closeFormView() {\n\t\tconst anchorCommand = this.editor.commands.get( 'anchor' );\n\n\t\t// Restore manual decorator states to represent the current model state. This case is important to reset the switch buttons\n\t\t// when the user cancels the editing form.\n\t\tanchorCommand.restoreManualDecoratorStates();\n\n\t\tif ( anchorCommand.value !== undefined ) {\n\t\t\tthis._removeFormView();\n\t\t} else {\n\t\t\tthis._hideUI();\n\t\t}\n\t}\n\n\t/**\n\t * Removes the {@link #formView} from the {@link #_balloon}.\n\t *\n\t * @protected\n\t */\n\t_removeFormView() {\n\t\tif ( this._isFormInPanel ) {\n\t\t\t// Blur the input element before removing it from DOM to prevent issues in some browsers.\n\t\t\t// See https://github.com/ckeditor/ckeditor5/issues/1501.\n\t\t\tthis.formView.saveButtonView.focus();\n\n\t\t\tthis._balloon.remove( this.formView );\n\n\t\t\t// Because the form has an input which has focus, the focus must be brought back\n\t\t\t// to the editor. Otherwise, it would be lost.\n\t\t\tthis.editor.editing.view.focus();\n\n\t\t\tthis._hideFakeVisualSelection();\n\t\t}\n\t}\n\n\t/**\n\t * Shows the correct UI type. It is either {@link #formView} or {@link #actionsView}.\n\t *\n\t * @param {Boolean} forceVisible\n\t * @private\n\t */\n\t_showUI( forceVisible = false ) {\n\t\t// When there's no anchor under the selection, go straight to the editing UI.\n\t\tif ( !this._getSelectedAnchorElement() ) {\n\t\t\t// Show visual selection on a text without a anchor when the contextual balloon is displayed.\n\t\t\t// See https://github.com/ckeditor/ckeditor5/issues/4721.\n\t\t\tthis._showFakeVisualSelection();\n\n\t\t\tthis._addActionsView();\n\n\t\t\t// Be sure panel with anchor is visible.\n\t\t\tif ( forceVisible ) {\n\t\t\t\tthis._balloon.showStack( 'main' );\n\t\t\t}\n\n\t\t\tthis._addFormView();\n\t\t}\n\t\t// If there's a anchor under the selection...\n\t\telse {\n\t\t\t// Go to the editing UI if actions are already visible.\n\t\t\tif ( this._areActionsVisible ) {\n\t\t\t\tthis._addFormView();\n\t\t\t}\n\t\t\t// Otherwise display just the actions UI.\n\t\t\telse {\n\t\t\t\tthis._addActionsView();\n\t\t\t}\n\n\t\t\t// Be sure panel with anchor is visible.\n\t\t\tif ( forceVisible ) {\n\t\t\t\tthis._balloon.showStack( 'main' );\n\t\t\t}\n\t\t}\n\n\t\t// Begin responding to ui#update once the UI is added.\n\t\tthis._startUpdatingUI();\n\t}\n\n\t/**\n\t * Removes the {@link #formView} from the {@link #_balloon}.\n\t *\n\t * See {@link #_addFormView}, {@link #_addActionsView}.\n\t *\n\t * @protected\n\t */\n\t_hideUI() {\n\t\tif ( !this._isUIInPanel ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = this.editor;\n\n\t\tthis.stopListening( editor.ui, 'update' );\n\t\tthis.stopListening( this._balloon, 'change:visibleView' );\n\n\t\t// Make sure the focus always gets back to the editable _before_ removing the focused form view.\n\t\t// Doing otherwise causes issues in some browsers. See https://github.com/ckeditor/ckeditor5-anchor/issues/193.\n\t\teditor.editing.view.focus();\n\n\t\t// Remove form first because it's on top of the stack.\n\t\tthis._removeFormView();\n\n\t\t// Then remove the actions view because it's beneath the form.\n\t\tthis._balloon.remove( this.actionsView );\n\n\t\tthis._hideFakeVisualSelection();\n\t}\n\n\t/**\n\t * Makes the UI react to the {@link module:core/editor/editorui~EditorUI#event:update} event to\n\t * reposition itself when the editor UI should be refreshed.\n\t *\n\t * See: {@link #_hideUI} to learn when the UI stops reacting to the `update` event.\n\t *\n\t * @protected\n\t */\n\t_startUpdatingUI() {\n\t\tconst editor = this.editor;\n\t\tconst viewDocument = editor.editing.view.document;\n\n\t\tlet prevSelectedAnchor = this._getSelectedAnchorElement();\n\t\tlet prevSelectionParent = getSelectionParent();\n\n\t\tconst update = () => {\n\t\t\tconst selectedAnchor = this._getSelectedAnchorElement();\n\t\t\tconst selectionParent = getSelectionParent();\n\n\t\t\t// Hide the panel if:\n\t\t\t//\n\t\t\t// * the selection went out of the EXISTING anchor element. E.g. user moved the caret out\n\t\t\t//   of the anchor,\n\t\t\t// * the selection went to a different parent when creating a NEW anchor. E.g. someone\n\t\t\t//   else modified the document.\n\t\t\t// * the selection has expanded (e.g. displaying anchor actions then pressing SHIFT+Right arrow).\n\t\t\t//\n\t\t\t// Note: #_getSelectedAnchorElement will return a anchor for a non-collapsed selection only\n\t\t\t// when fully selected.\n\t\t\tif ( ( prevSelectedAnchor && !selectedAnchor ) ||\n\t\t\t\t( !prevSelectedAnchor && selectionParent !== prevSelectionParent ) ) {\n\t\t\t\tthis._hideUI();\n\t\t\t}\n\t\t\t// Update the position of the panel when:\n\t\t\t//  * anchor panel is in the visible stack\n\t\t\t//  * the selection remains in the original anchor element,\n\t\t\t//  * there was no anchor element in the first place, i.e. creating a new anchor\n\t\t\telse if ( this._isUIVisible ) {\n\t\t\t\t// If still in a anchor element, simply update the position of the balloon.\n\t\t\t\t// If there was no anchor (e.g. inserting one), the balloon must be moved\n\t\t\t\t// to the new position in the editing view (a new native DOM range).\n\t\t\t\tthis._balloon.updatePosition( this._getBalloonPositionData() );\n\t\t\t}\n\n\t\t\tprevSelectedAnchor = selectedAnchor;\n\t\t\tprevSelectionParent = selectionParent;\n\t\t};\n\n\t\tfunction getSelectionParent() {\n\t\t\treturn viewDocument.selection.focus.getAncestors()\n\t\t\t\t.reverse()\n\t\t\t\t.find( node => node.is( 'element' ) );\n\t\t}\n\n\t\tthis.listenTo( editor.ui, 'update', update );\n\t\tthis.listenTo( this._balloon, 'change:visibleView', update );\n\t}\n\n\t/**\n\t * Returns `true` when {@link #formView} is in the {@link #_balloon}.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Boolean}\n\t */\n\tget _isFormInPanel() {\n\t\treturn this._balloon.hasView( this.formView );\n\t}\n\n\t/**\n\t * Returns `true` when {@link #actionsView} is in the {@link #_balloon}.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Boolean}\n\t */\n\tget _areActionsInPanel() {\n\t\treturn this._balloon.hasView( this.actionsView );\n\t}\n\n\t/**\n\t * Returns `true` when {@link #actionsView} is in the {@link #_balloon} and it is\n\t * currently visible.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Boolean}\n\t */\n\tget _areActionsVisible() {\n\t\treturn this._balloon.visibleView === this.actionsView;\n\t}\n\n\t/**\n\t * Returns `true` when {@link #actionsView} or {@link #formView} is in the {@link #_balloon}.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Boolean}\n\t */\n\tget _isUIInPanel() {\n\t\treturn this._isFormInPanel || this._areActionsInPanel;\n\t}\n\n\t/**\n\t * Returns `true` when {@link #actionsView} or {@link #formView} is in the {@link #_balloon} and it is\n\t * currently visible.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Boolean}\n\t */\n\tget _isUIVisible() {\n\t\tconst visibleView = this._balloon.visibleView;\n\n\t\treturn visibleView == this.formView || this._areActionsVisible;\n\t}\n\n\t/**\n\t * Returns positioning options for the {@link #_balloon}. They control the way the balloon is attached\n\t * to the target element or selection.\n\t *\n\t * If the selection is collapsed and inside a anchor element, the panel will be attached to the\n\t * entire anchor element. Otherwise, it will be attached to the selection.\n\t *\n\t * @private\n\t * @returns {module:utils/dom/position~Options}\n\t */\n\t_getBalloonPositionData() {\n\t\tconst view = this.editor.editing.view;\n\t\tconst model = this.editor.model;\n\t\tconst viewDocument = view.document;\n\t\tlet target = null;\n\n\t\tif ( model.markers.has( VISUAL_SELECTION_MARKER_NAME ) ) {\n\t\t\t// There are cases when we highlight selection using a marker (#7705, #4721).\n\t\t\tconst markerViewElements = Array.from( this.editor.editing.mapper.markerNameToElements( VISUAL_SELECTION_MARKER_NAME ) );\n\t\t\tconst newRange = view.createRange(\n\t\t\t\tview.createPositionBefore( markerViewElements[ 0 ] ),\n\t\t\t\tview.createPositionAfter( markerViewElements[ markerViewElements.length - 1 ] )\n\t\t\t);\n\n\t\t\ttarget = view.domConverter.viewRangeToDom( newRange );\n\t\t} else {\n\t\t\tconst targetAnchor = this._getSelectedAnchorElement();\n\t\t\tconst range = viewDocument.selection.getFirstRange();\n\n\t\t\ttarget = targetAnchor ?\n\t\t\t\t// When selection is inside anchor element, then attach panel to this element.\n\t\t\t\tview.domConverter.mapViewToDom( targetAnchor ) :\n\t\t\t\t// Otherwise attach panel to the selection.\n\t\t\t\tview.domConverter.viewRangeToDom( range );\n\t\t}\n\n\t\treturn { target };\n\t}\n\n\t/**\n\t * Returns the anchor {@link module:engine/view/attributeelement~AttributeElement} under\n\t * the {@link module:engine/view/document~Document editing view's} selection or `null`\n\t * if there is none.\n\t *\n\t * **Note**: For a non–collapsed selection, the anchor element is only returned when **fully**\n\t * selected and the **only** element within the selection boundaries.\n\t *\n\t * @private\n\t * @returns {module:engine/view/attributeelement~AttributeElement|null}\n\t */\n\t_getSelectedAnchorElement() {\n\t\tconst view = this.editor.editing.view;\n\t\tconst selection = view.document.selection;\n\n\t\tif ( selection.isCollapsed ) {\n\t\t\treturn findAnchorElementAncestor( selection.getFirstPosition() );\n\t\t} else {\n\t\t\t// The range for fully selected anchor is usually anchored in adjacent text nodes.\n\t\t\t// Trim it to get closer to the actual anchor element.\n\t\t\tconst range = selection.getFirstRange().getTrimmed();\n\t\t\tconst startAnchor = findAnchorElementAncestor( range.start );\n\t\t\tconst endAnchor = findAnchorElementAncestor( range.end );\n\n\t\t\tif ( !startAnchor || startAnchor != endAnchor ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Check if the anchor element is fully selected.\n\t\t\tif ( view.createRangeIn( startAnchor ).getTrimmed().isEqual( range ) ) {\n\t\t\t\treturn startAnchor;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Displays a fake visual selection when the contextual balloon is displayed.\n\t *\n\t * This adds a 'anchor-ui' marker into the document that is rendered as a highlight on selected text fragment.\n\t *\n\t * @private\n\t */\n\t_showFakeVisualSelection() {\n\t\tconst model = this.editor.model;\n\n\t\tmodel.change( writer => {\n\t\t\tconst range = model.document.selection.getFirstRange();\n\n\t\t\tif ( model.markers.has( VISUAL_SELECTION_MARKER_NAME ) ) {\n\t\t\t\twriter.updateMarker( VISUAL_SELECTION_MARKER_NAME, { range } );\n\t\t\t} else {\n\t\t\t\tif ( range.start.isAtEnd ) {\n\t\t\t\t\tconst focus = model.document.selection.focus;\n\t\t\t\t\tconst nextValidRange = getNextValidRange( range, focus, writer );\n\n\t\t\t\t\twriter.addMarker( VISUAL_SELECTION_MARKER_NAME, {\n\t\t\t\t\t\tusingOperation: false,\n\t\t\t\t\t\taffectsData: false,\n\t\t\t\t\t\trange: nextValidRange\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\twriter.addMarker( VISUAL_SELECTION_MARKER_NAME, {\n\t\t\t\t\t\tusingOperation: false,\n\t\t\t\t\t\taffectsData: false,\n\t\t\t\t\t\trange\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Hides the fake visual selection created in {@link #_showFakeVisualSelection}.\n\t *\n\t * @private\n\t */\n\t_hideFakeVisualSelection() {\n\t\tconst model = this.editor.model;\n\n\t\tif ( model.markers.has( VISUAL_SELECTION_MARKER_NAME ) ) {\n\t\t\tmodel.change( writer => {\n\t\t\t\twriter.removeMarker( VISUAL_SELECTION_MARKER_NAME );\n\t\t\t} );\n\t\t}\n\t}\n}\n\n// Returns a anchor element if there's one among the ancestors of the provided `Position`.\n//\n// @private\n// @param {module:engine/view/position~Position} View position to analyze.\n// @returns {module:engine/view/attributeelement~AttributeElement|null} Anchor element at the position or null.\nfunction findAnchorElementAncestor( position ) {\n\treturn position.getAncestors().find( ancestor => isAnchorElement( ancestor ) );\n}\n\n// Returns next valid range for the fake visual selection marker.\n//\n// @private\n// @param {module:engine/model/range~Range} range Current range.\n// @param {module:engine/model/position~Position} focus Selection focus.\n// @param {module:engine/model/writer~Writer} writer Writer.\n// @returns {module:engine/model/range~Range} New valid range for the fake visual selection marker.\nfunction getNextValidRange( range, focus, writer ) {\n\tconst nextStartPath = [ range.start.path[ 0 ] + 1, 0 ];\n\tconst nextStartPosition = writer.createPositionFromPath( range.start.root, nextStartPath, 'toNext' );\n\tconst nextRange = writer.createRange( nextStartPosition, range.end );\n\n\t// Block creating a potential next valid range over the current range end.\n\tif ( nextRange.start.path[ 0 ] > range.end.path[ 0 ] ) {\n\t\treturn writer.createRange( focus );\n\t}\n\n\tif ( nextStartPosition.isAtStart && nextStartPosition.isAtEnd ) {\n\t\treturn getNextValidRange( nextRange, focus, writer );\n\t}\n\n\treturn nextRange;\n}\n","export default \"<svg height=\\\"512\\\" viewBox=\\\"0 0 58 58\\\" width=\\\"512\\\"\\n    xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <g id=\\\"Page-1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"037---Waypoint-Flag\\\" fill=\\\"rgb(0,0,0)\\\" fill-rule=\\\"nonzero\\\" transform=\\\"translate(0 -1)\\\">\\n            <path id=\\\"Shape\\\" d=\\\"m14.678 58.9507 1.0678-.2984c1.0270794-.287091 1.6269982-1.3523947 1.34-2.3795l-12.2083-43.6888c-.17227193-.6165569-.58242107-1.139423-1.14021438-1.4535673-.5577933-.3141444-1.21753647-.3938324-1.83408562-.2215327l-.1379.0385c-1.28397381.3587434-2.0340279 1.6904218-1.6753 2.9744l12.2086 43.6888c.2870014 1.0271063 1.3522895 1.6270863 2.3794 1.3401z\\\"/>\\n            <path id=\\\"Shape\\\" d=\\\"m57.67 28.42c-3.8715209-1.930437-7.4530885-4.3944478-10.64-7.32-.2678864-.245221-.3726619-.6216366-.27-.97 1.579074-5.9738125 2.7517572-12.04771023 3.51-18.18.12-1.02-.43-1.32-1.01-.62-11.38 13.61-31.07-2.49-42.79 9.88.14070884.2634479.25140182.5418575.33.83l7.92 28.36c11.74-12.22 31.36 3.78 42.72-9.8.58-.7.69-1.98.23-2.18z\\\"/>\\n        </g>\\n    </g>\\n</svg>\";","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/autoanchor\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport { TextWatcher } from 'ckeditor5/src/typing';\nimport { getLastTextLine } from 'ckeditor5/src/typing';\nimport { addAnchorProtocolIfApplicable } from './utils';\n\nconst MIN_LINK_LENGTH_WITH_SPACE_AT_END = 4; // Ie: \"t.co \" (length 5).\n\nconst URL_REG_EXP = new RegExp(\n\t// Group 1: Line start or after a space.\n\t'(^|\\\\s)' +\n\t// Group 2: Detected anchor (begin with #, follows HTML5 restrictions on\n  // allowed values).\n\t'(#\\\\S+)'\n);\n\nconst URL_GROUP_IN_MATCH = 2;\n\n/**\n * The autoanchor plugin.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class AutoAnchor extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'AutoAnchor';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst selection = editor.model.document.selection;\n\n\t\tselection.on( 'change:range', () => {\n\t\t\t// Disable plugin when selection is inside a code block.\n\t\t\tthis.isEnabled = !selection.anchor.parent.is( 'element', 'codeBlock' );\n\t\t} );\n\n\t\tthis._enableTypingHandling();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tafterInit() {\n\t\tthis._enableEnterHandling();\n\t\tthis._enableShiftEnterHandling();\n\t}\n\n\t/**\n\t * Enables autoanchoring on typing.\n\t *\n\t * @private\n\t */\n\t_enableTypingHandling() {\n\t\tconst editor = this.editor;\n\n\t\tconst watcher = new TextWatcher( editor.model, text => {\n\t\t\t// 1. Detect <kbd>Space</kbd> after a text with a potential anchor.\n\t\t\tif ( !isSingleSpaceAtTheEnd( text ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// 2. Check text before last typed <kbd>Space</kbd>.\n\t\t\tconst url = getUrlAtTextEnd( text.substr( 0, text.length - 1 ) );\n\n\t\t\tif ( url ) {\n\t\t\t\treturn { url };\n\t\t\t}\n\t\t} );\n\n\t\twatcher.on( 'matched:data', ( evt, data ) => {\n\t\t\tconst { batch, range, url } = data;\n\n\t\t\tif ( !batch.isTyping ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst anchorEnd = range.end.getShiftedBy( -1 ); // Executed after a space character.\n\t\t\tconst anchorStart = anchorEnd.getShiftedBy( -url.length );\n\n\t\t\tconst anchorRange = editor.model.createRange( anchorStart, anchorEnd );\n\n\t\t\tthis._applyAutoAnchor( url, anchorRange );\n\t\t} );\n\n\t\twatcher.bind( 'isEnabled' ).to( this );\n\t}\n\n\t/**\n\t * Enables autoanchoring on the <kbd>Enter</kbd> key.\n\t *\n\t * @private\n\t */\n\t_enableEnterHandling() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst enterCommand = editor.commands.get( 'enter' );\n\n\t\tif ( !enterCommand ) {\n\t\t\treturn;\n\t\t}\n\n\t\tenterCommand.on( 'execute', () => {\n\t\t\tconst position = model.document.selection.getFirstPosition();\n\n\t\t\tif ( !position.parent.previousSibling ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst rangeToCheck = model.createRangeIn( position.parent.previousSibling );\n\n\t\t\tthis._checkAndApplyAutoAnchorOnRange( rangeToCheck );\n\t\t} );\n\t}\n\n\t/**\n\t * Enables autoanchoring on the <kbd>Shift</kbd>+<kbd>Enter</kbd> keyboard shortcut.\n\t *\n\t * @private\n\t */\n\t_enableShiftEnterHandling() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\n\t\tconst shiftEnterCommand = editor.commands.get( 'shiftEnter' );\n\n\t\tif ( !shiftEnterCommand ) {\n\t\t\treturn;\n\t\t}\n\n\t\tshiftEnterCommand.on( 'execute', () => {\n\t\t\tconst position = model.document.selection.getFirstPosition();\n\n\t\t\tconst rangeToCheck = model.createRange(\n\t\t\t\tmodel.createPositionAt( position.parent, 0 ),\n\t\t\t\tposition.getShiftedBy( -1 )\n\t\t\t);\n\n\t\t\tthis._checkAndApplyAutoAnchorOnRange( rangeToCheck );\n\t\t} );\n\t}\n\n\t/**\n\t * Checks if the passed range contains a anchorable text.\n\t *\n\t * @param {module:engine/model/range~Range} rangeToCheck\n\t * @private\n\t */\n\t_checkAndApplyAutoAnchorOnRange( rangeToCheck ) {\n\t\tconst model = this.editor.model;\n\t\tconst { text, range } = getLastTextLine( rangeToCheck, model );\n\n\t\tconst url = getUrlAtTextEnd( text );\n\n\t\tif ( url ) {\n\t\t\tconst anchorRange = model.createRange(\n\t\t\t\trange.end.getShiftedBy( -url.length ),\n\t\t\t\trange.end\n\t\t\t);\n\n\t\t\tthis._applyAutoAnchor( url, anchorRange );\n\t\t}\n\t}\n\n\t/**\n\t * Applies a anchor on a given range.\n\t *\n\t * @param {String} url The URL to anchor.\n\t * @param {module:engine/model/range~Range} range The text range to apply the anchor attribute to.\n\t * @private\n\t */\n\t_applyAutoAnchor( anchor, range ) {\n\t\tconst model = this.editor.model;\n\n\t\tif ( !this.isEnabled || !isAnchorAllowedOnRange( range, model ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Enqueue change to make undo step.\n\t\tmodel.enqueueChange( writer => {\n\t\t\tconst defaultProtocol = this.editor.config.get( 'anchor.defaultProtocol' );\n\t\t\tconst parsedUrl = addAnchorProtocolIfApplicable( anchor, defaultProtocol );\n      // Create a link to an anchor with the parsed value.\n\t\t\twriter.setAttribute( 'linkHref', parsedUrl, range );\n\t\t} );\n\t}\n}\n\n// Check if text should be evaluated by the plugin in order to reduce number of RegExp checks on whole text.\nfunction isSingleSpaceAtTheEnd( text ) {\n\treturn text.length > MIN_LINK_LENGTH_WITH_SPACE_AT_END && text[ text.length - 1 ] === ' ' && text[ text.length - 2 ] !== ' ';\n}\n\nfunction getUrlAtTextEnd( text ) {\n\tconst match = URL_REG_EXP.exec( text );\n\n\treturn match ? match[ URL_GROUP_IN_MATCH ] : null;\n}\n\nfunction isAnchorAllowedOnRange( range, model ) {\n\treturn model.schema.checkAttributeInSelection( model.createSelection( range ), 'anchorId' );\n}\n","/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module anchor/anchor\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport AnchorEditing from './anchorediting';\nimport AnchorUI from './anchorui';\nimport AutoAnchor from './autoanchor';\n\n/**\n * The anchor plugin.\n *\n * This is a \"glue\" plugin that loads the {@link module:anchor/anchorediting~AnchorEditing anchor editing feature}\n * and {@link module:anchor/anchorui~AnchorUI anchor UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class Anchor extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ AnchorEditing, AnchorUI, AutoAnchor ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'Anchor';\n\t}\n}\n\n/**\n * The configuration of the {@link module:anchor/anchor~Anchor} feature.\n *\n * Read more in {@link module:anchor/anchor~AnchorConfig}.\n *\n * @member {module:anchor/anchor~AnchorConfig} module:core/editor/editorconfig~EditorConfig#anchor\n */\n\n/**\n * The configuration of the {@link module:anchor/anchor~Anchor anchor feature}.\n *\n *\t\tClassicEditor\n *\t\t\t.create( editorElement, {\n * \t\t\t\tanchor:  ... // Anchor feature configuration.\n *\t\t\t} )\n *\t\t\t.then( ... )\n *\t\t\t.catch( ... );\n *\n * See {@link module:core/editor/editorconfig~EditorConfig all editor options}.\n * @interface AnchorConfig\n */\n\n/**\n * When set, the editor will add the given protocol to the anchor when the user creates a anchor without one.\n * For example, when the user is creating a anchor and types `ckeditor.com` in the anchor form input, during anchor submission\n * the editor will automatically add the `http://` protocol, so the anchor will look as follows: `http://ckeditor.com`.\n *\n * The feature also provides email address auto-detection. When you submit `hello@example.com`,\n * the plugin will automatically change it to `mailto:hello@example.com`.\n *\n * \t\tClassicEditor\n *\t\t\t.create( editorElement, {\n * \t\t\t\tanchor: {\n * \t\t\t\t\tdefaultProtocol: 'http://'\n * \t\t\t\t}\n *\t\t\t} )\n *\t\t\t.then( ... )\n *\t\t\t.catch( ... );\n *\n * **NOTE:** If no configuration is provided, the editor will not auto-fix the anchors.\n *\n * @member {String} module:anchor/anchor~AnchorConfig#defaultProtocol\n */\n\n/**\n * When set to `true`, the `target=\"blank\"` and `rel=\"noopener noreferrer\"` attributes are automatically added to all external anchors\n * in the editor. \"External anchors\" are all anchors in the editor content starting with `http`, `https`, or `//`.\n *\n *\t\tClassicEditor\n *\t\t\t.create( editorElement, {\n *\t\t\t\tanchor: {\n *\t\t\t\t\taddTargetToExternalAnchors: true\n *\t\t\t\t}\n *\t\t\t} )\n *\t\t\t.then( ... )\n *\t\t\t.catch( ... );\n *\n * Internally, this option activates a predefined {@link module:anchor/anchor~AnchorConfig#decorators automatic anchor decorator}\n * that extends all external anchors with the `target` and `rel` attributes.\n *\n * **Note**: To control the `target` and `rel` attributes of specific anchors in the edited content, a dedicated\n * {@link module:anchor/anchor~AnchorDecoratorManualDefinition manual} decorator must be defined in the\n * {@link module:anchor/anchor~AnchorConfig#decorators `config.anchor.decorators`} array. In such scenario,\n * the `config.anchor.addTargetToExternalAnchors` option should remain `undefined` or `false` to not interfere with the manual decorator.\n *\n * It is possible to add other {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition automatic}\n * or {@link module:anchor/anchor~AnchorDecoratorManualDefinition manual} anchor decorators when this option is active.\n *\n * More information about decorators can be found in the {@link module:anchor/anchor~AnchorConfig#decorators decorators configuration}\n * reference.\n *\n * @default false\n * @member {Boolean} module:anchor/anchor~AnchorConfig#addTargetToExternalAnchors\n */\n\n/**\n * Decorators provide an easy way to configure and manage additional anchor attributes in the editor content. There are\n * two types of anchor decorators:\n *\n * * {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition Automatic} &ndash; They match anchors against pre–defined rules and\n * manage their attributes based on the results.\n * * {@link module:anchor/anchor~AnchorDecoratorManualDefinition Manual} &ndash; They allow users to control anchor attributes individually,\n *  using the editor UI.\n *\n * Anchor decorators are defined as objects with key-value pairs, where the key is the name provided for a given decorator and the\n * value is the decorator definition.\n *\n * The name of the decorator also corresponds to the {@ganchor framework/guides/architecture/editing-engine#text-attributes text attribute}\n * in the model. For instance, the `isExternal` decorator below is represented as a `anchorIsExternal` attribute in the model.\n *\n *\t\tClassicEditor\n *\t\t\t.create( editorElement, {\n *\t\t\t\tanchor: {\n *\t\t\t\t\tdecorators: {\n *\t\t\t\t\t\tisExternal: {\n *\t\t\t\t\t\t\tmode: 'automatic',\n *\t\t\t\t\t\t\tcallback: url => url.startsWith( 'http://' ),\n *\t\t\t\t\t\t\tattributes: {\n *\t\t\t\t\t\t\t\ttarget: '_blank',\n *\t\t\t\t\t\t\t\trel: 'noopener noreferrer'\n *\t\t\t\t\t\t\t}\n *\t\t\t\t\t\t}\n *\t\t\t\t\t}\n *\t\t\t\t}\n *\t\t\t} )\n *\t\t\t.then( ... )\n *\t\t\t.catch( ... );\n *\n * To learn more about the configuration syntax, check out the {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition automatic}\n * and {@link module:anchor/anchor~AnchorDecoratorManualDefinition manual} decorator option reference.\n *\n * **Warning:** Currently, anchor decorators work independently of one another and no conflict resolution mechanism exists.\n * For example, configuring the `target` attribute using both an automatic and a manual decorator at the same time could end up with\n * quirky results. The same applies if multiple manual or automatic decorators were defined for the same attribute.\n *\n * **Note**: Since the `target` attribute management for external anchors is a common use case, there is a predefined automatic decorator\n * dedicated for that purpose which can be enabled by turning a single option on. Check out the\n * {@link module:anchor/anchor~AnchorConfig#addTargetToExternalAnchors `config.anchor.addTargetToExternalAnchors`}\n * configuration description to learn more.\n *\n * See also the {@ganchor features/anchor#custom-anchor-attributes-decorators anchor feature guide} for more information.\n *\n * @member {Object.<String, module:anchor/anchor~AnchorDecoratorDefinition>} module:anchor/anchor~AnchorConfig#decorators\n */\n\n/**\n * A anchor decorator definition. Two types implement this defition:\n *\n * * {@link module:anchor/anchor~AnchorDecoratorManualDefinition}\n * * {@link module:anchor/anchor~AnchorDecoratorAutomaticDefinition}\n *\n * Refer to their document for more information about available options or to the\n * {@ganchor features/anchor#custom-anchor-attributes-decorators anchor feature guide} for general information.\n *\n * @interface AnchorDecoratorDefinition\n */\n\n/**\n * Anchor decorator type.\n *\n * Check out the {@ganchor features/anchor#custom-anchor-attributes-decorators anchor feature guide} for more information.\n *\n * @member {'manual'|'automatic'} module:anchor/anchor~AnchorDecoratorDefinition#mode\n */\n\n/**\n * Describes an automatic {@link module:anchor/anchor~AnchorConfig#decorators anchor decorator}. This decorator type matches\n * all anchors in the editor content against a function that decides whether the anchor should receive a pre–defined set of attributes.\n *\n * It takes an object with key-value pairs of attributes and a callback function that must return a Boolean value based on the anchor's\n * `id` (URL). When the callback returns `true`, attributes are applied to the anchor.\n *\n * For example, to add the `target=\"_blank\"` attribute to all anchors in the editor starting with `http://`, the\n * configuration could look like this:\n *\n *\t\t{\n *\t\t\tmode: 'automatic',\n *\t\t\tcallback: url => url.startsWith( 'http://' ),\n *\t\t\tattributes: {\n *\t\t\t\ttarget: '_blank'\n *\t\t\t}\n *\t\t}\n *\n * **Note**: Since the `target` attribute management for external anchors is a common use case, there is a predefined automatic decorator\n * dedicated for that purpose that can be enabled by turning a single option on. Check out the\n * {@link module:anchor/anchor~AnchorConfig#addTargetToExternalAnchors `config.anchor.addTargetToExternalAnchors`}\n * configuration description to learn more.\n *\n * @typedef {Object} module:anchor/anchor~AnchorDecoratorAutomaticDefinition\n * @property {'automatic'} mode Anchor decorator type. It is `'automatic'` for all automatic decorators.\n * @property {Function} callback Takes a `url` as a parameter and returns `true` if the `attributes` should be applied to the anchor.\n * @property {Object} attributes Key-value pairs used as anchor attributes added to the output during the\n * {@ganchor framework/guides/architecture/editing-engine#conversion downcasting}.\n * Attributes should follow the {@link module:engine/view/elementdefinition~ElementDefinition} syntax.\n */\n","/**\n * @link https://craftcms.com/\n * @copyright Copyright (c) Pixel & Tonic, Inc.\n * @license GPL-3.0-or-later\n */\n\nimport './ckeditor5-craftcms.css';\nimport {Alignment} from '@ckeditor/ckeditor5-alignment';\nimport {\n  AutoImage,\n  Image,\n  ImageCaption,\n  ImageStyle,\n  ImageToolbar,\n} from '@ckeditor/ckeditor5-image';\nimport {Autoformat} from '@ckeditor/ckeditor5-autoformat';\nimport {BlockQuote} from '@ckeditor/ckeditor5-block-quote';\nimport {\n  Bold,\n  Code,\n  Italic,\n  Strikethrough,\n  Subscript,\n  Superscript,\n  Underline,\n} from '@ckeditor/ckeditor5-basic-styles';\nimport {ClassicEditor} from '@ckeditor/ckeditor5-editor-classic';\nimport {CodeBlock} from '@ckeditor/ckeditor5-code-block';\nimport {Essentials} from '@ckeditor/ckeditor5-essentials';\nimport {FindAndReplace} from '@ckeditor/ckeditor5-find-and-replace';\nimport {Font} from '@ckeditor/ckeditor5-font';\nimport {\n  GeneralHtmlSupport,\n  HtmlComment,\n} from '@ckeditor/ckeditor5-html-support';\nimport {Heading} from '@ckeditor/ckeditor5-heading';\nimport {HorizontalLine} from '@ckeditor/ckeditor5-horizontal-line';\nimport {HtmlEmbed} from '@ckeditor/ckeditor5-html-embed';\nimport {Indent, IndentBlock} from '@ckeditor/ckeditor5-indent';\nimport {LinkEditing, AutoLink, LinkImage} from '@ckeditor/ckeditor5-link';\nimport {List, ListProperties, TodoList} from '@ckeditor/ckeditor5-list';\nimport {MediaEmbed, MediaEmbedToolbar} from '@ckeditor/ckeditor5-media-embed';\nimport {PageBreak} from '@ckeditor/ckeditor5-page-break';\nimport {PasteFromOffice} from '@ckeditor/ckeditor5-paste-from-office';\nimport {RemoveFormat} from '@ckeditor/ckeditor5-remove-format';\nimport {SourceEditing} from '@ckeditor/ckeditor5-source-editing';\nimport {Style} from '@ckeditor/ckeditor5-style';\nimport {\n  Table,\n  TableCaption,\n  TableCellProperties,\n  TableProperties,\n  TableToolbar,\n  TableUI,\n} from '@ckeditor/ckeditor5-table';\nimport {WordCount} from '@ckeditor/ckeditor5-word-count';\nimport {default as CraftImageInsertUI} from './image/imageinsert/imageinsertui';\nimport {default as CraftLinkUI} from './link/linkui';\nimport ImageTransform from './image/imagetransform';\nimport ImageEditor from './image/imageeditor';\nimport {TextPartLanguage} from '@ckeditor/ckeditor5-language';\nimport {Anchor} from '@northernco/ckeditor5-anchor-drupal';\n\nconst allPlugins = [\n  CKEditor5.paragraph.Paragraph,\n  CKEditor5.selectAll.SelectAll,\n  Alignment,\n  Anchor,\n  AutoImage,\n  AutoLink,\n  Autoformat,\n  BlockQuote,\n  Bold,\n  Code,\n  CodeBlock,\n  List,\n  ListProperties,\n  Essentials,\n  FindAndReplace,\n  Font,\n  GeneralHtmlSupport,\n  Heading,\n  HorizontalLine,\n  HtmlComment,\n  HtmlEmbed,\n  Image,\n  ImageCaption,\n  ImageStyle,\n  ImageToolbar,\n  Indent,\n  IndentBlock,\n  Italic,\n  LinkEditing,\n  LinkImage,\n  MediaEmbed,\n  MediaEmbedToolbar,\n  PageBreak,\n  PasteFromOffice,\n  RemoveFormat,\n  SourceEditing,\n  Strikethrough,\n  Style,\n  Subscript,\n  Superscript,\n  Table,\n  TableCaption,\n  TableCellProperties,\n  TableProperties,\n  TableToolbar,\n  TableUI,\n  TextPartLanguage,\n  TodoList,\n  Underline,\n  WordCount,\n  CraftImageInsertUI,\n  ImageTransform,\n  ImageEditor,\n  CraftLinkUI,\n];\n\nconst normalizeToolbarItem = (group) => {\n  if (!$.isArray(group)) {\n    group = [group];\n  }\n  return group.map((item) => {\n    if (typeof item === 'string') {\n      item = {button: item};\n    }\n    return item;\n  });\n};\n\nconst normalizeToolbarItems = (items) =>\n  items.map((group) => normalizeToolbarItem(group));\n\nexport const toolbarItems = normalizeToolbarItems([\n  {button: 'heading', configOption: 'heading'},\n  {button: 'style', configOption: 'style'},\n  {button: 'alignment', configOption: 'alignment'},\n  'bold',\n  'italic',\n  'underline',\n  'strikethrough',\n  'subscript',\n  'superscript',\n  'code',\n  'link',\n  'anchor',\n  'textPartLanguage',\n  {button: 'fontSize', configOption: 'fontSize'},\n  'fontFamily',\n  'fontColor',\n  'fontBackgroundColor',\n  'insertImage',\n  'mediaEmbed',\n  'htmlEmbed',\n  'blockQuote',\n  'insertTable',\n  'codeBlock',\n  'bulletedList',\n  'numberedList',\n  'todoList',\n  ['outdent', 'indent'],\n  'horizontalLine',\n  'pageBreak',\n  'removeFormat',\n  'selectAll',\n  'findAndReplace',\n  ['undo', 'redo'],\n  'sourceEditing',\n]);\n\nconst pluginButtonMap = [\n  {plugins: ['Alignment'], buttons: ['alignment']},\n  {plugins: ['Anchor'], buttons: ['anchor']},\n  {\n    plugins: [\n      'AutoImage',\n      'CraftImageInsertUI',\n      'Image',\n      'ImageCaption',\n      'ImageStyle',\n      'ImageToolbar',\n      'ImageTransform',\n      'ImageEditor',\n      'LinkImage',\n    ],\n    buttons: ['insertImage'],\n  },\n  {\n    plugins: ['AutoLink', 'CraftLinkUI', 'LinkEditing', 'LinkImage'],\n    buttons: ['link'],\n  },\n  {plugins: ['BlockQuote'], buttons: ['blockQuote']},\n  {plugins: ['Bold'], buttons: ['bold']},\n  {plugins: ['Code'], buttons: ['code']},\n  {plugins: ['CodeBlock'], buttons: ['codeBlock']},\n  {\n    plugins: ['List', 'ListProperties'],\n    buttons: ['bulletedList', 'numberedList'],\n  },\n  {\n    plugins: ['Font'],\n    buttons: ['fontSize', 'fontFamily', 'fontColor', 'fontBackgroundColor'],\n  },\n  {plugins: ['FindAndReplace'], buttons: ['findAndReplace']},\n  {plugins: ['Heading'], buttons: ['heading']},\n  {plugins: ['HorizontalLine'], buttons: ['horizontalLine']},\n  {plugins: ['HtmlEmbed'], buttons: ['htmlEmbed']},\n  {\n    plugins: ['Indent', 'IndentBlock'],\n    buttons: ['outdent', 'indent'],\n  },\n  {plugins: ['Italic'], buttons: ['italic']},\n  {\n    plugins: ['MediaEmbed', 'MediaEmbedToolbar'],\n    buttons: ['mediaEmbed'],\n  },\n  {plugins: ['PageBreak'], buttons: ['pageBreak']},\n  {plugins: ['RemoveFormat'], buttons: ['removeFormat']},\n  {plugins: ['SourceEditing'], buttons: ['sourceEditing']},\n  {plugins: ['Strikethrough'], buttons: ['strikethrough']},\n  {plugins: ['Style'], buttons: ['style']},\n  {plugins: ['Subscript'], buttons: ['subscript']},\n  {plugins: ['Superscript'], buttons: ['superscript']},\n  {\n    plugins: [\n      'Table',\n      'TableCaption',\n      'TableCellProperties',\n      'TableProperties',\n      'TableToolbar',\n      'TableUI',\n    ],\n    buttons: ['insertTable'],\n  },\n  {plugins: ['TextPartLanguage'], buttons: ['textPartLanguage']},\n  {plugins: ['TodoList'], buttons: ['todoList']},\n  {plugins: ['Underline'], buttons: ['underline']},\n];\n\nconst findPlugin = (pluginName) => {\n  for (const [k, v] of Object.entries(CKEditor5)) {\n    if (typeof v === 'object') {\n      for (const [k2, v2] of Object.entries(v)) {\n        if (typeof v2 === 'function' && v2.pluginName === pluginName) {\n          return v2;\n        }\n      }\n    }\n  }\n};\n\nexport const registerPackage = (pkg) => {\n  if (pkg.pluginNames) {\n    pkg.pluginNames.forEach((pluginName) => {\n      const plugin = findPlugin(pluginName);\n      if (!plugin) {\n        console.warn(\n          `No plugin named ${pluginName} found in window.CKEditor5.`,\n        );\n        return;\n      }\n      allPlugins.push(plugin);\n    });\n  }\n\n  if (pkg.toolbarItems) {\n    pkg.toolbarItems = normalizeToolbarItems(pkg.toolbarItems);\n    toolbarItems.push(...pkg.toolbarItems);\n  }\n\n  if (\n    pkg.pluginNames &&\n    pkg.pluginNames.length &&\n    pkg.toolbarItems &&\n    pkg.toolbarItems.length\n  ) {\n    pluginButtonMap.push({\n      plugins: pkg.pluginNames,\n      buttons: pkg.toolbarItems\n        .flat()\n        .map((item) => item.button)\n        .flat(),\n    });\n  }\n};\n\nconst trackChangesInSourceMode = function (editor) {\n  const sourceEditing = editor.plugins.get(SourceEditing);\n  const $editorElement = $(editor.ui.view.element);\n  const $sourceElement = $(editor.sourceElement);\n  const ns = `ckeditor${Math.floor(Math.random() * 1000000000)}`;\n  const events = [\n    'keypress',\n    'keyup',\n    'change',\n    'focus',\n    'blur',\n    'click',\n    'mousedown',\n    'mouseup',\n  ]\n    .map((type) => `${type}.${ns}`)\n    .join(' ');\n\n  sourceEditing.on('change:isSourceEditingMode', () => {\n    const $sourceEditingContainer = $editorElement.find(\n      '.ck-source-editing-area',\n    );\n\n    if (sourceEditing.isSourceEditingMode) {\n      let content = $sourceEditingContainer.attr('data-value');\n      $sourceEditingContainer.on(events, () => {\n        if (\n          content !== (content = $sourceEditingContainer.attr('data-value'))\n        ) {\n          $sourceElement.val(content);\n        }\n      });\n    } else {\n      $sourceEditingContainer.off(`.${ns}`);\n    }\n  });\n};\n\nconst headingShortcuts = function (editor, config) {\n  if (config.heading !== undefined) {\n    var headingOptions = config.heading.options;\n\n    if (headingOptions.find((x) => x.view === 'h1') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+1', () =>\n        editor.execute('heading', {value: 'heading1'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h2') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+2', () =>\n        editor.execute('heading', {value: 'heading2'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h3') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+3', () =>\n        editor.execute('heading', {value: 'heading3'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h4') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+4', () =>\n        editor.execute('heading', {value: 'heading4'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h5') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+5', () =>\n        editor.execute('heading', {value: 'heading5'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.view === 'h6') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+6', () =>\n        editor.execute('heading', {value: 'heading6'}),\n      );\n    }\n\n    if (headingOptions.find((x) => x.model === 'paragraph') !== undefined) {\n      editor.keystrokes.set('Ctrl+Alt+p', 'paragraph');\n    }\n  }\n};\n\nexport const pluginNames = () => allPlugins.map((p) => p.pluginName);\n\nexport const create = async function (element, config) {\n  let plugins = allPlugins;\n  const removePlugins = [];\n\n  if (config.toolbar) {\n    // Remove any plugins that aren't included in the toolbar\n    removePlugins.push(\n      ...pluginButtonMap\n        .filter(\n          ({buttons}) =>\n            !config.toolbar.items.some((button) => buttons.includes(button)),\n        )\n        .map(({plugins}) => plugins)\n        .flat(),\n    );\n  }\n\n  // remove ImageTransform if there aren't any image transforms\n  if (!config.transforms || !config.transforms.length) {\n    removePlugins.push('ImageTransform');\n  }\n\n  // remove MediaEmbedToolbar for now\n  // see: https://github.com/ckeditor/ckeditor5-react/issues/267\n  // and: https://github.com/ckeditor/ckeditor5/issues/9824\n  // for more info\n  removePlugins.push('MediaEmbedToolbar');\n\n  if (removePlugins.length) {\n    plugins = plugins.filter((p) => !removePlugins.includes(p.pluginName));\n  }\n\n  if (typeof element === 'string') {\n    element = document.querySelector(`#${element}`);\n  }\n\n  config.licenseKey = 'GPL';\n\n  const editor = await ClassicEditor.create(\n    element,\n    Object.assign({plugins}, config),\n  );\n\n  // accessibility: https://github.com/craftcms/ckeditor/issues/74\n  editor.editing.view.change((writer) => {\n    const viewEditableRoot = editor.editing.view.document.getRoot();\n\n    // adjust aria-label\n    if (\n      typeof config.accessibleFieldName != 'undefined' &&\n      config.accessibleFieldName.length\n    ) {\n      let ariaLabel = viewEditableRoot.getAttribute('aria-label');\n      writer.setAttribute(\n        'aria-label',\n        config.accessibleFieldName + ', ' + ariaLabel,\n        viewEditableRoot,\n      );\n    }\n\n    // adjust aria-describedby\n    if (typeof config.describedBy != 'undefined' && config.describedBy.length) {\n      writer.setAttribute(\n        'aria-describedby',\n        config.describedBy,\n        viewEditableRoot,\n      );\n    }\n  });\n\n  // Update the source element before the initial form value has been recorded,\n  // in case the value needs to be normalized\n  editor.updateSourceElement();\n\n  // Keep the source element updated with changes\n  editor.model.document.on('change:data', () => {\n    editor.updateSourceElement();\n  });\n\n  // Track changes in the source mode\n  if (plugins.includes(SourceEditing)) {\n    trackChangesInSourceMode(editor, SourceEditing);\n  }\n\n  // shortcuts for headings & paragraph\n  if (plugins.includes(Heading)) {\n    headingShortcuts(editor, config);\n  }\n\n  return editor;\n};\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","concat","join","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","value","err","_iterableToArrayLimit","o","minLen","n","Object","prototype","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","memo","getTarget","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","index","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","key","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","Boolean","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","bind","parentNode","removeStyleElement","newObj","all","atob","lastIdentifiers","newList","newLastIdentifiers","_index","splice","__esModule","default","locals","add","listToStyles","parentId","styles","newStyles","part","parts","hasDocument","DEBUG","getElementsByTagName","singletonElement","isProduction","noop","ssrIdKey","isOldIE","navigator","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","mayRemove","domStyle","refs","j","createStyleElement","styleElement","type","ssrId","__webpack_require__","CKEditor5","dll","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","getter","d","a","definition","defineProperty","enumerable","get","prop","hasOwnProperty","r","toStringTag","nc","supportedOptions","isSupported","option","includes","isDefault","alignment","locale","contentLanguageDirection","normalizeAlignmentOptions","configuredOptions","normalizedOptions","isNameValid","logWarning","classNameCount","className","CKEditorError","allOptions","succeedingOptions","some","ALIGNMENT","AlignmentCommand","Command","refresh","editor","firstBlock","first","model","selection","getSelectedBlocks","isEnabled","_canBeAligned","hasAttribute","getAttribute","execute","doc","change","writer","blocks","block","currentAlignment","removeAlignmentFromSelection","setAlignmentOnSelection","schema","checkAttribute","AlignmentEditing","Plugin","pluginName","isOfficialPlugin","super","config","define","init","optionsToConvert","shouldUseClasses","extend","allowAttributes","setAttributeProperties","isFormatting","conversion","attributeToAttribute","view","values","buildClassDefinition","for","buildDowncastInlineDefinition","upcastInlineDefinitions","definitions","buildUpcastInlineDefinitions","upcastCompatibilityDefinitions","buildUpcastCompatibilityDefinitions","commands","iconsMap","Map","icons","alignLeft","alignRight","alignCenter","alignJustify","AlignmentUI","localizedOptionTitles","t","_addButton","_addToolbarDropdown","_addMenuBarMenu","ui","componentFactory","_createButton","buttonAttrs","command","buttonView","ButtonView","set","label","icon","tooltip","isToggleable","to","listenTo","editing","focus","dropdownView","createDropdown","tooltipPosition","uiLanguageDirection","addToolbarToDropdown","enableActiveItemFocusOnDropdownOpen","isVertical","ariaLabel","extendTemplate","class","defaultIcon","menuView","MenuBarMenuView","listView","MenuBarMenuListView","role","listItemView","MenuBarMenuListItemView","MenuBarMenuListItemButtonView","delegate","on","children","items","panelView","Alignment","requires","createBlockImageViewElement","createContainerElement","createEmptyElement","createSlot","getImgViewElementMatcher","matchImageType","imageUtils","plugins","areBothImagePluginsLoaded","has","element","isInlineImageView","getStyle","findAncestor","isBlockImageView","getPositiveMatchPattern","pattern","determineImageTypeForInsertionAtSelection","isObject","isEmpty","getSizeValueIfInPx","size","endsWith","parseInt","viewElement","widthStyle","heightStyle","IMAGE_WIDGETS_CLASSES_MATCH_REGEXP","arguments","_domEmitter","DomEmitterMixin","isImage","modelElement","isInlineImage","isBlockImage","is","hasClass","insertImage","selectable","imageType","determinedImageType","determineImageTypeForInsertion","fromEntries","getAttributes","attributeName","setImageSizes","imageElement","insertObject","setSelection","findOptimalPosition","parent","setImageNaturalSizeAttributes","src","img","global","Image","enqueueChange","batch","naturalWidth","naturalHeight","stopListening","getClosestSelectedImageWidget","selectionPosition","getFirstPosition","getSelectedElement","isImageWidget","getClosestSelectedImageElement","selectedElement","getImageWidgetFromImageView","imageView","classes","isImageAllowed","findOptimalInsertionRange","start","getInsertImageParent","checkChild","isImageAllowedInParent","getAncestors","every","ancestor","isNotInsideImage","toImageWidget","setCustomProperty","toWidget","altText","findViewImgElement","getCustomProperty","isWidget","figureView","editingView","createRangeIn","destroy","configImageInsertType","IMAGE_URL_REGEXP","RegExp","String","AutoImage","Clipboard","Undo","Delete","_timeoutId","_positionToInsert","modelDocument","clipboardPipeline","firstRange","getFirstRange","leftLivePosition","LivePosition","fromPosition","stickiness","rightLivePosition","end","once","_embedImageBetweenPositions","detach","priority","clearTimeout","leftPosition","rightPosition","urlRange","LiveRange","walker","getWalker","ignoreElementEnd","selectionAttributes","node","trim","match","setTimeout","insertionPosition","root","rootName","toPosition","requestUndoOnBackspace","ImageTextAlternativeCommand","newValue","ImageTextAlternativeEditing","TextAlternativeFormView","View","focusTracker","FocusTracker","keystrokes","KeystrokeHandler","labeledInput","_createLabeledInputView","saveButtonView","check","cancelButtonView","cancel","_focusables","ViewCollection","_focusCycler","FocusCycler","focusables","keystrokeHandler","actions","focusPrevious","focusNext","setTemplate","tag","tabindex","render","submitHandler","v","eventName","button","LabeledFieldView","createLabeledInputText","defaultPositions","BalloonPanelView","domConverter","mapViewToDom","positions","northArrowSouth","northArrowSouthWest","northArrowSouthEast","southArrowNorth","southArrowNorthWest","southArrowNorthEast","viewportStickyNorth","ImageTextAlternativeUI","ContextualBalloon","_form","textAlternative","_showForm","_createForm","viewDocument","_balloon","CssTransitionDisablerMixin","fieldView","_hideForm","_isVisible","balloon","position","updatePosition","repositionContextualBalloon","clickOutsideHandler","emitter","activator","contextElements","callback","disableCssTransitions","_isInBalloon","select","enableCssTransitions","focusEditable","isFocused","visibleView","hasView","ImageTextAlternative","downcastSrcsetAttribute","converter","evt","conversionApi","consumable","consume","mapper","toViewElement","attributeNewValue","dispatcher","downcastImageAttribute","attributeKey","viewWriter","Observer","observe","domRoot","event","domEvent","domElement","checkShouldIgnoreEventFromTarget","tagName","_fireEvents","useCapture","stopObserving","fire","InsertImageCommand","sourceDefinitions","toArray","sourceDefinition","createPositionAfter","ReplaceImageSourceCommand","decorate","image","cleanupImage","addObserver","insertImageCommand","replaceImageSourceCommand","ImageSizeAttributes","afterInit","_registerSchema","_registerConverters","viewElementName","attachDowncastConverter","modelAttributeName","viewAttributeName","setRatioForInlineImage","isResized","width","height","setStyle","ImageTypeCommand","modelElementName","_modelElementName","oldElement","uploadId","markers","marker","getRange","containsItem","newElement","createSelection","newElementRange","createRangeOn","markerRange","range","getJoined","updateMarker","ImagePlaceholder","_setupSchema","_setupConversion","_setupLoadListener","isRegistered","addClass","removeClass","removeStyle","imgViewElement","mapDomToView","toModelElement","isUndoable","ImageBlockEditing","ClipboardPipeline","register","inheritAllFrom","_setupClipboardIntegration","elementToStructure","elementToElement","viewImage","viewItem","conversionResult","convertItem","modelCursor","modelImage","modelRange","getItems","convertChildren","updateConversionResult","revert","upcastImageFigure","docFragmentChildren","getChildren","targetRanges","toModelRange","UpcastWriter","blockViewImages","inlineViewImage","createDocumentFragment","method","ImageInsertFormView","integrations","createCollection","CollapsibleView","addMany","stopPropagation","focusFirst","_integrations","isImageSelected","componentCreator","_createToolbarComponent","_createMenuBarComponent","registerIntegration","observable","buttonViewCreator","formViewCreator","menuBarButtonViewCreator","requiresForm","_prepareIntegrations","dropdownButton","firstIntegration","actionButton","SplitButtonView","observables","toMany","integrationViews","imageInsertFormView","resultView","integration","ImageBlock","Widget","ImageInlineEditing","disallowIn","createInlineImageViewElement","inlineViewImages","blockViewImage","childCount","attribute","getChild","ImageInline","ImageCaptionUtils","getCaptionFromImageModelElement","imageModelElement","getCaptionFromModelSelection","captionElement","matchImageCaptionViewElement","ToggleImageCaptionCommand","imageCaptionUtils","ancestorCaptionElement","focusCaptionOnShow","_hideImageCaption","_showImageCaption","imageCaptionEditing","selectedImage","savedCaption","_getSavedCaption","newCaptionElement","append","_saveCaption","ImageCaptionEditing","_savedCaptionsMap","WeakMap","allowIn","allowContentOf","isLimit","_setupImageTypeCommandsIntegration","_registerCaptionReconversion","figcaptionElement","createEditableElement","placeholder","enablePlaceholder","keepOnFocus","imageAlt","toWidgetEditable","imageTypeInlineCommand","imageTypeBlockCommand","handleImageTypeChange","return","oldCaptionElement","savedOldElementCaption","jsonObject","Element","fromJSON","caption","toJSON","changes","differ","getChanges","nodeAfter","reconvertItem","ImageCaptionUI","modelCaptionElement","scrollToTheSelection","ImageCaption","ImageStyleCommand","_defaultStyles","imageBlock","imageInline","_styles","modelElements","requestedStyle","shouldConvertImageType","DEFAULT_OPTIONS","inline","title","objectInline","objectLeft","alignBlockLeft","objectBlockLeft","objectCenter","objectRight","alignBlockRight","objectBlockRight","side","DEFAULT_ICONS","full","objectFullWidth","left","right","center","inlineLeft","inlineRight","DEFAULT_DROPDOWN_DEFINITIONS","defaultItem","warnInvalidStyle","info","normalizeStyles","configuredStyles","arrangement","normalizeDefinition","extendedStyle","extendStyle","isBlockPluginLoaded","isInlinePluginLoaded","supportedElements","elementName","missingPlugins","isValidOption","getDefaultStylesConfiguration","getDefaultDropdownDefinitions","pluginCollection","getStyleDefinitionByName","ImageStyleEditing","utils","normalizedStyles","_setupPostFixer","modelToViewConverter","newStyle","oldStyle","attributeOldValue","viewToModelConverter","nonDefaultStyles","modelImageElement","viewToModelStyleAttribute","downcastDispatcher","upcastDispatcher","stylesMap","registerPostFixer","changed","imageStyle","imageStyleDefinition","ImageStyleUI","localizedDefaultStylesTitles","toolbarConfig","definedStyles","translateStyles","styleConfig","definedDropdowns","dropdownConfig","_createDropdown","factory","defaultButton","buttonViews","itemName","find","getUIComponentName","buttonName","create","dropdown","splitButtonView","splitButtonViewArrow","arrowView","getDropdownButtonTitle","unbind","areOn","findIndex","isOn","isOpen","areEnabled","buttonConfig","_executeCommand","titles","dropdownTitle","buttonTitle","ImageStyle","ImageToolbar","WidgetToolbarRepository","widgetToolbarRepository","getRelatedElement","blockAutoformatEditing","plugin","callbackOrCommand","getRanges","isCollapsed","isUndo","isLocal","entry","blockToFormat","firstNode","firstNodeRange","containsRange","isEqual","exec","substr","offset","createPositionAt","selectionRange","blockRange","inlineAutoformatEditing","testRegexpOrCallback","formatCallback","regExp","testCallback","text","format","leftDel","rightDel","found","delStart","delEnd","reduce","rangeText","createRange","getTextAfterCode","testOutput","rangesToFormat","testOutputToRanges","rangesToRemove","reverse","arrays","array","getShiftedBy","Autoformat","_addListAutoformats","_addBasicStylesAutoformats","_addHeadingAutoformats","_addBlockQuoteAutoformats","_addCodeBlockAutoformats","_addHorizontalLineAutoformats","accessibility","addKeystrokeInfos","keystroke","boldCallback","getCallbackFunctionForInlineAutoformat","italicCallback","codeCallback","strikethroughCallback","modelName","level","usePreviousLanguageChoice","validRanges","getValidRanges","removeSelectionAttribute","BlockQuoteCommand","_getValue","_checkEnabled","forceValue","blocksToQuote","findQuote","checkCanBeQuoted","_applyQuote","_removeQuote","getRangesOfBlockGroups","groupRange","isAtStart","isAtEnd","unwrap","positionBefore","createPositionBefore","move","split","positionAfter","quotesToMerge","quote","wrap","currentQuote","nextQuote","nextSibling","merge","elementOrPosition","startPosition","ranges","nextBlock","isBQAllowed","isBlockAllowedInBQ","BlockQuoteEditing","Enter","child","blockQuoteCommand","getLastPosition","preventDefault","stop","context","direction","positionParent","previousSibling","BlockQuoteUI","ButtonClass","BlockQuote","AttributeCommand","_getValueFromFirstAllowedNode","checkAttributeInSelection","setSelectionAttribute","BOLD","BoldEditing","copyOnEnter","attributeToElement","upcastAlso","fontWeight","Number","getButtonCreator","commandName","BoldUI","createButton","bold","Bold","CODE","CodeEditing","TwoStepCaretMovement","registerAttribute","inlineHighlight","CodeUI","Code","ITALIC","ItalicEditing","ItalicUI","Italic","STRIKETHROUGH","StrikethroughEditing","StrikethroughUI","Strikethrough","SUBSCRIPT","SubscriptEditing","SubscriptUI","Subscript","SUPERSCRIPT","SuperscriptEditing","SuperscriptUI","Superscript","UNDERLINE","UnderlineEditing","UnderlineUI","Underline","ClassicEditorUI","EditorUI","_toolbarConfig","normalizeToolbarConfig","_elementReplacer","ElementReplacer","_handleScrollToTheSelectionWithStickyPanel","replacementElement","editable","editingRoot","getRoot","editableElement","setEditableElement","attachDomRoot","replace","_initPlaceholder","_initToolbar","menuBarView","_initMenuBar","_initDialogPluginIntegration","_initContextualBalloonIntegration","restore","getDomRoot","detachDomRoot","stickyPanel","limiterElement","top","toolbar","fillFromConfig","addToolbar","sourceElement","placeholderText","isDirectHost","contextualBalloon","isSticky","stickyPanelHeight","Rect","limiter","viewportOffsetConfig","newTopViewportOffset","updateBalloonPosition","originalArgs","viewportOffset","scrollViewportOnPanelGettingSticky","dialogPlugin","dialogView","wasMoved","isModal","stickyPanelContentRect","contentPanelElement","bottom","DialogView","defaultOffset","ClassicEditorUIView","BoxedEditorUIView","StickyPanelView","ToolbarView","shouldGroupWhenFull","shouldToolbarGroupWhenFull","useMenuBar","MenuBarView","InlineEditableUIView","main","freeSelf","self","Function","objectProto","nativeObjectToString","symToStringTag","isOwn","unmasked","func","transform","arg","getPrototypeOf","funcProto","funcToString","objectCtorString","proto","Ctor","nodeType","ClassicEditor","ElementApiMixin","Editor","editorName","sourceElementOrData","initialData","getDataFromElement","getInitialData","createRoot","menuBarConfig","isVisible","attachToForm","updateSourceElement","Promise","resolve","initPlugins","then","getNormalizedAndLocalizedLanguageDefinitions","languageDefs","def","language","getPropertyAssociation","association","shift","getLeadingWhiteSpaces","textNode","getIndentOutdentPositions","anchor","startOffset","pos","isModelSelectionInCodeBlock","canBeCodeBlock","getCodeBlockAriaAnnouncement","languagesToLabels","codeBlockLanguage","getTextNodeAtLineStart","nodeBefore","nodeAtStart","CodeBlockCommand","_lastLanguage","firstLanguageInConfig","lastLanguage","defaultLanguage","getLanguage","_applyCodeBlock","_removeCodeBlock","allowedBlocks","rename","removeDisallowedAttributes","currentBlock","appendElement","codeBlocks","elementAfter","IndentCodeBlockCommand","_indentSequence","indentSequenceTextElement","createText","insertContent","OutdentCodeBlockCommand","getLastOutdentableSequenceRange","deleteContent","sequence","nodeAtPosition","leadingWhiteSpaces","lastIndexOfSequence","lastIndexOf","modelToViewCodeBlockInsertion","useLabels","languagesToClasses","targetViewPosition","toViewPosition","preAttributes","spellcheck","codeAttributes","code","pre","bindElements","DEFAULT_ELEMENT","CodeBlockEditing","ShiftEnter","languages","indentSequence","normalizedLanguagesDefs","shiftKey","allowWhere","allowChildren","disallowChildren","allowAttributesOf","isBlock","addAttributeCheck","getItem","getAttributeProperties","modelToDataViewSoftBreakInsertion","classesToLanguages","defaultLanguageName","viewCodeElement","viewPreElement","codeBlock","viewChildClasses","getClassNames","safeInsert","dataViewToModelCodeBlockInsertion","textLines","lastLine","offsetSize","softBreak","preElement","preChildren","childCodeElement","insertionRange","dataTransfer","getData","fragment","nodes","line","lineIndex","rawSnippetTextToViewDocumentFragment","contentRange","hasSameParentAs","docFragment","containsEntireContent","newDocumentFragment","indent","outdent","registerChildCommand","isSoftEnter","modelDoc","lastSelectionPosition","isSoftBreakNode","newBlock","leaveBlockStartOnEnter","isSoft","emptyLineRangeToRemoveOnEnter","isEmptyishTextNode","leaveBlockEndOnEnter","insertText","breakLineOnEnter","_initAriaAnnouncements","lastFocusedCodeBlock","focusParent","ariaLiveAnnouncer","announce","CodeBlockUI","normalizedLanguageDefs","itemDefinitions","_getLanguageListItemDefinitions","accessibleLabel","_codeBlockLanguage","addListToDropdown","Collection","languageDef","ViewModel","withText","CodeBlock","Essentials","AccessibilityHelp","SelectAll","Typing","FindAndReplaceFormView","matchCount","isDirty","_findInputView","_createInputField","_findPrevButtonView","previousArrow","_findNextButtonView","_replaceInputView","_inputsDivView","_createInputsDiv","_matchCaseSwitchView","_createMatchCaseSwitch","_wholeWordsOnlySwitchView","_createWholeWordsOnlySwitch","_advancedOptionsCollapsibleView","_createAdvancedOptionsCollapsible","_replaceAllButtonView","_replaceButtonView","_findButtonView","_actionButtonsDivView","_createActionButtonsDiv","_focusTracker","_keystrokes","focusCycler","_initFocusCycling","_initKeystrokeHandling","focusLast","reset","errorText","_textToFind","_textToReplace","inputsDivView","findPrevious","findNext","_injectFindResultsCounter","resultsFound","_onFindButtonExecute","searchText","matchCase","_matchCase","wholeWords","_wholeWordsOnly","bindTemplate","resultsCounterView","highlightOffset","if","updateFindInputPadding","inputElement","counterWidth","paddingPropertyName","template","collapsible","actionsDivView","replaceAll","matchCaseSwitchButton","SwitchButtonView","wholeWordsOnlySwitchButton","stopPropagationAndPreventDefault","_areCommandsEnabled","FindAndReplaceUI","Dialog","formView","isUiUsingDropdown","findCommand","_createDialogButtonForToolbar","cancelEvent","DropdownView","dropdownButtonView","_createDialogButtonForMenuBar","_createFormView","FormHeaderView","_setupFormView","dialog","hide","_showDialog","show","DialogViewPosition","EDITOR_TOP_SIDE","onShow","onHide","editingState","state","results","findNextCommand","findPreviousCommand","replaceCommand","replaceAllCommand","FindCommand","affectsData","_state","callbackOrText","findAndReplaceUtils","findCallback","callbackSearchText","args","findByTextCallback","oldCallback","getRootNames","currentResults","updateFindResultFromRange","clear","highlightedResult","lastSearchCallback","matchWholeWords","FindAndReplaceState","ObservableMixin","eventInfo","removed","highlightedResultRemoved","removedResult","removeMarker","nextHighlightedIndex","refreshHighlightOffset","oldMatchId","oldMarker","highlightedOffset","sortSearchResultsByMarkerPositions","indexOf","sortMapping","before","same","after","different","flatMap","getStart","sort","b","compareWith","ReplaceCommandBase","_isEnabledBasedOnSelection","_replace","replacementText","canEditAt","textAttributes","ReplaceCommand","oldHighlightOffset","Math","max","sortedResults","ReplaceAllCommand","newText","textToReplace","searchResult","FindNextCommand","currentIndex","getIndex","nextIndex","FindPreviousCommand","previousIndex","symbolProto","symbolToString","baseToString","iteratee","reRegExpChar","reHasRegExpChar","FindAndReplaceUtils","startResults","foundItems","rangeToText","foundItem","resultId","uid","addMarker","usingOperation","resultsList","markerToInsert","isBefore","findInsertIndex","markerItem","resultsMarker","resultRange","checkIfResultAlreadyOnList","searchTerm","flags","regExpQuery","string","nonLetterGroup","matchAll","regexpMatchToFindResult","matchResult","lastGroupIndex","Date","now","reWhitespace","reTrimStart","charAt","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","valueOf","isBinary","nativeMax","nativeMin","min","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","apply","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","flush","FindAndReplaceEditing","_onDocumentChange","changedNodes","Set","removedMarkers","changedMarkers","getChangedMarkers","isInline","getMarkersAtPosition","markerAtChange","newRange","getMarkersIntersectingRange","markerName","changedSearchResults","nodeToCheck","changedNodeSearchResults","markerToCheck","_defineConverters","_defineCommands","oldValue","newMatchId","debouncedScrollListener","viewRange","toViewRange","scrollViewportToShowTarget","viewRangeToDom","isSearchActive","findAttributes","_isSearchActive","markerToHighlight","FindAndReplace","findAndReplaceEditing","FontCommand","updateAttribute","FONT_SIZE","FONT_FAMILY","FONT_COLOR","FONT_BACKGROUND_COLOR","buildDefinition","modelAttributeKey","renderUpcastAttribute","styleAttr","renderDowncastElement","modelAttributeValue","createAttributeElement","FontFamilyCommand","normalizeOptions","getOptionDefinition","fontDefinition","fontNames","firstFontName","cssFontNames","normalizeFontNameForCSS","generateFontPreset","fontName","FontFamilyEditing","supportAllValues","_prepareAnyValueConverters","_prepareCompatibilityConverter","attributeValue","elementToAttribute","FontFamilyUI","_getLocalizedOptions","listOptions","commandParam","_prepareListOptions","FontFamily","FontSizeCommand","attachPriority","preset","namedPresets","findPreset","numberValue","parseFloat","isNaN","isNumericalDefinition","generatePixelPreset","tiny","small","big","huge","styleFontSize","FontSizeEditing","presets","isLength","isPercentage","isRelative","maxSize","clampedSize","FontSizeUI","localizedTitles","Default","Tiny","Small","Big","Huge","assign","FontSize","normalizeSizeOptions","FontColorCommand","FontColorEditing","colors","color","hasBorder","columns","ColorUI","componentName","dropdownLabel","componentConfig","colorsConfig","normalizeColorOptions","localizedColors","getLocalizedColorOptions","documentColorsCount","documentColors","hasColorPicker","colorPicker","dropdownContentRendered","colorSelectorView","removeButtonLabel","colorPickerLabel","documentColorsLabel","colorPickerViewConfig","ColorSelectorView","addColorSelectorToDropdown","_undoStepBatch","createBatch","operations","appendUI","updateDocumentColors","updateSelectedColors","showColorGridsFragment","focusChildOnDropdownOpen","colorGridsFragmentView","staticColorsGrid","contentRendered","FontColorUI","FontColor","FontBackgroundColorCommand","FontBackgroundColorEditing","addStyleProcessorRules","addBackgroundRules","FontBackgroundColorUI","FontBackgroundColor","Font","ListCache","entries","__data__","pop","maskSrcKey","IE_PROTO","reIsHostCtor","reIsNative","object","Hash","MapCache","Stack","pairs","LARGE_ARRAY_SIZE","objValue","props","customizer","isNew","propertyIsEnumerable","isArguments","freeExports","freeModule","Buffer","isBuffer","reIsUint","typedArrayTags","freeProcess","process","require","types","binding","nodeIsTypedArray","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","isProto","allocUnsafe","buffer","isDeep","copy","nativeGetSymbols","getOwnPropertySymbols","predicate","resIndex","symbol","keysFunc","symbolsFunc","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","Uint8Array","arrayBuffer","byteLength","reFlags","symbolValueOf","typedArray","byteOffset","regexp","dataView","lastIndex","objectCreate","nodeIsMap","isMap","nodeIsSet","isSet","cloneableTags","baseClone","bitmask","stack","isFlat","isFull","input","isFunc","stacked","subValue","reLatin","reComboMark","reAsciiWord","reHasUnicodeWord","rsAstralRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","reUnicodeWord","guard","reApos","reHasUnicode","rsAstral","rsSymbol","reUnicode","strSymbols","chr","word","accumulator","initAccum","updateViewAttributes","oldViewAttributes","newViewAttributes","viewAttributes","removeViewAttributes","setViewAttributes","modifyGhsAttribute","ghsAttributeName","subject","kind","getHtmlAttributeName","viewToModelObjectConverter","htmlContent","toObjectWidgetConverter","viewName","widgetLabel","createObjectView","viewContainer","createRawElement","setContentOf","viewToAttributeInlineConverter","allowEmpty","dataFilter","processViewAttributes","getSplitParts","setAttributeOnItem","attributesToAdd","mergeViewElementAttributes","emptyInlineModelElementToViewConverter","asWidget","getFillerOffset","attributeToViewInlineConverter","viewToModelBlockAttributeConverter","modelToViewBlockAttributeConverter","lastCalled","assigner","modelSchema","paragraphLikeModel","appliesToBlock","coupledAttribute","attributeProperties","iterable","srcIndex","mergeFunc","srcValue","isCommon","isTyped","baseMerge","nativeNow","stamp","remaining","otherArgs","DataSchema","_definitions","registerBlockElement","registerInlineElement","extendBlockElement","_extendDefinition","extendInlineElement","getDefinitionsForView","includeReferences","_getMatchingViewDefinitions","reference","_getReferences","getDefinitionsForModel","testViewName","inheritProperties","property","referenceName","currentDefinitions","currentDefinition","idx","DataFilter","_dataSchema","_allowedAttributes","Matcher","_disallowedAttributes","_allowedElements","_disallowedElements","_dataInitialized","_coupledAttributes","_registerElementsAfterInit","_registerElementHandlers","_registerCoupledAttributesPostFixer","_registerAssociatedHtmlAttributesPostFixer","loadAllowedConfig","rules","splitRules","allowElement","loadDisallowedConfig","disallowElement","disallowAttributes","loadAllowedEmptyElementsConfig","allowEmptyElement","_addAllowedElement","matchAndConsumeAttributes","getReducedStyles","prepareGHSAttribute","relatedDefinition","_fireRegisterEvent","priorities","highest","_registerObjectElement","_registerBlockElement","_registerInlineElement","coupledAttributes","_getCoupledAttributesMap","attributeKeys","removeAttributes","coupledAttributeKeys","coupledAttributeKey","attr","startsWith","attributeNames","registerRawContentMatcher","converterPriority","low","copyFromObject","htmlProcessor","registerInlineObjectMatcher","getAttributeKeys","matcher","matches","stylesProcessor","sortedRelatedStyles","getRelatedStyles","relatedStyle","attributesObject","isValidAttributeName","StylesMap","styleValue","getStylesEntries","splitPattern","CodeBlockElementSupport","preserveElementAttributes","viewToModelCodeBlockAttributeConverter","DualContentModelElementSupport","blockDefinition","paragraphLikeModelDefinition","_hasBlockContent","_addAttributeConversion","blockElements","HeadingElementSupport","registerHeadingElements","dataSchema","headerModels","getDescendantElement","containerElement","ImageElementSupport","viewFigureElement","viewToModelFigureAttributeConverter","viewImageElement","viewToModelImageAttributeConverter","addBlockAttributeConversion","viewLink","viewToModelLinkImageAttributeConverter","MediaEmbedElementSupport","mediaElementName","viewToModelFigureAttributesConverter","upcastMedia","viewToModelMediaAttributesConverter","addAttributeConversionDispatcherHandler","modelToViewMediaAttributeConverter","ScriptElementSupport","isContent","TableElementSupport","tableUtils","viewTableElement","childNode","viewToModelTableAttributeConverter","wasFixed","table","hasTHeadAttributes","hasTBodyAttributes","getRows","createHeadingRowsPostFixer","StyleElementSupport","SetCache","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","message","convert","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","baseIsEqual","ListElementSupport","listEditing","listUtils","viewElements","registerDowncastStrategy","scope","setAttributeOnDowncast","viewToModelListAttributeConverter","listNodes","previousNodeInList","getAttributeFromListType","listType","isNumberedListType","indentList","changedBlocks","shallow","CustomElementSupport","unsafeElements","preLikeElements","preElements","error","isValidElementName","htmlElementName","htmlAttributes","documentFragment","domFragment","viewToDom","htmlWriter","getHtml","GeneralHtmlSupport","getGhsAttributeNameForElement","inlineDefinition","addModelHtmlClass","getItemsToUpdateGhsAttribute","removeModelHtmlClass","delete","setModelHtmlAttributes","attributesMap","removeModelHtmlAttributes","setModelHtmlStyles","removeModelHtmlStyles","properties","getValidRangesForSelectable","HtmlComment","loadedCommentsContent","processor","skipComments","elementToMarker","commentContent","markerToElement","comment","createUIElement","oldRange","oldRoot","newRoot","commentMarker","getMarkersGroup","removeHtmlComment","limitElement","getLimitElement","firstPosition","lastPosition","affectedCommentIDs","isTouching","getHtmlCommentsInRange","skipBoundaries","commentMarkerID","createHtmlComment","commentID","getHtmlCommentData","getRoots","includeBoundaries","isAfter","isCommentMarkerInRange","HeadingCommand","heading","checkCanBecomeHeading","defaultModelElement","HeadingEditing","Paragraph","_addDefaultH1Conversion","enterCommand","HeadingUI","defaultTitle","headingCommand","paragraphCommand","commandValue","ariaLabelledBy","paragraph","whichModel","Heading","HorizontalLineCommand","getInsertHorizontalLineParent","isHorizontalLineAllowedInParent","horizontalElement","HorizontalLineEditing","viewWrapper","toHorizontalLineWidget","HorizontalLineUI","horizontalLine","HorizontalLine","HtmlEmbedCommand","selectedRawHtmlElement","getSelectedRawHtmlModelWidget","getInsertHtmlEmbedParent","isHtmlEmbedAllowedInParent","htmlEmbedElement","HtmlEmbedEditing","_widgetButtonViewReferences","showPreviews","sanitizeHtml","rawHtml","html","hasChanged","widgetButtonViewReferences","htmlEmbedConfig","renderContent","textContent","domDocument","ownerDocument","domTextarea","isEditable","textareaProps","isDisabled","textareaPlaceholder","createDomTextarea","previewContainerProps","sanitizedOutput","getRawHtmlValue","domPreviewPlaceholder","domPreviewContent","dir","domDocumentFragment","createContextualFragment","createPreviewContainer","buttonsWrapperProps","onEditClick","onSaveClick","onCancelClick","prepend","domButtonsWrapper","createUIButton","editButtonView","createDomButtonsWrapper","disabled","isConnected","innerHTML","domContentWrapper","viewContentWrapper","addEventListener","rawHtmlApi","makeEditable","save","hasSelectionHandle","onClick","pencil","HtmlEmbedUI","HtmlEmbed","IndentEditing","MultiCommand","IndentUI","localizedIndentIcon","localizedOutdentIcon","_defineButton","Indent","IndentBlockCommand","indentBehavior","_indentBehavior","_isIndentationChangeAllowed","checkEnabled","blocksToChange","_getBlocksToChange","currentIndent","nextIndent","getNextIndent","isForward","isListItemBlock","IndentUsingOffset","unit","indentAttributeValue","currentOffset","offsetToSet","IndentUsingClasses","indexStep","DEFAULT_ELEMENTS","IndentBlock","configuration","_setupConversionUsingClasses","addMarginRules","_setupConversionUsingOffset","indentCommand","outdentCommand","marginProperty","AutomaticDecorators","getDispatcher","viewSelection","getDispatcherForLinkedImage","viewFigure","linkInImage","toMap","val","ATTRIBUTE_WHITESPACES","EMAIL_REG_EXP","PROTOCOL_REG_EXP","DEFAULT_LINK_PROTOCOLS","LINK_KEYSTROKE","createLinkElement","href","linkElement","ensureSafeUrl","url","allowedProtocols","urlString","protocolsList","customRegexp","isSafeUrl","isLinkableElement","addLinkProtocolIfApplicable","link","defaultProtocol","protocol","isProtocolNeeded","linkHasProtocol","openLink","open","createBookmarkCallbacks","bookmarkEditing","isScrollableToTarget","getElementForBookmarkId","scrollToTarget","bookmarkId","modelBookmark","alignToTop","forceScroll","LinkCommand","manualDecorators","automaticDecorators","restoreManualDecoratorStates","manualDecorator","_getDecoratorStateFromModel","manualDecoratorIds","truthyManualDecorators","falsyManualDecorators","linkText","extractTextFromSelection","linkRange","findAttributeRange","_updateLinkContent","allowedRanges","rangesToUpdate","_isRangeToUpdate","decoratorName","allowedRange","linkHref","rangeItems","UnlinkCommand","linkCommand","rangesToUnlink","ManualDecorator","defaultValue","_createPattern","DECORATOR_AUTOMATIC","EXTERNAL_LINKS_REGEXP","Input","allowCreatingEmptyLinks","addTargetToExternalLinks","linkDecorators","decorators","localizedDecoratorsLabels","decorator","getLocalizedDecorators","retArray","normalizeDecorators","_enableAutomaticDecorators","mode","_enableManualDecorators","_enableLinkOpen","_enableSelectionAttributesFixer","_enableClipboardIntegration","automaticDecoratorDefinitions","rel","manualDecoratorDefinitions","decoratorDefinition","manualDecoratorValue","bookmarkCallbacks","handleLinkOpening","env","isMac","metaKey","ctrlKey","clickedElement","domTarget","closest","keyCode","keyCodes","enter","altKey","linkAttributes","removeLinkAttributesFromSelection","getDefinition","newLink","LinkFormView","validators","_validators","urlInputView","_createUrlInput","_manualDecoratorSwitches","_createManualDecoratorSwitches","_createFormChildren","classList","getDecoratorSwitchesState","switchButton","isValid","resetFormStatus","validator","inputMode","switches","decoratorValue","additionalButtonsView","LinkActionsView","linkConfig","previewButtonView","_createPreviewButton","unlinkButtonView","_linkConfig","click","VISUAL_SELECTION_MARKER_NAME","actionsView","ClickObserver","_createToolbarLinkButton","_enableBalloonActivators","markerElement","_createViews","_createActionsView","_enableUserBalloonInteractions","unlinkCommand","_addFormView","_hideUI","form","parsedUrl","_closeFormView","_showUI","_getSelectedLinkElement","keyEvtData","_areActionsVisible","_isUIVisible","_isUIInPanel","_addActionsView","_areActionsInPanel","_getBalloonPositionData","_isFormInPanel","_removeFormView","_hideFakeVisualSelection","forceVisible","showStack","_showFakeVisualSelection","_startUpdatingUI","prevSelectedLink","prevSelectionParent","getSelectionParent","selectedLink","selectionParent","markerViewElements","markerNameToElements","targetLink","findLinkElementAncestor","getTrimmed","startLink","endLink","getLastMatchingPosition","boundaries","isLinkElement","URL_REG_EXP","_enableTypingHandling","_enableEnterHandling","_enableShiftEnterHandling","_enablePasteLinking","_expandLinkRange","_selectEntireLinks","selectedRange","selStart","selEnd","updatedSelection","rangeCount","watcher","TextWatcher","isSingleSpaceAtTheEnd","getUrlAtTextEnd","isTyping","linkEnd","linkStart","_applyAutoLink","rangeToCheck","_checkAndApplyAutoLinkOnRange","shiftEnterCommand","getLastTextLine","fullUrl","isLinkAllowedOnRange","linkIsAlreadySet","_persistAutoLink","deletePlugin","LinkImageEditing","isImageInlinePluginLoaded","imageInLink","blockImageView","upcastLink","viewImgOrPicture","downcastImageLink","downcastImageLinkManualDecorator","upcastImageLinkManualDecorator","LinkImageUI","_isSelectedLinkedImage","_createToolbarLinkImageButton","selectedModelElement","LinkImage","ListWalker","startElement","_startElement","_referenceIndent","_isForward","_includeSelf","includeSelf","_sameAttributes","sameAttributes","_sameIndent","sameIndent","_lowerIndent","lowerIndent","_higherIndent","higherIndent","nestedItems","iterateSiblingListBlocks","_getStartNode","previousNodesByIndent","previous","nodeIndent","previousNodeIndent","ListBlocksIterable","listHead","_listHead","ListItemUid","getAllListItemBlocks","listItem","getListItemBlocks","getListItems","backwardBlocks","forwardBlocks","isFirstBlockOfListItem","listBlock","isLastBlockOfListItem","expandListBlocksToCompleteItems","withNested","allBlocks","itemBlock","sortBlocks","expandListBlocksToCompleteList","splitListItemBefore","mergeListItemBefore","parentBlock","setAttributes","indentBlocks","expand","indentBy","blockIndent","removeListAttributes","isSingleListItem","firstItemId","getSelectedBlockObject","canBecomeSimpleListItem","mergeListItemIfNotLast","ListIndentCommand","indentDirection","_direction","getSelectedListBlocks","visited","referenceIndent","parentBlocks","mergedBlocks","mergedBlock","outdentBlocksWithMerge","previousItemBlock","_fireAfterExecute","siblingItem","firstNonListBlockIndex","ListCommand","_listWalkerOptions","multiLevel","selectedBlockObject","turnOff","lastBlock","itemBlocks","POSITIVE_INFINITY","newIndent","outdentFollowingItems","additionalAttributes","listIndent","listItemId","ListMergeCommand","shouldMergeOnBlocksContentLevel","firstElement","lastElement","_getMergeSubjectElements","firstIndent","lastIndent","lastElementId","nestedLastElementBlocks","sel","doNotResetEntireContent","lastElementAfterDelete","siblingNode","isFirstBlock","ListSplitCommand","_getStartBlock","ListUtils","isListView","isListItemView","createListElement","getViewElementIdForListType","getViewElementNameForListType","createListItemElement","findAndAddListHeadToMap","itemToListHead","previousNode","listItemDowncastConverter","strategies","dataPipeline","consumer","events","createAttributesConsumer","findMappedViewElement","removeCustomMarkerElements","attributeElement","parentElement","unwrapListItemBlock","strategy","canInjectMarkerIntoElement","createWrapperElement","canWrapElement","wrapper","insertCustomMarkerElements","listItemIndent","currentListItem","listItemViewElement","listViewElement","wrapListItemBlock","bogusParagraphCreator","shouldUseBogusParagraph","markersToRemove","collectMarkersToRemove","viewWalker","LIST_BASE_ATTRIBUTES","ListEditing","_downcastStrategies","multiBlock","conflictPlugin","copyOnReplace","_setupDeleteIntegration","_setupEnterIntegration","_setupTabIntegration","_setupAccessibilityIntegration","_setupModelPostFixing","getListAttributeNames","mergeBackwardCommand","mergeForwardCommand","isLastBlock","splitCommand","getIndent","firstItemListType","keepEmptyElement","viewStart","modelEnd","viewEnd","isPhantom","modelToViewPositionMapper","modelPosition","positionAfterLastMarker","skip","previousPosition","viewPosition","itemsToRefresh","changedItems","doesItemBlockRequiresRefresh","collectListItemsToRefresh","itemIndent","doesItemWrappingRequiresRefresh","useBogus","isListItemElement","isListElement","modelAttributes","reconvertItemsOnDataChange","applied","innerItem","seenIds","maxIndent","prevIndent","fixBy","fixListIndents","fixListItemIds","refItem","refType","refIndent","firstElementIndent","indentDiff","isListItem","createModelIndentPasteFixer","allContentChildren","lastItem","allChildren","addKeystrokeInfoGroup","createUIComponents","numberedList","bulletedList","ListStartCommand","startIndex","LIST_STYLE_TO_LIST_TYPE","LIST_STYLE_TO_TYPE_ATTRIBUTE","TYPE_ATTRIBUTE_TO_LIST_STYLE","LIST_STYLE_TYPES","listStyle","typeAttribute","getAllSupportedStyleTypes","x","listStyleType","getListStyleTypeFromTypeAttribute","getTypeAttributeFromListStyleType","ListStyleCommand","defaultType","supportedTypes","_supportedTypes","_tryToConvertItemsToList","isStyleTypeSupported","ListReversedCommand","reversed","listPropertiesUpcastConverter","viewConsumables","appliesToListItem","getAttributeOnUpcast","ListPropertiesUtils","getListTypeFromListStyleType","getNormalizedConfig","getNormalizedStylesConfig","normalizedConfig","listTypes","useAttribute","DEFAULT_LIST_TYPE","ListPropertiesEditing","enabledProperties","addCommand","styleType","hasValidAttribute","listParent","listReversed","listStart","startAttributeValue","createAttributeStrategies","ListPropertiesView","styleButtonViews","styleGridAriaLabel","stylesView","additionalPropertiesCollapsibleView","startIndexFieldView","reversedSwitchButtonView","elementCssClasses","_createStylesView","_addNumberedListPropertyViews","last","addKeyboardHandlingForGrid","gridItems","numberOfColumns","getComputedStyle","getPropertyValue","styleButtons","numberedPropertyViews","_createStartIndexField","_createReversedSwitchButton","createLabeledInputNumber","step","valueAsNumber","checkValidity","reversedButtonView","propertiesConfig","stylesListTypes","styleDefinitions","buttonLabel","getDropdownViewCreator","parentCommandName","buttonIcon","getMenuBarStylesMenuCreator","parentCommand","mainButtonView","listPropertiesView","listStyleCommand","styleButtonCreator","getStyleButtonCreator","getStyleTypeSupportChecker","listStartCommand","listReversedCommand","isReversed","createListPropertiesView","listCommand","styleDefinition","CheckTodoListCommand","selectedElements","_getSelectedItems","elements","TodoCheckboxChangeObserver","DomEventObserver","domEventType","onDomEvent","viewTarget","ITEM_TOGGLE_KEYSTROKE","parseKeystroke","TodoListEditing","modelItem","groupedItems","acc","elementUpcastConsumingConverter","matcherPattern","matcherResult","attributeUpcastConsumingConverter","isDescriptionBlock","checked","contenteditable","isFirstTodoModelParagraphBlock","isFirstTodoModelItemBlock","hasViewItemMarker","previousHasAttribute","nodeHasAttribute","getCode","viewPositionAfter","toModelPosition","_handleCheckmarkChange","domEventData","getLocalizedArrowKeyCodeDirection","getNearestSelectionRange","newRangeParent","jumpOverCheckmarkOnSideArrowKeyPress","viewParent","isStartOfListItem","isStartOfListLabel","isLabelElement","isInInputWrapper","previousSelectionRanges","lastElementIsTodoList","isTodoListItemElement","currentElementIsTodoList","listAttributeNames","hasOnlyListAttributes","todoList","modelToViewUrlAttributeConverter","registry","figure","mediaContentElement","mediaViewElement","getMediaViewElement","getSelectedMediaViewWidget","isMediaWidget","createMediaFigureElement","getSelectedMediaModelWidget","insertMedia","mediaElement","MediaEmbedCommand","selectedMedia","isMediaSelected","isAllowedInParent","MediaRegistry","providers","extraProviders","removedProviders","removeProviders","providerDefinitions","provider","hasMedia","_getMedia","getViewElement","Media","previewRenderer","subPattern","_getUrlMatches","rawUrl","_getValidUrl","_locale","_match","_previewRenderer","renderForEditingView","renderMediaPreview","mediaHtml","_getPreviewHtml","_getPlaceholderHtml","IconView","viewBox","Template","outerHTML","MediaEmbedEditing","toMediaWidget","viewMedia","URL_REGEXP","AutoMediaEmbed","_embedMediaBetweenPositions","mediaRegistry","MediaFormView","infoText","_urlInputViewInfoDefault","inputField","_urlInputViewInfoTip","mediaURLInputValue","MediaEmbedUI","_createDialogButton","_formView","_handleSubmitForm","actionButtons","onExecute","MediaEmbed","MediaEmbedToolbar","PageBreakCommand","getInsertPageBreakParent","isPageBreakAllowedInParent","pageBreakElement","PageBreakEditing","viewLabelElement","innerText","toPageBreakWidget","hasPageBreakBefore","hasPageBreakAfter","viewSpan","PageBreakUI","PageBreak","isPx","toPx","toFixed","isListContinuation","currentItem","detectListStyle","listLikeItem","stylesString","listStyleRegexp","listStyleTypeRegex","listStartIndexRegex","legalStyleListRegex","multiLevelNumberFormatTypeRegex","legalStyleListMatch","multiLevelNumberFormatMatch","islegalStyleList","listStyleMatch","listStyleTypeMatch","bulletedStyle","listMarkerElement","textNodeOrElement","findListMarkerNode","listMarker","_data","findBulletedListStyle","listStartIndexMatch","mapListStyleDefinition","isLegalStyleList","createNewEmptyList","hasMultiLevelListPlugin","getListItemData","idMatch","orderMatch","indentMatch","order","removeBulletElement","bulletMatcher","getMarginLeftNormalized","numericValue","convertCssLengthToPx","msWordMatch1","msWordMatch2","MSWordNormalizer","isActive","htmlString","body","_parsedData","elementsToChange","getChildIndex","insertChild","transformBookmarks","itemLikeElements","foundMargins","marginLeft","hasStyle","itemData","findAllItemLikeElements","encounteredLists","itemLikeElement","originalListId","listElement","parentListItems","listItemElements","stackItem","listItems","transformListItemLikeElementsIntoLists","rtfData","upcastWriter","shapesIds","shapeElementsMatcher","el","prevSiblingName","exceptionIds","isElementAShape","hasElementGfxdataAttribute","isPreviousSiblingAShapeType","isElementIdInExceptionsArray","findAllShapesIds","imageElementsMatcher","imgs","shapes","shape","removeAllImgElementsRepresentingShapes","shapeIds","containsMatchingImg","attrs","findSrc","alt","insertMissingImgs","removeAllShapeElements","images","findAllImageElementsWithLocalSource","imageElements","imagesHexSources","newSrc","hexString","hex","char","fromCharCode","replaceImagesFileSourceWithInlineRepresentation","regexPictureHeader","regexPicture","extractImageDataFromRtf","replaceImagesSourceWithBase64","elementsToUnwrap","styleName","getStyleNames","itemParent","childIndex","removeMSAttributes","findSibling","inlineObjectElements","isBlockViewElement","googleDocsMatch","GoogleDocsNormalizer","removeBoldWrapper","unwrapElement","unwrapParagraphInListItem","ViewDocument","DomConverter","renderingMode","elementsToReplace","nextSiblingIsBlock","transformBlockBrsToParagraphs","googleSheetsMatch","GoogleSheetsNormalizer","removeGoogleSheetsTag","removeXmlns","removeInvalidTableWidth","removeStyleBlock","normalizeSafariSpaceSpans","fullMatch","spaces","PasteFromOffice","normalizers","_isTransformedWithPasteFromOffice","activeNormalizer","normalizer","domParser","DOMParser","normalizedHtml","normalizeSpacing","bodyCloseTag","bodyCloseIndex","htmlCloseIndex","substring","cleanContentAfterBody","htmlDocument","parseFromString","querySelectorAll","htmlElement","innerTextLength","normalizeSpacerunSpans","bodyString","bodyView","domToView","documentToView","stylesObject","styleTags","sheet","cssRules","extractStyles","parseHtml","REMOVE_FORMAT","RemoveFormatUI","RemoveFormatCommand","_getFormattingItems","_getFormattingAttributes","itemRange","itemHasRemovableFormatting","curRange","RemoveFormatEditing","RemoveFormat","indentLine","indentCount","indentChar","repeat","COMMAND_FORCE_DISABLE_ID","SourceEditing","PendingActions","_replacedRoots","_dataFromRoots","_checkCompatibility","_isAllowedToHandleSourceEditingMode","isSourceEditingMode","_hideVisibleDialog","_showSourceEditing","_disableCommands","_hideSourceEditing","_enableCommands","_handleReadOnlyMode","isReadOnly","updateEditorData","domSourceEditingElementWrapper","oldData","newData","dataset","batchType","suppressErrorInCollaboration","allowCollaboration","console","warn","domRootElement","domRoots","isHtml","elementsToFormat","isVoid","elementNamesToFormat","lines","isPreformattedLine","isPreviousLinePreFormatted","isPreformattedBlockLine","isNonVoidOpeningTag","isClosingTag","formatHtml","domSourceEditingElementTextarea","rows","setSelectionRange","viewRoot","_focusSourceEditing","textarea","forceDisabled","clearForceDisabled","readOnly","hasExternalElement","isEditorReadOnly","hasAnyPendingActions","StyleGridButtonView","previewView","_createPreview","previewTemplate","StyleGridView","gridTileView","activeStyles","enabledStyles","StyleGroupView","labelView","LabelView","gridView","StylePanelView","blockStylesGroupView","inlineStylesGroupView","NON_PREVIEWABLE_ELEMENT_NAMES","StyleUtils","_htmlSupport","normalizeConfig","normalizedDefinitions","ghsAttributes","ghsDefinition","ghsBlockDefinition","getStylePreview","isStyleEnabledForBlock","isStyleActiveForBlock","ghsAttributeValue","hasAllClasses","getAffectedBlocks","isStyleEnabledForInlineSelection","isStyleActiveForInlineSelection","getAffectedInlineSelectable","configureGHSDataFilter","ghsDataFilter","normalizedStyleDefinitionToMatcherPattern","StyleUI","styleUtils","normalizedStyleDefinitions","styleCommand","StyleCommand","_styleDefinitions","_styleUtils","ancestorBlocks","parentFirst","htmlSupport","allDefinitions","activeDefinitions","shouldAddStyle","selectables","isBlockStyleDefinition","_findAffectedBlocks","getBlocksFromSelection","getDefinitionExclusiveClasses","selectedBlocks","selectedBlock","affectedBlocks","affectedBlock","ListStyleSupport","_listUtils","_isStyleEnabledForBlock","_isStyleActiveForBlock","_getAffectedBlocks","templateDefinition","_getStylePreview","TableStyleSupport","_tableUtils","_isApplicable","location","getCellLocation","headingRows","headingColumns","isHeadingCell","row","column","LinkStyleSupport","_isStyleEnabled","_isStyleActive","_getAffectedSelectable","expandedRange","expandAttributePosition","joinedRange","normalizeRanges","lookBack","referenceNode","findAttributeRangeBound","StyleEditing","Style","upcastStyleToAttribute","modelAttribute","reduceBoxSides","shouldUpcast","normalized","getNormalizedStyle","reduceBoxSidesValue","upcastBorderStyles","defaultBorder","stylesToConsume","normalizedBorder","reducedBorder","downcastAttributeToStyle","downcastTableAttribute","sides","topSideStyle","updateNumericAttribute","createEmptyTableCell","insertPosition","tableCell","insertElement","isHeadingColumnCell","enableProperty","getSelectionAffectedTable","ensureParagraphInTableCell","scanRowForHeadingColumns","tr","th","_jumpedToStartRow","_table","_startRow","startRow","_endRow","endRow","_startColumn","startColumn","_endColumn","endColumn","_includeAllSlots","includeAllSlots","_skipRows","_row","_rowIndex","_column","_cellIndex","_spannedCells","_nextCellAtColumn","_canJumpToStartRow","_jumpToNonSpannedRowClosestToStartRow","_isOverEndRow","_isOverEndColumn","_advanceToNextRow","outValue","spanData","_getSpanned","_shouldSkipSlot","_formatOutValue","cell","colspan","rowspan","_recordSpans","skipRow","anchorRow","anchorColumn","TableSlot","rowIsMarkedAsSkipped","rowIsBeforeStartRow","columnIsBeforeStartColumn","columnIsAfterEndColumn","rowMap","rowToUpdate","columnToUpdate","_markSpannedCell","firstRowLength","_getRowLength","rowIndex","cols","tableWalker","cellAnchorRow","cellAnchorColumn","isAnchor","cellWidth","cellHeight","getPositionBefore","downcastTable","tableElement","figureElement","positionOffset","additionalSlots","toTableWidget","downcastCell","tableRow","tableSlot","cellElementName","convertParagraphInTableCell","isSingleParagraphWithoutAttributes","InsertTableCommand","validParent","defaultRows","defaultColumns","createTable","getNodeByPath","InsertRowCommand","isAnyCellSelected","getSelectionAffectedTableCells","insertAbove","affectedTableCells","rowIndexes","getRowIndexes","insertRows","at","copyStructureFromAbove","InsertColumnCommand","columnIndexes","getColumnIndexes","insertColumns","SplitCellCommand","selectedCells","splitCellHorizontally","splitCellVertically","cropTableToDimensions","sourceTable","cropDimensions","croppedTable","cropHeight","tableMap","sourceRow","sourceColumn","rowInCroppedTable","tableCellCopy","cloneElement","trimTableCellIfNeeded","addHeadingsToCroppedTable","getVerticallyOverlappingCells","overlapRow","cells","slotInfo","splitHorizontally","splitRow","newRowspan","newCellAttributes","newCellRowSpan","columnIndex","newCell","getHorizontallyOverlappingCells","overlapColumn","cellsToSplit","splitVertically","splitColumn","newColspan","newCellColSpan","cellRow","cellColumn","limitRow","limitColumn","removeEmptyColumns","getColumns","columnsMap","fill","emptyColumns","cellsCount","emptyColumn","removeColumns","removeEmptyRows","emptyRows","tableRowCount","emptyRow","removeRows","removeEmptyRowsColumns","adjustLastRowIndex","dimensions","lastRowMap","firstColumn","lastColumn","lastRow","rowspanAdjustment","adjustLastColumnIndex","lastColumnMap","firstRow","colspanAdjustment","MergeCellCommand","isHorizontal","cellToMerge","_getMergeableCell","getTableCellsContainingSelection","isMergeNext","cellToExpand","cellToRemove","removedTableCellRow","mergeTableCells","spanAttribute","cellSpan","cellToMergeSpan","horizontalCell","hasHeadingColumns","cellOnLeft","cellOnRight","leftCellColumn","rightCellColumn","leftCellSpan","isCellOnLeftInHeadingColumn","isCellOnRightInHeadingColumn","getHorizontalCell","currentCellRowSpan","rowOfCellToMerge","mergeColumn","cellToMergeData","getVerticalCell","span","firstTableChild","RemoveRowCommand","firstCell","lastRowIndex","selectedRowIndexes","areAllRowsSelected","referenceCells","removedRowIndexes","columnIndexToFocus","rowsToRemove","cellToFocus","removedRowIndex","columnToFocus","getCellToFocus","RemoveColumnCommand","tableColumnCount","lastCell","returnValue","getBoundaryCells","removedColumnIndexes","columnsToRemove","SetHeaderRowCommand","isInTable","_isInHeading","headingRowsToSet","currentHeadingRows","overlappingCells","SetHeaderColumnCommand","headingColumnsToSet","columnGroupElement","createEmptyRows","insertAt","rowsToInsert","isCopyStructure","copyStructureFrom","walkerEndRow","tableIterator","rowColSpansMap","lastCellRow","isReferenceRow","cellIndex","abs","columnsToInsert","tableColumns","createCells","rowCount","indexesObject","cellsToMove","cellsToTrim","lastRowOfCell","rowSpanToSet","getCellsToMoveAndTrimOnRemoveRow","targetRowIndex","tableRowMap","previousCell","cellToMove","targetPosition","moveCellsToRow","updateHeadingRows","headingsRemoved","adjustHeadingColumns","removedColumnIndex","adjacentColumn","removedColumnWidth","adjacentColumnWidth","numberOfCells","newCellsSpan","updatedSpan","breakSpanEvenly","newCellsAttributes","cellsToInsert","splitCellColumn","cellsToUpdate","splitCellRow","distanceFromLastCellSpan","isOnSameColumn","rowspanToSet","createTableWalker","getSelectedTableCells","sortRanges","getContainedElement","cellWithSelection","tableCells","indexes","_getFirstLastIndexesObject","isSelectionRectangular","selectedTableCells","_areCellInTheSameTableSection","areaOfSelectedCells","areaOfValidSelection","rowsIndexes","getBiggestRectangleArea","compareRangeOrder","allIndexesSorted","indexA","indexB","_areIndexesInSameSection","headingSectionSize","tableCellToInsert","floor","rangeA","rangeB","posA","posB","MergeCellsCommand","firstTableCell","mergeWidth","mergeHeight","maxWidthOffset","maxHeightOffset","getMaxOffset","firstCellRow","firstCellColumn","getMergeDimensions","cellBeingMerged","targetCell","currentMaxOffset","which","dimensionValue","SelectRowCommand","rangesToSelect","SelectColumnCommand","startLocation","endLocation","cellInfo","fixTableCellsRowspan","maxRows","rowLimit","findCellsToTrim","fixTableRowsSizes","childrenLengths","lengths","getChildrenLengths","rowsLengths","tableSize","maxColumns","prev","current","isTableAttributeEntry","fixTable","fixTableRow","fixTableCellContent","textNodes","checkTableCellChange","shouldRefresh","_additionalSlots","isSelectable","viewTable","figureChild","getViewTableFromFigure","modelTable","headRows","bodyRows","firstTheadElement","tableChild","trs","headingCols","scanTable","upcastCellSpan","analyzedTables","tableLayoutPostFixer","injectTableLayoutPostFixer","tableCellContentsPostFixer","injectTableCellParagraphPostFixer","isRowChange","expectedElementName","tableHeadingsRefreshHandler","cellsToCheck","paragraphsToRefresh","tableCellRefreshHandler","registerAdditionalSlot","slotHandler","InsertTableView","_createGridCollection","mousedown","domEvt","focusedElement","_highlightGridBoxes","boxView","_createGridButton","boxes","TableUI","isContentLtr","insertTableView","bindIsOn","_prepareDropdown","_prepareMergeSplitButtonDropdown","_fillDropdownWithListOptions","mergeCommandName","mergeCommand","addListOption","TableSelection","_handleDeleteContent","_handleInsertTextEvent","_defineSelectionConverter","_enablePluginDisabling","getSelectionAsFragment","adjustedLastRow","adjustedLastColumn","setCellSelection","anchorCell","cellsToSelect","_getCellsToSelect","backward","getFocusCell","getAnchorCell","highlighted","previouslyHighlighted","clearHighlightedTableCells","lastViewCell","isBackward","tableCellToSelect","rangeToSelect","setTo","viewRanges","selectionMap","walkerOptions","flipVertically","flipHorizontally","flat","TableClipboard","ClipboardMarkersUtils","_onCopyCut","_onInsertContent","tableSelection","clipboardMarkersUtils","_copySelectedFragmentWithMarkers","toView","pastedTable","getTableIfOnlyTableInContent","_pasteMarkersIntoTransformedElement","_replaceSelectedCells","pastedDimensions","selectedTable","shouldExpandSelection","expectedHeight","expectedWidth","tableWidth","tableHeight","expandTableSize","doVerticalSplit","doHorizontalSplit","splitCellsToRectangularSelection","prepareTableForPasting","selectionHeight","selectionWidth","_replaceSelectedCellsWithPasted","selectionRanges","pastedWidth","pastedHeight","pastedTableLocationMap","createLocationMap","selectedTableMap","pastedRow","pastedColumn","pastedCell","cellToInsert","newTableCell","_replaceTableSlotCell","areHeadingRowsIntersectingSelection","areHeadingColumnsIntersectingSelection","newCells","rangeBefore","hasContent","ignoreWhitespaces","rangeAfter","limitColumns","isAffectedBySelection","limitRows","limit","endIndex","TableKeyboard","_onArrowKey","_handleTabOnSelectedTable","_handleTab","bubblingEventInfo","currentRowIndex","currentCellIndex","isFirstCellInRow","isLastCellInRow","isLastRow","nextRow","previousRow","_handleArrowKeys","expandSelection","focusCell","_navigateFromCellInDirection","_isSelectionAtCellEdge","probe","modifySelection","currentCellInfo","cellToSelect","positionToSelect","TableMouse","_enableShiftClickSelection","_enableMouseDragSelection","blockSelectionChange","_getModelTableCellFromDomEvent","haveSameTableParent","beganCellSelection","buttons","newTargetCell","viewTargetElement","cellA","cellB","getSelectionAffectedTableWidget","getSelectedTableWidget","getTableWidgetAncestor","isTableWidget","TableToolbar","tableContentToolbarItems","tableToolbarItems","ColorInputView","_createDropdownView","inputView","_createInputTextView","_stillTyping","inputValue","_setInputValue","colorSelector","_createColorSelector","colorPreview","backgroundColor","panelPosition","InputTextView","blur","mappedColor","colorDefinitions","defaultColor","defaultColorValue","removeColorButtonLabel","colorPickerConfig","hideInput","backupColor","colorPickerButtonView","normalizedInputValue","normalizeColor","colorString","getBorderStyleLabels","none","solid","dotted","dashed","double","groove","ridge","inset","outset","getLocalizedColorErrorText","getLocalizedLengthErrorText","colorFieldValidator","isColor","lengthFieldValidator","isNumberString","lineWidthFieldValidator","getBorderStyleDefinitions","defaultStyle","styleLabels","_borderStyleValue","fillToolbar","labels","propertyName","nameToValue","buttonValue","valueToCompare","defaultColors","getLabeledColorInputCreator","labeledFieldView","viewUid","statusUid","colorInputView","colorConfig","ariaDescribedById","parsedValue","FormRowView","_role","_ariaLabelledBy","TableCellPropertiesView","borderStyle","borderWidth","borderColor","padding","horizontalAlignment","verticalAlignment","borderStyleDropdown","borderWidthInput","borderColorInput","borderRowLabel","_createBorderFields","backgroundRowLabel","backgroundInput","_createBackgroundFields","widthInput","operatorLabel","heightInput","dimensionsLabel","_createDimensionFields","horizontalAlignmentToolbar","verticalAlignmentToolbar","alignmentLabel","_createAlignmentFields","paddingInput","_createPaddingField","_createActionButtons","chain","defaultTableCellProperties","colorInputCreator","borderColors","createLabeledDropdown","isBorderStyleSet","backgroundColors","ALIGNMENT_ICONS","justify","alignTop","middle","alignMiddle","alignBottom","isContentRTL","isCompact","_horizontalAlignmentLabels","_verticalAlignmentLabels","fieldsThatShouldValidateToSave","errorTexts","BALLOON_POSITIONS","getBalloonCellPositionData","getBalloonTablePositionData","rects","modelTableCell","getTableCellAtPosition","viewTableCell","getBoundingRect","createBoundingRect","getSingleValue","objectOrString","addDefaultUnitToNumericValue","defaultUnit","getNormalizedDefaultProperties","includeAlignmentProperty","includePaddingProperty","includeVerticalAlignmentProperty","includeHorizontalAlignmentProperty","isRightToLeftContent","getNormalizedDefaultTableProperties","getNormalizedDefaultCellProperties","propertyToCommandMap","TableCellPropertiesUI","_defaultTableCellProperties","_isReady","_showView","isCommandEnabled","_createPropertiesView","borderColorsConfig","localizedBorderColors","backgroundColorsConfig","localizedBackgroundColors","_hideView","_isViewInBalloon","colorErrorText","lengthErrorText","_getPropertyChangeCallback","_getValidatedPropertyChangeCallback","viewField","_fillViewFormFromCommandValues","borderStyleCommand","_updateView","_isViewVisible","setErrorTextDebounced","TableCellPropertyCommand","_defaultValue","_getSingleValue","valueToSet","_getValueToSet","_getAttribute","firstCellValue","TableCellWidthCommand","TableCellPaddingCommand","TableCellHeightCommand","TableCellBackgroundColorCommand","TableCellVerticalAlignmentCommand","TableCellHorizontalAlignmentCommand","TableCellBorderStyleCommand","TableCellBorderColorCommand","TableCellBorderWidthCommand","VALIGN_VALUES_REG_EXP","ALIGN_VALUES_REG_EXP","TableCellPropertiesEditing","addBorderRules","enableBorderProperties","addPaddingRules","align","enableHorizontalAlignmentProperty","valign","enableVerticalAlignmentProperty","TableCellProperties","TablePropertyCommand","TableBackgroundColorCommand","TableBorderColorCommand","TableBorderStyleCommand","TableBorderWidthCommand","TableWidthCommand","TableHeightCommand","TableAlignmentCommand","FLOAT_VALUES_REG_EXP","TablePropertiesEditing","defaultTableProperties","float","enableAlignmentProperty","enableTableToFigureProperty","TablePropertiesView","alignmentToolbar","backgroundInputCreator","_alignmentLabels","TablePropertiesUI","_defaultTableProperties","propertyKey","TableProperties","isTable","getCaptionFromTableModelElement","tableModelElement","matchTableCaptionViewElement","ToggleTableCaptionCommand","_hideTableCaption","_showTableCaption","tableCaptionEditing","TableCaptionEditing","captionsToMerge","firstCaption","tableCaptionPostFixer","TableCaptionUI","TableCaption","modelElementToPlainText","childText","WordCount","defineProperties","characters","_getCharacters","_getText","words","_getWords","_config","_outputView","_wordsMatchRegExp","features","isRegExpUnicodePropertySupported","_refreshStats","onUpdate","container","wordCountContainer","displayWords","displayCharacters","txt","CraftImageInsertUI","_ImageInsertUI","_inherits","_super","_classCallCheck","_this","_assetSources","_createToolbarImageButton","_this2","_showImageSelectModal","_this3","criteria","Craft","createElementSelectorModal","storageKey","defaultSiteId","transforms","multiSelect","autoFocusSearchBox","onSelect","assets","_processAssetUrls","closeOtherModals","_this4","defaultTransform","queue","Queue","urls","_step","_iterator","_createForOfIteratorHelper","_loop","asset","hasTransform","_isTransformUrl","_getTransformUrl","_buildAssetUrl","s","f","assetId","assetUrl","handle","_this5","sendActionRequest","_ref","alert","ImageInsertUI","CraftLinkUI","_Plugin","siteDropdownView","siteDropdownItemModels","localizedRefHandleRE","LinkUI","_linkUI","isMultiSite","_modifyFormViewTemplate","refHandlesPattern","craftcms","localizedRefHandles","linkOptions","linkIcon","linkOption","_showElementSelectorModal","_getLinkListItemDefinitions","onCancel","elementType","refHandle","siteId","Range","clone","path","sites","site","_urlInputRefMatch","ref","newUrl","_urlInputValue","urlInputIdx","_toggleSiteDropdownView","_selectSiteDropdownItem","itemModel","TransformImageCommand","_Command","_element","srcInfo","_srcInfo","hash","ImageTransformEditing","ImageUtils","transformImageCommand","RESIZE_ICON","objectSizeMedium","ImageTransformUI","_registerImageTransformDropdown","originalSizeOption","DropdownButtonView","_getOptionLabelValue","_getTransformDropdownListItemDefinitions","ImageTransform","ImageEditorCommand","response","baseSrc","settings","allowSavingAsNew","onSave","_reloadImage","allowDegreeFractions","isImagick","AssetImageEditor","_getAllImageAssets","getTime","ImageEditorEditing","imageEditorCommand","ImageEditorUI","_registerImageEditorButton","ImageEditor","stringifyLanguageAttribute","languageCode","textDirection","getLanguageDirection","TextPartLanguageCommand","TextPartLanguageEditing","textPartLanguage","lang","str","parseLanguageAttribute","TextPartLanguageUI","_getItemMetadata","languageCommand","selectedLanguageTitle","ListSeparatorView","removeTitle","TextPartLanguage","getDispatcherForAnchoredImage","anchorInImage","SAFE_URL","createAnchorElement","anchorElement","addAnchorProtocolIfApplicable","AnchorCommand","anchorRange","anchorId","UnanchorCommand","anchorCommand","rangesToUnanchor","lastNode","globalVar","mix","generateKnownKeyCodes","pageup","pagedown","arrowleft","arrowup","arrowright","arrowdown","backspace","space","esc","tab","ctrl","cmd","AnchorEditing","addTargetToExternalAnchors","inheritTypesFrom","createEmptyAnchorElement","createEmptyPlaceholderAnchorElement","anchorDecorators","_enableInsertContentSelectionAttributesFixer","_enableClickingAfterAnchor","_enableTypingOverAnchor","_handleDeleteContentAfterAnchor","viewToModelPositionOutsideModelElement","manualDecoratorName","removeAnchorAttributesFromSelection","MouseObserver","clicked","deletedContent","nodeAtFirstPosition","shouldCopyAttributes","shouldPreserveAttributes","hasBackspacePressed","containsPosition","AnchorFormView","injectCssTransitionDisabler","AnchorActionsView","unanchorButtonView","AnchorUI","_createToolbarAnchorButton","unanchorCommand","_getSelectedAnchorElement","prevSelectedAnchor","selectedAnchor","targetAnchor","findAnchorElementAncestor","startAnchor","endAnchor","nextValidRange","getNextValidRange","isAnchorElement","nextStartPath","nextStartPosition","createPositionFromPath","nextRange","AutoAnchor","anchorEnd","anchorStart","_applyAutoAnchor","_checkAndApplyAutoAnchorOnRange","isAnchorAllowedOnRange","Anchor","_regeneratorRuntime","c","asyncIterator","u","configurable","writable","Generator","Context","makeInvokeMethod","tryCatch","h","l","y","GeneratorFunction","GeneratorFunctionPrototype","p","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","__await","callInvokeWithMethodAndArg","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","rval","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_slicedToArray","allPlugins","selectAll","AutoLink","List","ListProperties","LinkEditing","Table","TodoList","normalizeToolbarItems","group","$","normalizeToolbarItem","toolbarItems","configOption","pluginButtonMap","registerPackage","pkg","pluginNames","_Object$entries","_Object$entries$_i","_i2","_Object$entries2","_Object$entries2$_i","v2","findPlugin","trackChangesInSourceMode","sourceEditing","$editorElement","$sourceElement","ns","random","$sourceEditingContainer","off","headingShortcuts","headingOptions","fn","_callee","removePlugins","_context","_ref2","_ref3","licenseKey","viewEditableRoot","accessibleFieldName","describedBy","_x","_x2"],"sourceRoot":""}